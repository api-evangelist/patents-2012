---

title: High-frequency matrix converter with square wave input
abstract: A device for producing an alternating current output voltage from a high-frequency, square-wave input voltage comprising, high-frequency, square-wave input a matrix converter and a control system. The matrix converter comprises a plurality of electrical switches. The high-frequency input and the matrix converter are electrically connected to each other. The control system is connected to each switch of the matrix converter. The control system is electrically connected to the input of the matrix converter. The control system is configured to operate each electrical switch of the matrix converter converting a high-frequency, square-wave input voltage across the first input port of the matrix converter and the second input port of the matrix converter to an alternating current output voltage at the output of the matrix converter.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08995159&OS=08995159&RS=08995159
owner: U.S. Department of Energy
number: 08995159
owner_city: Washington
owner_country: US
publication_date: 20120823
---
This application claims priority to U.S. Provisional Patent Application 61 530 083 filed Sep. 1 2011 and is hereby fully incorporated by reference.

The United States Government has rights in this invention pursuant to Contract No. DE FC26 07NT43220 between the U.S. Department of Energy DOE and the University of Arkansas.

The present invention relates to a matrix converter with a square wave input for producing an alternating current voltage output preferably for providing energy from a high frequency input to a grid.

As renewable resources are developed there is a greater need for low cost efficient and compact means of converting energy from a variety of sources for transfer to the grid. One barrier to a full adoption of these renewable energy sources is transferring energy from the energy source generally just a few volts DC into the grid generally at least 110 Volts AC. Multiphase systems further complicate matters. Due to the complexity of converting the supplied DC voltage for supplying energy to the grid for example in synchronizing with the energy grid and size of the electrical components for example large transformers it is highly desirable to be able to reuse these components across a variety of energy sources for example photovoltaics wind farms fuel cells etc. Reusing components has the potentially to reduce cost size heat and increase efficiency.

There has been a recent push towards efforts in multiple input converter systems. For example U.S. Pat. No. 7 227 277 describes a DC to DC system combining many components of the buck boost converter in an effort to reduce cost. However the system described in U.S. Pat. No. 7 227 277 must additionally convert the energy from DC to AC and properly synchronize with the grid in order to provide energy to the grid. Generally a larger transformer will be required to amplify the voltage from the converter to the voltage of the grid. Therefore there is a need in the art for a low cost energy efficient compact energy conversion means preferably easily allowing for multiple inputs.

A device for producing an alternating current output voltage from a high frequency square wave input voltage comprising high frequency square wave input a matrix converter and a control system. The High Frequency Square Wave Input comprises a first port and a second port. The matrix converter comprises a first port a second port a plurality of electrical switches and an output. The first port of the high frequency input and the first port of the matrix converter are electrically connected to each other. The second port of the high frequency input and the second port of the matrix converter electrically are connected to each other. The control system is connected to each switch of the matrix converter. The control system is electrically connected to the first input of the matrix converter and the second input of the matrix converter. The control comprises a means for detecting the voltage across the first input of the matrix converter and the second input of the matrix converter. The control system is configured to operate each electrical switch of the matrix converter converting a high frequency square wave input voltage across the first input port of the matrix converter and the second input port of the matrix converter to an alternating current output voltage at the output of the matrix converter. The alternating current output voltage at the output of the matrix converter has a frequency less than the high frequency square wave input voltage across the first input port of the matrix converter and the second input port of the matrix.

A device for producing an alternating current output voltage from a high frequency square wave input voltage comprising high frequency square wave input a matrix converter and a control system. The High Frequency Square Wave Input comprises a first port and a second port. The matrix converter comprises a first port a second port a plurality of electrical switches and an output. The first port of the high frequency input and the first port of the matrix converter are electrically connected to each other. The second port of the high frequency input and the second port of the matrix converter electrically are connected to each other. The control system is connected to each switch of the matrix converter. The control system is electrically connected to the first input of the matrix converter and the second input of the matrix converter. The control comprises a means for detecting the voltage across the first input of the matrix converter and the second input of the matrix converter. The control system is configured to operate each electrical switch of the matrix converter converting a high frequency square wave input voltage across the first input port of the matrix converter and the second input port of the matrix converter to an alternating current output voltage at the output of the matrix converter. The alternating current output voltage at the output of the matrix converter has a frequency less than the high frequency square wave input voltage across the first input port of the matrix converter and the second input port of the matrix.

Preferably the device further comprises a matrix voltage clamp comprising a first port and a second port. The matrix voltage clamp limits the voltage across the first port and the second port to a predetermined maximum voltage.

Preferably the control system is configured to convert the voltage across the first input of the matrix converter and the second input of the matrix converter to an alpha and beta domain. Using the alpha and beta domain the control system preferably determines which sector the reference vector lies within a predetermined SVPVVM Hexagon preferably as described below. Then the control system preferably determines the control signals preferably using a predetermined table more preferably using a table 3 as described below for each switch of the matrix converter using the determined sector and the alpha and beta domain.

As shown in the first port of the High Frequency Square Wave Input and the first input port of the matrix converter are electrically connected via one or more first wires . As shown in the second port of the High Frequency Square Wave Input and the second input port of the matrix converter are electrically connected via one or more second wires . The control system is electrically connected to the matrix converter via one or more control wires .

The control system is electrically connected to the first input port of the matrix converter and the second input port of the matrix converter using one or more voltage reference wires . This connection allows the control system to detect the input voltage. Preferably the first input port of the matrix converter or the second input port of the matrix converter are a common neutral voltage shared by the matrix converter control system and the device connected to the High Frequency Square Wave Input .

The High Frequency Square Wave Input comprises a first port and a second input port . Preferably the first port and the second input port are adapted for connection to a high frequency bus or for connection directly to a high frequency square wave energy source. The high frequency is a frequency higher than the output frequency preferably above 1 KHz more preferably above 10 KHz. The square wave is any AC voltage source having substantial time periods at a constant voltage more preferably at least substantially representing a square wave. In one embodiment the first port and a second input port are connected to the energy output of a high speed turbine producing a high frequency energy output. In an alternate embodiment the first port and a second input port are connected one or more electronics configured to convert energy from energy source for example photovoltaic geothermal energy sources to a high frequency square wave.

The matrix voltage clamp limits the voltage to a predetermined maximum voltage between the first input port of the matrix converter and the second input port of the matrix converter creating at least an approximation of a square wave. The at least an approximation of a square wave is advantageous as it simplifies the operation of the matrix converter . Preferably the matrix voltage clamp is a passive clamp more preferably as described in or . In embodiments without the use of a transformer between the matrix converter and to the High Frequency Square Wave Input the matrix voltage clamp is an active clamp more preferably as described in or

The matrix converter comprises a plurality of electrical switches operated to produce an alternating current. The matrix converter samples the input voltage and synthesizes an AC alternating current voltage on its output preferably a voltage relating to a sinusoidal voltage. Preferably a modified space vector pulse width modulation SVPWM technique as described below is used. Preferably a set of vectors is first defined which describe the output voltage of the matrix converter for a given combination of switch states. The output voltage for each state is selected by the electrical switches of the matrix converter . The switches need to be switched in a manner to prevent shorting the voltage source of on the input side in order to prevent damage. An open circuit in series with an inductor is preferably avoided as an open circuit in series with an inductor will cause voltage spikes.

The control system is a device that controls at least the matrix converter for the production of an alternating current by the matrix converter . In a preferred embodiment the control system comprises a microcontroller e.g. ATEMGA128 as sold by ATMEL programmed to switch on off the one or more switches of the matrix converter in order to produce the desired output.

The control comprises a voltage detector electrically connected to the first input of the matrix converter and the second input of the matrix converter. The voltage detector is any method or apparatus for detecting a voltage. Preferably the voltage detector comprises an analog to digital converter more preferably integrated within a microcontroller for example the ATMEGA128 as sold by ATMEL. In the alternative the voltage detector is an external analog to digital device thereby converting the detected voltage to a digital to be read and used by the control system. In an alternate embodiment the voltage detector is one or more zener diodes voltage comparators transistors or a combination thereof are used to detect the voltage. For example in one embodiment the voltage detector comprises one or more zener diodes or voltage comparators used to detect when the voltage exceeds a predetermine maximum. Additionally one or more transformers voltage dividers or other voltage attenuation means are preferably also used to limit the voltage at the input of the voltage detector in order to avoid damaging electrical components.

The matrix voltage clamp limits the electrical voltage between its first port and its second port . The matrix voltage clamp is advantageous to the system as it reduces or more preferably eliminates high voltage transients for example created during switching. The removal of the transients and more preferably the creation of a square wave allows for simpler control system. Therefore preferably the matrix voltage clamp is set to limit the voltage between its first port and its second port to a predetermined maximum voltage. Preferably the predetermined maximum voltage is selected for at least an approximation of a square wave while also limiting the amount of voltage attenuation.

In one embodiment the matrix voltage clamp is an active matrix voltage clamp connected to the control system thereby allowing for further optimization and energy storage. In an alternative embodiment the matrix voltage clamp is a passive device limiting the maximum voltage automatically for example a diode more preferably with a capacitor connected in series connected between the first port and the second port of the matrix voltage clamp .

Preferably the matrix voltage clamp serves as the clamp for all energy sources connected to the High Frequency Square Wave Input thereby reducing the number of components in the system.

When the voltage across the first port and the second port exceeds first capacitor voltage the first diode is biased on. Current flows from the second port through the first diode through the first capacitor and to the first port .

When the voltage of the first port exceeds the voltage of the second port and the first capacitor the first diode is biased on. Current flows from the second port through the first diode through the first capacitor and to the first port .

When the voltage across the second port exceeds the voltage of the first capacitor voltage and the first port the second diode is biased on. Current flows from the first port through the second diode through the second capacitor and to the second port .

Since current can flow into the clamp through the first diode and second diode regardless of the state of the switches first switch and the second switch the control of the clamp is preferably coordinated with the load on the first port and the second port . The switches must be in the on state for the load to be able to draw current from the capacitors first capacitor and second capacitor which is necessary any time that the current being provided by the sources is less than the current demanded by the load. This is especially critical if the load duty cycles are longer than the source duty cycles at which point the capacitors must provide the entire load current once the sources are turned off. For this reason the active clamp preferably has the same duty cycle as the load with the longest duty cycle. Therefore the control system preferably has access to the value of the duty cycles of all the load converters. The clamp must be turned off before the polarity of the first port and the second port changes in enough time to allow the current to drop to zero before the next half cycle. This imposes a maximum duty cycle limit on all of the converters in the system.

The clamp is advantageous as it forces the current across the first port and the second port to reset to zero rapidly. When all of the converters are turned off including the switches of the clamp this may interrupt the current through a connected transformer for example the transformer in through leakage inductance of the transformer. This would normally cause a voltage spike across the first port and the second port but the first diode or the second diode do provide an alternative current path for the current.

During the positive cycle the first capacitor of the clamp provides current balancing and fixes the voltage across the first port and the second port . When the energy sources connected to the first port and the second port turn off the current passing through any connected transformers e.g. a transformer as shown in the leakage inductance of the transformer has no path for flowing. This causes the voltage across the transformer and hence the first port and the second port to rise which biases on the first diode which provides a current path through the first port and the second port . Preferably the first switch is turned off and current cannot flow through the first diode from the second port current cannot flow into the first capacitor . The current therefore flows through second capacitor and the second diode to complete the circuit and flow the current back to the first port . In addition to providing a complete current path this process also has the effect of reversing the polarity of the voltage applied to the transformer. This entire voltage is applied to the leakage transformer which causes the current through the leakage transformer to fall very rapidly. Once the current through the leakage transformer reaches zero the diodes turn off and the system is ready for the next half cycle. This is preferred as it to ensures zero current switching on many of the switching devices in the system.

The first bidirectional switch is any device that is capable of electrically connecting and disconnecting the first input port to the first output port at the direction of the control system . Likewise the second bidirectional switch is any device that is capable of electrically connecting and disconnecting the second input port to the first output port at the direction of the control system . Furthermore the first bidirectional switch and the second bidirectional switch each allow current to flow in either direction at the direction of the control system .

In one embodiment the first bidirectional switch the second bidirectional switch or a combination thereof is an electrical switch for example a relay or semiconductor based switch e.g. power MOSFET BJT etc. . In a preferred embodiment the first bidirectional switch the second bidirectional switch or a combination thereof is the bidirectional switch described in

The first diode a first switch and the first switch are electrically connected in parallel. The second diode and the second switch are electrically connected in parallel. The first diode is electrically connected to the second diode and the first port . The second diode is electrically connected to the first diode and the second port . The first diode and the second diode are connected in series with opposing polarities.

The first switch is capable of connecting or disconnecting the first port to the second diode . Likewise the second switch is capable of connecting or disconnecting the second port to the first diode . Preferably the switches the first switch and the second switch are one or more electrical relay switches or semi conductor based switch e.g. power BJT MOSFET solid state relay etc. .

As shown the first port of the High Frequency Square Wave Input the first port of the matrix voltage clamp and the first input port of the matrix converter are electrically connected via one or more first wires . As shown in the second port of the High Frequency Square Wave Input the second port of the matrix voltage clamp and the second input port of the matrix converter are electrically connected via one or more second wires . The control system is electrically connected to the matrix converter via one or more control wires .

The first bidirectional switch is electrically connected to the first input port and the first output port . The second bidirectional switch is electrically connected to the second input port and the first output port .

The third bidirectional switch is electrically connected to the first input port and the second output port . The fourth bidirectional switch is electrically connected to the second input port and the second output port .

The fifth bidirectional switch is electrically connected to the first input port and the third output port . The sixth bidirectional switch is electrically connected to the second input port and the third output port .

As shown in the first port of the High Frequency Square Wave Input the first port of the transformer are electrically connected via one or more first wires . The second port of the High Frequency Square Wave Input the second port of the transformer are electrically connected via one or more second wires . The first output of the transformer the first port of the matrix voltage clamp and the first input of the matrix converter are electrically connected via one or more first wires . The second output of the transformer the second port of the voltage clamp and the second input of the matrix converter are electrically connected via one or more second wires . The control system is electrically connected to the matrix converter via one or more control wires . The control system is connected to the matrix converter .

The transformer comprises a plurality of electrical coils in electromagnetic communication. Preferably the transformer comprises a first winding electrically connects a first input port and a second input of the transformer a second winding electrically connects a first output port and a second output of the transformer whereby the first winding and the second winding are electromagnetically connected preferably through a metal core. Preferably the transformer is designed for high frequencies preferably above 1 KHz more preferably above 10 KHz.

As shown in the first port of the High Frequency Square Wave Input the first port of the transformer voltage clamp and the first input port of the transformer are electrically connected via one or more first wires . The second port of the High Frequency Square Wave Input the second port of the transformer voltage clamp and the second input port of the transformer are electrically connected via one or more second wires . The first output of the transformer and the first port of the matrix voltage clamp are electrically connected to the first input of the matrix converter . The second output of the transformer and the second port of the matrix voltage clamp are electrically connected to the second input of the matrix converter . The control system is electrically connected to the matrix converter via one or more control wires .

The transformer voltage clamp limits the voltage to a predetermined maximum voltage between the first port of the High Frequency Square Wave Input and the second port of the High Frequency Square Wave Input creating at least an approximation of a square wave. Other than its location in the system the transformer voltage clamp is as defined in the various embodiments described above for the matrix voltage clamp . The at least an approximation of a square wave is advantageous as it simplifies the operation of the matrix converter . Preferably the transformer voltage clamp is an active clamp more preferably as described in or

As shown the first source is electrically connected to the first input of the first H bridge . The first output of the first H bridge is electrically connected to the first port of the High Frequency Square Wave Input . The second output of the first H bridge is electrically connected to the second port of the High Frequency Square Wave Input .

The second source is electrically connected to the first input of the second H bridge . The first output of the second H bridge is electrically connected to the first port of the High Frequency Square Wave Input . The second output of the second H bridge is electrically connected to the second port of the High Frequency Square Wave Input . The control system is connected to the first H bridge the second H bridge and the third H bridge via one or more control wires .

The third source is electrically connected to first input of the third H bridge . The first output of the third H bridge is electrically connected to the first port of the High Frequency Square Wave Input . The second output of the third H bridge is electrically connected to the second port of the High Frequency Square Wave Input .

Each H Bridge the first H bridge second H bridge and third H bridge comprises one or more switches thereby allowing a voltage to be applied across the outputs of the H bridge at the direction of the control system . For DC power source preferably the H Bridge is a unidirectional H bridge thereby simplifying the design and improving efficiency.

Preferably H bridge operations are optimized for to minimize the need for additional voltage clamps as described above for matrix voltage clamp . Preferably the system is designed to i provide a short circuit path for the boost inductor while it is being fluxed ii prevent a short circuit on the common bus while a single converter is fluxing its inductor and iii prevent the current through an transformer from being interrupted. This last design goal is preferably achieved by ensuring that a certain device is ready to act as a diode when the system is about to commutate so current can have continuous flow.

As shown the first input port is electrically connected to the inductor . A second port of the inductor is electrically connected to a first port of the first diode . The first switch is electrically connected to the first port of the first diode and the second port of the first diode . The first switch is also connected to the control system via one or more control wires . A second port of the first diode is electrically connected to a first port of the second diode . The second switch is electrically connected to the first port of the second diode and the second port of the second diode . The second switch is also connected to the control system via one or more control wires . A second port of the second diode is electrically connected to the first output a first port of the third diode . The third switch is electrically connected to the first port of the third diode and the second port of the third diode . The third switch is also connected to the control system via one or more control wires . A second port the third diode is electrically connected to a second input port .

The second port of the inductor is also electrically connected to a first port of the fourth diode . The fourth switch is electrically connected to the first port of the fourth diode and the second port of the fourth diode . The fourth switch is also connected to the control system via one or more control wires . A second port of the fourth diode is electrically connected to a first port of the fifth diode . The fifth switch is electrically connected to the first port of the fifth diode and the second port of the fifth diode . The fifth switch is also connected to the control system via one or more control wires . A second port of the fifth diode is electrically connected to the second output a first port of the sixth diode . The sixth switch is electrically connected to the first port of the sixth diode and the second port of the sixth diode . The sixth switch is also connected to the control system via one or more control wires . A second port the sixth diode is electrically connected to a second input port .

The first diode and the second diode are connected in reversed electrical polarity whereby one diode will restrict the electrical current from passing in either direction. The fourth diode and the fifth diode are connected in reversed electrical polarity whereby one diode will restrict the electrical current from passing in either direction. The third diode and the sixth diode are connected in parallel electrical polarity whereby both diodes will restrict the electrical current flowing to or from the second input port along a given current direction.

Preferably for embodiments comprising a plurality of energy sources the creation of a short circuit across the first output and the second output is avoided. In an alternate embodiment the first output and are shorted and each H bridge of each energy source is synchronized. In an alternative embodiment a plurality of energy sources utilize the same h bridge.

Preferably an energy source is electrically connected across the first input port and the second input port providing a DC voltage. In an alternative embodiment the energy source produces an AC voltage. In a preferred embodiment the energy source is a photovoltaic cell a wind generator geothermal converter etc.

The inductor comprises a first port and a second port and stores energy from current passing through the first port to and from the second port in its magnetic field preferably comprising a ferromagnetic core.

The first switch and the second switch are as the switches described above. The control system is as described above.

Preferably the H bridge is controlled to avoid a short circuit at its output the first output and the second output in . In a preferred embodiment a switching order is determined to provide a short circuit path for the inductor current during the free wheeling state while at the same time presenting an open circuit to the output so that any other H Bridges may operate according to their own requirements. In short this is accomplished by turning on only one output of the H bridge to provide a short circuit to the boost inductor while the other output is turned off providing the open circuit to the output. This switching order which implements this scheme is shown in . gives the control signals for all of the switches in the H bridge over a single switching period. shows each of the device switching actions for the positive half cycle the half of the cycle where the converter applies a positive voltage to the output the negative half cycle has symmetrical operation.

In Srefers to the second switch in . Srefers to the first switch . In Srefers to the sixth switch in . In Srefers to the fifth switch in . Srefers to the fourth switch in . In Srefers to the third switch in . These switches S S S S S S are used to provide an output voltage V across the outputs first output in and the second output in .

At time t S1 is turned off beginning the transition to the free wheeling period where the voltage is increased. The positive voltage Vout is still applied to the outputs and the inductor in current is still passed through the antiparallel diode of S1. The first output in is no longer forcibly connected to the H bridge.

At time t2 S5 is turned on. The antiparallel diode of S4 prevents a short circuit from forming immediately but since first output in is at a higher voltage potential than the second output in this antiparallel begins to commutate on. This causes the voltage of the first output in to decrease and as a result the antiparallel diode of S1 commutates off.

By time t3 the antiparallel diode of S4 has naturally commutated on and the antiparallel diode of S1 has naturally commutated off. Therefore a shortcircuit path is provided through the fourth diode in and the fifth diode in . The antiparallel diodes of S1 and S3 in the meantime present an open circuit to outputs and allow any other electrical components connected to the output to operate according to its own timing. Since the antiparallel diodes of S1 and S3 prevent conduction S2 turns off under a zero current condition at t4. S4 turns on at t5 completing the transition to the free wheeling period.

By time t6 which is shortly before the beginning of the negative half cycle beginning at TSW 2 any other converters preferably have transitioned to their own free wheeling cycle. Preferably converters on the outputs operate with the same switching frequency and transition from the positive half cycle to the negative half cycle at the same time so that the same voltage is impressed on the outputs by all the converters preventing short circuits. In one embodiment the converters operate with different timing within the positive and negative half cycles allowing different duty cycles and voltage conversion ratios.

At time t7 S3 turns on. This impresses a short circuit on the common HF bus through S3 and S6 which is the other reason that all of the converters must have the same switching frequency and half cycle transition time since it will be forced upon them anyway by the operation of a single converter. If the proper timing is observed however no problems will arise since all converters are disconnected from the common bus by this time. Turning on S3 prepares the converter so that when S6 is turned off at t8 T or TSW 2 there is a path for the current available through S5 S4 and S3 preventing the boost inductor current from interrupting and causing a large inductive kick voltage. This is the beginning of the negative half cycle where the converter imposes Vout with a negative polarity on the outputs and passes the boost inductor current idc1 with a negative polarity on to the load. This is the parallel of the situation seen at the beginning of the positive half cycle at time t0.

The voltage conversion ratio of the boost converter is the same as for a standard boost converter given in equation 3 1 . The duty cycle D is the duration ton of the freewheeling state divided by the duration T of the half cycle which is equal to TSW 2 half the switching frequency interval. The free wheeling state begins at t3 when the antiparallel diodes of S1 and S4 naturally commutate so that idc1 no longer flows to the outputs but instead flows through the right hand leg of the converter. In practice this commutation happens shortly after device S5 is turned on at t2 so the duration of ton is equal to TSW 2 t2. A short overlap period to overlap must be provided between the turn on of one device and the turn off of the next in order to ensure that the boost inductor current has a continuous conduction path and does not generate a large inductive kick voltage. This is the reason for the slightly staggered control signals for the devices in . Implementing these signals uses the following equations 2 0 for 0.5and 1 otherwise 3 2 1 0 for 0.5 2and 1 otherwise 3 3 6 0 for 0.5and 1 otherwise 3 4 5 1 for 0.5and 0 otherwise 3 5 5 1 for 20.5and 0 otherwise 3 6 3 0 for 0 0.5and 1 otherwise 3 7 

Preferably the unidirectional H bridge has the same control and the same voltage conversion ratio as the bidirectional H bridge except it does not possess the series switching devices S1 and S4. It has a single series diode in these positions instead which have the same functionality as the antiparallel diodes of S1 and S4 shown above. The control of this converter does not require equations 3 3 or 3 6 but otherwise utilizes the same control equations described above.

When the converter enters the positive half cycle at time zero the first switch in and the second switch in has been on for a relatively long time and third switch in has just turned on. The third diode in has turned on and current is flowing from the first input in to the first output in . S1 turns on at time

Once the voltage outputs are known the following equations may be used to determine the phase to neutral voltages for each switching state EQ. 1 EQ. 2 EQ. 3 

Finally the voltages are converted to a stationary alpha beta reference frame which is preferred as it simplifies the analysis and control of the matrix converter. The three phase voltages become in the alpha beta reference frame a vector with a constant magnitude and time varying angle. The control signal can then be represented as a vector with a constant magnitude and time varying angle which moves past the vectors of the various switch states. Preferably the Clarke transform preserving constant power is used to convert the phase voltages to the alpha beta reference frame resulting in the hexagon shown in .

The operation of the Matrix converter is designed to prevent electrical shorts while producing a PVVM pulsed width modulated output. Preferably this is controlled by the control system. After the SVPWM Hexagon is generated as described above. The control system receives the voltage reference. The alpha beta domain is determined for the received voltage reference. The lengths of the alpha and beta components fo the reference voltage is used to determine which sector of the SVPWM Hexagon the reference vector lies in. Predetermined control signals for each switch of the matrix converter sector are then determined using the alpha and beta components for the reference voltage and the SVPWM Hexagon.

The first step to implementing the SVPWM switching scheme is to identify the Sector of operation. The SVPWM hexagon shown in divides the control space into six equal triangles each occupying 60 degrees of the space. Sector 1 occurs from 0 to 60 Sector 2 from 60 to 120 Sector 3 from 120 to 180 Sector 4 from 180 to 240 Sector 5 from 240 to 300 and Sector 6 from 300 to 360 . This is the typical hexagon used in SVPWM notation. The sector wherein the reference vector lies can be found by determining the angle of the reference vector and comparing it to the angle borders of each sector is found as described in the process below.

The angle of the reference vector can be determined from the alpha and beta components of the reference vector though this method involves solving the tangent function which can be computationally intensive. An alternative method is to use the magnitudes of the alpha and beta components of the reference vector which are normally readily available from the outer loop controller. It should be noted that at the counterclockwise border of Sector 1 and the clockwise border of Sector 2 60 and 300 respectively the alpha component of any vector is equal to one half of its magnitude. Similarly at the clockwise border of Sector 3 and the counterclockwise border of Sector 4 the alpha component of any vector is equal to negative one half of its magnitude. In Sectors 1 through 3 the beta component of any vector is positive while in Sectors 4 through 6 the beta component of any vector is negative. The reference vector is in Sector 1 therefore when the alpha component is greater than 0.5 m and the beta component is positive. It is in Sector 2 when the alpha component is between 0.5 m and 0.5 m and the beta component is positive. It is in Sector 3 when the alpha component is less than 0.5 m and the beta component is positive. It is in Sector 4 when the alpha component is less than 0.5 m and the beta component is negative. It is in Sector 5 when the alpha component is between 0.5 m and 0.5 m and the beta component is negative. Finally it is in Sector 6 when the alpha component is greater than 0.5 m and the beta component is positive. This information along with the appropriate angle of the reference vector in polar coordinates is summarized in Table 2 below.

The next step is generating the duty cycles Di Dj D1 and D2 for the switching patterns. The duty cycles for the ith and jth vectors can be calculated from Eq. 8 and Eq. 9 but to do so the angle between the reference vector and the ith vector must be calculated. If the angle wt of the reference vector is known can be calculated by subtracting the angle of the ith vector from wt. The ith vector is the counterclockwise border of each Sector which is given in Table 4. From the table the angle of the ith vector is 0 for Sector 1 60 for Sector 2 120 for Sector 3 180 for Sector 4 240 for Sector 5 and 300 for Sector 6. If the angle of the ith vector as given above is defined as i then can be calculated from Eq. 7 

Once the angle is found the duty cycle for each vector in the control can be found using the following equations whereby Vcl is the maximum voltage limited by the one or more voltage clamps V is the desired magnitude of the phase to neutral voltage set either by the user or a higher level controller and e is equal to the reference angle subtracted from the upper bound of the sector wherein the reference vector lies converted to radians and has a value between 0 and 3.

The next step in implementing the control of the proposed converter is to generate the switching patterns. Following the descriptions of the patterns turn on and turn off times the three patterns can be expressed in equation form as 

Once the control signals for each pattern have been generated they are routed to each phase leg as indicated in Table 3 below. The Sector of operation as previously determined is cross referenced with each phase leg to find the pattern that provides the control for that phase leg then the control signals generated in Equations 13 to 15 are sent to the upper devices in the indicated phase leg. The lower devices receive the complementary control signal.

Preferably the control system is configured to ensure that the input voltage source is never short circuited and that the output filter inductors are never open circuited. Preferably the commutation from the upper to the lower device on a phase leg is accomplished by the natural commutation of the diodes rather than by forced switching action. Correct configuration and switching control can ensure that the diode on the upper device and the diode on the lower device can never be naturally commutated on at the same time so allowing these two diodes to control the commutation of current from the upper device to the lower device ensures that there is never a short circuit. At the same time any condition that would make it so that the currently active diode cannot carry the current would produce a voltage rise on the filter inductor which would naturally bias on the other diode. This ensures a smooth transition of the current from the lower device to the upper device on a phase leg.

It is to be understood that the above described arrangements are only illustrative of the application of the principles of the present invention. Numerous modifications and alternative arrangements may be devised by those skilled in the art without departing from the spirit and scope of the present invention and the appended claims are intended to cover such modifications and arrangements.

Any element in a claim that does not explicitly state means for performing a specified function or step for performing a specific function is not to be interpreted as a means or step clause as specified in 35 U.S.C. 112 6. In particular the use of step of in the claims herein is not intended to invoke the provisions of 35 U.S.C. 112 6.

