---

title: Apparatus and method for content directory server presentation
abstract: A method and apparatus for content directory server presentation is described. The method includes connecting a device to media content sources, identifying a media content source as a temporary content source, the temporary content source not permanently connected to the home network, scanning, at a periodic rate, the media content source to identify media content, the rate being higher than a rate for a media content source that is not a temporary content source, and updating a catalog of media content available to the media device based on scanning the media content source. The apparatus includes a receiver scanning media content sources to identify available media content, and a controller determining if a media content source is not permanently connected to the home network, the controller increasing a periodic rate of scanning if the at least one media content source is not permanently connected to the home network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09516382&OS=09516382&RS=09516382
owner: THOMSON LICENSING
number: 09516382
owner_city: Issy les Moulineaux
owner_country: FR
publication_date: 20121213
---
This application claims the benefit under 35 U.S.C. 365 of International Application PCT US2012 069463 filed Dec. 13 2012 which was published in accordance with PCT Article 21 2 on Jul. 11 2013 in English which claims the benefit of U.S. provisional patent application No. 61 584 300 filed Jan. 8 2012 and claims the benefit of U.S. provisional patent application No. 61 584 302 filed Jan. 8 2012.

The present disclosure generally relates to systems that receive and manage media content and more particularly to an apparatus and method for receiving managing and presenting media content as part of a content directory in a receiving device.

This section is intended to introduce the reader to various aspects of art which may be related to the present embodiments that are described below. This discussion is believed to be helpful in providing the reader with background information to facilitate a better understanding of the various aspects of the present disclosure. Accordingly it should be understood that these statements are to be read in this light.

Broadcast content service providers and Internet service providers continue to find synergies within their respective content delivery systems. Many new networked devices now include the ability to navigate and search through media content based on inherent capabilities from the provider of the media content or service. New networked devices particularly those devices used in a home are merging operations and functions associated with broadcast centric and Internet network centric devices. These new networked devices include televisions settop boxes home gateways home computer media stations tablets and the like. These new networked devices further offer signal receiving media recording home networking and Internet connectivity capabilities.

However operational differences between the broadcast centric devices and the Internet centric devices remain a problem. As broadcast and Internet based media functions have been merged into a single device new command control and content management issues have developed. For instance presentation of media content from a number of different content sources may prove problematic particularly when the content is located on mounted devices e.g. universal serial bus USB memory external drives and the like and are further located throughout the home network. A common way to browse search the metadata on a file system device would be through a proprietary interface on the set top box STB using a basic file system browser that may be limited in its ability to search for metadata in real time if the user requested. This process can be slow and also may only be able to search one device at a time. Further problems and delays may occur if one or more of the devices in the network are only periodically connected to the network. A mechanism is needed that allows a user to access the media content using a home network device.

According to an aspect of the present disclosure a method for content directory server presentation is described. The method includes connecting a media device to a home network the home network containing a plurality of media content sources identifying at least one media content source from the plurality of media content sources as a temporary content source the temporary content source not permanently connected to the home network scanning at a periodic rate the at least one media content source to identify media content on the at least one media content source the periodic rate being higher than a periodic rate for a media content source that is not identified as a temporary content source and updating a catalog of media content available to the media device based on scanning the at least one media content source.

According to an aspect of the present disclosure an apparatus for content directory server presentation is described. The apparatus is connected to a plurality of media content sources and includes a receiver coupled to the home network the receiver scanning the plurality of media content sources to identify available media content and a controller coupled to the receiver the controller determining if at least one media content source from the plurality of media content sources is not permanently connected to the home network the controller increasing a periodic rate of scanning for available media content from the at least one media content source if the at least one media content source is not permanently connected to the home network.

It should be understood that the drawing s are for purposes of illustrating the concepts of the disclosure and is not necessarily the only possible configuration for illustrating the disclosure.

It should be understood that the elements shown in the figures may be implemented in various forms of hardware software or combinations thereof. Preferably these elements are implemented in a combination of hardware and software on one or more appropriately programmed general purpose devices which may include a processor memory and input output interfaces. Herein the phrase coupled is defined to mean directly connected to or indirectly connected with through one or more intermediate components. Such intermediate components may include both hardware and software based components.

The present description illustrates the principles of the present disclosure. It will thus be appreciated that those skilled in the art will be able to devise various arrangements that although not explicitly described or shown herein embody the principles of the disclosure and are included within its scope.

All examples and conditional language recited herein are intended for educational purposes to aid the reader in understanding the principles of the disclosure and the concepts contributed by the inventor to furthering the art and are to be construed as being without limitation to such specifically recited examples and conditions.

Moreover all statements herein reciting principles aspects and embodiments of the disclosure as well as specific examples thereof are intended to encompass both structural and functional equivalents thereof. Additionally it is intended that such equivalents include both currently known equivalents as well as equivalents developed in the future i.e. any elements developed that perform the same function regardless of structure.

Thus for example it will be appreciated by those skilled in the art that the block diagrams presented herein represent conceptual views of illustrative circuitry embodying the principles of the disclosure. Similarly it will be appreciated that any flow charts flow diagrams state transition diagrams pseudocode and the like represent various processes which may be substantially represented in computer readable media and so executed by a computer or processor whether or not such computer or processor is explicitly shown.

The functions of the various elements shown in the figures may be provided through the use of dedicated hardware as well as hardware capable of executing software in association with appropriate software. When provided by a processor the functions may be provided by a single dedicated processor by a single shared processor or by a plurality of individual processors some of which may be shared. Moreover explicit use of the term processor or controller should not be construed to refer exclusively to hardware capable of executing software and may implicitly include without limitation digital signal processor DSP hardware read only memory ROM for storing software random access memory RAM and nonvolatile storage.

Other hardware conventional and or custom may also be included. Similarly any switches shown in the figures are conceptual only. Their function may be carried out through the operation of program logic through dedicated logic through the interaction of program control and dedicated logic or even manually the particular technique being selectable by the implementer as more specifically understood from the context.

In the claims hereof any element expressed as a means for performing a specified function is intended to encompass any way of performing that function including for example a a combination of circuit elements that performs that function or b software in any form including therefore firmware microcode or the like combined with appropriate circuitry for executing that software to perform the function. The disclosure as defined by such claims resides in the fact that the functionalities provided by the various recited means are combined and brought together in the manner which the claims call for. It is thus regarded that any means that can provide those functionalities are equivalent to those shown herein.

The present embodiments address problems associated with efficiently receiving managing and presenting media content a part of a content directory structure in a device connected to a network. The embodiments are directed at managing and updating the identification and presentation of media content that is available to the device from other devices in the network. The embodiments include a dynamic content cataloging system for devices connected in a home network and specifically for devices that may be dynamically connected to the home network. Embodiments describe a process for recursively scanning devices on the network and building or adjusting a catalog of media content available to a media device connected to the network. The content discovery process is further adapted to identify migrant or removable content sources and to recursively or periodically scan these devices at a different timing interval than the other devices on the network.

The present disclosure further relates to the generation and display of the media content that is available for playback in a media device the display incorporating content that is available through other devices on a local or home network. First when a new device is connected to the network or to the media device in question information about the available media content is retrieved to the media device. This information includes metadata about the media content. Then a playlist view as part of a user interface is created using the information. This playlist view is set up as a set of parallel structures that form a tree structure. The structures include at least two different cataloging aspects for the content. For example one structure may simply list all of the content. A second structure may catalog the content by which device the content is on. A third structure may catalog the content by media type. A user defined structure may also be possible. These structures may then be displayed often simultaneously in order to speed up the user s selection of the media content playback.

The content management structure supports home network components including components with temporary access and differing content file structures. The embodiments allow a user to browse and or search rich metadata e.g. title actor genre artist etc. . . . associated with content on any externally networked or internally mounted device with a file system e.g. USB storage device Bluetooth network device Ethernet device Hard Drive through any digital living network alliance DLNA device e.g. digital media player DMP digital media controller DMC or the like or through a separate middleware interface on another device. For example the device containing the content may be mounted to a STB that runs a middleware software package including content management system CMS software. The user may also stream the content from the networked or mounted device onto another DLNA device using the CMS component as a DLNA digital media server DMS . The user may customize how and where the content should appear in the content directory server CDS tree or view. A file system plug in in CMS may further scan the networked or mounted device or file path recursively or periodically for media files and pull metadata out of each media file and cache it in a database. The file system s content can appear in a dynamic rule based container or a CDS sub tree that matches the folder tree file structure of the device. The tree containers are configurable. The user may choose the parent location of the folder trees in the view configuration as well as specify whether to include trees from internal folders external devices or both. Additionally a default view represents the root node of the view used for the CDS tree that is exposed and viewable to DLNA compliant devices.

Turning now to a block diagram of an embodiment of a system for delivering video content to the home or end user is shown. The content originates from a content source such as a movie studio or production house. The content may be supplied in at least one of two forms. One form may be a broadcast form of content. The broadcast content is provided to the broadcast affiliate manager which is typically a national broadcast service such as the American Broadcasting Company ABC National Broadcasting Company NBC Columbia Broadcasting Company CBS etc. The broadcast affiliate manager may collect and store the content and may schedule delivery of the content over a delivery network shown as delivery network . Delivery network may include satellite link transmission from a national center to one or more regional or local centers. Delivery network may use any one of the standard transmission protocols and standards for content delivery e.g. Advanced Television Systems Committee ATSC A 53 digital video broadcast DVB Cable DVB C DVB Satellite DVB S or DVB Terrestrial DVB T . Delivery network may also include local content delivery using local delivery systems such as over the air broadcast satellite broadcast or cable broadcast. The locally delivered content is provided to a gateway device in a user s home. Broadcast affiliate manager also provides information to data server . This information may include but is not limited to data associated with programming delivery or broadcast schedules or other types of information related to the broadcast content.

Additional information e.g. special notices or scheduling information or other content not provided to the broadcast affiliate manager may be delivered from content source to a content manager . The content manager may be a service provider affiliated with a content provider broadcast service or delivery network service. The content manager may operate through an Internet website or web service. The content manager may also incorporate Internet content into the delivery system. The content manager may deliver the content to the user s gateway device over a separate delivery network delivery network . Delivery network may include high speed broadband Internet type communications systems. It is important to note that the content from the broadcast affiliate manager may also be delivered using all or parts of delivery network and content from the content manager may be delivered using all or parts of delivery network . In addition the user may also obtain content directly from the Internet via delivery network without necessarily having the content managed by the content manager .

Data server receives the information from broadcast affiliate manager and translates the information into a content stream suitable for delivery to a user device e.g. client device . Data server may include a web service for a web site or some networking site. Data server may connect to delivery network to provide the content stream and information to the gateway device . Alternatively data server may include a network interface to a cellular network or other wireless delivery network and provide the content and information in a format compatibility with the wireless network directly to gateway device . Additionally data server may receive information from the Internet through for instance content manager and delivery network . The additional interface permits other content such as but not limited to information related to programs supplemental content and scheduling to be provided to and from data server from sources other than broadcast affiliate manager e.g. other users websites or news agencies .

Gateway device may receive different types of content from one or more of the delivery networks described earlier as well provide messages or information from devices in the user s home back to one or more of the delivery networks. Gateway device processes the content and provides a separation of the content based on instructions provided with the content or over the delivery network. Gateway device may also process and separate content based on instructions received via user commands communicated from client devices A N through home network . Gateway may also provide storage such as a hard drive or optical disk drive for recording and or storing the content as well as providing the content for playback through home network . Gateway device may be a settop box home media server computer media station home network gateway multimedia player modem router home network appliance or the like.

Gateway device provides the interface between the networks operating as a wide area network WAN and the home network operating as a local area network LAN . Home network may include both wired and wireless LAN communications. Wired communications may include physical interfaces and wiring for Ethernet Multimedia over Coaxial cable Alliance MoCA or other similar signal formats. Wireless communications may include physical interfaces to accommodate one or more wireless formats including Wi Fi Institute of Electrical and Electronics Engineers standard IEEE 802.11 or other similar wireless communications protocols.

Home network connects the gateway device to client devices A N at the user s premises. Each of the client devices A N may include one or both interfaces for wired or wireless communication connection to the home network . Client devices A N may be a cable STB Internet protocol IP STB or satellite STB. The client devices A N may also be but are not limited to a computer device tablet display device television wireless phone personal digital assistant PDA computers gaming platform remote control multi media player or home networking appliance that includes both broadcast and Internet interfaces and may further include a storage media for digital video recording. The client devices A N further process the content from gateway provided through home network and also process and manage user preferences and commands. The client devices A N may also include a storage device such as a hard drive or optical disk drive for recording and playing back audio and video content. Further details of the operation of the client devices A N and features associated with processing and playing back stored content will be described below in relation to .

The processed content from client devices A A is provided to display devices A A. The display devices A N may be conventional two dimensional 2 D type displays or may alternatively be advanced three dimensional 3 D type displays. It should be appreciated that other devices having display capabilities including but not limited to computer devices tablets gateways display devices televisions wireless phones PDAs computers gaming platforms remote controls multi media players home networking appliances or the like may employ the teachings of the present disclosure and are considered within the scope of the present disclosure.

It is important to note that any media programs and content as well as any information related to the media programs and content e.g. program guides or program metadata may originate at a content source e.g. content source or at a server device e.g. server . The content and information may be transmitted to a content manager and eventually delivered over either delivery network or delivery network to a user s home e.g. gateway device and client devices A N . Alternatively content and information from the content source may be delivered to a data server such as data server re formatted and then delivered to the user s home. Still further content and information may originate at the data server e.g. data server or at a third party source on the Internet and provided to the data server for delivery to the user s home.

In operation system provides the networking and communication capability for connecting and sharing media content from the WAN between devices on a home network principally through the use of gateway device and client devices A N. In one embodiment media content for a particular program from broadcast affiliate manager is provided to client device through gateway device . Gateway device may also record the content based on a user request from client device A. At another point in time the user of client device N desires to view the particular program and requests a search of the available content. Gateway device responds to the request indicating that the particular program is stored and is available for viewing.

Turning to a block diagram of a home network system according to aspects of the present disclosure is shown. Home network system operates in a manner similar to the gateway device and the LAN portion of system described in . In particular home network system operates according to functions associated with the DLNA protocol. In gateway system Gateway is interfaced between the WAN and home network . Home network is connected to digital media server DMS . DMS is connected to digital media renderer DMR . A mobile digital media controller M DMC is coupled to both DMS and DMR . It is important to note that home network system represents one possible embodiment of many possible home network systems based on the DLNA protocol or any other similar home network protocol.

Home network system operates as part of a communication network and acts to interface data and media content between the WAN portion of the communication network and one or more devices on a home network. Gateway device provides the interface between the WAN and home network . In one embodiment gateway provides internet protocol IP services e.g. data voice video and or audio between a cable DSL or satellite WAN and DMS . Gateway also provides IP services between DMS and internet destinations identified and connected through the WAN. Gateway also provides IP voice services between a phone device such as a M DMC and call destinations routed through the WAN.

Home network may include wireless communication capability. A wireless interface may be included in gateway device and may accommodate one or more wireless formats including Wi Fi Institute of Electrical and Electronics Engineers standard IEEE 802.11 or other similar wireless communication formats. A similar wireless interface may be included in DMS and may also be included in DMR and M DMC . Home network may also include wired communication capability. A wired communication interface may be included in gateway device and may accommodate one or more wired formats including Ethernet MoCA or other similar signal protocols. A similar wired interface may be included on DMS as well as on DMR and M DMC .

Further both the wired and wireless interfaces and communication formats in home network may support a communication protocol between devices based on the DLNA protocol. DLNA defines interoperability guidelines to enable sharing of digital media content such as music photos and videos between devices such as computers TVs printers cameras cell phones and other multimedia devices. DLNA uses Universal Plug and Play UPnP for media management discovery and control. UPnP defines the type of device that DLNA supports e.g. server renderer controller and the mechanisms for accessing media over a network. The DLNA guidelines also apply a layer of restrictions over the types of media file formats encodings and resolutions that a device must support.

DMS interfaces to home network and provides storage and playback capabilities for media content. DMS acts as a DLNA server device. DMS may include a user interface as well as the capability to be controlled by an external device such as M DMC . DMS may also include video and audio conversion processors and functionality. DMS may include a plurality of interface protocols for receiving and delivering media content to other networked devices e.g. DMR and M DMC . These interface protocols include but are not limited to DLNA HDMI SPDIF and the like. DMS may be a settop box a personal computer a network attached storage NAS device or the like.

DMR interfaces to DMS and provides video and audio display and reproduction capability. DMR acts as a renderer device. DMR may also include a user interface as well as the capability to be controlled by an external device such as M DMC . DMR may be a television audio video receiver video displays remote speakers for music or the like.

M DMC interfaces to both DMS and DMR . M DMC acts as a controller device. Controller devices such as M DMC discover and identify content on digital media servers e.g. DMS through a command and control interface as part of DLNA. M DMC may also direct the operation of one or more of the devices in the network. In some cases M DMC may also provide content to the DMR in addition to providing control for both DMS and DMR . M DMC may be an Internet ready tablet device Wi Fi enabled digital camera mobile cellular phone advance remote control device personal digital assistant or the like.

It is important to note that one or all of the elements described in home network system may be present in the same room or may be present in separate rooms at a user s premises. For example gateway device and DMS may be located in a utility room while DMR and M DMC may be located in a family room. Also more than one of the elements described in home network system may be present in the user s premises and connected through home network and or operating using the DLNA protocol. For example a second DMR may be located in a bed room and operated using M DMC with content provided through DMS .

Further it is important to note that the functions described for gateway device and DMS may be merged into a single component or transferred and or shared between components. For example DMS may include all functionality that is included in a gateway device such as gateway device and used as the interface to the WAN. Other devices not shown e.g. computers tablets routers and the like that are also connected to home network would interface and communicate with DMS in order to interface and communicate to the WAN.

Turning now to a block diagram of an embodiment of a network device is shown. Except as described below the network device operates in a manner similar to client devices A N described in or to gateway device and or DMS described in . Network device may also be incorporated into other systems including a display device such as display devices A N or DMR . In either case several components necessary for complete operation of the system are not shown in the interest of conciseness as the components not shown are well known to those skilled in the art.

Signals are interfaced to network device at input signal receiver . Input signal receiver connects to input stream processor . The input stream processor connects to audio processor and video processor . Audio processor connects to audio interface which provides the audio output signal from network device . Video processor connects to display interface which provides the video output signal from network device . Audio processor and video processor also connect to a storage device . A controller connects to the storage device as well as input stream processor audio processor and video processor . A control memory connects to the controller . Controller also connects to user interface and handheld interface .

Content as part of signal interfaced with the WAN is received in an input signal receiver . The input signal receiver may be one or more of several known receiver circuits used for receiving demodulation and decoding signals provided over one of the several possible networks including over the air cable satellite Ethernet fiber and phone line networks. It is important to note that input signal receiver may include receiving demodulation and decoding circuitry for data signals as well as media content signals delivered over either the same delivery network as the desired broadcast input signal i.e. delivery network or over a different network i.e. delivery network and or an alternative cellular or wireless network as described in . The received media content and data over delivery network or wireless network may be different from the media content and delivery network . The data may include information associated with scheduling changes and updates as well as information related to the media content delivered over either delivery network. In one embodiment a cable broadcast signal is received demodulated and decoded in a cable tuner circuit in signal receiver . The desired broadcast input signal may be selected and retrieved in the input signal receiver based on user input provided through a control interface not shown . Input signal receiver may also include an Internet protocol IP interface circuit that additionally provides bi directional network connectivity.

The decoded output signal from one or more of the circuits in input signal receiver is provided to an input stream processor . The input stream processor performs the final signal selection and processing and includes separation of video content from audio content for the content stream. The audio content is provided to an audio processor for conversion from the received format e.g. compressed digital signal to another format e.g. analog waveform signal . The analog waveform signal is provided to an audio interface and further to a display device such as display devices A N described in and DMR described in or an audio amplifier not shown . Alternatively the audio interface may provide a digital signal to an audio output device or display device using a High Definition Multimedia Interface HDMI cable or alternate audio interface such as via a Sony Philips Digital Interconnect Format SPDIF . The audio processor also performs any necessary conversion for the storage of the audio signals.

The video output from the input stream processor is provided to a video processor . The video signal may be one of several formats. The video processor provides as necessary a conversion of the video content based on the input signal format. The video processor also performs any necessary conversion for the storage of the video signals.

A storage device stores audio and video content received at the input. The storage device allows later retrieval and playback of the content under the control of a controller and also based on commands e.g. navigation instructions such as fast forward FF and rewind Rew received from a user interface . The storage device may be a hard disk drive one or more large capacity integrated electronic memories such as static RAM SRAM or dynamic RAM DRAM an interchangeable optical disk storage system such as a compact disk drive or digital video disk drive or storage external to and accessible by network device .

The converted video signal from the video processor either originating from the input or from the storage device is provided to the display interface . The display interface further provides the display signal to a display device of the type described above. The display interface may be an analog signal interface such as red green blue RGB or may be a digital interface e.g. HDMI .

The controller is interconnected via a bus to several of the components of the network device including the input stream processor audio processor video processor storage device user interface and handheld interface . The controller manages the conversion process for converting the input stream signal into a signal for storage on the storage device or for display. The controller also manages the retrieval and playback of stored content. The controller is further coupled to control memory e.g. volatile or non volatile memory including RAM SRAM DRAM read only memory ROM programmable ROM electronically programmable ROM EPROM electronically erasable programmable ROM EEPROM flash memory etc. for storing information and instruction code for controller . Further the implementation of the memory may include several possible embodiments such as a single memory device or alternatively more than one memory circuit connected together to form a shared or common memory. Still further the memory may be included with other circuitry such as portions of bus communications circuitry in a larger circuit.

In addition to interfacing to a user interface element and a display device network device may also interface to a handheld device such as a tablet through handheld interface . This handheld device may include a display screen with additional controls or may include a touch screen. Video signals from video processor as well as other data such as the on screen display messages and message prompt returns may be routed between controller and handheld interface . Handheld interface may transmit and receive signals and data with a handheld device or tablet using a radio frequency communications link such as Wi Fi Bluetooth or the Institute of Electrical and Electronics Engineers IEEE standard 802.11. Handheld interface may alternatively transmit and receive signals and data with a handheld device or tablet using an infra red interface.

In operation device implements a process for the generation and display of the media content that is available for playback in a media device the display incorporating content that is available through other devices on a local or home network. Device further implements a process for managing and updating the identification and presentation of media content that is available to the device from other devices in the network as part of a dynamic content cataloging system. The process may include determining when a new device is connected to the network or to the media device in question and identifying information about the available media content that is provided to the media device. This information includes metadata about the media content. Then a playlist view as part of a user interface is created using the information. This playlist view is set up as a set of parallel structures that form a tree structure. The process may also include recursively scanning devices on the network and building or adjusting a catalog of media content available to a media device connected to the network. The content discovery process is further adapted to identify migrant or removable content sources and to recursively or periodically scan these devices at a different timing interval than the other devices on the network.

The processes described in the present disclosure may employ an input device that can be used to express functions for searching a database such as scrolling browsing paging searching by word etc. To allow for this a touch panel device shown in may be interfaced via the user interface and or handheld interface in network device as shown in . The touch panel device may operated in a manner similar to that described for M DMC in and permit control of other components in the home network including DMS and DMR . Touch panel device further allows operation of a receiving device or set top box based on hand movements or gestures and actions translated through the panel into commands for the device e.g. network device or client device or other control device. Further touch panel device may function as a second screen allowing additional content such as on screen display windows and messages to be displayed to the user without interrupting or obscuring the viewing of the main display device e.g. display device . In one embodiment the touch panel device may serve as a navigational tool to navigate the display of an electronic program guide or content display guide. In other embodiments the touch panel device will additionally serve as the display device allowing the user to more directly interact with the navigation through the grid guide showing display of content. It is important to note that the touch panel device may be integrated into the settop box itself as part of for instance a front panel display or array. The touch panel device may also be included as part of a remote control device containing more conventional control functions such as activator or actuator buttons.

The functioning and control for the updating managing identifying and searching media content available from network or mounted devices as part of a directory as described herein may be encompassed as part of the operating code or firmware associated with a device e.g. client devices A N in DMS in and network device in . The process may include operating instructions written in any programming language e.g. Java or hypertext markup language HTML . The application may be pre loaded or downloaded e.g. from a server or Internet site and stored in a memory of the host device. It is to be appreciated that in one embodiment the instructions are stored in a memory e.g. control memory in where the instructions are retrieved thereon and executed by a control circuit e.g. controller . Further the physical implementation of the algorithm or functions in the process may be done in hardware such as discrete circuitry related to a video processor e.g. video processor or software such as software residing in memory and read and executed by the control circuit. In another embodiment the memory and a corresponding processor or controller to perform the processing may be integrated into a separate stand alone integrated circuit e.g. a digital processing processor DSP or an application specific integrated circuit ASIC .

Turning to a diagram of an exemplary architecture for a portion of operating code used to manage a media content database in a receiving device in accordance with aspects of the present disclosure is shown. Control information is passed to and from the CMS block through DMC interface . The control information is passed through Digital Item Declaration Language DIDL lite interface to DLNA interface . Content related information from content source 1 content source 2 and content source 3 is passed into DMS through plug in plug in and plug in respectively. Each of plug in plug in and plug in interface to Content Plug in interface and further to CMS aggregator . CMS aggregator interfaces to DLNA interface . DLNA interface provides an output to other portions of the operating code such as the content playback or the content storage portion of the operating code.

DMC interface receives instructions as part of a command set delivered from other portions of the operating code or from a component external to the device. The command set includes instructions for processing of the media content and associated information as part of CMS . The command set may include search requests update requests content management or status changes and content access requests. DMC interface may also direct the results from processing these requests in CMS to other portions of the operating code. DMC interface may also provide results to an external interface or visual display for the device as part of a user interface.

CMS receives the instructions from DMC interface and processes the instructions to direct the functions residing within CMS to generate results and produce results or values. The results or values may either be provided through DMC interface or directly to other portions operating code. CMS includes instructions for scanning in or ingesting content from different sources through plug in plug in and plug in . The content may be identified and provided from a plurality of different sources including but not limited to live TV recorded content video on demand or media from a USB or other storage device. It is important to note that although three plug ins are shown in more or fewer plug ins may be present in other embodiments. CMS uses DMC interface for providing information about all available content after scanning. CMS may further interface to other modules or services within the operating code including but not limited to a separate DLNA service a user interface for a local display device and a remote client service capable of running on a remote device. CMS may also operate as a DLNA compliant content manager to publish and or stream out the content to other portions of the operating code and ultimately to other devices.

Within CMS DIDL lite interface provides a command translation and conversion interface for both commands received through DMC interface as well as results provided to DMC interface . In some cases such as when DMC interface receives DLNA compliant commands DIDL lite interface may not perform any translations or conversions. Instead DIDL lite interface may pass the DLNA compliant commands through for processing in DLNA interface . In other cases such as when results of a query are provided to another portion of the operating code the DIDL lite interface converts the information to a DIDL script document containing the search results in order to provide the information.

One or more source plug ins and may be configured as a Digital Video Broadcasting DVB content source plug in. A DVB event source plug in provides specific interfacing to the program guide data and DVB format content that is carried within a broadcast signal stream adhering to one of the DVB standards.

One or more source plug ins and may also be configured as a broadband content source plug in. A broadband event source plug in provides specific interfacing to one or more web or Internet based content delivery services containing content that is provided in IP format.

One or more source plug ins and may further be configured as a filesystem plug in. A filesystem plug in scans an external device or file path present on the network and or connected to the device. The filesystem plug in may recursively or periodically scan for media files and pull metadata out of each media file and cache it in a temporary database. The filesystem plug in may be configured to scan and read content in several computer based storage and playback formats including but not limited to the Motion Picture Entertainment Group Standard MPEG 2 and MP 3 formats and the Joint Photographic Experts Group JPEG format.

The content plug in interface allows event sources e.g. content source 1 content source 2 and content source 3 to register with CMS in order to provide content and allow scanning of content information and metadata associated with the content. Registration and configuration for each content source may further be performed as part of a specific plug in e.g. plug in plug in or plug in . Content plug in interface may also provide conversion and or translation of commands and data structures for use in CMS aggregator . By using a plug in model customizations may be made for a particular service or content provider in the plug in without affecting the rest of CMS . The content plug in interface also includes interfaces for other source plug ins not shown to further permit CMS to accommodate event or entry data from additional multiple sources.

CMS aggregator gathers and further identifies catalogs and categorizes content that either exists or is available from the multiple content sources interfaced or connected to the device e.g. client device A N in DMS in and network device in . These sources may include sources interfaced through source plug ins and as well as previously recorded or downloaded content residing on the device. CMS aggregator uses the content plug ins to publish the available metadata when search browse requests are made as a result of commands from DMC interface and based on the CDS tree.

DLNA interface provides an application programming interface API to digest the content and help provide information to build the content limitation identifier or tag. DLNA interface uses configuration information in conjunction with the content and metadata from CMS aggregator to determine how the content limitation identifier or tag should be constructed. DLNA interface also processes DLNA compliant commands from DMC interface and additional manages DLNA compliant responses to other portions of the operating code or to components external to the device.

CMS further provides view definitions that organize the scanned in or ingested content into content trees or containers for content items or metadata that is stored internally. An API provides the ability to create modify and remove items and or containers as necessary allowing content to be updated dynamically. Using a unique identifier for item or content element metadata for that item or content element can be accessed regardless of the content or directory views that requested and or applied.

As mentioned above CMS may provide content scanning identification and presentation functions. CMS may also manage content streaming capability. CMS aggregator may maintain a configuration profile containing the supported media type bitrates resolution and protocol supported by the device. This information may be provided from another portion of the operating code through DMC interface . Using this configuration profile CMS aggregator may then provide the combination of content limitation identifiers or tags required to represent the content queried by a search or browse request. The tags may be configured as part of DLNA compliant commands and passed through DLNA interface to other portions of the operating code or external to the device. The configuration profile may also contain permission control on available content that may not be allowed streamed even though it can be queried for example for digital transmission content protection internet protocol DTCP IP support.

As an example when a DIDL lite document is created for the result set from a query in CMS CMS aggregator may build up tags from each item satisfying the query. One item can have multiple tags created depending on the capability of the device to stream that content. The capabilities are identified as part of the CMS configuration file and determine for instance the supported containers encoders decoders transcoders and segment duration sizes for each item as well as link protection if any.

The content limitation identifiers or tags may be constructed based on the configuration profile and adapted to the content scanned through the source plug ins and . For content provided by a source plug in configured as a filesystem plug in DLNA interface libraries may be used to determine multipurpose internet mail extension MIME type and DLNA compliant command information. An exemplary structure for a tag is shown below 

internal means the content will be played internally on the STB by the local DMR. That means the original source URI should be populated into the uniform resource identifier URI field eg. file mnt hdd0 movie.mpeg 

rtsp rtp udp means the content will be streamed out of the STB using realtime transport protocol RTP or user datagram protocol UDP protocol.

MIME type describes the MIME type such as may be defined for media content as part of the DLNA Media Format e.g. video mpeg audio mp3 or image jpeg .

Media Format This should be the DLNA Media Format guideline for the container audio and video codecs used. This is part of the DLNA standard and must properly map to a supported literal define.

Seek Info a two bit value that represents supported seek functionality. 01 byte seek 10 time based seek 11 both 00 none.

Uniform Resource Identifier URI The URI is created based on if the content is internal or streamed. If internal the original source information should be used. That would mean for Live TV dvb x.x.x recordings rec x or hard disk drive HDD USB content file xxxx . For streaming an http xxxxURl will be created based on the following format 

In conjunction with one or more view specifications created in CMS content such as Live TV video on demand VOD or recorded content stored can be enabled or disabled for sharing using tags. The tags also provide the ability to support link protection of premium content including content provided over a secure network. As a result CMS will not expose the premium content by creating tags that allow streaming of the content over an unauthorized network.

Turning now to a process for managing the updates and presentation of media content as part of a directory in a device according to aspects of the present disclosure are shown. Process described below may be used to improve the scanning updating and management performance for content that is part of a directory system or CDS in a device. Process will primarily be described with respect to the network device described in . However one or more of the steps in process may be equally applicable to one or more of the elements described in or to client devices A N described in . Additionally one or more of the steps in process may be incorporated as part of the architecture described in . Further it is important to note that some of the steps described in process may be implemented more than once or may be implemented recursively. Such modifications may be made without any effect to the overall aspects of either process .

At step a user device e.g. network device is connected to a home network. The connection may be made through a home network interface such as network interface . In a preferred embodiment the user device is a DLNA compliant device such as a DMS and the network operates using the DLNA protocol to interface with other DLNA compliant components. The user device also includes the capability to identify and scan in or ingest content and information from the other devices on the home network. Additionally the user device includes the capability to directly connect to or mount certain storage elements including but not limited to hard drives optical drives and USB memory devices. It is important to note that other devices in the home network may also include the capability to interface to storage elements.

At step the user device e.g. network device determines if one or more of the other devices or storage elements connected through the home network or connected directly to the device is are temporarily connected. These temporary or transient devices or storage elements may include content and information that is only available as long as the device or storage element is connected. A temporary or transient status indication may be advantageous to the generation and maintenance of a content directory structure. For example any content playlists or information for content may be stored or cached in a memory in the user device and updated periodically as will be described below. In addition a scan operation on a network device or storage element may take significant time to parse every file on the device. By periodically scanning the content and information the scanning may be done at a time when the user may be unaware that the scanning is being performed. As a result content search speed for any available content on the home network using the user device may be improved.

The temporary or transient status for a network device or storage element may be determined or identified through a control setting in conjunction with display interface and controller . For example when the network device or connected storage element is identified by the user device at step a menu entry may be provided for display to prompt the user to also identify the device or element status in the home network as temporary or not temporary. Further certain connections may be automatically identified as temporary. For example a storage element connected through a USB connection on the device or on any other device connected through the network may be identified as temporary. Finally the user device may use a transaction history with the network connected device or connected storage element to identify whether the network device or storage element is temporary. The transaction history may be monitored by controller through network interface . As a result any identification and management of this content for use by the device may be treated differently from devices or storage elements that may be identified as more permanently connected.

If at step a connected device or storage element is determined to be temporarily connected then at step a first update mechanism is initiated to check for and scan in content using a time interval that is at a first periodic update rate. The temporary or transient status of a network connected device or storage element typically requires a higher update rate or shorter time interval for monitoring the availability of content. The more frequent scanning for content due to the higher update rate results in improved maintenance of the directory of available content and an improved response time to user requests. Additionally at step any content and information that is scanned in may be stored in a memory structure in the user device.

If at step a connected device or storage element is determined to not be temporarily connected then at step a second update mechanism is initiated to check for and scan in content and information using a time interval that is at a second periodic update rate. Because the connected device or storage element is not temporary a lower monitoring rate for the availability of content may be used. In some embodiments the second periodic update rate may be ten times lower than the first update rate used for temporary or transient network devices or storage elements. Further in other embodiments no periodic monitoring for network devices or storage elements that are not identified as temporary may be necessary. In this case content updates or scans may occur only when user requests are initiated. Additionally at step any content and information that is scanned in may be stored in a memory structure e.g. control memory or storage device in the user device.

Following the establishment of either a first update rate at step or a second update rate at step at step a request from the user is received for the display of content or information related to the content. The user request may be part of a content search or a content browse request received through user interface or handheld interface . The user request may also be part of a content playback request. Additionally at step a further update may be performed for connected devices or storage elements that are not temporary. The further update at step may be necessary if no periodic monitoring or updating is performed at step .

Last at step a directory or CDS tree of available content is generated for display. The directory or CDS tree is generated using the latest available content from a connected device or storage element identified as temporary using the update rate established at step . The directory or CDS tree may be generated using video processor in conjunction with information from controller . The available content may be retrieved from a local memory e.g. control memory or storage device in the user device. The directory or CDS tree also includes the latest available content from the connected devices or storage elements that are not temporary using either the update rate established at step or the further update at step . Further at step the generated directory or CDS tree may be provided from the user device through display interface to a display device e.g. DMR described in .

It is important to note that in addition to generation of a directory or CDS tree at step the user request may include a direct request for access for playback of content. Based on the updated list of content the content may be accessed and provided for playback by the user device and a display device. In addition a restriction on playback may be identified as part of the directory or CDS tree based on an identifier or tag generated as part of the information for the media content.

Turning now to an illustration of a view for a file system configuration according to aspects of the present disclosure is shown. The filesystem configuration shows the scanned and identified content from a filesystem plug in e.g. source plug in as part of the code in DMS in similar to scanning in or ingesting content at step and step in . The content source for filesystem configuration may be an external USB memory device attached to the device or may be a networked memory source connected to the device through a home network. Filesystem configuration includes an entry identified as Desert . Entry is a content file in a JPEG format. Filesystem configuration also shows an entry identified as pl . Entry is an M3U filetype which represents a content playlist. Both entry and entry are included as part of a volume label NEW VOLUME E and under a folder labeled My Favorite Media Videos . It is important to note that other folders and content may exist under the volume label NEW VOLUME E and may also be scanned in.

Additionally filesystem configuration may represent a snapshot of the content to be scanned in or ingested at a given time. If the content source is identified as a temporary or transient source as described earlier in then at a different time the content source may no longer be available or the content on the source may have changed. As a result periodic scanning of the content source by the filesystem plug in may be initiated in order to update the available content in the DMS e.g. DMS in .

Turning now to a diagram illustrating an exemplary content directory according to aspects of the present disclosure is shown. Content directory represents a content directory including the content scanned in from the filesystem plug in described in . As described earlier the content available as part of a DMS may be organized into one or more CDS trees or views. Note that content directory is identified as defaultView the view used for the CDS tree that is exposed to DLNA clients. A user may configure one or more CDS trees for a different view. In the view shown labeled defaultView a subtree with an All Media container shows all items found from instances of all of the plug ins. Additionally there is a subtree with a Folders container that shows further subfolder trees for all internal folders. There is also a subtree with a Devices container that shows the folder trees for all external devices that are connected to the device. Within the Devices container a path is shown identifying the location for the content entry A labeled Desert.jpg which is equivalent to entry in . Further a second entry B also labeled Desert.jpg is shown under All Media . In this manner the content Desert.jpg may be found using more than one search tree or through more than one search request. Also note that an additional content entry Freebird.mp3 has been scanned in to the DMS and included in content directory along with content already located in the DMS.

It is important to note that the view shown in and the cataloging system for the directory or CDS tree represents one cataloging system using only the source identification for the content or information. Other cataloging systems may be possible using additional information or metadata that is scanned in or ingested for the content. For example the cataloging system may include subtrees with containers identified as but not limited to artist actor genre and year.

Turning now to a diagram illustrating an exemplary content directory according to aspects of the present disclosure is shown. Content directory includes the functionality to show playlists as a part of a CDS parsed playlist tree. A parsed playlist tree allows playlist files e.g. M3U files found during a file system scan to be parsed and automatically added to the CDS tree e.g. defaultView or other views . When a playlist file is detected the file is parsed and each item in the playlist is checked to see if the file is a media file and exists in the folder tree that is being scanned. A playlist container is created under a specified container in content directory and the items that match files in the folder tree are added as items to the playlist container. In content directory an entry A identified as pl.m3u and which is equivalent to entry in is shown under the Devices subtree. Similarly an entry B is included under the All Media subtree and an entry C is included under the Playlist subtree. Further the content for pl.m3u is shown under entry C. The content is further shown under the All Media subtree but shown as separate from entry B. Finally the content is shown as part of the subtree structure under the devices subtree and also separate from the entry A. Similar to the content from the playlist pl.m3u as well as the playlist itself may be found using more than one search tree or through more than one search request.

The playlist identified as entry in content directory may be parsed using a software architecture that includes playlist content parser software. In one embodiment a universal plug and play UPnP CDS playlist parser may be included as part of the CMS architecture described in . The UPnP CDS playlist parser parses playlist files e.g. .m3u .pls .asx .wsx file extensions and creates CDS equivalent playlist containers with playlist items that match the files specified in the playlist file. Parsing may occur when the CMS software is scanning a mounted file system device for media files. Since the CMS software may cache the media files and metadata as CDS items the software may look for each file listed in the playlist file and insert the CDS item into the playlist container if it exists. Further since the playlist containers are configurable a user may choose the parent location of the playlist containers in the directory or CDS view specification. The user may also specify whether to include playlists from internal folders external folders or both. As with any CDS container or item a user may browse and search the metadata in the playlist containers.

Additionally the content directory represents a content directory including the content scanned in from the filesystem plug in described in following a subsequent scan or update based on a periodic update rate for temporary or transient devices as described at step in . The latest scan included two additional entries a file identified as party.wav and a file identified as nooma.mpeg The entries are also shown included as entries and under the All Media subtree folder and entries and under the pl subtree folder

The file system content from the external device or file path that is scanned in through a plug in e.g. plug in plug in or plug in described in may appear in several possible view configurations as part of a CDS tree. For example the file system content may appear in a dynamic rule based container just like other content provider plug in as a CDS subtree that matches the folder tree file structure of the device and or as a parsed playlist tree. Since the tree containers are configurable a user may choose the parent location for the folder trees or playlist trees in the view and also specify whether to include trees from internal storage external devices or both. An embodiment of the software code to implement CDS tree such as those illustrated in and is shown below 

Several exemplary uses for the embodiments of the present disclosure are possible. In a first exemplary use a user has plugged a USB storage device to a STB that is connected to a home network. The user has also added a directory on the local hard drive of the STB as part of the content scan. The user has setup a view for the directory or CDS tree as shown in . Further the user has a mobile DMP phone that can connect to the network wirelessly. The user requests a content search using the mobile DMP phone and browses down the CDS tree to the pl container and selects all the items to play. The mobile DMP phone immediately plays the two songs in the playlist shown in .

In a second exemplary use the user has the same setup as described above. Using the mobile DMP phone the user requests a search on the top level container of the CDS tree for all audio items that have the artist of Michael Jackson . This will search all cached metadata of all devices connected to the STB and return all the matching songs from all network devices and connected storage devices as well as the local hard drive. The scanned content includes any updates that have occurred for network devices and connected storage devices that are identified as transient or temporary. A directory or CDS tree structure may be created that includes a subtree folder identified as artist and an additional subtree folder identified as Michael Jackson . The user may then select and play all those songs under the folder Michael Jackson on the mobile DMP phone.

In a third exemplary user the user is operating a computer that is connected to the home network. The computer includes a program that includes a CMS software architecture that can browse the STB and the locally connected USB device and display content in a directory or CDS tree. The user wants to takes a break from work to watch a comedy movie and knows that there are many new movies on a connected USB device but doesn t remember which device on the network includes the USB device. The user does a search on the Devices container for genre of comedy . The scanned content includes any updates that have occurred for network devices and connected storage devices that are identified as transient or temporary. A directory or CDS tree structure may be created that includes a subtree folder identified as genre and an additional subtree folder identified as comedy . The user may then select a movie that is identified under the folder comedy and that is available for streaming the computer based on the permissions in the identification tags for the content.

The present embodiments describe a content management structure that supports home network components including components with temporary access as well as differing content file structures. The embodiments allow a user to browse search rich metadata e.g. title actor genre artist etc. . . . related to the content on any external device connected through a network or an internally mounted device with a file system USB Bluetooth Hard Drives through device using a CMS interface including but not limited to gateways DLNA compliant devices and computing devices. Once content and information is scanned in the user may customize where the content should appear in the CDS tree or view. Since a CMS may cache the metadata and file system tree in a CDS structure any DLNA device on the network can quickly search the rich metadata of all mounted devices simultaneously and stream any of the content on that DLNA device. In addition the view configuration allows the user to search and or display just all local content or search and or display just the removable device content. This configuration control may speed up a search if a user knew the content that he she was interested in resided locally or remotely. Further the caching and immediate viewing of content and the additional periodic updating mechanisms for content sources identified as transient sources or devices offer distinct improvement to the user interface and content management experience of the user. The user may also stream the content from the networked or mount device on another DLNA device.

Additionally one or more embodiments described above allows a user to stream content referenced inside a playlist file on a device such as a DLNA device without the need to parse the playlist file type. A user may connect to any networked or mounted device and if the device contains any playlist files a CDS playlist container is created with playlist items in the CDS view for each playlist that is found. The playlist items may contain rich metadata e.g. title actor genre artist etc. . . . so that a user can browse or search the metadata in the playlist containers. A user may browse the playlist container that is created so that one or more of the items in the playlist can be played using the URls included in the metadata of the items. The device may be mounted or networked to a device that runs a CMS software package. Since CMS creates the playlist container and caches the metadata for the playlist items in the CDS tree any DLNA compliant device on the network may quickly stream a list of items in a playlist file. Further since all playlists may be placed in a specified part of the view a user can easily search the rich metadata of all playlists on all mounted devices simultaneously and stream any of the playlists or individual playlist items on that DLNA device. Also the view configuration allows the user to search just local playlists or search just the removable device playlists updated recursively or periodically using the embodiments described above. This playlist control along with the updating mechanisms may speed up a search if a user knew the playlist that he she was interested in resided locally or remotely.

Although embodiments which incorporate the teachings of the present disclosure have been shown and described in detail herein those skilled in the art can readily devise many other varied embodiments that still incorporate these teachings. Having described preferred embodiments of a method and apparatus for managing a media content database on a device which are intended to be illustrative and not limiting it is noted that modifications and variations can be made by persons skilled in the art in light of the above teachings. It is therefore to be understood that changes may be made in the particular embodiments of the disclosure disclosed which are within the scope of the disclosure as outlined by the appended claims.

