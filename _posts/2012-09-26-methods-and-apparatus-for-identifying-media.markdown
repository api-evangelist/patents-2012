---

title: Methods and apparatus for identifying media
abstract: Methods and apparatus are disclosed for identifying media and, more particularly, to methods and apparatus for decoding identifiers after broadcast. An example method includes a portion of an identifying code from a media signal, determine a partition of the look-up table based on the portion of the identifying code wherein the partition of the look-up table includes reference signatures associated with the portion of the identifying code, and identify the media signal by comparing a signature extracted from the media signal to reference signatures in the partition of the look-up table.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09286912&OS=09286912&RS=09286912
owner: THE NIELSEN COMPANY (US), LLC
number: 09286912
owner_city: New York
owner_country: US
publication_date: 20120926
---
This disclosure relates generally to media and more particularly to methods and apparatus for identifying media.

Media identification systems utilize a variety of techniques to identify media e.g. television TV programs radio programs advertisements commentary audio video content movies commercials advertisements web pages and or surveys etc. . In some media identification systems a code is inserted into the audio and or video of a media program. The code is later detected at one or more monitoring sites when the media program is presented. An information payload of a code inserted into media can include unique media identification information source identification information time of broadcast information and or any other identifying information.

Media identification systems may additionally or alternatively generate signatures at one or more monitoring sites from some aspect of media e.g. the audio and or the video . A signature is a representation of a characteristic of the media e.g. the audio and or the video that uniquely or semi uniquely identifies the media or a part thereof. For example a signature may be computed by analyzing blocks of audio samples for their spectral energy distribution and determining a signature that characterizes the energy distribution of selected frequency bands of the blocks of audio samples. Signatures generated from media to be identified at a monitoring site are compared against a reference database of signatures previously generated from known media to identify the media.

Monitoring sites include locations such as households stores places of business and or any other public and or private facilities where media exposure and or consumption of media on a media presentation device is monitored. For example at a monitoring site a code from audio and or video is captured and or a signature is generated. The collected code and or generated signature may then be analyzed and or sent to a central data collection facility for analysis. In some systems the central data collection facility or another network component may also send secondary media e.g. secondary media associated with the monitored media to the monitoring site for presentation on a media presentation device. For example the secondary media may be an advertisement associated with a product displayed in the monitored media.

Audio watermarks may be embedded at a constant rate in an audio signal e.g. every 4.6 seconds . In some instances when the audio signal is received and decoding of the watermark is attempted less than all of the watermarks may be detected e.g. watermarks might only be detected approximately every 30 seconds due to interference noise etc. . For example presented audio that is detected by a microphone and then decoded is particularly susceptible to interference and noise. Furthermore the payload of a watermark may not be decoded completely. For example a timestamp of a payload may only be partially accessible e.g. the seconds value of the timestamp may be unreadable due to noise and or due to techniques that stack or combine several watermarks over a period of time to increase detection accuracy . In contrast signatures captured from media can typically be more reliably compared with reference signatures to identify the media. However such comparison is often computationally intensive due to the number of reference signatures for comparison.

Methods and apparatus described herein utilize the partial data obtained from watermarks to reduce the search space of the reference signatures. Accordingly an obtained signature can be compared with the reference signatures in the reduced search space to identify a match resulting in reduced computation complexity and a reduced likelihood that a signature will be incorrectly matched. As described in further detail herein the partial data from the watermark can be used to filter out reference signatures that are associated with media that does not match the partial data. For example a watermark may indicate a source identifier of 1234 and a timestamp of 13 44 where the indicates that the seconds are unknown. As described herein the reference signatures that are not associated with source identifier 1234 and are not in the time range 13 44 00 to 13 44 59 can be eliminated from the list of reference signatures against which a collected signature is compared e.g. where the signature is collected near the same time as the watermark . Accordingly even when a watermark is not always detected and or a watermark is partially detected presented media content can be efficiently identified. Such efficiency may result in savings of computing resources and computing time for identifying media by matching signatures because the reduced size of the partition reduces the search space utilized to match signatures.

The disclosed methods and apparatus may additionally or alternatively facilitate more accurate identification of media. In some instances the same media may be presented multiple times and or on multiple stations. Accordingly the same sequence of signatures may be found at multiple times and on multiple different stations. Accordingly signatures alone may not uniquely identify a specific instance of media that was presented. Reducing the search space of the signatures using all or part of extracted watermarks as disclosed herein reduces the likelihood that a sequence of signatures will match multiple instances of media presentation or will match an incorrect instance of media presentation. For example if only a source identifier can be extracted from a watermark the source identifier can limit the signature search to media distributed the identified source and thus a sequence of signatures will not be incorrectly matched to media from another source. In another example if a partial timestamp is extracted from the watermark the partial timestamp can limit the signature search to media presented during the time period associated with the partial timestamp and thus a sequence of signatures will not be incorrectly matched

A disclosed example method includes receiving a media signal from a media presentation device determining at least a portion of an identifying code from the media signal generating a signature from the media signal determining a partition of a look up table of reference signatures wherein the partition includes reference signatures associated with the portion of the identifying code and identifying the media signal by comparing the generated signature with the reference signatures in the partition of the look up table. In some such examples the look up table contains timestamps and signatures from the reference media signal wherein the signatures are associated with the timestamps. In some examples the partition of the look up table is determined by decreasing the search space of the reference signature look up table.

In some examples the portion of the identifying code is a timestamp. In such examples the partition of the look up table may be determined by determining a time range within the look up table based on the timestamp and selecting entries for inclusion in the partition of the look up table which include timestamps within the time range. Additionally when a portion of the timestamp is unreadable or otherwise unavailable the partition of the look up table may be determined by determining an approximate timestamp from the available or readable portion of the timestamp determining a time range within the look up table based on the timestamp and selecting entries for inclusion in the partition of the look up table which include timestamps within the time range.

In some examples the portion of the identifying code is source identification data. In such examples the partition of the look up table may be determined by selecting entries that include the source identification information for inclusion in the partition of the look up table.

In some examples the portion of the identifying code contains source identification data and a timestamp. In such examples the partition of the look up table may be determined by determining a time range within the look up table based on the timestamp and selecting entries for inclusion in the partition of the look up table which include timestamps within the time range and the source identification information. Additionally the partition of the look up table may be determined by determining an approximate timestamp from the readable portion of the timestamp determining a time range within the look up table based on the timestamp and selecting entries for inclusion in the partition of the look up table which include timestamps within the time range and the source identification information.

In some examples the media signal includes an audio signal. The audio signal may embody speech music noise or any other sound. A code may be encoded within audio as an audio watermark. In some examples of audio watermark encoding the code is psycho acoustically masked so that the code is imperceptible to human hearers of the audio. In other examples the code may be perceived by some or all human listeners. The codes may include and or be representative of any information such as for example a channel identifier a station identifier a program identifier a timestamp a broadcast identifier etc. The codes may be of any suitable length. Any suitable technique for mapping information to the codes may be utilized. Furthermore the codes may be converted into symbols that are represented by signals. For example the codes or symbols representative of the codes may be embedded by adjusting e.g. emphasizing or attenuating selected frequencies in an audio signal. Any suitable encoding and or error correcting technique may be used to convert codes into symbols.

The media provider s of the illustrated example distribute media for broadcast. The media provided by the media provider s can be any type of media such as audio content video content multimedia content advertisements etc. Additionally the media can be live media stored media etc.

The identification generator of the illustrated example receives a media signal from the media provider generates identifying information associated with the media signal stores the identifying information in the LUT as reference media monitoring information encodes identifying information within the media signal and sends the encoded media signal to the media receiver . The identification generator of the illustrated example generates a signature from the media signal and inserts an identifying code into the signal. The generated signature is stored in the LUT . While a single identification generator is illustrated in the identification generator may be implemented by separate components wherein a first component generates the signature and a second component inserts the identifying code into the signal. For example the component that generates and inserts the identifying code may be located at a media distributor and the component that generates the signature may be located at a reference site media monitoring facility etc. that receives media after the media is broadcast distributed etc. identifies the media generates the signature and stores the signature along with identifying information in the LUT . An example implementation of the identification generator is illustrated in greater detail in and described below.

The LUT of the illustrated example is a table that stores reference identifying information associated with media. The LUT of the illustrated example receives identifying information and generated signatures from the media signal processed by the identification generator and stores the information as reference media monitoring information organized by timestamp. The example LUT is a data table stored for example on at least one of a database a hard disk a storage facility or a removable media storage device. The LUT receives input from the identification generator to create the data table. The LUT is accessed by the secondary media manager to provide reference data for media identification. The LUT may additionally or alternatively store other identifying information such as for example identifying codes associated with media. While a single LUT is illustrated in multiple LUTs may be utilized and may be maintained by separate databases datastores on computing devices etc. For example separate LUTs may be associated with each media station channel. Furthermore each LUT may be implemented as multiple tables such as for example a first table sorted by timestamp associating timestamps to signature values and a second table sorted by signature linking signatures to corresponding locations or timestamps in the first table e.g. a single signature value may be associated with multiple timestamps and or multiple stations channels . An example implementation of the LUT is described in conjunction with .

The media receiver of the illustrated example is a device which receives a media signal from the identification generator and presents and or records the media signal. In some examples the media receiver is a customer premises device a consumer device and or a user device that is located implemented and or operated in for example a house an apartment a place of business a school a government office a medical facility a church etc. Example media receivers include but are not limited to an internal tuner in a consumer electronic device of any type a set top box STB a digital video recorder DVR a video cassette recorder VCR a DVD player a CD player a personal computer PC a game console a radio an advertising device an announcement system and or any other type s of media player.

The primary media presentation device of the illustrated example receives a media signal from the media receiver and presents the media. Example primary media presentation devices include but are not limited to an audio system a television a computer a mobile device a monitor and or any other media presentation system. In some examples the media receiver of outputs audio and or video signals via the primary media presentation device . For instance a DVD player may display a movie via a screen and speaker s of a TV and or speaker s of an audio system.

The speaker of the illustrated example receives an audio signal from the primary media presentation device and presents the audio signal. Example speakers include but are not limited to an internal speaker in a television a speaker of an audio system a speaker connected to a media presentation device via a direct line e.g. speaker wire component cables etc. and or a speaker connected to a media presentation device via a wireless connection e.g. Bluetooth Wi Fi network etc. .

The secondary media presentation device of the illustrated example extracts identification information from media and presents media received from the secondary media manager via the network . Examples of the secondary media presentation device include but are not limited to a desktop computer a laptop computer a mobile computing device a television a smart phone a mobile phone an Apple iPad an Apple iPhone an Apple iPod an Android powered computing device Palm webOS computing device etc. The example secondary media manager includes an interface to extract identification information from an audio signal detected by the microphone . In the illustrated example the secondary media presentation device sends the extracted identification information to the secondary media manager as identifying media monitoring information via the network . In some examples the secondary media presentation device includes one or more executable media players to present secondary media provided by the secondary media manager . For example the media player s available to the media presentation device may be implemented in Adobe Flash e.g. provided in a SWF file may be implemented in hypertext markup language HTML version 5 HTML5 may be implemented in Google Chromium may be implemented according to the Open Source Media Framework OSMF may be implemented according to a device or operating system provider s media player application programming interface API may be implemented on a device or operating system provider s media player framework e.g. the Apple iOS MPMoviePlayer software or any other media player or combination thereof. While a single secondary media presentation device is illustrated in any number and or variety of the secondary media presentation devices may be included in the system . An example implementation of the secondary media presentation device is described in conjunction with .

The microphone of the illustrated example receives an audio signal from a source e.g. the speaker and transmits the received audio signal to the secondary media presentation device . The microphone may be an internal microphone within the secondary media presentation device a microphone connected directly to the secondary media presentation device via a direct line and or a microphone connected to the secondary media presentation device via a wireless connection e.g. Bluetooth Wi Fi network etc. .

The secondary media manager of the illustrated example receives the identifying media monitoring information from the secondary media presentation device via the network and identifies the media by comparing the identifying media monitoring information with reference media monitoring information stored within the LUT . In some examples in which the media monitoring information includes an identifying code and a signature the identifying code may only be partially readable and or sparsely detected. In such examples the secondary media manager will estimate a code value based on the readable portion of the code and determine a time range from the estimated code value. For example the readable portion of the identifying code may be missing the seconds value of the timestamp e.g. 18 21 . In such examples the secondary media manager may estimate a time range of all timestamps including the readable hours and minutes portions of the timestamp e.g. the time range determined from a partial timestamp of 18 21 is 18 21 00 to 18 21 59 . Similarly the secondary media manager may estimate a code value based on a previously retrieved code. For example if a code having the timestamp 14 11 45 was the last code retrieved the secondary media manager may estimate a time range of all timestamps to be 18 21 00 to 18 22 59 to account for a signature having been collected in the time range.

Using the determined time range the secondary media manager creates a partition of the reference LUT including reference signatures having a timestamp within the time range. To determine a matching reference signature the secondary media manager compares the reference signatures contained in the partition of the LUT with the signature associated with the identifying media monitoring information. The LUT may be further partitioned based on a source identifier e.g. a table corresponding to the source identifier may be selected . Previously received signatures may also be compared e.g. where individual signatures are not globally unique a sequence or neighborhood of signatures may be utilized to uniquely identify media .

Once a matching signature is found the secondary media manager will report the identifying information associated with the matching signature as matching media monitoring information to the media monitor . Accordingly the secondary media manager can efficiently identify media content when the code is not fully recovered and or when not all codes are recovered e.g. each consecutively embedded code is not successfully recovered .

The example secondary media manager selects secondary media associated with the matching media monitoring information from an internal or external database and sends the secondary media to the secondary media presentation device . Example secondary media includes but is not limited to videos commercials advertisements audio games web pages advertisements and or surveys. For example the secondary media presentation device may be a tablet computer connected to the Internet. In such an example when the user of the secondary media presentation device is watching a television program example media and an embedded microphone e.g. microphone of the secondary media presentation device receives the audio portion of the television program the secondary media presentation device processes the audio for identification information sends the identification information to the secondary media manager and receives secondary media associated with the television program. An example implementation of the secondary media manager is described in conjunction with .

The media monitor of the illustrated example receives matching media monitoring information from the secondary media manager and stores the matching media monitoring information in the media monitoring database . The example media monitor generates reports based on the media monitoring information. For example the media monitor may report the number of times that the media has been presented. Additionally or alternatively the media monitor may generate any other report s .

The media monitoring database of the illustrated example is a database of media monitoring information stored for example on at least one of a database a hard disk a storage facility or a removable media storage device. The media monitoring database receives input from the media monitor to create a database of media monitoring information. For example the media monitor may track media exposure of statistically selected individuals panelists and use the data to produce media exposure statistics

The network of the illustrated example is the Internet. Additionally or alternatively any other network s linking the secondary media presentation device and the secondary media manager may be used. The network may comprise any number of public and or private networks using any type s of networking protocol s .

While illustrates one example system for identifying primary media and providing secondary media associated with the primary media other example methods systems and apparatus to provide secondary media associated with primary media are described in U.S. patent application Ser. No. 12 771 640 entitled Methods Apparatus and Articles of Manufacture to Provide Secondary Content in Association with Primary Broadcast Media Content and filed Apr. 30 2010 which is hereby incorporated by reference in its entirety.

The code generator of the illustrated example generates identifying codes for the media signal which are inserted into the media signal by the code inserter . The identifying codes may additionally or alternatively be stored in a reference data store e.g. the LUT . Example identifying codes may include a timestamp source identification data media identification data or any other data associated with the media signal. The code generator may receive information to facilitate the generation of the codes from the clock one or more external input s a configuration file pre existing codes already encoded in the media signal or any other data source. The example code generator creates codes which are embedded as an audio watermark within an audio portion of the media signal by the code inserter . In some examples such identifying code systems include the Nielsen Watermarks codes a.k.a. Nielsen codes of The Nielsen Company US LLC. Other example identifying codes include but are not limited to codes associated with the Arbitron audio encoding system. Any other types of codes may additionally or alternatively be used.

The signature generator of the illustrated example generates signatures from the media signal and stores the signatures as reference signatures within the LUT . The example signature extractor is configured to receive the media signal and generate signatures representative of the media signal. In the illustrated example the signature generator generates signatures using the audio portion of a media signal. However signature generator may use any suitable method to generate a signature and or multiple signatures from the audio and or video. For example a signature may be generated using luminance values associated with video segments one or more audio characteristics of the media etc. The example signature generator generates and stores packets of signatures for each timestamp e.g. 60 signatures per second . Alternatively any other signature timing may be utilized. While the example signature generator is illustrated near the code generator in the example signature generator is physically located away from the code generator at a reference site media monitoring facility etc. that receives the media signal after the media signal has been broadcast. For example the signature generator may include the signal receiver to receive the media signal from the media providers .

The clock of the illustrated example provides timing data and correlates the reference codes and reference signatures associated with a particular part of a media signal. In some examples the clock creates a timestamp to be used in the identifying codes and associates the codes with reference signatures to form the LUT . In some examples the media signal may contain a pre existing code including a timestamp and the clock is not needed.

The code inserter of the illustrated example inserts the identifying codes generated by the code generator into the media signal provided by the media provider s . The example code inserter receives a media signal from the media provider and identifying codes associated with the media signal from the code generator . The code inserter inserts the code into the media signal using any form of insertion or encoding. For example if the identifying code generated by code generator is a Nielsen Watermark code i.e. a proprietary code of The Nielsen Company US LLC the identifying code will be encoded in an audio portion of the media signal as an audio watermark. The media signal including identifying codes is transmitted to one or more media providers for broadcast. For example according to the example of the media signal is transmitted to the media receiver .

The code extractor of the illustrated example receives a media signal that includes identifying codes from the microphone and extracts a portion of the identifying codes. Code extractor may extract a complete code may extract a partial code or may extract an incomplete code. For example a partial code or incomplete code may be extracted due to ambient noise that prevents extraction of a complete code. The extracted code may contain a timestamp a portion of a timestamp source identification data unique media identification data and or any other complete or partial information. Some examples of identifying codes extracted by the code extractor include a code containing a timestamp and source identification data see and description below a code containing an incomplete timestamp and source identification data see and description below a code containing an unreadable or otherwise unavailable timestamp and complete source identification data see and description below and or a code containing an incomplete timestamp and unreadable or otherwise unavailable source identification data see and description below . The extracted code or portion thereof is sent from the code extractor to the data packager

The signature generator of the illustrated example receives the media signal with identifying codes from the microphone and generates signature s from the media signal. In some examples the signatures are generated from the same portion of the media signal from which the code extractor extracts a portion of the identifying codes. The signature generator sends the generated signature to the data packager .

The data packager of the illustrated example packages the identifying code s and or portions of the identifying code s extracted by the code extractor and the signature s generated by the signature generator into a data package for transmission as identifying media metering information. The data package may be sent as one complete package as separate packages or any other suitable way to send data to the secondary media manager . The data package may take any form that may be communicated to the secondary media manager via the network e.g. a text stream a data stream etc. .

The secondary media presenter of the illustrated example displays secondary media provided to the secondary media presentation device by a secondary media manager . For example the secondary media presenter available to the secondary media presentation device may be implemented in Adobe Flash e.g. provided in a SWF file may be implemented in hypertext markup language HTML version 5 HTML5 may be implemented in Google Chromium may be implemented according to the Open Source Media Framework OSMF may be implemented according to a device or operating system provider s media player application programming interface API may be implemented on a device or operating system provider s media player framework e.g. the Apple iOS MPMoviePlayer software etc. or any combination thereof. While a secondary media presenter is illustrated in any number and or variety of media presentation devices may be included in the secondary media presentation device .

The code approximator of the illustrated example determines an approximate identifying code from the portion of the identifying code contained in the identifying media metering information. The portion of the identifying code received may contain complete or incomplete data. The code approximator may additionally or alternatively determine the approximate identifying code based on previously detected codes e.g. by considering portions of the timestamp of the code to be wildcard e.g. the seconds or minutes of the timestamp . The code approximator determines a time range of timestamps based on the approximate identifying code e.g. based on a partial timestamp included in the code and or a timestamp having wildcard inserted and determines a partition of the LUT including entries which include reference signatures having timestamps within the time range. The partition of the LUT and or a table of the LUT may be selected based on other identifying information e.g. a source identifier determined by the code approximator . The partition of the LUT is reported to the signature comparator .

The signature reader of the illustrated example reads an identifying signature from identifying media metering information received from the secondary media metering device . The signature reader transmits the identifying signature value.

The signature comparator of the illustrated example receives an identifying signature from the signature reader receives the partition of the LUT from the code approximator and compares the identifying signature with the reference signatures contained in the partition of the LUT . If the signature comparator determines that a signature contained in the LUT matches the identifying signature then the signature comparator outputs the reference identifying information contained at the location of the matching signature to the media monitor and to the secondary media selector as matching media monitoring information.

The secondary media selector of the illustrated example receives identifying information from the signature comparator selects secondary media from a secondary media database associated with the identifying information and transmits the secondary media to a secondary media presentation device . The secondary media database stores secondary media on for example at least one of a database a hard disk a storage facility or a removable media storage device. Example secondary media includes but is not limited to videos commercials advertisements audio games web pages advertisements and or surveys. The secondary media database provides secondary media to the secondary media selector . The media in the secondary media database may be provided by the media producer the media distributor a third party advertiser or any other source of media. For example the secondary media selector may receive identifying information associated with a television program from the signature comparator . The secondary media selector may retrieve secondary media associated with the television program created by the media producer from the secondary media database .

In some examples the secondary media manager may receive additional information associated with the secondary media presentation device in addition to the identifying information. For example the additional information may include information about applications executing on the secondary media presentation device activities being performed on the secondary media presentation device etc. The secondary media selector may select secondary media based on the identified primary media and the additional information. For example where a first secondary media presentation device is executing a sports application the secondary media selector may select sports information associated with a particular primary media e.g. a television news program as the secondary media. Similarly where a second secondary media presentation device is executing a trivia game the secondary media selector may select trivia information associated with the same particular primary media as the secondary media. In other words different secondary media may be selected for different secondary media presentation devices detecting presentation of the same primary media content.

An example implementation of the LUT of is illustrated in . The example LUT of includes three columns column includes source identification data column includes timestamp data for reference signatures in column . The LUT may contain additional or alternative columns containing any additional information.

The rows of the example LUT of are sorted first by the reference source identification data in column . Alternatively the LUT may include separate tables partitioned by reference source identification data e.g. one table for each unique source identifier . Once the example LUT is sorted by column it is further sorted in chronological order by the timestamp data of column . The LUT may not be sorted or may be sorted in any other way for faster or more efficient searching or for any other reason. For example a second table of reference data may be sorted by reference signature where each reference signature is linked to the one or more timestamps at which the reference signature was generated from media.

The data in columns and are input to the example LUT by the identification generator of . Specifically the data of columns and are input to the example LUT by the signature generator of . In the example of each timestamp column is associated with a packet e.g. a plurality of reference signatures column that were captured during the timeframe of the timestamp. For example the timestamps in column may increment by 1 second and signatures may be captured every 16 milliseconds resulting in approximately 62 signatures for each timestamp value in column . Alternatively a single signature may be associated with each timestamp timestamps may be computed at a higher resolution e.g. each millisecond timestamps may be computed less frequently e.g. every 2 seconds etc. In the example of the reference signatures column are characterized by 24 bit numbers in hexadecimal format characterizing the spectral energy distribution in defined frequency bands of a selected audio sample. According to the illustrated example the signature values are not globally unique e.g. signature 2F56AB is associated with Jan. 1 2011 12 00 00 and Jul. 12 2011 05 07 12 . Accordingly a sequence of signatures e.g. signatures captured consecutively by a meter is utilized to uniquely identify media. Alternatively any other signature scheme may be employed e.g. signatures may be globally unique .

An example identifying code extracted by code extractor and read by code approximator is illustrated in . The example identifying code includes a timestamp and source identification data . The timestamp of the identifying code in this example has been extracted without error and is thus complete. The source identification data of the identifying code in this example has also been extracted without error.

An example identifying code extracted by code extractor and read by code approximator is illustrated in . The example identifying code includes a timestamp and source identification data . The timestamp of the identifying code in this example was only partially readable. Accordingly the seconds value in the timestamp is unavailable. The source identification data of the identifying code in this example has been extracted without error.

An example identifying code extracted by code extractor and read by code approximator is illustrated in . The example identifying code includes a timestamp and source identification data . The timestamp of the identifying code in this example could not be read. The source identification data of the identifying code in this example has been extracted without error.

An example identifying code extracted by code extractor and read by code approximator is illustrated in . The example identifying code includes a timestamp and source identification data . The timestamp of the identifying code in this example was only partially readable. Accordingly the seconds value in the timestamp is unavailable. The source identification data of the identifying code in this example was unreadable.

While an example manner of implementing the identification generator the secondary media presentation device and the secondary media manager of have been illustrated in one or more of the elements processes and or devices illustrated in may be combined divided re arranged omitted eliminated and or implemented in any other way. Further the example code inserter the example code generator the example signature generator the example clock the example code extractor the example signature generator the example data packager the example secondary media presenter the example code approximator the example signature reader the example signature comparator the example secondary media selector and or more generally the example identification generator the example secondary media presentation device and or the secondary media manager of may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Thus the example code inserter the example code generator the example signature generator the example clock the example code extractor the example signature generator the example data packager the example secondary media presenter the example code approximator the example signature reader the example signature comparator the example secondary media selector and or more generally the example identification generator the example secondary media presentation device and or the secondary media manager of could be implemented by one or more circuit s programmable processor s application specific integrated circuit s ASIC s programmable logic device s PLD s and or field programmable logic device s FPLD s etc. When any of the apparatus or system claims of this patent are read to cover a purely software and or firmware implementation at least one of the example code inserter the example code generator the example signature generator the example clock the example code extractor the example signature generator the example data packager the example secondary media presenter the example code approximator the example signature reader the example signature comparator the example secondary media selector and or more generally the example identification generator the example secondary media presentation device and or the secondary media manager are hereby expressly defined to include a tangible computer readable medium such as a memory DVD CD Blu ray etc. storing the software and or firmware. Further still the example the identification generator the secondary media presentation device and the secondary media manager of have been illustrated in may include one or more elements processes and or devices in addition to or instead of those illustrated in and or may include more than one of any or all of the illustrated elements processes and devices.

Flowcharts representative of example machine readable instructions for implementing the example identification generator the example secondary media presentation device the example secondary media manager the example media monitor the example code approximator the example signature reader the example signature comparator and the example secondary media selector are shown in . In these examples the machine readable instructions comprise a program for execution by a processor such as the processor shown in the example processor platform discussed below in connection with . The program may be embodied in software stored on a tangible computer readable medium such as a CD ROM a floppy disk a hard drive a digital versatile disk DVD a Blu ray disk or a memory associated with the processor but the entire program and or parts thereof could alternatively be executed by a device other than the processor and or embodied in firmware or dedicated hardware. Further although the example programs are described with reference to the flowcharts illustrated in many other methods of implementing the example identification generator the example secondary media presentation device the example secondary media manager the example media monitor the example code approximator the example signature reader the example signature comparator and the example secondary media selector may alternatively be used. For example the order of execution of the blocks may be changed and or some of the blocks described may be changed eliminated or combined.

As mentioned above the example processes of may be implemented using coded instructions e.g. computer readable instructions stored on a tangible computer readable medium such as a hard disk drive a flash memory a read only memory ROM a compact disk CD a digital versatile disk DVD a cache a random access memory RAM and or any other storage media in which information is stored for any duration e.g. for extended time periods permanently brief instances for temporarily buffering and or for caching of the information . As used herein the term tangible computer readable medium is expressly defined to include any type of computer readable storage and to exclude propagating signals. Additionally or alternatively the example processes of may be implemented using coded instructions e.g. computer readable instructions stored on a non transitory computer readable medium such as a hard disk drive a flash memory a read only memory a compact disk a digital versatile disk a cache a random access memory and or any other storage media in which information is stored for any duration e.g. for extended time periods permanently brief instances for temporarily buffering and or for caching of the information . As used herein the term non transitory computer readable medium is expressly defined to include any type of computer readable medium and to exclude propagating signals. As used herein when the phrase at least is used as the transition term in a preamble of a claim it is open ended in the same manner as the term comprising is open ended. Thus a claim using at least as the transition term in its preamble may include elements in addition to those expressly recited in the claim.

Example machine readable instructions that may be executed to implement the identification generator of are illustrated in . With reference to the example machine readable instructions of begin execution at block at which the identification generator receives a portion of a media signal from the media provider s block . The code generator generates an identifying code for the portion of the media signal block . The code inserter inserts the identifying code into the media signal block . The signature generator generates a signature from the portion of the media signal block . The signature generator stores the signature in the LUT block . The signature generator determines if the if the portion of the media signal is the end of the media signal block . If the portion of the media signal is the end of the media signal e.g. no further media remains to be processed the identification generator sends the media signal containing codes to the media receiver block . If there is additional media to be processed control returns to block . While illustrates wherein an identifying code is inserted and a signature is generated in sequence code insertion and signature generation may be performed by separate flows e.g. at separate locations . Accordingly the instructions illustrated by may be performed in separate processes. For example blocks and may be performed at a first location e.g. at a media headend prior to media distribution and blocks and may be performed at a second location e.g. at a reference media monitoring site .

Example machine readable instructions that may be executed to implement the secondary media presentation device of are illustrated in . With reference to the example machine readable instructions of begin execution at block at which the secondary media presentation device receives a media signal that includes identifying codes block . The code extractor extracts an identifying code from the media signal that includes identifying codes block . The signature generator generates a signature from the same media signal that includes the identifying codes block . The data packager packages the extracted identifying code and the generated signature as identifying media monitoring information block . The secondary media presentation device then sends the identifying media monitoring information to the secondary media manager block . The secondary media presentation device receives media associated with the identifying data from the secondary media manager block .

Example machine readable instructions that may be executed to implement the secondary media manager of are illustrated in . With reference to the example machine readable instructions of begin execution at block at which the secondary media presentation device receives identifying media monitoring information containing an identifying code and an identifying signature block . The code approximator determines a partition of LUT using the identifying code of the identifying media monitoring information block . The signature reader receives an identifying signature from the identifying media monitoring information block . The signature comparator determines matching media monitoring information by comparing the identifying signature with reference signatures in the partition of the LUT block . The secondary media selector selects secondary media using the matching media monitoring information block . The secondary media manager sends the secondary media to the secondary media presentation device via the network block .

Example machine readable instructions that may be executed to implement machine readable instructions of block of which implements the code approximator of are illustrated in . With reference to the example machine readable instructions of begin execution at block at which the code approximator receives an identifying code from the identifying media monitoring information block . The code approximator determines an approximate identifying code from the received identifying code block . The code approximator determines a time range of timestamps based on the approximate identifying code block . The code approximator determines a partition of the LUT wherein each entry in the partition of the LUT includes a reference signature having a timestamp in the time range block . The code approximator may utilize any filtering parameters to partition the LUT such as for example all or part of the identifying code a source identifier the identified time range and or any other parameters for decreasing the search space of the LUT to determine the partition of LUT . The code approximator reports the partition of the LUT to the signature comparator block .

Example machine readable instructions that may be executed to implement the machine readable instructions of block of which implements the signature reader of are illustrated in . With reference to the example machine readable instructions of begin execution at block at which the signature reader reads an identifying signature from the identifying media monitoring information . The signature reader sends the read identifying signature to the signature comparator block .

Example machine readable instructions that may be executed to further implement the machine readable instructions of block of which implements the signature comparator of are illustrated in . With reference to the example machine readable instructions of begin execution at block at which the signature comparator receives an identifying signature from the signature reader block . The signature comparator receives the partition of the LUT from the code approximator block . The signature comparator compares the identifying signature with signatures contained in the partition of the LUT block . If no matching signature is found the signature comparator reports an error block . If a matching signature is found block the signature comparator extracts the matching identifying information from the row of the partition of the LUT associated with the matching signature block . The signature comparator sends the matching identifying information associated with the signature extracted from the LUT to the secondary media selector and the media monitor as matching media monitoring information block .

Example machine readable instructions which may be executed to implement the media monitor of are illustrated in . With reference to the example machine readable instructions of begin execution at block at which the media monitor receives the matching media monitoring information from the signature comparator block . The media monitor identifies primary media using the matching media monitoring information block . The media monitor stores matching media monitoring information in a media monitoring database block .

Example machine readable instructions which may be executed to implement the machine readable instructions of block of which implements the secondary media selector of are illustrated in . With reference to the example machine readable instructions of begin execution at block at which the secondary media selector receives the matching media monitoring information from the signature comparator block . The secondary media selector selects secondary media associated with the matching media monitoring information block . The secondary media selector acquires the selected secondary media from a secondary media database block . The secondary media selector sends the secondary media to the secondary media presentation device block .

The system of the instant example includes a processor . For example the processor can be implemented by one or more microprocessors or controllers from any desired family or manufacturer.

The processor includes a local memory e.g. a cache and is in communication with a main memory including a volatile memory and a non volatile memory via a bus . The volatile memory may be implemented by Synchronous Dynamic Random Access Memory SDRAM Dynamic Random Access Memory DRAM RAMBUS Dynamic Random Access Memory RDRAM and or any other type of random access memory device. The non volatile memory may be implemented by flash memory and or any other desired type of memory device. Access to the main memory is controlled by a memory controller.

The processor platform also includes an interface circuit . The interface circuit may be implemented by any type of interface standard such as an Ethernet interface a universal serial bus USB and or a PCI express interface.

One or more input devices are connected to the interface circuit . The input device s permit a user to enter data and commands into the processor . The input device s can be implemented by for example a keyboard a mouse a touchscreen a track pad a trackball isopoint and or a voice recognition system.

One or more output devices are also connected to the interface circuit . The output devices can be implemented for example by display devices e.g. a liquid crystal display a cathode ray tube display CRT a printer and or speakers . The interface circuit thus typically includes a graphics driver card.

The interface circuit also includes a communication device e.g. communication device such as a modem or network interface card to facilitate exchange of data with external computers via a network e.g. an Ethernet connection a digital subscriber line DSL a telephone line coaxial cable a cellular telephone system etc. .

The processor platform also includes one or more mass storage devices for storing software and data. Examples of such mass storage devices include floppy disk drives hard drive disks compact disk drives and digital versatile disk DVD drives. The mass storage device may implement the example media provider s the example LUT the example media monitoring database and or the example secondary media database .

The coded instructions of may be stored in the mass storage device in the volatile memory in the non volatile memory and or on a removable storage medium such as a CD or DVD.

Although certain example methods apparatus and articles of manufacture have been described herein the scope of coverage of this patent is not limited thereto. On the contrary this patent covers all methods apparatus and articles of manufacture fairly falling within the scope of the claims of this patent.

