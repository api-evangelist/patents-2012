---

title: Receiver, program, and reception method
abstract: A receiver includes: a broadcast contents acquisition unit configured to acquire contents from a broadcast signal; a determination unit configured to determine whether a received application is an application whose reference to the contents has been permitted; a recording unit configured to record, in a first storage area, an application whose reference to the contents has been determined to have been permitted by the determination unit, and record, in a second storage area, an application whose reference to the contents has been determined not to have been permitted by the determination unit; an execution unit configured to execute the application recorded in at least one of the first storage area and the second storage area; and a reference refusal unit configured to refuse reference to the contents acquired by the broadcast contents acquisition unit due to execution of an application other than the application recorded in the first storage area.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09191695&OS=09191695&RS=09191695
owner: NIPPON HOSO KYOKAI
number: 09191695
owner_city: Tokyo
owner_country: JP
publication_date: 20120914
---
The present invention relates to a receiver a program and a reception method which execute an application and generate display information including the application and contents included in a broadcast signal.

Priority is claimed on Japanese Patent Application No. 2011 262011 filed Nov. 30 2011 the content of which is incorporated herein by reference.

With the recent development of digital broadcasting and broadband communication realization of broadcasting communication integrated services including European HbbTV Hybrid Broadcast Broadband TV has been studied and developed. Further an enhanced television called a smart television enabling various communication services to be utilized using applications as well as having a broadcast reception function has begun to spread. Each user adds applications selected from an application list distributed via a portal site or the like to such an enhanced television enabling the user to use services other than the broadcast. Various communication services can be utilized when the added applications are executed by the enhanced television.

An API Application Programming Interface may be provided in a platform introducing applications to expand services as described above or a device constituting the platform as an interface for enabling functions of the platform or the device to be used from the applications. It is possible to simplify design and coding tasks for software for enabling the functions of the platform or the device to be handled from the application by providing such an API. Therefore it is possible to efficiently produce applications. Such a concept has also been considered in a receiver intended for broadcasting communication integration.

For example a structure which easily acquires information related to broadcasts through communication and uses the information by providing an API between a data broadcasting browser and a communication function of a receiver is disclosed in Patent Document 1.

In Patent Document 1 a risk of data or contents processed in the receiver being fraudulently used is reduced by limiting the APIs to which access is permitted as described above. For example a copyright infringing application which acquires a video using an API for reading a video received by the receiver through broadcasting copies the acquired video and distributes the video on the Internet is prevented from being produced by limiting the access to the API.

However for example in applications using HTML HyperText Markup Language there is a problem in that the broadcast contents included in the broadcast signal can be referenced without depending on the API. For example the broadcast contents can be referenced without depending on the API by setting a reference destination of a video tag of the HTML to the broadcast contents.

The present invention has been made in light of such circumstances and provides a receiver a program and a reception method which are capable of controlling access to contents included in a broadcast signal without depending on an API.

 1 To solve the above described problem a receiver of a first aspect of the present invention includes a broadcast contents acquisition unit configured to acquire contents from a broadcast signal a determination unit configured to determine whether a received application is an application whose reference to the contents has been permitted a recording unit configured to record in a first storage area an application whose reference to the contents has been determined to have been permitted by the determination unit and record in a second storage area an application whose reference to the contents has been determined not to have been permitted by the determination unit an execution unit configured to execute the application recorded in at least one of the first storage area and the second storage area and a reference refusal unit configured to refuse reference to the contents acquired by the broadcast contents acquisition unit due to execution of an application other than the application recorded in the first storage area.

 2 In the receiver according to the first aspect the recording unit may store an access file accessing the contents acquired by the broadcast contents acquisition unit in the first storage area and the reference refusal unit may be configured to refuse reference to the access file due to the execution of the application other than the application recorded in the first storage area.

 3 A program of a second aspect of the present invention for causing a computer of a receiver to function as a broadcast contents acquisition unit configured to acquire contents from a broadcast signal a determination unit configured to determine whether a received application is an application whose reference to the contents has been permitted a recording unit configured to record an application whose reference to the contents has been determined to have been permitted by the determination unit in a first storage area which stores an access file accessing the contents acquired by the broadcast contents acquisition unit and record an application whose reference to the contents has been determined not to have been permitted by the determination unit in a second storage area which does not store the access file an execution unit configured to execute the application recorded in the first storage area or the second storage area and a reference refusal unit configured to refuse reference to the access file due to execution of an application other than the application recorded in the first storage area.

 4 A reception method of a third aspect of the present invention includes acquiring contents from a broadcast signal determining whether a received application is an application whose reference to the contents has been permitted recording in a first storage area an application whose reference to the contents has been determined to have been permitted and recording in a second storage area an application whose reference to the contents has been determined not to have been permitted executing the application recorded in the first storage area or the second storage area and refusing reference to the contents due to execution of an application other than the application recorded in the first storage area.

According to the present invention the application is recorded in the first storage area when its reference to the contents has been permitted and the application is recorded in the second storage area when its reference to the contents has not been permitted. Also the reference refusal unit permits reference to the access file only for the application recorded in the first storage area. Accordingly it is possible to control the access to the contents included in the broadcast signal without depending on the API.

Hereinafter embodiments of the present invention will be described in detail with reference to the accompanying drawings.

The receiver according to this embodiment displays broadcast contents included in a broadcast signal received from a broadcast transmission device and an application received from an application server. Further the application executed by the receiver in this embodiment is an HTML HyperText Markup Language document in which an operation is described using a script such as javascript registered trademark .

The tuner unit is a processing unit which processes the broadcast signal and includes a tuning unit a broadcast contents acquisition unit a presentation control signal acquisition unit and an AIT acquisition unit .

The tuning unit selects a broadcast signal D1 of one channel from the broadcast signal transmitted by the broadcast transmission device and receives the broadcast signal D1.

The broadcast contents acquisition unit acquires broadcast contents from a stream included in the broadcast signal received by the tuning unit .

The presentation control signal acquisition unit acquires a presentation control signal from the stream included in the broadcast signal received by the tuning unit . Further in this embodiment the presentation control signal is a signal for controlling an application presentation method and is multiplexed with for example a PMT Program Map Table an EIT Event Information Table an SDT Service Description Table or the like. Further even when an EWS Early Warning Systems or an EEW Earthquake Early Warning is transmitted a value of data of an emergency warning broadcasting start up flag of TMCC Transmission and Multiplexing Configuration and Control an earthquake vibration warning information start flag of an AC Auxiliary Channel or a subtitle packet is parsed to recognize generation of an event and a value of the presentation control signal is associated with the event. Further the presentation control signal indicates a policy level indicating a step of the application presentation method.

The AIT acquisition unit acquires an AIT Application Information Table included in the broadcast signal received by the tuning unit . When an application start up instruction or an application stop instruction is included the AIT acquisition unit outputs the instruction to the resident unit .

The resident unit is a processing unit which manages the application and includes an application selection reception unit an application manager unit and a web server unit .

The application manager unit includes a determination unit a recording unit a reference refusal unit and a first storage area . The web server unit includes a second storage area .

The application selection reception unit receives a selection of the application via a remote controller through a manipulation of a user and outputs an application start up instruction or an application stop instruction to the application manager unit .

When the application manager unit receives the application start up instruction from the AIT acquisition unit or the application selection reception unit the application manager unit receives the application D2 from the application server. Also when the application is an application subjected to predetermined authentication hereinafter referred to as application A the application manager unit records the application in the first storage area of the application manager unit . On the other hand when the application is an application not subjected to predetermined authentication hereinafter referred to as application B the application manager unit records the application in the second storage area of the web server unit . Further in this embodiment application A is an application which is not a target of screen presentation control by the presentation control signal and is an application whose reference to the broadcast contents has been permitted. On the other hand application B is an application which is a target of screen presentation control by the presentation control signal and is an application whose reference to the broadcast contents has not been permitted.

Specifically the determination unit determines whether an application D2 received from the application server is an application whose reference to the contents has been permitted.

Further the recording unit records in the first storage area the application whose reference to the contents has been determined to have been permitted by the determination unit and records in the second storage area the application whose reference to the contents has been determined not to have been permitted by the determination unit . Further the recording unit stores in the first storage area an access file accessing the contents acquired by the tuning unit .

The reference refusal unit refuses reference to the contents acquired by the tuning unit due to execution of an application other than the application recorded in the first storage area . Further the reference refusal unit refuses reference to the access file due to the execution of the application other than the application recorded in the first storage area .

The application manager unit stores files root.html root.js and video files for access of broadcast contents in a root directory. Further directories No App A App and B App are provided under the root directory in the application manager unit .

root.html stored in the root directory is an HTML document in which a frame of information displayed on the display unit is defined. Specifically root.html includes only an iframe in line frame element which causes display to be performed on a full screen and causes the iframe element to reference another HTML document such that display information including the application and the broadcast contents can be generated.

Further root.js stored in the root directory is a script in which instructions executed in root.html are described. Specifically an instruction to generate a notification of the policy level corresponding to the presentation control signal output by the tuner unit to a reference destination of the iframe element in response to the presentation control signal hereinafter referred to as a listenEvent instruction and an instruction to cause the iframe element of root.html to reference an HTML document corresponding to an application to be executed hereinafter referred to as changeHTML instruction are described.

Further the file video stored in the root directory is a file for accessing the broadcast contents acquired by the tuner unit . In other words when display information is generated from the HTML document which references the file video display information causing the broadcast contents to be displayed in a part corresponding to an element referencing the file video is generated.

No App.html stored in the directory No App is an HTML document caused to be referenced by iframe of root.html when there is no application to be executed. Specifically No App.html includes only a video element. Further the video element references the file video of the root directory.

Further No App.css stored in the directory No App is a style sheet file indicating a layout of components of No App.html. Specifically No App.css defines a display position and a size to cause the video element of No App.html to be displayed on the full screen.

The application manager unit stores in the directory A App a file F1 of application A received from the application server. The file F1 of application A includes an HTML document a script caused to be referenced by the HTML document a style sheet file indicating a layout of components of the HTML document and the like. Further a video element referencing the file video of the root directory and other elements constituting the application are included in the HTML document of application A.

The application manager unit stores B App.html B App.js and a plurality of style sheet files B App001.css B App002.css etc. in the directory B App.

B App.html stored in the directory B App is an HTML document in which a frame in which application B and the broadcast contents are displayed when application B is executed is defined. Specifically B App.html includes an iframe element which references application B and a video element which references the file video of the root directory. Further B App.html is referenced by the iframe element of root.html when the application to be executed is application B.

Further B App.js stored in the directory B App is a script in which instructions executed in the B App.html are described. Specifically an instruction to switch a style sheet file to be referenced hereinafter referred to as a changeCSS instruction according to a policy level of which root.html has notified and a changeHTML instruction to cause the iframe element of B App.html to reference the HTML document of the application B to be executed are described.

Further a style sheet file layout information stored in the directory B App is a style sheet file indicating a layout of components of B App.html. Specifically each style sheet file defines display positions and sizes of the iframe element and the video element of B App.html.

Further a numerical part of a name of each style sheet file is a value indicating the policy level. Specifically B App001.css is a style sheet file corresponding to the policy level 001. Similarly B App002.css is a style sheet file corresponding to the policy level 002. In other words the application manager unit stores the style sheet files in association with the policy levels.

The web server unit stores a file F2 of application B received by the application manager unit . The file F2 of application B may include an HTML document a script caused to be referenced by the HTML document a style sheet file indicating a layout of components of the HTML document and the like.

Further the application manager unit prohibits access to a local file through HTTP HyperText Transfer Protocol . Therefore application B can be prevented from fraudulently referencing the broadcast contents due to execution of application B in the browser unit . On the other hand the application manager unit permits the access to the local file through the File protocol which is protocol for access to the local file. Therefore the reference to the broadcast contents due to execution of application A in the browser unit is not disturbed.

Further the request by HTTP is for example http localhost html of application B. On the other hand the request by the File protocol is for example file root directory A App A App.html. 

The browser unit is a processing unit that executes the application to generate display information and includes an HTML parser unit a script execution unit and a display information generation unit execution unit .

The HTML parser unit parses root.html stored in the application manager unit . Further when the parsed HTML document references the HTML document stored in the application manager unit or the web server unit the HTML parser unit also parses the HTML document.

The script execution unit executes a script referenced by the HTML document parsed by the HTML parser unit .

The display information generation unit generates the display information to be displayed on the display unit according to a parsing result of the HTML document from the HTML parser unit a style sheet file referenced by the HTML document and an execution result of the script execution unit .

The display unit is implemented by a display such as an LCD Liquid Crystal Display and displays the display information generated by the display information generation unit .

When a power supply of the receiver is turned ON the HTML parser unit reads root.html stored in the root directory from the application manager unit and parses root.html step S . Then when the HTML parser unit identifies that root.js is referenced within root.html through parsing of root.html the HTML parser unit reads root.js stored in the root directory from the application manager unit and outputs root.js to the script execution unit .

Then the script execution unit executes a changeHTML instruction to cause the iframe element of root.html to reference an HTML document corresponding to the application to be executed according to root.js. Further since there is no application to be executed at a time point at which the power supply is turned on the script execution unit causes the iframe element of root.html to reference No App.html. Accordingly the HTML parser unit reads No App.html stored in the directory No App from the application manager unit and arranges No App.html in the iframe element of root.html step S .

Then the HTML parser unit parses No App.html. In this case since the video element referencing the file video is included in No App.html the HTML parser unit outputs a request of the file video to the resident unit . The application manager unit of the resident unit references protocol of the request. Since the protocol of the request is File protocol the application manager unit permits the reference to the file video. Also the display information generation unit generates display information based on the information parsed by the HTML parser unit . In this case since the reference to the file video is permitted the display information generation unit generates display information causing the broadcast contents acquired from the broadcast contents acquisition unit to be displayed in a part corresponding to the video element of No App.html.

Also the display unit displays the display information generated by the display information generation unit .

Here the receiver determines whether an instruction to turn OFF the power supply from a remote controller has been received step S . When the receiver receives the instruction to turn OFF a power supply step S YES the receiver ends the process and turns OFF the power supply.

On the other hand when the instruction to turn OFF a power supply has not been received step S NO the application manager unit determines whether the application start up instruction has been received from the AIT acquisition unit or the application selection reception unit step S . When the application manager unit has determined that the application start up instruction has not been received step S NO the application manager unit repeatedly executes the determination of steps S and S. In other words only the broadcast contents are displayed on the display unit until the application start up instruction is received.

On the other hand when the application manager unit has determined that the application start up instruction has been received step S YES the application manager unit determines whether the application is application A or application B step S .

When the application manager unit has determined that a type of application is application A step S A the application manager unit receives the selected application from the application server and records the HTML document in which the application is described in the directory A App of the application manager unit step S . Then the script execution unit detects an event indicating that the application manager unit has recorded application A and executes a changeHTML instruction to cause the iframe element of root.html to reference application A recorded by the application manager unit according to root.js. Accordingly the HTML parser unit reads the HTML document in which the application is described which has been stored in the directory A App from the application manager unit and arranges the HTML document in the iframe element of root.html step S . Also the display information generation unit generates display information based on the information parsed by the HTML parser unit .

Then the HTML parser unit parses A App.html. In this case since the video element referencing the file video is included in A App.html the HTML parser unit outputs a request of the file video to the resident unit . The application manager unit of the resident unit references protocol of the request. Since the protocol of the request is File protocol the application manager unit permits the reference to the file video. Also the display information generation unit generates display information based on the information parsed by the HTML parser unit . In this case since the reference to the file video has been permitted the display information generation unit generates display information causing the broadcast contents acquired from the broadcast contents acquisition unit to be displayed in a part corresponding to the video element of A App.html.

Also the display unit displays the display information generated by the display information generation unit .

Here the receiver determines whether the instruction to turn OFF a power supply from a remote controller or the like has been received step S . When the receiver has received the instruction to turn OFF a power supply step S YES the receiver ends the process and turns OFF the power supply.

On the other hand when the instruction to turn OFF a power supply has not been received step S NO the application manager unit determines whether the application stop instruction has been received from the AIT acquisition unit or the application selection reception unit step S . When the application manager unit has determined that the application stop instruction has not been received step S NO the application manager unit repeatedly executes the determination of steps S and S. In other words application A including the broadcast contents is displayed on the display unit until the application start up instruction is received.

On the other hand when the application manager unit has determined that the application stop instruction has been received step S YES the script execution unit executes a changeHTML instruction causing the iframe element of root.html to reference No App.html and returns to step S.

When the application manager unit has determined that a type of application is application B in step S step S B the application manager unit receives the selected application from the application server and records in the web server unit an HTML document in which the application is described step S . Then the script execution unit detects an event indicating that the application manager unit has recorded application B and executes a changeHTML instruction to cause the iframe element of root.html to reference B App.html according to root.js. Accordingly the HTML parser unit reads B App.html stored in the directory B App from the application manager unit and arranges B App.html in the iframe element of root.html step S .

Then the HTML parser unit parses B App.html. In this case since the video element referencing the file video is included in B App.html the HTML parser unit outputs a request for the file video to the resident unit . The application manager unit of the resident unit references protocol of the request. Since the protocol of the request indicates File protocol the application manager unit permits the reference to the file video.

Then when the HTML parser unit identifies that B App.js is referenced within B App.html through parsing of B App.html the HTML parser unit reads B App.js stored in the directory B App from the application manager unit and outputs B App.js to the script execution unit .

Then the script execution unit executes a changeHTML instruction causing the iframe element of B App.html to reference the HTML document in which the application recorded in the web server unit in step S is described according to B App.js. Accordingly the HTML parser unit reads the HTML document in which the selected application is described from the web server unit and arranges the HTML document in the iframe element of B App.html step S .

Then the HTML parser unit parses the HTML document arranged in the iframe element of B App.html. When the video element referencing the file video is included in the HTML document the HTML parser unit outputs a request of the file video to the resident unit . The application manager unit of the resident unit references the protocol of the request. Since the protocol of the request is HTTP the application manager unit refuses the reference to the file video.

Then the script execution unit acquires the presentation control signal from the presentation control signal acquisition unit step S . Further the presentation control signal acquisition unit for example may acquire a plurality of presentation control signals such as presentation control signals from EIT and EEW at the same time. Then the script execution unit identifies the policy level indicated by the presentation control signal through execution of a listenEvent instruction described in root.js step S . In this case when the presentation control signal acquisition unit acquires the plurality of presentation control signals the presentation control signal acquisition unit identifies the policy levels according to a priority shown below. Further the priority is assumed to be for example SDT EIT PMT and EEW EWS sequentially in ascending order. Accordingly the script execution unit may identify the policy level indicated by the presentation control signal having a highest urgency as the policy level used for presentation control.

Then the script execution unit notifies B App.html referenced by the iframe element of root.html of the identified policy level. Accordingly the script execution unit executes a changeCSS instruction identifying a style sheet file corresponding to the policy level according to B App.js referenced by B App.html and the HTML parser unit reads the style sheet file from the application manager unit . In other words when the policy level identified in step S is 001 the HTML parser unit reads B App001.css stored in the directory B App from the application manager unit . Accordingly the HTML parser unit switches the style sheet file applied to B App.html to the style sheet file according to the policy level step S .

Also the display information generation unit generates display information based on the information parsed by the HTML parser unit and the style sheet file read by the HTML parser unit .

The display information generation unit generates display information causing the broadcast contents acquired from the broadcast contents acquisition unit to be displayed in a part corresponding to the video element of B App.html whose reference to the file video has been permitted. On the other hand since the reference to the file video has been refused for the HTML document referenced by the iframe element of B App.html the broadcast contents are not displayed in the part corresponding to the video element.

Also the display unit displays the display information generated by the display information generation unit .

Here the receiver determines whether an instruction to turn OFF a power supply from a remote controller or the like has been received step S . When the receiver has received the instruction to turn OFF a power supply step S YES the receiver ends the process and turns OFF the power supply.

On the other hand when the receiver has not received the instruction to turn OFF a power supply step S NO the application manager unit determines whether an application stop instruction has been received from the AIT acquisition unit or the application selection reception unit step S . When the application manager unit has determined that the application stop instruction has not been received step S NO the application manager unit returns to step S. In other words the broadcast contents and application B are displayed on the display unit until an application start up instruction is received and the layout changes according to the policy level indicated by the presentation control signal.

On the other hand when the application manager unit has determined that the application stop instruction has been received step S YES the script execution unit executes a changeHTML instruction to cause the iframe element of root.html to reference No App.html and returns to step S.

Then the above described operation is repeatedly executed until the power supply of the receiver is turned OFF.

Thus according to this embodiment the application manager unit records in the application manager unit the application whose reference to the contents has been determined to have been permitted. On the other hand the application manager unit records in the web server unit an application whose reference to the contents has been determined not to have been permitted. Also the application manager unit refuses the reference to the broadcast contents due to execution of an application other than the application recorded in the application manager unit .

Specifically the application manager unit stores the file video accessing the contents acquired by the broadcast contents acquisition unit and refuses the reference to the file video due to the execution of the application other than the application recorded in the application manager unit .

Accordingly it is possible to control the access to the contents included in the broadcast signal without depending on the API.

While one embodiment of the present invention has been described in detail with reference to the drawings a concrete configuration is not limited to the foregoing and various design changes may be performed without departing from the gist of the present invention.

For example while the case in which No App.html including only the video element is displayed when the application is not executed has been described in this embodiment the present invention is not limited thereto. For example when the application does not start up and when the application manager unit has received the application stop instruction the display unit may directly display the contents acquired by the broadcast contents acquisition unit on the display unit .

Further while the case in which the presentation control signal is monitored only at the time of execution of application B has been described in this embodiment the present invention is not limited thereto. For example each application A references a script which switches a style sheet file such that the layout can be switched as in the execution of application B.

Further while the case in which the style sheet file is used as layout information has been described in this embodiment the present invention is not limited thereto and for example an HTML document may be used as the layout information. In this case the application manager unit stores a plurality of HTML documents which define a layout corresponding to the policy level and the script execution unit switches an HTML document loaded to the HTML parser unit according to the policy level.

Further the style sheet file and the HTML document may both be used as the layout information. For example only the style sheet file may be switched in the case of the policy level 001 and both the style sheet file and the HTML document may be switched in the case of the policy level 002.

Further while the case in which the application manager unit determines whether the file video can be referenced based on whether the protocol is HTTP or File protocol has been described in this embodiment the present invention is not limited thereto. For example the application manager unit may determine whether the file video can be referenced based on the referrer of the request.

For example in another embodiment at least the file video among the files stored in the application manager unit is set to be able to be referenced from only the file under the root directory of the application manager unit . For example this can be realized by performing setting to permit the access to the file video for the application manager unit only when the referrer of the HTTP access indicates the file of the application manager unit . With this setting the application manager unit refuses the reference to the file video due to execution of an application other than the application stored in the application manager unit as in the embodiment described above. Accordingly it is possible to prevent the broadcast contents from being fraudulently referenced by application B.

Further the present invention is not limited to the file video and the setting may be performed to refuse the reference to all files stored in the application manager unit by a file other than the files stored in the application manager unit . Accordingly it is possible to prevent application A from being fraudulently referenced by application B in addition to prevention of fraudulent reference to the broadcast contents by application B.

Further while the case in which application A and the file video are recorded in the application manager unit and application B is recorded in the web server unit has been described in the other embodiment the present invention is not limited thereto. For example application A and the file video may be recorded in a first directory a first storage area under the root directory of the web server unit and application B may be recorded in a second directory a second storage area under the root directory of the web server unit . In this case at least reference to the file video from the file under the second directory of the web server unit is set to be refused.

The above described receiver includes a computer system provided therein. Also the above process is performed by the operation of each processing unit described above being stored in a computer readable recording medium in the form of a program and this program being read and executed by the computer system. Here the computer readable recording medium refers to a magnetic disk a magnetic optical disc a CD ROM a DVD ROM a semiconductor memory or the like. Further this computer program may be distributed to a computer using a communication line and the computer receiving the distribution may execute the program.

Further the program may be a program capable of realizing the above described functions in combination with a program previously stored in the computer system i.e. a so called differential file a differential program .

The present invention is applicable to a receiver a program and a reception method which control the access to the contents included in the broadcast signal without depending on the API.

