---

title: Systems for messaging senders and recipients of an electronic message
abstract: Systems and techniques for transferring electronic data between users of a communications system include a host system structured and arranged to receive and deliver messages of various types between users of the communications system. The host system includes an instant messaging network; a mail gateway; and a configuring network in communication with both the instant messaging network and the mail gateway. The instant messaging network enables instant messaging communication between users of the communications system and has the capability to monitor whether a certain user is capable of receiving an instant message at a particular moment. The mail gateway receives and delivers e-mail messages to users of the communications system. The configuring network is dedicated to automatically configuring instant messaging communication between an intended recipient of an e-mail message and the sender of the e-mail message.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09100221&OS=09100221&RS=09100221
owner: FACEBOOK, INC.
number: 09100221
owner_city: Menlo Park
owner_country: US
publication_date: 20120914
---
This application is a continuation of U.S. application Ser. No. 11 150 180 filed on Jun. 13 2005 and now issued as U.S. Pat. No. 8 474 628 which is a continuation of U.S. application Ser. No. 09 848 232 filed on May 4 2001 and now issued as U.S. Pat. No. 6 912 564 which claims the benefit of U.S. Provisional Application Nos. 60 229 331 filed on Sep. 1 2000 and 60 201 738 filed on May 4 2000 each of which are now expired. Each of the aforementioned applications and patents are hereby incorporated by reference in their entirety.

The present invention relates generally to a communications system and more particularly to a system for instant messaging the sender and recipients of an e mail message.

Online service providers constantly are offering new services and upgrading existing services to enhance their subscribers online experience. Subscribers have on demand access to news weather financial sports and entertainment services as well as the ability to transmit electronic messages and to participate in online discussion groups. For example subscribers of online service providers such as America Online or CompuServe may view and retrieve information on a wide variety of topics from servers located throughout the world. A server may be maintained by the service provider or by a third party provider who makes information and services available through the worldwide network of computers that make up the online service.

America Online has provided subscribers with the ability to send and receive instant messages. Instant messages are private online conversations between two or more people who have subscribed to the instant messaging service and have installed the necessary software. Because such online conversations take place virtually in real time instant messaging can provide immediate access to desired information. Instant messaging is becoming a preferred means of communicating among online subscribers.

In one general aspect transferring electronic data between users of a communications system includes using a host system structured and arranged to receive and deliver messages of various types between users of the communications system. The host system includes an instant messaging network a mail gateway and a configuring network in communication with both the instant messaging network and the mail gateway. The instant messaging network enables instant messaging communication between users of the communications system and is capable of monitoring whether a certain user is capable of receiving an instant message at a particular moment. The mail gateway receives and delivers e mail messages to users of the communications system. The configuring network is dedicated to automatically configuring instant messaging communication between an intended recipient of an e mail message and the sender of the e mail message.

Implementations may include one or more of the following features. For example the configuring network may send a redirection command to the recipient based on the capability of the sender to receive an instant message and or may send a redirection command to the recipient based on the capability of another recipient of the e mail message to receive an instant message. The redirection command may include a uniform resource locator.

The configuring network also may establish a persistent connection to the instant messaging network check a control port to confirm whether the sender is capable of receiving an instant message determine whether an e mail address is associated with a recognized domain and or strip recognized domains from e mail addresses.

The configuring network may have a look up server for associating e mail addresses with instant messaging screen names and or a cache. The configuring network may detect whether information associated with an e mail message is stored in the cache.

The mail gateway may include a send mail server for delivering electronic data to users a read mail server for accessing electronic data and or a processing server for processing electronic data. The mail gateway may be web based online service provider based and or instant messaging host based. The instant messaging network may be web based and or online service provider based.

These and other aspects may be implemented by an apparatus and or a computer program stored on a computer readable medium. The computer readable medium may be a disc a client device a host device and or a propagated signal.

For illustrative purposes shows an example of a communications system for implementing techniques for transferring electronic data. For brevity several elements in the figures described below are represented as monolithic entities. However as would be understood by one skilled in the art these elements each may include numerous interconnected computers and components designed to perform a set of specified operations and or may be dedicated to a particular geographical region.

Referring to a communications system is capable of delivering and exchanging data between a client system and a host system through a communications link . The client system typically includes one or more client devices and or client controllers and the host system typically includes one or more host devices and or host controllers . For example the client system or the host system may include one or more general purpose computers e.g. personal computers one or more special purpose computers e.g. devices specifically programmed to communicate with each other and or the client system or the host system or a combination of one or more general purpose computers and one or more special purpose computers. The client system and the host system may be arranged to operate within or in concert with one or more other systems such as for example one or more LANs Local Area Networks and or one or more WANs Wide Area Networks .

The client device or the host device is generally capable of executing instructions under the command of a client controller or a host controller . The client device or the host device is connected to the client controller or the host controller by a wired or wireless data pathway or capable of delivering data.

The client device the client controller the host device and the host controller each typically include one or more hardware components and or software components. An example of a client device or a host device is a general purpose computer e.g. a personal computer capable of responding to and executing instructions in a defined manner. Other examples include a special purpose computer a workstation a server a device a component other physical or virtual equipment or some combination thereof capable of responding to and executing instructions. The client device and the host device may include devices that are capable of peer to peer communications.

An example of client controller or a host controller is a software application loaded on the client device or the host device for commanding and directing communications enabled by the client device or the host device . Other examples include a program a piece of code an instruction a device a computer a computer system or a combination thereof for independently or collectively instructing the client device or the host device to interact and operate as described. The client controller and the host controller may be embodied permanently or temporarily in any type of machine component physical or virtual equipment storage medium or propagated signal capable of providing instructions to the client device or the host device .

The communications link typically includes a delivery network making a direct or indirect communication between the client system and the host system irrespective of physical separation. Examples of a delivery network include the Internet the World Wide Web WANs LANs analog or digital wired and wireless telephone networks e.g. PSTN ISDN and xDSL radio television cable satellite and or any other delivery mechanism for carrying data. The communications link may include communication pathways that enable communications through the one or more delivery networks described above. Each of the communication pathways may include for example a wired wireless cable or satellite communication pathway.

Examples of each element within the communications system of are broadly described above with respect to . In particular the host system and communications link typically have attributes comparable to those described with respect to host system and communications link of . Likewise the client system of typically has attributes comparable to and illustrates one possible implementation of the client system of .

The client device typically includes a general purpose computer having an internal or external storage for storing data and programs such as an operating system e.g. DOS Windows Windows 95 Windows 98 Windows 2000 Windows Me Windows XP Windows NT OS 2 or Linux and one or more application programs. Examples of application programs include authoring applications e.g. word processing database programs spreadsheet programs or graphics programs capable of generating documents or other electronic content client applications e.g. AOL client CompuServe client AIM client AOL TV client or ISP client capable of communicating with other computer users accessing various computer resources and viewing creating or otherwise manipulating electronic content and browser applications e.g. Netscape s Navigator or Microsoft s Internet Explorer capable of rendering standard Internet content.

The general purpose computer also includes a central processing unit CPU for executing instructions in response to commands from the client controller . In one implementation the client controller includes one or more of the application programs installed on the internal or external storage of the general purpose computer . In another implementation the client controller includes application programs externally stored in and performed by one or more device s external to the general purpose computer .

The general purpose computer typically will include a communication device for sending and receiving data. One example of the communication device is a modem. Other examples include a transceiver a set top box a communication card a satellite dish an antenna or another network adapter capable of transmitting and receiving data over the communications link through a wired or wireless data pathway . The general purpose computer also may include a TV television tuner for receiving television programming in the form of broadcast satellite and or cable TV signals. As a result the client device can selectively and or simultaneously display network content received by communications device and television programming content received by the TV tuner .

The general purpose computer typically will include an input output interface for wired or wireless connection to various peripheral devices . Examples of peripheral devices include but are not limited to a mouse a mobile phone a personal digital assistant PDA an MP3 player not shown a keyboard a display monitor with or without a touch screen input a TV remote control for receiving information from and rendering information to subscribers and an audiovisual input device .

Although illustrates devices such as a mobile telephone a PDA an MP3 player not shown and a TV remote control as being peripheral with respect to the general purpose computer in another implementation such devices may themselves include the functionality of the general purpose computer and operate as the client device . For example the mobile phone or the PDA may include computing and networking capabilities and function as a client device by accessing the delivery network and communicating with the host system . Furthermore the client system may include one some or all of the components and devices described above.

Referring to a communications system is capable of delivering and exchanging information between a client system and a host system through a communication link . Client system typically includes one or more client devices and one or more client controllers for controlling the client devices . Host system typically includes one or more host devices and one or more host controllers for controlling the host devices . The communications link may include communication pathways enabling communications through the one or more delivery networks .

Examples of each element within the communications system of are broadly described above with respect to . In particular the client system and the communications link typically have attributes comparable to those described with respect to client systems and and communications links and of . Likewise the host system of may have attributes comparable to and illustrates one possible implementation of the host systems and shown in .

The host system includes a host device and a host controller . The host controller is generally capable of transmitting instructions to any or all of the elements of the host device . For example in one implementation the host controller includes one or more software applications loaded on the host device . In other implementations as described above the host controller may include any of several other programs machines and devices operating independently or collectively to control the host device .

The host device includes a login server for enabling access by subscribers and for routing communications between the client system and other elements of the host device . The host device also includes various host complexes such as the depicted OSP Online Service Provider host complex and IM Instant Messaging host complex . To enable access to these host complexes by subscribers the client system includes communication software for example an OSP client application and an IM client application. The OSP and IM communication software applications are designed to facilitate the subscriber s interactions with the respective services and in particular may provide access to all the services available within the respective host complexes.

Typically the OSP host complex supports different services such as email discussion groups chat news services and Internet access. The OSP host complex is generally designed with an architecture that enables the machines within the OSP host complex to communicate with each other and employs certain protocols i.e. standards formats conventions rules and structures to transfer data. The OSP host complex ordinarily employs one or more OSP protocols and custom dialing engines to enable access by selected client applications. The OSP host complex may define one or more specific protocols for each service based on a common underlying proprietary protocol.

The IM host complex is generally independent of the OSP host complex and supports instant messaging services irrespective of a subscriber s network or Internet access. Thus the IM host complex allows subscribers to send and receive instant messages whether or not they have access to any particular ISP. The IM host complex may support associated services such as administrative matters advertising directory services chat and interest groups related to the instant messaging. The IM host complex has an architecture that enables all of the machines within the IM host complex to communicate with each other. To transfer data the IM host complex employs one or more standard or exclusive IM protocols.

The host device may include one or more gateways that connect and therefore link complexes such as the OSP host complex gateway and the IM host complex gateway . The OSP host complex gateway and the IM host complex gateway may directly or indirectly link the OSP host complex with the IM host complex through a wired or wireless pathway. Ordinarily when used to facilitate a link between complexes the OSP host complex gateway and the IM host complex gateway are privy to information regarding the protocol type anticipated by a destination complex which enables any necessary protocol conversion to be performed incident to the transfer of data from one complex to another. For instance the OSP host complex and IM host complex generally use different protocols such that transferring data between the complexes requires protocol conversion by or at the request of the OSP host complex gateway and or the IM host complex gateway .

Referring to a communications system is capable of delivering and exchanging information between a client system and a host system through a communication link . Client system typically includes one or more client devices and one or more client controllers for controlling the client devices . Host system typically includes one or more host devices and one or more host controllers for controlling the host devices . The communications link may include communication pathways enabling communications through the one or more delivery networks . As shown the client system may access the Internet through the host system .

Examples of each element within the communications system of are broadly described above with respect to . In particular the client system and the communications link typically have attributes comparable to those described with respect to client systems and and communications links and of . Likewise the host system of may have attributes comparable to and illustrates one possible implementation of the host systems and shown in FIGS. . describes an aspect of the host system focusing primarily on one particular implementation of OSP host complex .

The client system includes a client device and a client controller . The client controller is generally capable of establishing a connection to the host system including the OSP host complex the IM host complex and or the Internet . In one implementation the client controller includes an OSP application for communicating with servers in the OSP host complex using exclusive OSP protocols. The client controller also may include applications such as an IM client application and or an Internet browser application for communicating with the IM host complex and the Internet .

The host system includes a host device and a host controller . The host controller is generally capable of transmitting instructions to any or all of the elements of the host device . For example in one implementation the host controller includes one or more software applications loaded on one or more elements of the host device . In other implementations as described above the host controller may include any of several other programs machines and devices operating independently or collectively to control the host device .

The host system includes a login server capable of enabling communications with and authorizing access by client systems to various elements of the host system including an OSP host complex and an IM host complex . The login server may implement one or more authorization procedures to enable simultaneous access to the OSP host complex and the IM host complex . The OSP host complex and the IM host complex are connected through one or more OSP host complex gateways and one or more IM host complex gateways . Each OSP host complex gateway and IM host complex gateway may perform any protocol conversions necessary to enable communications between the OSP host complex the IM host complex and the Internet .

The OSP host complex supports a set of services from one or more servers located internal to and external from the OSP host complex . Servers external to the OSP host complex generally may be viewed as existing on the Internet . Servers internal to the OSP complex may be arranged in one or more configurations. For example servers may be arranged in centralized or localized clusters in order to distribute servers and subscribers within the OSP host complex .

In one implementation of the OSP host complex includes a routing processor . In general the routing processor will examine an address field of a data request use a mapping table to determine the appropriate destination for the data request and direct the data request to the appropriate destination. In a packet based implementation the client system may generate information requests convert the requests into data packets sequence the data packets perform error checking and other packet switching techniques and transmit the data packets to the routing processor . Upon receiving data packets from the client system the routing processor may directly or indirectly route the data packets to a specified destination within or outside of the OSP host complex . For example in the event that a data request from the client system can be satisfied locally the routing processor may direct the data request to a local server . In the event that the data request cannot be satisfied locally the routing processor may direct the data request externally to the Internet or the IM host complex through the gateway .

The OSP host complex also includes a proxy server for directing data requests and or otherwise facilitating communication between the client system and the Internet . The proxy server may include an IP Internet Protocol tunnel for converting data from OSP protocol into standard Internet protocol and transmitting the data to the Internet . The IP tunnel also converts data received from the Internet in the standard Internet protocol back into the OSP protocol and sends the converted data to the routing processor for delivery back to the client system .

The proxy server also may allow the client system to use standard Internet protocols and formatting to access the OSP host complex and the Internet . For example the subscriber may use an OSP TV client application having an embedded browser application installed on the client system to generate a request in standard Internet protocol such as HTTP HyperText Transport Protocol . In a packet based implementation data packets may be encapsulated inside a standard Internet tunneling protocol such as for example UDP User Datagram Protocol and routed to the proxy server . The proxy server may include an L2TP Layer Two Tunneling Protocol tunnel capable of establishing a point to point protocol PPP session with the client system .

The proxy server also may act as a buffer between the client system and the Internet and may implement content filtering and time saving techniques. For example the proxy server can check parental controls settings of the client system and request and transmit content from the Internet according to the parental control settings. In addition the proxy server may include one or more caches for storing frequently accessed information. If requested data is determined to be stored in the caches the proxy server may send the information to the client system from the caches and avoid the need to access the Internet .

Referring to a communications system is capable of delivering and exchanging information between a client system and a host system through a communication link . Client system typically includes one or more client devices and one or more client controllers for controlling the client devices . Host system typically includes one or more host devices and one or more host controllers for controlling the host devices . The communications link may include communication pathways enabling communications through the one or more delivery networks . As shown the client system may access the Internet through the host system .

Examples of each element within the communications system of are broadly described above with respect to . In particular the client system and the communications link typically have attributes comparable to those described with respect to client systems and and communications links and of . Likewise the host system of may have attributes comparable to and illustrates one possible implementation of the host systems and shown in . describes an aspect of the host system focusing primarily on one particular implementation of IM host complex .

The client system includes a client device and a client controller . The client controller is generally capable of establishing a connection to the host system including the OSP host complex the IM host complex and or the Internet . In one implementation the client controller includes an IM application for communicating with servers in the IM host complex utilizing exclusive IM protocols. The client controller also may include applications such as an OSP client application and or an Internet browser application for communicating with the OSP host complex and the Internet respectively. The host system includes a host device and a host controller . The host controller is generally capable of transmitting instructions to any or all of the elements of the host device . For example in one implementation the host controller includes one or more software applications loaded on one or more elements of the host device . However in other implementations as described above the host controller may include any of several other programs machines and devices operating independently or collectively to control the host device .

The host system includes a login server capable of enabling communications with and authorizing access by client systems to various elements of the host system including an OSP host complex and an IM host complex . The login server may implement one or more authorization procedures to enable simultaneous access to the OSP host complex and the IM host complex . The OSP host complex and the IM host complex are connected through one or more OSP host complex gateways and one or more IM host complex gateways . Each OSP host complex gateway and IM host complex gateway may perform any protocol conversions necessary to enable communication between the OSP host complex the IM host complex and the Internet .

To access the IM host complex to begin an instant messaging session the client system establishes a connection to the login server . The login server typically determines whether the particular subscriber is authorized to access the IM host complex by verifying a subscriber identification and password. If the subscriber is authorized to access the IM host complex the login server employs a hashing technique on the subscriber s screen name to identify a particular IM server for use during the subscriber s session. The login server provides the client system with the IF address of the particular IM server gives the client system an encrypted key i.e. a cookie and breaks the connection. The client system then uses the IP address to establish a connection to the particular IM server through the communications link and obtains access to that IM server using the encrypted key. Typically the client system will be equipped with a Winsock API Application Programming Interface that enables the client system to establish an open TCP connection to the IM server .

Once a connection to the IM server has been established the client system may directly or indirectly transmit data to and access content from the IM server and one or more associated domain servers . The IM server supports the fundamental instant messaging services and the domain servers may support associated services such as for example administrative matters directory services chat and interest groups. In general the purpose of the domain servers is to lighten the load placed on the IM server by assuming responsibility for some of the services within the IM host complex . By accessing the IM server and or the domain server a subscriber can use the IM client application to view whether particular subscribers buddies are online exchange instant messages with particular subscribers participate in group chat rooms trade files such as pictures invitations or documents find other subscribers with similar interests get customized news and stock quotes and search the World Wide Web.

In the implementation of the IM server is directly or indirectly connected to a routing gateway . The routing gateway facilitates the connection between the IM server and one or more alert multiplexors for example by serving as a link minimization tool or hub to connect several IM servers to several alert multiplexors . In general an alert multiplexor maintains a record of alerts and subscribers registered to receive the alerts.

Once the client system is connected to the alert multiplexor a subscriber can register for and or receive one or more types of alerts. The connection pathway between the client system and the alert multiplexor is determined by employing another hashing technique at the IM server to identify the particular alert multiplexor to be used for the subscriber s session. Once the particular multiplexor has been identified the IM server provides the client system with the IP address of the particular alert multiplexor and gives the client system an encrypted key i.e. a cookie . The client system then uses the IP address to connect to the particular alert multiplexor through the communication link and obtains access to the alert multiplexor using the encrypted key.

The alert multiplexor is connected to an alert gate that like the IM host complex gateway is capable of performing the necessary protocol conversions to form a bridge to the OSP host complex . The alert gate is the interface between the IM host complex and the physical servers such as servers in the OSP host complex where state changes are occurring. In general the information regarding state changes will be gathered and used by the IM host complex . However the alert multiplexor also may communicate with the OSP host complex through the IM host complex gateway for example to provide the servers and subscribers of the OSP host complex with certain information gathered from the alert gate .

The alert gate can detect an alert feed corresponding to a particular type of alert. The alert gate may include a piece of code alert receive code capable of interacting with another piece of code alert broadcast code on the physical server where a state change occurs. In general the alert receive code installed on the alert gate instructs the alert broadcast code installed on the physical server to send an alert feed to the alert gate upon the occurrence of a particular state change. Upon detecting an alert feed the alert gate contacts the alert multiplexor which in turn informs the client system of the detected alert feed.

In the implementation of the IM host complex also includes a subscriber profile server connected to a database for storing large amounts of subscriber profile data. The subscriber profile server may be used to enter retrieve edit manipulate or otherwise process subscriber profile data. In one implementation a subscriber s profile data includes for example the subscriber s buddy list alert preferences designated stocks identified interests and geographic location. The subscriber may enter edit and or delete profile data using an installed IM client application on the client system to interact with the subscriber profile server .

Because the subscriber s data is stored in the IM host complex the subscriber does not have to reenter or update such information in the event that the subscriber accesses the IM host complex using a new or a different client system . Accordingly when a subscriber accesses the IM host complex the IM server can instruct the subscriber profile server to retrieve the subscriber s profile data from the database and to provide for example the subscriber s buddy list to the IM server and the subscriber s alert preferences to the alert multiplexor . The subscriber profile server also may communicate with other servers in the OSP host complex to share subscriber profile data with other services. Alternatively user profile data may be saved locally on the client device .

Referring to a communications system is capable of delivering and exchanging information between a client system and a host system through a communication link . Client system typically includes one or more client devices and one or more client controllers for controlling the client devices . Host system typically includes one or more host devices and one or more host controllers for controlling the host devices . The communication link may include communication pathways enabling communications through the one or more delivery networks . The network may be any known or described delivery network including but not limited to a telephone network and or the Internet.

Examples of each element within the communication system of are broadly described above with respect to . In particular the client system and the communications link typically have attributes comparable to those described with respect to client systems and and communications links and of . Likewise the host system of may have attributes comparable to the host systems and shown in and may illustrate one possible implementation of those systems. However describes an aspect of the host system focusing primarily on one particular implementation of the host device .

The client system includes a client device and a client controller . The client controller is capable of establishing a connection to the host system through the delivery network . In one implementation the client controller includes one or more applications such as an IM application an OSP application and or an Internet browser application.

The host system includes a host device and a host controller . The host controller is capable of transmitting instructions to any or all of the elements of the host device . For example in one implementation the host controller includes one or more software applications loaded on one or more elements of the host device . However in other implementations as described above the host controller may include any of several other programs machines and devices operating independently or collectively to control the host device .

The host device includes a mail gateway having a send mail server and a read mail server . The send mail server is configured to perform functions relating to transmitting electronic data. The read mail server is configured to perform functions relating to receiving and accessing electronic data. The mail gateway is in communication with one or more processing servers .

The mail gateway also is in communication with the storage area and a tandem database . The storage area includes electronic content databases and attachment database . The tandem database includes a system of folders that store electronic data for subscribers of the host system .

The host device also includes an IM host complex . The IM host complex server typically has attributes comparable to some or all elements of IM host complexes and . The IM host complex includes an e buddy server in communication with the client system the read mail server a look up server and an IM server . The IM server is capable of supporting instant messaging services the look up server is capable of finding subscriber account information e.g. screen name from a given e mail address and the e buddy server is is capable of configuring IM communication between the intended recipient of an e mail message and the sender and or other recipients of the e mail message.

Referring to a sender and a host interact according to a procedure to transmit electronic data. The procedure may be implemented by any type of hardware software device computer computer system equipment component program application code storage medium or propagated signal.

Examples of each element of are broadly described above with respects to . In particular the sender typically has attributes comparable to those described with respect to client devices and and or client controllers and . The host typically has attributes comparable to those described above with respect to host devices and and or host controllers and . The sender and or the host may be directly or indirectly interconnected through a known or described delivery network.

Initially the sender transmits electronic data to the host step . In one implementation the sender is a client system associated with an end user of the communication system . In another implementation the sender aids the client system in transmitting electronic data through a communications link to the host system . In yet another implementation the sender is a processing server within the host system . For example the processing server may be a web mail server arranged to store and forward electronic data transmitted between end users of the communication system .

The host receives the electronic data from the sender step . In one implementation the mail gateway receives the electronic data from the client system and or the processing server . Typically the mail gateway will receive electronic content from subscribers through a dial up telephone network or DSL digital subscriber line and will receive electronic content from non subscribers indirectly through the Internet. The mail gateway may perform protocol conversions if necessary to receive electronic content from non subscribers.

After receiving the electronic data from the sender step the host determines one or more attributes of the electronic data step . Attributes of the electronic data may include but are not limited to an identification token the author of the electronic data the recipient s of the electronic data the subject of the electronic data the date and time of the transmission and or whether the electronic data contains attachments or embedded images. The host typically stores the contents and attributes of the electronic data. For example in one implementation contents of the electronic data are stored in the storage area and the attributes of the electronic data are cached locally in the e buddy server and also are stored in the tandem database . The body of the electronic data is stored in electronic content databases and any attachments are stored in the attachment database . In this example the body of the electronic data is stored twice to assure its availability. Due to the typically large sizes of attachments however such objects are only stored once to conserve memory space.

The tandem database includes a system of folders corresponding to the subscribers of the host system . Each folder may have properties assigned by the subscriber including for example properties for filtering electronic content from certain sources. When electronic data are received the folder stores the attributes of the electronic data including the location s of the electronic data content i.e. body and attachments in the storage area .

The host then configures an alternate communication scheme between the intended recipient and the sender and or configures an alternate communication scheme between the intended recipient and other recipients based on the detected attributes of the electronic data step .

If attributes of the electronic data are stored locally the e buddy server retrieves the attributes from the local cache step . If on the other hand attributes of the electronic data are not stored locally the e buddy server determines the attributes of the electronic data step and then stores the attributes in a local cache step . The e buddy server may determine the attributes of the electronic data itself and or access another server to determine the attributes. In one implementation the e buddy server accesses the read mail server . The read mail server then determines attributes of the electronic data including a listing of the sender and the recipients associated with the electronic data and presents the attributes to the e buddy server . The e buddy server receives the listing from the read mail server and stores the listing in a local cache.

The sender and the recipients listed may or may not be subscribers of the communication system . In one implementation the listing includes e mail addresses of subscribers and non subscribers. The e buddy server strips the domain e.g. aol.com from the e mail address of a subscriber with a recognized domain to obtain the subscriber s screen name step . This step facilitates the reverse look up process.

The e buddy server sends the listing of e mail addresses to the look up server . The look up server determines the instant messaging capability of each of the e mail addresses and or screen names step . In one implementation the look up server determines whether each e mail address is associated with a subscriber of the communication system and or the M host complex . In another implementation the look up server checks to see whether a screen name is associated with an active account having IM capability.

The look up server reports back to the e buddy server and identifies to the e buddy server which of the sender and the recipients have the capability to communicate using instant messaging.

Based on this information the e buddy server interacts with the IM server . In one implementation the e buddy server instructs the M server to send an invitation to those without instant messaging capability step . The invitation may invite the sender and or recipient to subscribe to the IM host complex and or the host system . For those with instant messaging capability the e buddy server requests the IM server to identify the IM state of the particular user e.g. online offline away busy . As described above the IM server may be a network of interconnected servers capable of determining the status or online presence of subscribers. The online presence of a particular subscriber can be detected for example from a persistent connection to an IM server and or the activity of a specific control port.

In response to the request s from e buddy server the IM server identifies the IM state of each of the sender and the recipients e.g. online offline not a member step . In one implementation the M state is given by whether each of the sender and recipients is online offline or does not have instant messaging capability. The IM server and or the e buddy server reports the IM state of each of the sender and recipients to the intended recipient step . In one implementation a particular graphical user interface is displayed to the recipient based on the IM state. For example upon opening an e mail message the recipient may receive one or more redirection commands based on the IM state of the sender and any other addressees of the e mail message. The redirection command may include a URL for navigating the recipient s browser to a particular URL associated with a graphical user interface and or an icon corresponding to one of the IM states.

Referring to a UI illustrates an example of how the IM state of each of the sender and to recipients may be reported to the intended recipient. The UI includes a buddy list window. In this example the people on an e mail message who are able to receive instant messages will appear in the buddy list window in a new group called Mail Contacts. A user may send an instant message to a person in the Mail Contacts list by clicking that person s screen name.

Other implementations are within the scope of the following claims. For example The general aspects described above relate to instant messaging and e mail as well as other forms of communication such as for example telephonic communication e.g. mobile phones pagers .

