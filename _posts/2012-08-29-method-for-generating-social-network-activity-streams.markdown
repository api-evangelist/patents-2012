---

title: Method for generating social network activity streams
abstract: A method for notifying users of an online social network of an activity performed within a web site that is external to the online social network by an individual who is a registered user of the online social network and the web site. The method comprises the steps of receiving a notification package from the external web site, the notification package including a notification message that describes the activity performed, parsing the notification package to extract a list of recipients, each of whom is to receive the notification message, and issuing the notification message to each of the recipients.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09363325&OS=09363325&RS=09363325
owner: Yammer, Inc.
number: 09363325
owner_city: San Francisco
owner_country: US
publication_date: 20120829
---
Recent trends indicate a considerable increase in the amount of content being shared over the Internet. One popular approach for sharing content involves creating a new email copying and pasting into the email a uniform resource locator URL link directed to a web page that includes the content and then sending the email to one or more individuals. Though this approach is efficient in many aspects there are also many drawbacks which include for example incomprehensive or out of date email address books that limit deliverability of the shared content to intended recipients spam filters erroneously flagging the email as spam and the like. As a result alternative approaches for sharing content have been developed.

One alternative approach involves sharing content via social network posts. To post content within a social network an individual accesses an interface through which he or she is able to create a new post that includes for example photos and videos uploaded through the interface or a link to a particular web page by specifying a URL via the interface . In some cases when the new post is directed to a web page the provider of the social network visits the web page and extracts information from the web page for display within the post e.g. an excerpt of text from the web page. This beneficially indicates to viewers of the post the safety and nature of the web page to which the URL is directed which is a feature that is absent from the email based approach described above.

One of the issues with the foregoing content sharing approaches is that they indirectly lead users to attempt sharing private URLs that may or may not be accessible by others. Consider for example a user who is logged into a photo storage web site and who attempts to share the URL https www.photo website.com user 123 photos which is directed to a secure web page that displays a private gallery of the user s digital photographs. In this example the photo storage web site when receiving a request to access the web page to which the URL is directed delivers the web page to the requestor only if the requestor has provided valid login information otherwise the photo storage web site returns an invalid web page notification to the requestor. As a result most if not all of the recipients of the shared URL are unable to access the web page to which the URL is directed since they likely do not and should not possess the user s credentials.

One or more embodiments of the present invention provide a technique for notifying users of an online social network of an activity performed within a web site that is external to the online social network by an individual who is a registered user of the online social network and the external web site. The method includes the steps of receiving a notification package from the external web site the notification package including a notification message that describes the activity performed on the external web site parsing the notification package to extract a list of recipients within the social network each of whom is to receive the notification message and issuing the notification message to each of the recipients.

Further embodiments of the present invention include without limitation a non transitory computer readable storage medium that includes instructions that enable a processing unit to implement one or more aspects of the above methods.

As described in further detail herein embodiments of the invention enable one or more members of a social network web site to be automatically notified when a member of the same social network web site performs a particular action within a web site that is external to the social network web site. As used herein the member performing the particular action that triggers the automatic notification is referred to as the actor and the members who are notified are referred to as the recipients. In the examples illustrated herein the actor is a registered member with both the social network web site and the external web site and therefore is commonly known between the two and the action that is performed on the external web site is not visible to a web crawler or through a URL that is directed to a web page within which the action is performed. Embodiments of the invention however may be implemented to enable the actor to seamlessly and automatically share via social network notifications his or her actions performed within the external web site. Embodiments of the invention eliminate cumbersome tasks that the actor would otherwise be required to execute in order to share such activities e.g. manually creating a social network post for each activity performed within an external web site. Moreover embodiments of the invention enable the actor to specify different sets of recipients within the social network web site who should receive notifications when a particular activity is performed within the external web site.

In order to implement the foregoing techniques in one embodiment the social network web site exposes an application programming interface API that enables the external web site to notify the social network web site when an actor executes a particular activity within the external web site. Specifically when the external web site detects a particular activity performed by the actor the external web site generates and populates a notification package referred to herein as an activity envelope and then transmits the activity envelope to the social network web site for processing. Upon receipt the social network web site parses the activity envelope and based on the activity envelope and notification preferences of identified recipients within the social network posts one or more notifications to one or more recipients within the social network.

In the embodiment illustrated in users access social network provider via computing devices that are connected to Internet . In particular users of computing devices are members of a social network and users of computing devices are members of a social network . Only two social networks are shown in to simplify the description but in practice there may be a large number of social networks. It should be recognized that attributes of social networks such as social network and social network are managed by manager . Social networks and are depicted in dotted circles to indicate the relationship between users of computing devices i.e. they belong to the same social network and the relationship between users of computing devices i.e. they belong to the same social network .

As described in further detail herein a social network is a collection of users and content generated by one or more users. Manager isolates social networks from one another in order to create an environment where users registered in one social network have the ability to view content of other users registered within that social network but do not have the ability to view content of users registered within other social networks. In one embodiment each user is registered in a social network that is associated with the domain portion of the user s email address such as in the social networks provided by Yammer Inc. For example in users of computing devices are members of social network because they share the same email domain e.g. joe foo.com and bob foo.com . Likewise users of computing devices are members of social network because they share the same email domain. Thus in this example each social network is associated with a unique email domain.

Also included in system is service provider which represents the external web site described above for example an online document repository for managing electronic files and is used by at least one user known to social network provider who is operating one of computing devices . As shown service provider includes similar components as social network provider e.g. a web server a manager and a database . Manager is configured to communicate with database and controls the overall operation of the external web site provided by service provider . As shown database stores objects that represent data e.g. electronic files used by manager to provide the online service. Database also stores user accounts and in the example illustrated herein at least one user account is associated with an individual who also has a user account within social network provider .

In the example illustrated herein object is associated with data and one or more triggers where triggers indicate to service provider various conditions under which an action performed by the user on data will cause an activity envelope to be generated and transmitted to social network provider . In one embodiment the manner in which activity envelopes are generated and transmitted is controlled by sharing preferences of the user which are established in the following manner. First service provider provides an interface through which the user submits login credentials for his or her user account with social network provider . In turn service provider accesses social network provider on the user s behalf and extracts information associated with the user e.g. friends of the user within the social network s managed by social network provider along with social network groups that each encompasses a subset of the friends. Service provider may also query the user in order to determine how the user prefers his or her activity within the external web site managed by service provider to be posted within the social network managed by social network provider . For example the user may specify that a notification should be posted within the social network any time he or she uploads a new object to service provider .

When a condition indicated by one of the triggers is satisfied e.g. a digital image is uploaded to service provider service provider accesses an API published by social network provider to generate activity envelope . Activity envelope includes an object which is configured according to a format that is understood by both social network provider and service provider . An example of such a format is illustrated by object in which includes an index a description field data a thumbnail and site name . Upon receipt of activity envelope by social network provider social network provider parses activity envelope to extract among other items i.e. action message actor and recipients object . Object may be a new object to social network provider in which case it is added as a new object into database or may instead refer to an existing object e.g. object . This determination is made via index of object which is a primary key that may be used to refer object to an existing object stored in database . In some cases service provider may leave index undefined which indicates to social network provider that object should be added as a new object into database . Description field is text data that is used to describe the data entity encompassed by object e.g. a filename 2011 Sales Goals.ppt for a Microsoft PowerPoint file stored in data of object . Data is blob data that is used to store a copy of data e.g. data that comprises the 2011 Sales Goals.ppt file. Since object is ultimately stored by social network provider as an object and includes a copy of data via data data can be made accessible to users of social network provider e.g. within a post such that they do not need to visit the external web site managed by service provider in order to access data . Thumbnail is also blob data and is generally used to store a thumbnail image generally related to object e.g. a company logo of service provider that manages object . Finally site name is text data that is used to describe a web site name of service provider e.g. Online Document Repository. 

As also shown activity envelope includes an action a message an actor and recipient s . Action is used to indicate a type of action that is performed on object e.g. a request by the user to create update follow or delete object . A message is text data that is used to describe why activity envelope is being sent e.g. The file titled Earnings Report Q3 2011.xls has been updated. Actor refers to the user who requests service provider to perform the action on object . Finally recipient s references one or more users different than actor via user accounts who should receive a notification about the action performed on object .

Step is representative of operations that occur at a computing device which as described above is operated by a user and communicates with service provider via Internet . As shown computing device loads a user interface for managing objects e.g. electronic files under the example scenario where service provider hosts an online document repository.

At step computing device transmits to manager a request to perform an action i.e. an action on an object e.g. object . One example includes uploading a new electronic file into the online document repository. Although not explicitly illustrated manager processes the request and forwards the request to database in accordance with conventional web server database configurations which is well understood by those having ordinary skill in the art.

At step database processes the request i.e. writes the uploaded electronic file into a storage space and then at step transmits to manager an acknowledgement ACK message that indicates successful storage of the electronic file. As shown manager optionally forwards the ACK to computing device to indicate to the user that the electronic file was successfully uploaded.

At step manager identifies a trigger i.e. a trigger associated with the activity i.e. action performed on object . In one embodiment the trigger is implemented via database triggers that execute operations in response to a particular action performed on object e.g. a first function when object is created a second function when object is updated a third function when object is followed by a user and a fourth function when object is deleted. In general each function is directed toward issuing activity envelope that is generated in accordance with the action performed on object .

At step manager issues activity envelope . As described above in conjunction with the various properties of activity envelope are populated with data based on for example the user i.e. actor who requests to perform the action on object at step the type of action i.e. action that is requested performed the data type of object i.e. description specific users i.e. recipients who should be notified of the action that is performed on object and the like.

At step manager receives and processes activity envelope . In order to simplify the sequence diagram of the various details pertaining to processing activity envelope are described below in conjunction with . Accordingly in it is assumed that activity envelope is deemed valid by manager and at step manager issues a request to database to issue notifications based on the receipt of activity envelope . Continuing with the example described above at step database at step processes the request by first writing the new electronic file into database . At step database issues an ACK that indicates that the new electronic file was successfully written into database . The ACK is received by manager whereupon manager optionally forwards the ACK to manager .

At step manager identifies recipients i.e. user accounts who should receive the notification. The identified recipients are primarily based on the recipient s specified in activity envelope . For example if one or more recipients are indicated by recipient s then at step manager notifies those one or more recipients according to their notification preferences. Alternatively if no recipients are indicated by recipient s then at step manager identifies and notifies all users with whom actor is associated e.g. all friends of actor within a social network of which actor is a member.

If at step manager determines that actor does not exist within database then the method proceeds to step and returns an error. This error is returned since actor who is not recognized by database is foreign to social network provider and therefore no action should be taken by social network provider in response to receiving activity envelope . If however manager determines that actor is recognized by database then the method proceeds to step where manager determines whether index within activity envelope is undefined. In general manager determines that activity envelope references a new object when index is undefined within activity envelope . Otherwise if index is defined within the activity envelope then manager attempts to look up a matching object within database the details of which are described below at step . If at step manager determines that index within activity envelope is defined then the method proceeds to step .

At step manager adds the new object to database . In one embodiment database upon adding the new object to database assigns an index to the new object and returns the index to service provider . In turn service provider associates the index and the object on which the activity envelope is based e.g. object . In this way any future activity envelopes that are generated in response to actions performed on that object may reference the index and include only information that is relevant to the actions being performed on that object .

At step manager determines whether activity envelope specifies one or more recipients . As previously described herein in certain cases service provider when generating activity envelope determines that the recipients who are chosen to receive a notification should be left to the discretion of social network provider . In general when no recipients are specified within activity envelope social network provider is configured to notify all users with whom actor is associated. However social network provider may be configured to identify recipients by referring to sharing preferences of actor and then sending out the notifications accordingly. For example actor may specify that only friends within particular social network groups e.g. Friends and Family should receive notifications related to activity of actor performed within the external web site managed by service provider .

Accordingly if at step manager determines that activity envelope does not specify any recipients then the method proceeds to step where manager determines one or more recipients who should be notified. At step manager notifies each of the one or more recipients according to notification preferences of the recipient. For example any of the determined one or more recipients may be permitted to remove any notifications related to updating objects such that a notification is received only when objects are created followed or deleted.

Referring back now to step if manager determines that activity envelope does in fact specify one or more recipients then manager executes step and notifies the specified one or more recipients . Again notification preferences of the one or more recipients may override the delivery of the notification.

Referring back now to step if manager determines that index within activity envelope is undefined then the method proceeds to step . At step manager determines whether index within activity envelope refers to an object that exists within database e.g. object . If so then the method proceeds to step whereupon the remaining method steps are carried out according to the techniques described above. Otherwise the method proceeds to step where manager returns an error to service provider since manager would not issue notifications directed to an invalid object .

One example sequence of events that may cause manager to generate the automated post involves Bob Martin linking his user account with social network provider to his user account with service provider . This link can be established according a variety of techniques e.g. service provider presenting to Bob an interface in which he can provide his login credentials for his user account with social network provider . In turn social network provider verifies Bob s user account and transmits information back to service provider that indicates to service provider how an activity envelope should be generated in response to Bob s activity within the external web site managed by service provider .

When Bob uploads the Company Dir.xls file i.e. a new object to service provider he may be permitted to establish triggers that set forth specific conditions for controlling how subsequent actions performed to the Company Dir.xls file are posted to the social network managed by social network provider . In one example Bob is able to specify that only a particular subset of his friends e.g. Co Workers within the social network managed by social network provider should receive an update when he makes a change to the Company Dir.xls file. In this way Bob is able to store both personal files and work related files with service provider while preventing any updates to personal files from being posted as notifications within the social network managed by social network provider .

In sum embodiments of the invention advantageously enable one or more members of a social network web site to be automatically notified when a member of the same social network web site performs a particular action within a web site that is external to the social network web site. This allows the member to seamlessly and automatically share via social network notifications his or her actions performed within the external web site which removes the conventional necessity of loading a social network interface and manually creating posts each time he or she performs an action within the external web site. Moreover embodiments of the invention enable the member to specify different sets of recipients within the social network web site who should receive notifications when a particular activity is performed within the external web site.

Providing the above features advantageously enables the member to have a wide range of control over how his activity within the web site is published to the social network. Such control unlocks several benefits to the member e.g. allowing the member to utilize the external web site for both work related activity and personal activity while preventing any work related activity from being published within his or her personal social network s and also preventing any personal activity from being published within his or her work social network s . Another example involves a member who frequently executes updates within an external web site enabling only notifications related to create activity within the external web site and disabling all other notifications i.e. notifications related to update follow and delete from being published within social networks which beneficially prevents his or her coworkers and or friends from receiving an overwhelming number of unnecessary update notifications.

The various embodiments described herein may employ various computer implemented operations involving data stored in computer systems. For example these operations may require physical manipulation of physical quantities usually though not necessarily these quantities may take the form of electrical or magnetic signals where they or representations of them are capable of being stored transferred combined compared or otherwise manipulated. Further such manipulations are often referred to in terms such as producing identifying determining or comparing. Any operations described herein that form part of one or more embodiments of the invention may be useful machine operations. In addition one or more embodiments of the invention also relate to a device or an apparatus for performing these operations. The apparatus may be specially constructed for specific required purposes or it may be a general purpose computer selectively activated or configured by a computer program stored in the computer. In particular various general purpose machines may be used with computer programs written in accordance with the teachings herein or it may be more convenient to construct a more specialized apparatus to perform the required operations.

The various embodiments described herein may be practiced with other computer system configurations including hand held devices microprocessor systems microprocessor based or programmable consumer electronics minicomputers mainframe computers and the like.

One or more embodiments of the present invention may be implemented as one or more computer programs or as one or more computer program modules embodied in one or more computer readable media. The term computer readable medium refers to any data storage device that can store data which can thereafter be input to a computer system computer readable media may be based on any existing or subsequently developed technology for embodying computer programs in a manner that enables them to be read by a computer. Examples of a computer readable medium include a hard drive network attached storage NAS read only memory random access memory e.g. a flash memory device a CD Compact Discs CD ROM a CD R or a CD RW a DVD Digital Versatile Disc a magnetic tape and other optical and non optical data storage devices. The computer readable medium can also be distributed over a network coupled computer system so that the computer readable code is stored and executed in a distributed fashion.

Although one or more embodiments of the present invention have been described in some detail for clarity of understanding it will be apparent that certain changes and modifications may be made within the scope of the claims. Accordingly the described embodiments are to be considered as illustrative and not restrictive and the scope of the claims is not to be limited to details given herein but may be modified within the scope and equivalents of the claims. In the claims elements and or steps do not imply any particular order of operation unless explicitly stated in the claims.

