---

title: Pattern matching based parasitic extraction with pattern reuse
abstract: The present disclosure relates to a method and apparatus for accurate RC extraction. A pattern database is configured to store layout patterns and their associated 3D extraction parameters. A pattern-matching tool is configured to partition a design into a plurality of patterns, and to search the pattern database for a respective pattern and associated 3D extraction parameters. If the respective pattern is already stored in the pattern database, then the associated 3D extraction parameters stored in the database are assigned to the respective pattern without the need to extract the respective pattern. If the respective pattern is not stored in the pattern database, then the extraction tool extracts the pattern and stores its associated 3D extraction parameters in the pattern database for future use. In this manner a respective pattern is extracted only once for a given design or plurality of designs. Moreover, the extraction result may be applied multiple times for a given design simultaneously, speeding up computation time. The extraction result may also be applied to a plurality of designs simultaneously.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08732641&OS=08732641&RS=08732641
owner: Taiwan Semiconductor Manufacturing Co., Ltd.
number: 08732641
owner_city: Hsin-Chu
owner_country: TW
publication_date: 20121115
---
In advanced semiconductor technology nodes such as Node 20 or Node 14 RC parasitics have become a dominating effect. In less advanced technology nodes the effect of RC parasitics could be addressed using approximate methods such as pre characterization of devices and 2.5 D extraction without appreciable loss of accuracy. Accurate RC parasitic modeling is necessary for device modeling extraction and timing analysis. More accurate methods such as pure 3D extraction are available but pose an intrinsic performance limitation for extraction tools for large scale designs.

The description herein is made with reference to the drawings wherein like reference numerals are generally utilized to refer to like elements throughout and wherein the various structures are not necessarily drawn to scale. In the following description for purposes of explanation numerous specific details are set forth in order to facilitate understanding. It may be evident however to one of ordinary skill in the art that one or more aspects described herein may be practiced with a lesser degree of these specific details. In other instances known structures and devices are shown in block diagram form to facilitate understanding.

For integrated circuit IC designs parasitic extraction is used in conjunction with modeling and timing analysis to describe the performance of the IC. Parasitic extraction can be computationally intensive as semiconductor technology node scaling approximately doubles the number of shapes i.e. devices on an IC with each successive node. To offset this mitigation schemes such a pre characterization of IC components prior to full chip assembly may be performed. In less advanced semiconductor technology nodes this approximation resulted in minimal accuracy loss. However as the relative contribution of RC parasitic to IC performance has increased this accuracy loss is no longer negligible. Pre characterization of IC components also has the drawback that not all of the environment around a respective IC component is accurately represented. Pre characterization also limits the range of IC component use. Another mitigation method to enhance extraction performance in semiconductor technology nodes wherein planar FETs are utilized is 2.5 dimensional 2D extraction. In 2D extraction approximations are made along one or more axes of a device. For instance the planar FET demonstrates no co vertical component between the source drain and a gate such that capacitive coupling between these shapes can be modeled with a simplified modeling methodology to obtain a reasonable capacitance accuracy speeding up computation time for extraction. Next generation devices such as the finFET invalidate no co vertical assumptions while pure 3D extraction remains impractical for large designs e.g. SRAM PLL .

Accordingly the present disclosure relates to a method and apparatus for accurate RC extraction. A pattern database is configured to store layout patterns and their associated 3D extraction parameters. A pattern matching tool is configured to partition a design into a plurality of patterns and to search the pattern database for a respective pattern and associated 3D extraction parameters. If the respective pattern is already stored in the pattern database then the associated 3D extraction parameters stored in the database are assigned to the respective pattern without the need to extract the respective pattern. If the respective pattern is not stored in the pattern database then the extraction tool extracts the pattern and stores its associated 3D extraction parameters in the pattern database for future use. In this manner a respective pattern is extracted only once for a given design or plurality of designs. Moreover the extraction result may be applied multiple times for a given design simultaneously speeding up computation time. The extraction result may also be applied to a plurality of designs simultaneously.

At a correspondence of the schematic and the layout is verified with a layout versus schematic LVS tool.

At the layout is analyzed with a pattern matching tool which partitions the layout into a plurality of patterns wherein a respective pattern comprises a one or more shapes comprising a partial device a device or multiple devices as well as their surrounding environment. The partitioning of the layout results in three types of layout regions which together fully cover the layout patterns that are stored in a pattern database patterns that are not stored in a pattern database a subset of the layout not comprising any patterns e.g. the layout minus the recognized patterns . Subsequent to the layout partitioning each of the three types of layout regions are treated separately which in some embodiments may comprises treating the three types of layout regions concurrently successively or a combination thereof.

At the pattern matching tool determines that a first respective pattern of the plurality of patterns does have a corresponding first reference pattern and associated first reference extraction parameters stored in a pattern database.

At an extraction tool applies the first reference extraction parameters to the first respective pattern without performing extraction. In some embodiments the first reference extraction parameters comprise capacitance values for various shapes comprising the first respective pattern.

At one or more first stitch nodes of the first respective pattern are identified by the extraction tool wherein a respective stitch node comprises a location on a shape comprising the first respective pattern where one or more extraction parameters are assigned e.g. a capacitance value .

At the pattern matching tool determines that a second respective pattern of the plurality of patterns does not have a corresponding second reference pattern stored in the pattern database.

At the extraction tool performs extraction on the second respective pattern to obtain corresponding second extraction parameters. In some embodiments the extraction tool performs 3D extraction of the second respective pattern to obtain capacitance values for various shapes comprising the second respective pattern.

At the second pattern and associated second extraction parameters are stored in the pattern database for reuse as a second reference pattern and second reference extraction parameters respectively.

At one or more second stitch nodes of the second respective pattern are identified by the extraction tool.

At a first stitch pin is inserted to each respective first stitch node and a second stitch pin is inserted to each respective second stitch node wherein a stitch pin comprises a marker to inform the extraction tool to create a stitch node to assign appropriate extraction parameters after the patterns are reassembled.

At remaining extraction parameters within a subset of the layout not comprising the first respective pattern or second respective pattern are determined. In some embodiments determining the remaining extraction parameters comprises utilizing an extraction tool which performs 2.5D extraction to determine extraction parameters between a first bounding box of the first respective pattern and surrounding shapes comprising the subset of the layout and 2.5D extraction to determine extraction parameters between a second bounding box of the second respective pattern and surrounding shapes comprising the subset of the layout. In some embodiments the extraction tool only determines a first subset of the overall extraction parameters needed to model the layout. For instance 2.5D capacitance parameters may be determined between the aforementioned bounding boxes and surrounding shapes and resistance parameters for the flat layout irrespective of the patterns.

At stitching of parameters if performed to form a netlist of the layout. The first extraction parameters second extraction parameters and remaining extraction parameters comprise a first extracted netlist of the first respective pattern a second extracted netlist of the second respective pattern and a third extracted netlist of the subset of the layout respectively. Stitching of parameters comprises combining the first extracted netlist the second extracted netlist and the third extracted netlist into a composite netlist of the layout and corresponding schematic by forming connections between all interacting combinations of first stitch nodes second stitch nodes and subset of the layout.

An extraction tool determines that a pattern C does not have a corresponding first reference pattern stored in a pattern database which is referenced by the pattern matching tool and thus performs extraction on pattern C to obtain associated first 3D capacitance values for pattern C. The extraction tool further determines that a pattern C does have a corresponding reference pattern stored in a pattern database as well as associated second 3D capacitance values and applies the second 3D capacitance values to pattern C. For the embodiments of no symmetry is employed in pattern recognition. For instance pattern C is identical to pattern C flipped about a vertical axis y axis . Other embodiments comprise locating reference patterns in the pattern database by rotating and or flipping of a pattern.

In some embodiments context determination may further comprise certain assumptions and or approximations to increase extraction efficiency without appreciable loss of accuracy. One example comprises but is not limited to coupling capacitance between polygons wherein the coupling is so weak that it can be ignored with minimal impact of modeling i.e. ignoring the coupling capacitance degrades model accuracy within an acceptable range . illustrate some additional embodiments of context determination comprising rules of thumb for extraction simplification wherein knowledge of contextual layout features allow for simplification of extraction.

The first drain CO A is subject to capacitive coupling to other shapes within the pattern . Among these are a first coupling capacitance CA between the first drain CO A and the second source CO B a second coupling capacitance CB between the first drain CO A and the second source B and are a third coupling capacitance CC between the first drain CO A and the second gate B. As is known to one of ordinary skill in the art these coupling capacitances A C are incorporated into a netlist of the pattern through stitch node identification and stitch pin insertion.

Each coupling capacitance A C is modeled in the netlist of pattern by incorporating a stitch pin on each shape that experiences a respective coupling capacitance. The first coupling capacitance CA therefore results in identification of a first stitch node A on the first drain CO A and a second stitch node B on the second source CO B. Likewise the second coupling capacitance CB results in identification of a third stitch node C on the first drain CO A and a forth stitch node D on the second source B. And the third coupling capacitance CC results in identification of a fifth stitch node E on the first drain CO A and a sixth stitch node F on the second gate B. Each stitch node A F has a unique name e.g. the third stitch node C may be called FET1 drain PO etc such that an extraction tool may define a respective stitch pin for each respective stitch node wherein a stitch pin comprises a marker added to the layout to inform the extraction tool to create a stitch node to assign appropriate extraction parameters to the pattern.

The pattern and extraction storage system further comprises a first application programming interface API coupled to the pattern database wherein the first API retrieves node and capacitance parameters for a plurality of designs A and B with a given query. A second API is also coupled to the pattern database wherein the extraction tool utilizes the second API to query an extraction result comprising layout information shape reference data and tool type queries concurrently from a plurality of designs comprising a first design A and a second design B.

It will also be appreciated that equivalent alterations and or modifications may occur to one of ordinary skill in the art based upon a reading and or understanding of the specification and annexed drawings. The disclosure herein includes all such modifications and alterations and is generally not intended to be limited thereby. In addition while a particular feature or aspect may have been disclosed with respect to only one of several implementations such feature or aspect may be combined with one or more other features and or aspects of other implementations as may be desired. Furthermore to the extent that the terms includes having has with and or variants thereof are used herein such terms are intended to be inclusive in meaning like comprising. Also exemplary is merely meant to mean an example rather than the best. It is also to be appreciated that features layers and or elements depicted herein are illustrated with particular dimensions and or orientations relative to one another for purposes of simplicity and ease of understanding and that the actual dimensions and or orientations may differ substantially from that illustrated herein.

Therefore the present disclosure relates to a method and apparatus for accurate RC extraction. A pattern database is configured to store layout patterns and their associated 3D extraction parameters. A pattern matching tool is configured to partition a design into a plurality of patterns and to search the pattern database for a respective pattern and associated 3D extraction parameters. If the respective pattern is already stored in the pattern database then the associated 3D extraction parameters stored in the database are assigned to the respective pattern without the need to extract the respective pattern. If the respective pattern is not stored in the pattern database then the extraction tool extracts the pattern and stores its associated 3D extraction parameters in the pattern database for future use. In this manner a respective pattern is extracted only once for a given design or plurality of designs. Moreover the extraction result may be applied multiple times for a given design simultaneously speeding up computation time. The extraction result may also be applied to a plurality of designs simultaneously.

In some embodiments the present disclosure relates to a method of RC extraction utilizing pattern matching comprising analyzing a layout with a pattern matching tool to partition the layout into a plurality of patterns determining that a first respective pattern does not have a corresponding first reference pattern stored in a pattern database and therefore performing extraction on the first respective pattern to obtain associated first extraction parameters. The first respective pattern and associated first extraction parameters are then stored as the first reference pattern and first reference extraction parameters respectively in the pattern database for reuse. Subsequently a second respective pattern of the plurality of patterns is found to have a corresponding second reference pattern and associated second reference extraction parameters that are stored the pattern database. Therefore the second reference extraction parameters may be applied to the second respective pattern without the need to run extraction on the second respective pattern.

In some embodiments the present disclosure relates to a method of defining a pattern of a layout comprising defining set of one or more main shapes in a layout and defining a context for the set of one or more main shapes comprising a subset of designed levels defining a layout with which the main shapes interact. The main shapes and context only comprise 2D information about the layout. Therefore a shape reference file comprising information about thickness of the main shapes is defined. The pattern is then placed in a locality about the main shapes within the context which defines a boundary of the pattern.

In some embodiments the present disclosure relates to a pattern and extraction storage system comprising a parasitic extraction tool comprising a pattern matching tool configured to partition the design into a plurality of patterns and a pattern database which is referenced by the pattern matching tool and configured to store a respective pattern as a reference pattern and associated extraction parameters.

