---

title: System and method for mobile platform virtualization
abstract: A method for a mobile platform containing a mobile terminal having an operating system includes initializing a plurality of user environments (UEs) on the mobile terminal over the operating system, including a current UE running on the mobile terminal. The plurality of UEs are capable of being switched among one another based on one or more of predetermined conditions without changing the operating system. The method also includes collecting sensing data on certain parameters associated with operation of the mobile terminal, and processing the sensing data to indicate at least one of the predetermined conditions. Further, the method includes determining whether the current UE suits the at least one of the predetermined conditions indicated by processing the sensing data and, when the current UE does not suit the condition of the mobile terminal, switching the current UE to a desired UE from the plurality of UEs.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09063770&OS=09063770&RS=09063770
owner: TCL RESEARCH AMERICA INC.
number: 09063770
owner_city: Santa Clara
owner_country: US
publication_date: 20121211
---
The present invention relates to the field of user interface technologies and more particularly to techniques for mobile platform virtualization.

Existing smartphones are built on various mobile operating systems Android iOS Windows Mobile etc with functionalities like media players digital video cameras touch screens web browsers GPS navigation and high speed data access provided by Wi Fi and wireless networks. A mobile operating system on a smartphone provides well established application programming interfaces APIs and hundreds of thousands third party applications can run on the smartphone improving people s daily life.

Smartphones are also getting more powerful in terms of processing speed and computing capacity which may enable advanced mobile processing. However how to integrate advanced mobile processing into other technologies such as sensing and networking technologies is still under development.

The advanced mobile processing also enables the adaptation of virtualization technology into mobile space. However existing solutions often focus on getting multiple instances of different or the same operating system images which are preconfigured running on the same mobile device. Switching between the instances of operating system images is controlled by user and is often a manual process while mobile sensing development has been at application level targeting specific applications within the same environment.

The disclosed methods and systems are directed to solve one or more problems set forth above and other problems.

One aspect of the present disclosure includes a method for a mobile platform containing a mobile terminal having an operating system. The method includes initializing a plurality of user environments UEs on the mobile terminal over the operating system including a current UE running on the mobile terminal. The plurality of UEs are capable of being switched among one another based on one or more of predetermined conditions without changing the operating system. The method also includes collecting sensing data on certain parameters associated with operation of the mobile terminal and processing the sensing data to indicate at least one of the predetermined conditions of the mobile terminal. Further the method includes determining whether the current UE suits the at least one of the predetermined conditions of the mobile terminal indicated by processing the sensing data and when the current UE does not suit the condition of the mobile terminal switching the current UE to a desired UE from the plurality of UEs.

Another aspect of the present disclosure includes a mobile platform. The mobile platform includes a mobile terminal having a processor and an operating system running on the processor. The processor is configured to initialize a plurality of user environments UEs on the mobile terminal over the operating system including a current UE running on the mobile terminal. The plurality of UEs are capable of being switched among one another based on one or more of predetermined conditions without changing the operating system. The processor is also configured to collect sensing data on certain parameters associated with operation of the mobile terminal and to process the sensing data to indicate at least one of the predetermined conditions of the mobile terminal. Further the processor is configured to determine whether the current UE suits the at least one of the predetermined conditions of the mobile terminal indicated by processing the sensing data and when the current UE does not suit the condition of the mobile terminal to switch the current UE to a desired UE from the plurality of UEs.

Other aspects of the present disclosure can be understood by those skilled in the art in light of the description the claims and the drawings of the present disclosure.

Reference will now be made in detail to exemplary embodiments of the invention which are illustrated in the accompanying drawings. Wherever possible the same reference numbers will be used throughout the drawings to refer to the same or like parts.

Mobile terminal may include any appropriate type of mobile device such as one or more of smartphones tablets notebooks personal computers personal digital assistants PDAs mobile phones or other mobile devices. Mobile terminal may also include various sensors to collect data on mobile terminal on environment of the mobile terminal and or user of the mobile terminal etc. For example mobile terminal may include sensors for location GPS movement accelerometer temperature atmospheric pressure etc.

In addition mobile terminal can also obtain sensing information from other devices within the mobile terminal such as images from a camera sounds from surroundings network information whether the phone is plugged into power application using patterns etc. The sensing data from the sensors and sensing data obtained can be used to discover the environment and other useful information about the user mobile terminal . More particularly the sensing data may indicate certain conditions of the mobile terminal or user such that configurations of the mobile terminal may be adjusted based on the certain condition.

Server and server may include any appropriate type of computer systems configured to provide server functionalities. Although server or server is shown in a single computer configuration more computers or server clusters can be included in server or server . Further the server may be in a non cloud configuration while server may be in a cloud configuration. Server and server may have similar functionalities and may be present at the same time or may be present one without the other.

Cloud may refer to a cloud computing environment i.e. the use of computing resources hardware and software that are delivered as a service over a network infrastructure e.g. the Internet . Cloud may include any private cloud configuration and or public cloud configuration. Cloud may include various servers i.e. server services such as a server configured to provide mobile platform virtualization functionalities. Any appropriate types of servers may be included.

Cloud based services in cloud may be delivered to mobile terminal via high speed data connections such as 3G 4G LTE and WiFi networks. Data collected on mobile terminal may be forwarded to cloud e.g. server in cloud as input data to various services provided by server . For example the data collected on mobile terminal may include mobile sensing data and the sensing data may be forwarded to server as input data.

Mobile terminal server and or server may be implemented on any appropriate computing platform. shows a block diagram of an exemplary computing system capable of implementing mobile terminal server and or server .

As shown in computing system may include a processor a storage medium a display a communication module a database and peripherals . Certain devices may be omitted and other devices may be included.

Processor may include any appropriate processor or processors. Further processor can include multiple cores for multi thread or parallel processing. Storage medium may include memory modules such as ROM RAM flash memory modules and mass storages such as CD ROM and hard disk etc. Storage medium may store computer programs for implementing various processes when the computer programs are executed by processor .

Further peripherals may include various sensors and other I O devices such as a keypad keyboard and mouse etc. The various sensors may include temperature sensors location sensors e.g. GPS movement sensors accelerometer atmospheric or pressure sensors sound sensors etc. The communication module may include certain network interface devices for establishing connections through communication networks such as wired or wireless networks. Database may include one or more databases for storing certain data and for performing certain operations on the stored data such as database searching.

Returning to in operation the user may use mobile terminal to interact with a large number of devices and servers to obtain information to do business to perform searching or to conduct other online and offline activities. To provide desired user experience the mobile virtualization system provides a computing structure that seamlessly integrates mobile sensing endpoint OS virtualization user behavior analysis mobile management and recommendation into a general framework a so called cloud based mobile platform. Using this mobile platform or framework mobile terminals front end sensing and servers backend computing capability can be coupled together through the operating system OS and user environment UE virtualization. illustrates an exemplary mobile platform consistent with the disclosed embodiments.

As shown in mobile terminal and server are coupled through cloud i.e. server is provided by cloud . Certain modules or components are configured in the mobile terminal and server to provide various functionalities to support the mobile platform . Although a single mobile terminal and a single server are used for illustrative purposes any number of mobile terminals and servers can be included.

Mobile terminal may include a sensing data collection and processing module a UE configuration and trigger module database a UE manger and a UE collection module database . Server may include a personal mobile manager a user behavior module database a data analytics unit and a UE module database . Certain modules may be omitted and other modules may be added. Further these modules may be implemented by software running on processors in the mobile terminal and or server hardware or a combination of software and hardware.

The sensing data collection and processing module or simply processing module collects and processes sensing data from devices in the mobile terminal e.g. various sensors and or from software running on the mobile terminal . The collected sensing data and or processed sensing data is sent to UE manager . Alternatively the collected sensing data and or processed sensing data is relayed to server for further processing.

The UE configuration and trigger module or simply UE configuration module may store information on UE operations such as the UE configuration and UE trigger. That is information about how a user environment UE should be run and when the UE is to run is stored in the UE configuration module . A user environment UE as used herein may include a part of operating system bundled applications application configurations and user interfaces etc. for setting up a software environment for user to use. The information in the UE configuration module can be from server pre configured in a UE software image or manually configured by user .

The UE collection module may store one or more UEs ready to be run on mobile terminal . Different types of mobile terminal may be configured differently. Certain mobile terminals may allow a single UE to run at a time while certain other mobile terminals may allow multiple UEs to run at same time or different time. In certain embodiments mobile terminal allows running of one or more UEs and a collection of ready to run UEs are stored in UE collection module database .

The UE manager is responsible for controlling and coordinating UE operations on mobile terminal . For example UE manager on the mobile terminal may select a UE from the UEs stored in the UE collection module and may launch the selected UE for user . The UE manager may request a new UE from server and store the new UE to be used immediately or next time. Further the UE manager may also receive collected and or processed sensing data from the processing module and may based on sensing data and the configuration information from the UE configuration module select a desired UE to launch or start. In addition the UE manager may also relay processed sensing data to server for further processing.

Further UE manager may also be used to provide UE virtualization functionalities on mobile terminal . illustrates an exemplary UE virtualization structure on mobile terminal .

As shown in mobile terminal may include an operating system . The operating system may include any appropriate type of operating system configured to run on a mobile terminal such as a smart phone. For example operating system may be a Windows system Android system iOS Linux or Firefox OS etc.

The operating system may include a virtualization layer and UE and UE can be used through the virtualization layer independent of hardware configurations of mobile terminal and or operating system on mobile terminal . That is the hardware components on are virtualized through the virtualization layer such that more than one UEs can share the same hardware component. Although two UEs are shown for illustrative purposes any number of UEs may be included.

A user environment e.g. UE UE may comprise a part of operating system that makes the user environment an independent environment to run applications independent from other user environments and applications running in other user environments. For example a first user environment in a Linux based design may include complete Android components so that the first user environment can run in parallel with a second Android based user environment because the first user environment does not share with the second Android user environment.

Also for example because one UE is independent from another Android may run in one UE while Firefox may run in another UE and both UEs are supported by a shared Linux under the UEs. Further as previously described UE manager may be configured to create and manage the UE instances. For example UE manager may launch one or more UEs based on certain criteria and may also maintain and control the UEs during run time such as UE updating etc.

Because the UEs are provided based on the virtualization layer the entire operating system does not need to be virtualized e.g. at kernel layer . Instead the virtualization layer enables multiple UEs to run on the same mobile terminal so called just needed device virtualization. Further the virtualization layer may be by passed to allow non virtualization for certain mobile terminals where such mobile terminals can run one UE at a time.

Further start and stop of the multiple UEs can be controlled by the UE manager . For example a UE can be stopped before launching another selected UE when triggered to do so by the mobile sensing data. Less memory may need to be used because each UE has its memory footprint making the UE virtualization structure on mobile terminal practical.

For example when mobile terminal is power on or after reset a boot ROM may be used for the processor to run a boot sequence to load into memory a Bootloader module from the flash memory and to execute the Bootloader to load software images of the operating system and UEs etc. Alternatively the Bootloader can also be executed from the flash memory. The kernel of the operating system then is started and configured from the RAM or from the flash.

After the kernel is started a user space initialization process may be started which may set up the software environment on mobile terminal for one or more users. At the end of the user space initialization process UE manager may be initialized and started to manage UE initialization.

For example the UE manager may start a UE from a collection of UEs based on certain criteria such as configuration and or mobile sensing data. If a mobile terminal may have a single display with limited screen size the UE manager may allow only one UE to have control of the screen display and or input. However the UE manager may allow other hardware resources to be shared among UEs depending on the configuration.

Returning to as the server side configuration of the mobile virtualization system include server coupled to mobile terminal through cloud . The server may include personal mobile manager user behavior module database data analytics unit and UE module database etc.

The personal mobile manager or simply mobile manager may be configured to interface with the UE manager on the mobile terminal . The mobile manager may receive the sensing data from or relayed from the UE manager and may also send the sensing data to the data analytics unit for processing and get back processing results from the data analytics unit .

The mobile manager may also receive a UE request from the UE manager and the UE request may include a request for a new UE or an updated UE. After receiving the UE request from the UE manager on the mobile terminal the mobile manager may dynamically construct a UE based on the UE request or may select a desired UE from UE database . The mobile manager may also send the UE selection to the UE manager . Further the mobile manager may also manage other aspects of the mobile terminals and or other mobile devices.

The data analytics unit may receive the sensing data and or other requests from the mobile manager and provides various analyses. For example the data analytics unit may use the user behavior database to perform user behavior learning modeling. The data analytics unit may also determine and recommend run time environment for mobile terminals such as UEs operating systems application services and other components based on user specific information.

The user behavior database may include a learned database to match mobile sensing data processing to the UE database . The user behavior database may be updated during the run time in an adaptive mode to be perfected in the process. Further the user behavior database might not be specific to one user thus no personal and private information is stored. However the user behavior database may receive the user s input or assistance such as label of an event which may be helpful for the user behavior analysis.

Further the UE database may include a large number and wide range of UEs with different applications different user interface designs different system settings different application configurations. That is the UE database may include a collection UEs configured for all occasions and for a variety of mobile terminal. The UE database may provide one or more requested UEs to data analytics unit and or the mobile manager .

During operation both mobile side and server side interact with each other to implement the virtualized mobile platform as shown in . In certain embodiments the mobile side e.g. UE manager may also work without server side support at a reduced capability where with multiple pre loaded UEs UE manager can switch to a desired UE depending on existing UE configuration and the collected processed sensing data. In certain other embodiments the UE manager may forward the sensing data to server side and to request a new UE from the server side when the conditions indicated by the sensing data desire a new UE. illustrates an exemplary virtualized mobile platform operation process consistent with the disclosed embodiments.

As shown in at the beginning the UE configurations and UE collections on the mobile terminal are initialized . For example UE switching triggering rules may be defined as part of the UE configurations i.e. whether a predetermined condition or conditions on the mobile terminal require switching the current UE to a new UE. The UE collections may include UEs can be configured to run on the mobile terminal based on the UE configurations and these UEs may be run one at a time or simultaneously.

For example a user may have two UEs in the UE collection one for work and the other for home. The work place UE may be configured for the work environment to have email office and other work related applications installed to have extra security and or able to be deployed and managed from server side. The work place UE may be managed by the server side for high reliability.

On the other hand the home place UE may be unmanaged from the server side with all the applications and games installed by user for home use. The UE configurations and or the UE collections may be pre loaded in the mobile terminal or may be dynamically loaded into mobile terminal at the time of initialization. Other configurations may also be used.

Further during operation of mobile terminal by the user mobile sensing data is collected and processed . A variety of mobile sensing data may be collected from various sensors other devices and software programs and the mobile sensing data may be processed on mobile side and or on server side. In one embodiment the mobile terminal may detect a scene of the mobile terminal. For example the mobile terminal may detect presence of a work place WiFi access point SSID and the processed sensing data may indicate the mobile terminal is currently in a work place or the mobile terminal may detect a home WiFi access point SSID and the processed sensing data may indicate the mobile terminal is currently at home. In another embodiment the mobile terminal may detect a location of the mobile terminal. For example the mobile terminal may detect that the mobile terminal is in a flying airplane.

Further when the mobile side is supported or managed by the server side user behavior analysis may be performed by server or by cloud . That is a cloud based user behavior learning may be performed based on the sensing data and data analytics. The results of the user behavior learning may be provided to the server and or the mobile terminal .

Further the sensing data and or the results of the user behavior analysis may be analyzed to indicate one or more predetermined conditions of the mobile terminal . Based on the predetermined conditions it may be determined whether the current UE needs to be changed e.g. switched or updated to a desired UE or UEs .

For example if the sensing data indicates that the mobile terminal is in a work place and the current UE is the home place UE it may be determined that the current UE needs to be switched to the work place UE. Or if the sensing data indicates that the mobile terminal is at home and the current UE is the work place UE it may also be determined that the current UE needs to be switched to the home place UE.

Also for example if the sensing data indicates that the mobile terminal is in an airplane and the current UE is a normal UE it may be determined that the current UE needs to be switched to an airplane UE such as a preloaded UE that has wireless turned off a user interface without presence of browser and any applications relying on data connection but with games music books and other things desired for airplane journey.

If it is determined the current UE needs to be switched or updated Yes the current UE may be automatically switched to a desired UE. For example after determining that the current home place UE needs to be switched to a work place UE the work place UE is automatically loaded onto the mobile terminal and vice versa. Alternatively the user may be prompted to confirm the switch of the current UE to a desired UE.

Also for example after determining that a normal UE needs to be switched to an airplane UE without a wireless network the pre loaded airplane UE may be started to replace the current UE.

Further if a desired UE is not pre loaded into the mobile terminal or downloaded to the mobile terminal the server side may dynamically construct a desired UE and load the newly constructed desired UE into the mobile terminal for switching or updating. That is the server side may dynamically construct and recommend the suitable UE together with bundled applications and user interface that fit the user s preferences such as the user s location and user s liking etc. Such UE construction and run time replacement may be scene adaptive and user adaptive to significantly improve user experience.

On the other hand if it determined the current UE does not need to be changed No or after the current UE is changed the process returns to for continuing collecting and processing mobile sensing data.

In addition the server side may also select and or recommend desired applications to the user mobile terminal based on the sensing data and user behavior analysis. There may be a large number applications available online and the user may be unable to know which application to use or which application is safe to use i.e. no virus etc. . The server side may select desired applications based on certain pre conditions and may incorporate these desired applications in the UEs.

The server side may store in the UE database with large selection of UEs and the data analytics unit may automatically match the desired ones with the current scene of the user. The UE may also be built by the data analytic unit based on the user behavior learning process via user s interaction with the mobile terminal and feedback of scene knowledge and may include desired applications in the selected UEs.

In other words the server side may recommend certain user interface and applications based on the sensing data and user behavior analysis and may dynamically construct a UE with applications recommended and or selected by the user suitable for the user s location and or input.

In certain embodiments when loading a newly constructed UE to the mobile terminal the new UE may be compressed and downloaded to the corresponding mobile terminal via a network or the cloud . In addition when an updated UE is needed to update an existing UE that is currently on the mobile terminal the server side may use certain updating procedures to minimize the time and bandwidth needed to update the existing UE. illustrates an exemplary UE updating process consistent with the disclosed embodiments.

As shown in an original UE may be pre loaded into the mobile terminal and stored in the mobile terminal s file system. The original UE may be a software image built on a PC or on server . The server side may also keep an original UE for the mobile terminal . That is the original UE is provided or available in both mobile side and server side.

During operation when the server side dynamically builds an updated UE from the required operating system components plus the desired applications user interface and system configurations the server side may also determine whether there is an original UE available on the mobile terminal for the updated UE. In certain cases a new UE image may differ from the original UE by a small delta in the form of new user interface change some software configuration change and or bundling of different applications. Thus the server side may derive the difference Delta between the original UE and the updated UE New UE .

Further the service side may compress and encrypt the Delta and the compressed and encrypted delta between the New UE and the original UE may constitute a new UE image Patch which may have a significant reduction of image size. The time and data volume in loading a new UE from the cloud server to the mobile terminal may also be significantly reduced. Thus cloud based UE storage and UE management may be achieved.

In other words when a new UE set is made ready the entire UE set is not transmitted to the mobile terminal directly unless no original UE can be found. Instead a patch for the new UE is prepared by first generating the difference between the new UE set and the original UE set on which the new UE is based and further by compressing and encrypting the difference data. The newly prepared patch is then made available together with all the other similarly prepared patches if any as new UE selections on the server or a web store for user to download.

On the mobile side after the user or mobile terminal downloads the new UE Patch the new UE is uncompressed and decrypted to derive the Delta between the new UE and the original UE. Further the mobile terminal locates the original UE on its file system e.g. the flash memory file system or other file systems and based on the original UE and the Delta recovers the corresponding software image of the updated UE New UE . That is the mobile terminal automatically converts the new UE image received from the server side into a usable UE by the mobile terminal. If the original UE is not available or cannot be located the updated UE image may be entirely downloaded.

By using the disclosed systems and methods many advantageous applications can be implemented. For example a mobile platform virtualization architecture may be implemented based on just needed device virtualization which enables easy construction of user environments easy switching of user environments and running multiple instances of user environments simultaneously. In addition based on mobile sensing data and data analytics cloud based user behavior learning can be implemented and cloud based mobile software management including the capability to dynamically generate recommended user environment based on mobile sensing data processing and user behavior learning can also be implemented.

By using the disclosed systems and methods the mobile platform virtualization architecture can use mobile sensing data and user behavior learning to deliver cloud supported scene adaptive mobile user experience. The mobile platform virtualization allows multiple homogeneous or heterogeneous UEs to run simultaneously on a mobile terminal. Further the disclosed systems and methods may take advantage of the ubiquitous high speed data network and the UE updating techniques to reduce UE image size and UE selections can be sent to mobile device dynamically as well as downloaded manually upon user s selection with or without recommendations.

Other applications advantages alternations modifications or equivalents to the disclosed embodiments are obvious to those skilled in the art.

