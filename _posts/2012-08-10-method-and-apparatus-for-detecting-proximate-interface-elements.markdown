---

title: Method and apparatus for detecting proximate interface elements
abstract: A method, apparatus and computer program product are therefore provided in order to provide an efficient, aesthetically pleasing display of points of interest in an AR interface that maximizes usability and display efficiency. In this regard, the method, apparatus and computer program product may utilize a mobile terminal to perform pre-processing of interface elements to reduce display clutter and increase efficiency of display processing. Interface elements may be projected onto a cylindrical surface to locate the interface elements relative to the mobile terminal. Interface elements may be analyzed in the projection to identify interface elements that are proximate to one another. Data indicating that particular interface elements are proximate to one another may be stored in a data structure for reference prior to displaying of the interface elements in an AR interface.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08867785&OS=08867785&RS=08867785
owner: Nokia Corporation
number: 08867785
owner_city: Espoo
owner_country: FI
publication_date: 20120810
---
An example embodiment of the present invention relates generally to augmented reality displays and more particularly to displaying location based points of interest via an augmented reality display.

Advances in technology have allowed for increasingly complex features to be integrated into mobile terminals. Features such as video cameras location information systems compasses gyroscopes and accelerometers are capable of leveraging the communication capabilities of mobile terminals such as cellular phones personal digital assistants PDAs and smartphones to provide users with unprecedented levels of information. One such way of providing information to a user is via the use of an augmented reality AR display. Such displays typically receive and display image data from an image capture device or a video capture device e.g. a video camera coupled to the mobile terminal and modify or overlay the image data to impart additional information to the user. For example an AR display might use compass readings an internal gyroscope and an image of a night sky to overlay the night sky with the names of particular constellations. Another AR display might overlay a user s travel route to a destination over a view of a city street to direct the user.

One use of AR displays provides information about nearby points of interest POIs to a user by overlaying icons representing the points of interest on a video display of the environment. These points of interest are typically displayed on the screen as graphical objects projected by a processor. Efficient display of these points of interest requires careful placement of objects to minimize screen clutter while still presenting the graphical objects in an intuitive manner that allows for ease of interaction.

A method apparatus and computer program product are therefore provided according to an example embodiment of the present invention in order to provide an efficient aesthetically pleasing display of points of interest in an AR interface that maximizes usability and display efficiency. In this regard the method apparatus and computer program product of an example embodiment may utilize a mobile terminal to perform pre processing of interface elements to reduce display clutter and increase efficiency of display processing. Interface elements may be projected onto a cylindrical surface to locate the interface elements relative to the mobile terminal. Interface elements may be analyzed in the projection to identify interface elements that are proximate to one another. Data indicating that particular interface elements are proximate to one another may be stored in a data structure for reference prior to rendering of the interface elements. In this manner interface elements may be clustered and or deoverlapped prior to rendering on a three dimensional display thus improving the user visual experience while not significantly adding to processing workload.

Example embodiments of the invention may provide a method. The method may include projecting using a processor a plurality of points of interest onto a cylinder using at least a bearing angle for each point of interest determining an angular width of each of a plurality of interface elements each of the plurality of interface elements associated with at least one of the points of interest identifying at least one horizontal overlap between at least two of the plurality of interface elements using the angular width of the interface elements and the bearing angle associated with the points of interest corresponding to the at least two interface elements in response to identifying the at least one horizontal overlap storing data in a neighbor list the data indicating that the points of interest corresponding to the at least two interface elements are neighbors and modifying based on the neighbor list a display of a subset of the plurality of points of interest. The subset of the plurality of points of interest may include at least one of the points of interest corresponding to the at least two interface elements. The display may be modified by deoverlapping the at least two interface elements. The display may be modified by clustering the at least two interface elements into a single interface element. The method may also include determining an angular height of each of the plurality of interface elements identifying at least one vertical overlap between the at least two of the plurality of interface elements using the angular height of the interface elements and the bearing associated with the points of interest corresponding to the at least two interface elements and only storing the data in the neighbor list in response to identifying both the horizontal overlap and the vertical overlap. The method may also include sorting the plurality of points of interest based on the bearing of each point of interest relative to north and identifying the at least two of the plurality of the interface elements based on the sorting of the plurality of points of interest. The method may further include determining whether a horizontal overlap exists for interface elements corresponding to each of the plurality of points of interest and storing data indicating each of the horizontal overlaps in the neighbor list. The method may also include using the neighbor list to identify a subset of points of interest to analyze for overlapping interface elements. The method may further include determining a first location receiving at least one second location determining the bearing angle using the first location and the second location. The first location may correspond to the location of a mobile terminal. The at least one second location may correspond to the location of at least one of the points of interest.

Example embodiments of the invention may further provide an apparatus comprising at least one processor and at least one memory including computer program instructions. The at least one memory and the computer program may include instructions configured to with the at least one processor cause the apparatus at least to project a plurality of points of interest onto a cylinder using at least a bearing angle for each point of interest determine an angular width of each of a plurality of interface elements identify at least one horizontal overlap between at least two of the plurality of interface elements using the angular width of the interface elements and the bearing angle associated with the points of interest corresponding to the at least two interface elements in response to identifying the at least one horizontal overlap store data in a neighbor list and modify based on the neighbor list a display of a subset of the plurality of points of interest where the subset of the plurality of points of interest includes at least one of the points of interest corresponding to the at least two interface elements. Each of the plurality of interface elements may be associated with at least one of the points of interest. The data may indicate that the points of interest corresponding to the at least two interface elements are neighbors. The display may be modified by deoverlapping the at least two interface elements. The display may be modified by clustering the at least two interface elements into a single interface element. The apparatus may be further configured to determine an angular height of each of the plurality of interface elements identify at least one vertical overlap between the at least two of the plurality of interface elements using the angular height of the interface elements and the bearing associated with the points of interest corresponding to the at least two interface elements and store the data in the neighbor list in response to identifying both the horizontal overlap and the vertical overlap. In some embodiments the apparatus may be further configured to sort the plurality of points of interest based on the bearing of each point of interest relative to north and identify the at least two of the plurality of the interface elements based on the sorting of the plurality of points of interest. The apparatus may also be configured to determine whether a horizontal overlap exists for interface elements corresponding to each of the plurality of points of interest and store data indicating each of the horizontal overlaps in the neighbor list. The apparatus may be further configured to use the neighbor list to identify a subset of points of interest to analyze for overlapping interface elements. In some embodiments the apparatus may be configured to determine a heading of the apparatus and determine using the heading whether the point of interest is visible in a display of the apparatus prior to displaying the point of interest.

Example embodiments of the invention may further provide a computer program product comprising at least one non transitory computer readable storage medium bearing computer program instructions embodied therein for use with a computer. The computer program instructions may include program instructions configured to project a plurality of points of interest onto a cylinder using at least a bearing angle for each point of interest determine an angular width of each of a plurality of interface elements identify at least one horizontal overlap between at least two of the plurality of interface elements using the angular width of the interface elements and the bearing angle associated with the points of interest corresponding to the at least two interface elements in response to identifying the at least one horizontal overlap store data in a neighbor list the data indicating that the points of interest corresponding to the at least two interface elements are neighbors and modify based on the neighbor list a display of a subset of the plurality of points of interest. The subset of the plurality of points of interest may include at least one of the points of interest corresponding to the at least two interface elements. Each of the plurality of interface elements may be associated with at least one of the points of interest. The display may be modified by deoverlapping the at least two interface elements. The display may be modified by clustering the at least two interface elements into a single interface element. The computer program product may be further configured to determine an angular height of each of the plurality of interface elements identify at least one vertical overlap between the at least two of the plurality of interface elements using the angular height of the interface elements and the bearing associated with the points of interest corresponding to the at least two interface elements and store the data in the neighbor list in response to identifying both the horizontal overlap and the vertical overlap.

Some embodiments of the present invention will now be described more fully hereinafter with reference to the accompanying drawings in which some but not all embodiments of the invention are shown. Indeed various embodiments of the invention may be embodied in many different forms and should not be construed as limited to the embodiments set forth herein rather these embodiments are provided so that this disclosure will satisfy applicable legal requirements. Like reference numerals refer to like elements throughout. As used herein the terms data content information and similar terms may be used interchangeably to refer to data capable of being transmitted received and or stored in accordance with embodiments of the present invention. Thus use of any such terms should not be taken to limit the spirit and scope of embodiments of the present invention.

Additionally as used herein the term circuitry refers to a hardware only circuit implementations e.g. implementations in analog circuitry and or digital circuitry b combinations of circuits and computer program product s comprising software and or firmware instructions stored on one or more computer readable memories that work together to cause an apparatus to perform one or more functions described herein and c circuits such as for example a microprocessor s or a portion of a microprocessor s that require software or firmware for operation even if the software or firmware is not physically present. This definition of circuitry applies to all uses of this term herein including in any claims. As a further example as used herein the term circuitry also includes an implementation comprising one or more processors and or portion s thereof and accompanying software and or firmware. As another example the term circuitry as used herein also includes for example a baseband integrated circuit or applications processor integrated circuit for a mobile phone or a similar integrated circuit in a server a cellular network device other network device and or other computing device.

As defined herein a computer readable storage medium which refers to a non transitory physical storage medium e.g. volatile or non volatile memory device can be differentiated from a computer readable transmission medium which refers to an electromagnetic signal.

A method apparatus and computer program product are provided in accordance with an example embodiment of the present invention in order to display an AR interface on a display device such as a display device coupled to a mobile terminal. In this regard a method apparatus and computer program product of an example embodiment may preprocess one or more interface elements to estimate locations of the interface elements on a display. The data generated by the preprocessing may be used to identify overlapping interface elements and to optimize clustering of interface elements.

The points of interest may be projected onto a cylinder that represents a space around a mobile terminal. The cylindrical projection may be employed to identify the location of each point of interest in a three dimensional coordinate space. The area of the three dimensional representation that is displayed via the display device may correspond to a physical position and or orientation of the mobile terminal in space. In some of the embodiments the overlaid image may be generated by receiving data over a network. The received data may correspond to a particular physical location of the mobile terminal a particular query initiated by a user of the mobile terminal or any other relevant data capable of being displayed as part of an AR interface.

The system of an embodiment of the present invention may include an apparatus as generally described below in conjunction with for performing one or more of the operations set forth by and also described below. In this regard the apparatus may be embodied by a mobile terminal. In this embodiment the mobile terminal may be in communication with a display and or a data network either directly such as via a wireless or wireline connection or indirectly via one or more intermediate computing devices. In this regard the display and the mobile terminal may be parts of the same system in some embodiments. However the apparatus may alternatively be embodied by another computing device that is in communication with the display and the mobile terminal such as via a wireless connection a wireline connection or the like. For example the apparatus may be a mobile telephone a personal digital assistant PDA a pager a laptop computer a tablet computer or any of numerous other hand held or portable communication devices computation devices content generation devices content consumption devices or combinations thereof.

It should also be noted that while illustrates one example of a configuration of an apparatus for generating an AR interface numerous other configurations may also be used to implement other embodiments of the present invention. As such in some embodiments although devices or elements are shown as being in communication with each other hereinafter such devices or elements should be considered to be capable of being embodied within the same device or element and thus devices or elements shown in communication should be understood to alternatively be portions of the same device or element.

Referring now to the apparatus for displaying points of interest in an AR interface in accordance with one example embodiment may include or otherwise be in communication with one or more of a processor a memory a communication interface a user interface a camera and a sensor . In some embodiments the processor and or co processors or any other processing circuitry assisting or otherwise associated with the processor may be in communication with the memory device via a bus for passing information among components of the apparatus. The memory device may include for example a non transitory memory such as one or more volatile and or non volatile memories. In other words for example the memory device may be an electronic storage device e.g. a computer readable storage medium comprising gates configured to store data e.g. bits that may be retrievable by a machine e.g. a computing device like the processor . The memory device may be configured to store information data content applications instructions or the like for enabling the apparatus to carry out various functions in accordance with an example embodiment of the present invention. For example the memory device could be configured to buffer input data for processing by the processor. Additionally or alternatively the memory device could be configured to store instructions for execution by the processor.

In some embodiments the apparatus may be embodied as a chip or chip set. In other words the apparatus may comprise one or more physical packages e.g. chips including materials components and or wires on a structural assembly e.g. a baseboard . The structural assembly may provide physical strength conservation of size and or limitation of electrical interaction for component circuitry included thereon. The apparatus may therefore in some cases be configured to implement an embodiment of the present invention on a single chip or as a single system on a chip. As such in some cases a chip or chipset may constitute means for performing one or more operations for providing the functionalities described herein.

The processor may be embodied in a number of different ways. For example the processor may be embodied as one or more of various hardware processing means such as a coprocessor a microprocessor a controller a digital signal processor DSP a processing element with or without an accompanying DSP or various other processing circuitry including integrated circuits such as for example an ASIC application specific integrated circuit an FPGA field programmable gate array a microcontroller unit MCU a hardware accelerator a special purpose computer chip or the like. As such in some embodiments the processor may include one or more processing cores configured to perform independently. A multi core processor may enable multiprocessing within a single physical package. Additionally or alternatively the processor may include one or more processors configured in tandem via the bus to enable independent execution of instructions pipelining and or multithreading.

In an example embodiment the processor may be configured to execute instructions stored in the memory device or otherwise accessible to the processor. Alternatively or additionally the processor may be configured to execute hard coded functionality. As such whether configured by hardware or software methods or by a combination thereof the processor may represent an entity e.g. physically embodied in circuitry capable of performing operations according to an embodiment of the present invention while configured accordingly. Thus for example when the processor is embodied as an ASIC FPGA or the like the processor may be specifically configured hardware for conducting the operations described herein. Alternatively as another example when the processor is embodied as an executor of software instructions the instructions may specifically configure the processor to perform the algorithms and or operations described herein when the instructions are executed. However in some cases the processor may be a processor of a specific device configured to employ an embodiment of the present invention by further configuration of the processor by instructions for performing the algorithms and or operations described herein. The processor may include among other things a clock an arithmetic logic unit ALU and logic gates configured to support operation of the processor.

Meanwhile the communication interface may be any means such as a device or circuitry embodied in either hardware or a combination of hardware and software that is configured to receive and or transmit data from to a network and or any other device or module in communication with the apparatus such as by supporting communications with a display and or a mobile terminal. In this regard the communication interface may include for example an antenna or multiple antennas and supporting hardware and or software for enabling communications with a wireless communication network. Additionally or alternatively the communication interface may include the circuitry for interacting with the antenna s to cause transmission of signals via the antenna s or to handle receipt of signals received via the antenna s . In some environments the communication interface may alternatively or also support wired communication. As such for example the communication interface may include a communication modem and or other hardware software for supporting communication via cable digital subscriber line DSL universal serial bus USB or other mechanisms.

The apparatus may include a user interface that may in turn be in communication with the processor to provide output to the user and in some embodiments to receive an indication of a user input. For example the user interface may include a display and in some embodiments may also include a keyboard a mouse a joystick a touch screen touch areas soft keys a microphone a speaker or other input output mechanisms. In one embodiment the display of the apparatus may be embodied by a liquid crystal display LCD screen presented on one surface of the mobile terminal. For example in an instance in which the display is an LCD screen embodied on one surface of the mobile terminal the AR interface may be displayed on the screen for viewing by and interacting with the user of the mobile terminal. As the mobile terminal moves in physical space and visual input provided to the mobile terminal changes the AR interface displayed on the screen may be updated in a corresponding manner. The processor may comprise user interface circuitry configured to control at least some functions of one or more user interface elements such as a display and in some embodiments a speaker ringer microphone and or the like. The processor and or user interface circuitry comprising the processor may be configured to control one or more functions of one or more user interface elements through computer program instructions e.g. software and or firmware stored on a memory accessible to the processor e.g. memory and or the like .

In some example embodiments the apparatus may include an image capturing element such as a camera video and or audio module in communication with the processor . The image capturing element may be any means for capturing an image video and or audio for storage display or transmission. For example in an example embodiment in which the image capturing element is a camera the camera may include a digital camera capable of forming a digital image file from a captured image. As such the camera may include all hardware for example a lens or other optical component s image sensor image signal processor and or the like and software necessary for creating a digital image file from a captured image. Alternatively the camera may include only the hardware needed to view an image while a memory device of the apparatus stores instructions for execution by the processor in the form of software necessary to create a digital image file from a captured image. In an example embodiment the camera may further include a processing element such as a co processor which assists the processor in processing image data and an encoder and or decoder for compressing and or decompressing image data. The encoder and or decoder may encode and or decode according to for example a joint photographic experts group JPEG standard a moving picture experts group MPEG standard or other format.

As shown in the apparatus may also include one or more sensors such as a location information receiver e.g. a GPS receiver an accelerometer a gyroscope a compass or the like that may be in communication with the processor and may be configured to determine the location of the apparatus and to detect changes in motion and or orientation of the apparatus.

The method apparatus and computer program product may now be described in conjunction with the operations illustrated in . In this regard the apparatus may include means such as the processor the camera or the like for displaying points of interest in an AR interface. The processor may perform use point of interest POI data in conjunction with input from one or more of the sensors to display points of interest via a display in an efficient and visually pleasing manner. The processor may process the locations of one or more of the points of interest to optimize placement of the POIs such as by projecting the points of interest onto a cylinder and deriving three dimensional coordinates based on the position of the POIs on the cylinder. The processor may further identify interface elements for POIs that are likely to be proximate to one another in the three dimensional representation. Identification of these POIs may allow for clustering and deoverlapping processes prior to actual rendering of the POIs thus improving the user visual experience while also reducing the amount of processor resources consumed.

Points of interest are typically associated with geographic coordinates to provide a common location reference system. For example a POI may be identified as being at a particular set of latitude and longitude coordinates and or elevation data or at a particular location defined by a polar coordinate system. At action geographic coordinates may be identified for one or more points of interest to be displayed in an AR interface. For example an application executing on the mobile terminal may receive sensor data e.g. global positioning system data to identify the location of the mobile terminal. The mobile terminal may determine one or more points of interest proximate to the location of the mobile terminal. For example the mobile terminal may query a POI database using the identified location of the mobile terminal and the POI database may provide one or more points of interest proximate to the location. Points of interest may also be associated with metadata indicating other attributes of the POI. For example points of interest may be associated with a name an address a phone number and or a type of POI. In some embodiments the mobile terminal may request a particular category or type of points of interest e.g. restaurants or shops proximate to the current location and the AR interface may be designed to display points of interest of the chosen category or type. The geographic coordinates may be determined by a processing means such as the processor .

In order to display a POI in the AR interface the mobile terminal may determine the location of the POI relative to the current position of the mobile terminal. This location may be determined at action and expressed as polar coordinates with a bearing and distance value. In this regard the geographic coordinates may be processed along with the geographic location of the mobile terminal in order to convert the geographic coordinates to positions in a three dimensional space relative to the mobile terminal. For example a location expressed in polar coordinates may be converted to a location relative to the mobile terminal or the relative coordinates of the POI may be converted into a distance and bearing relative to the location and bearing of the mobile terminal. For example a conversion function may utilize conversion properties as specified by the World Geodetic System 84 WGS84 standard coordinate frame. The location of each POI relative to the mobile terminal may be performed by a processing means such as the processor . The WGS84 standard coordinate frame may provide the basis for a conversion function provided as part of an application programming interface API . The conversion function may be performed according to the following equations Eq. 1 Eq. 2 

Where Xis the difference between the latitude of the mobile terminal and the latitude of the POI in meters and Zis the difference between the longitude of the mobile terminal and the longitude of the POI in meters.

Once coordinates are established for the POI the POI may be projected onto a cylinder representing the three dimensional space around the mobile terminal at action . The cylinder may be a unit cylinder and each of the nearby points of interest may be projected onto the unit cylinder according to the distance and bearing of the POI relative to the mobile terminal as determined at action . For example each POI may be associated with a bearing and a distance D such as derived by the following equation 

where Xand Zare the distance between the POI and the location of the mobile terminal along the North South and East West axes respectively and where is an bearing with reference to North. The distance Dmay be derived by determining the actual distance in meters between the location of the POI and the location of the mobile terminal in meters. The points of interest may be projected onto the circle that forms the base of the cylinder using the bearing angle to define an angle relative to north on the circle and the height of the POI on the cylinder may correspond to the distance D. The POI may be projected onto the cylindrical representation via a processing means such as the processor .

At action the method may determine the size of points of interest projected onto the cylinder. Each POI may be associated with a particular point in space represented on the cylinder by a bearing e.g. an angle relative to north and a cylinder height. However the POI is displayed as an interface element with a width and height rather than as a point in space. As such in order to determine which POIs are likely to be proximate to one another the size of the interface element is determined. The size of the interface element may be related to a base interface element size multiplied by a scale value. For example POIs that are closer to the mobile terminal may be scaled to appear larger in the display than POIs that are further away. Depending upon the distance a given POI interface element may have different rules applied for determining the size of the interface element. For example an interface element for a POI in the far distance may be represented by a small scent icon rather than a full sized interface element. If the distance of the POI to the mobile terminal is included in the cylindrical projection as a height on the cylinder then the size of the interface element for the POI may also be a function of this height. The size of the points of interest may be determined by a processing means such as the processor .

The size of the POI may be determined based on how many screen pixels in width and height the scaled POI is. By determining the angle for the frame of view of the screen a number of degrees of width and height may be determined for the interface element. For example if the POI is half the width of a 800 480 screen e.g. 400 pixels wide and the angle of the frame of view of the screen is 90 degrees then the POI would be 45 degrees wide. Alternately the number of degrees of the display may be used with the pixel values of the screen to determine a number of degrees per pixel and the number of degrees per pixel may be multiplied by the number of pixels in the POI interface element to arrive at the POI width and height in degrees. By determining the width and height of the POI interface element in degrees proximate POIs that are likely to interfere with one another may be identified using the cylindrical representation without the need to render the POI in three dimensional space.

At action the POIs may be sorted based on their bearing relative to the circular base of the cylinder e.g. a number of degrees with respect to north . The POIs may be sorted in this manner to simplify proximity detection and reduce the number of inefficient searches that are performed. For example sorting the POIs allows for horizontal comparisons with only the left and right neighbors. In the event there is no horizontal overlap then there is no need to search for overlap with the next nearest neighbor to that side. The POIs may be sorted based on bearing by a processing means such as the processor .

At action a neighbor list may be generated for each of the POIs. As described above the neighbor list may be utilized to identify potentially overlapping POIs without the need to render the POI in a three dimensional space. The neighbor list may be generated via a processing means such as the processor . A method for generating the neighbor list is described further below with respect to .

At action the neighbor list is used to display the POIs. As described above the POIs may be displayed as interface elements in an AR interface. The neighbor list may be used to optimize the display of these interface elements prior to converting each interface element into a three dimensional format. In this manner operations that are dependent upon interface element proximity such as deoverlapping and or clustering may be performed prior to generating a three dimensional representation of each interface element. The neighbor list may be used to optimize display of the POIs as interface elements by a processing means such as the processor .

During a nearest neighbor analysis it may be appropriate to examine not just the interface element itself but also an area around the interface element. By including a buffer zone around the actual edge of the interface element it may be possible to anticipate and avoid scenarios where interface elements are moved to deoverlap with a first interface element but the movement results in an overlap with a second interface element. In the present example two buffer zones and are shown for two interface elements and respectively. Each of the interface elements may be analyzed in turn to generate a neighbor list. In the present example a resulting neighbor list accounting for an buffer zone for each interface element equivalent to the buffer zones and for interface elements and might appear as follows 

The neighbor list may be used to preemptively adjust the positioning spacing or clustering of the interface elements before the interface elements are converted to a three dimensional representation. A method for generating the neighbor list is described further below with respect to .

At action a size may be determined for one or more interface elements associated with points of interest projected about a cylinder. As described with respect to each point of interest may be associated with a point location and an interface element drawn about the point location. The size of the interface element defines how far out from the actual location of the POI that the POI may represent a proximity concern. The size of the interface element may be provided in terms of a number of degrees about the circle that defines the base of the cylinder. In some embodiments POIs are sorted for analysis based on the bearing of each POI about the circle as described above with respect to . A size may be determined for the interface elements by a processing means such as the processor .

At action a POI may be selected for analysis. The POI may be selected in the sort order defined by the bearing around the circle of the base of the cylinder such that POIs are analyzed in order of their location on the circle relative to due north. Analysis of the POIs in this manner may allow for efficient determination of potentially overlapping POIs ignoring POIs to the left and right of the selected POI where the selected POI does not have horizontal overlap with a nearest left and right neighbor e.g. ignoring POIs further to the right if the POI does not have a horizontal overlap with its nearest right neighbor . Selection of the POI may be performed by a processing means such as the processor .

At action a proximity buffer may be identified about the interface element. As described with respect to each interface element may have a buffer region defined about the boundaries of the interface element for the purposes of determining whether a POI is proximate to another POI. This buffer allows for accounting of potential movement and error in the predicted location of the interface element when the interface element is drawn in three dimensional space. For example a particular interface element may be moved horizontally or vertically as part of a deoverlapping operation and thus this potential movement may be accounted for by the proximity buffer. In some embodiments the size of the proximity buffer may be based upon a maximum distance employed in an overlapping operation. The proximity buffer may be identified about the interface element by a processing means such as the processor .

At action the method determines whether an interface element for a next point of interest overlaps with the proximity buffer. The determination of whether the interface element overlaps may be performed by examining a range of degree values about the POI location as defined by the interface element size. For example a point of interest may be located at 45 degrees about a cylindrical circle and have a proximity buffer width of 10 degrees. As such the horizontal range of the point of point of interest may be 45 degrees plus or minus 5 degrees thus giving a range of 40 50 degrees for potential horizontal overlap. Therefore any POI with an interface element that overlaps in the range of 40 50 degrees may be defined as a proximate neighbor to the selected POI. A similar calculation may be performed to identify vertical overlap with a degree range defined for a POI proximity buffer height compared against a vertical degree range for a POI that has been established as horizontally overlapping. In circumstances where the proximity buffer of the selected POI and an analyzed POI overlap in both the horizontal and vertical directions the analyzed POI may be identified as a neighbor to the analyzed POI. If the analyzed POI does not overlap in both directions then the analyzed POI may not be identified as a neighbor to the selected POI. The determination as to whether the analyzed POI overlaps with the proximity buffer may be performed by a processing means such as the processor .

At action the method branches depending upon whether the analyzed POI overlaps with the proximity buffer. If there is overlap the method proceeds to action . Otherwise the method proceeds to action . The process flow of the method at action may be determined by a processing means such as the processor .

At action the analyzed POI is added to the neighbor list of the selected POI because the analyzed POI is within a proximity range of the selected POI. The neighbor list does not guarantee that the analyzed POI and the selected POI will overlap. Differences in coordinate systems between the cylindrical representation and a three dimensional representation may cause the neighbor list to be an approximation of which POI interface elements are most likely to overlap one another. The neighbor list provides an efficient way to perform interface operations on interface elements prior to projecting the interface elements into a three dimensional space. The analyzed POI may be added to the neighbor list by a processing means such as the processor .

At action if all POIs have been analyzed for overlap with the selected POI proximity buffer then the method may proceed to action . Otherwise the method may examine the next unanalyzed POI by returning to action . In some embodiments if the POIs are sorted by bearing relative to the circle that forms the base of the cylinder and the analyzed POI does not overlap with the selected POI in a horizontal direction then no further POIs in that direction may be analyzed to avoid redundant processing. The method may then analyze a next POI in the opposite direction e.g. counter clockwise if the next clockwise POI does not have a horizontal overlap or select another POI if both directions have been analyzed. This continued analysis process of examining each POI for overlap with the proximity cell may be performed by a processing means such as the processor .

At action the method branches depending upon whether all POIs have been selected for analysis. If all POIs have been analyzed for proximity with other POIs then the method proceeds to action to complete the neighbor list. Otherwise the method returns to action to select a new POI for proximity analysis. The process of selecting a next POI for analysis may be performed by a processing means such as the processor .

At action the neighbor list may be completed using the information derived by examining the POIs for proximity with one another. The neighbor list may be stored in a memory of a mobile terminal such as the apparatus to assist the mobile terminal with display of the POIs and the associated interface elements in an efficient manner. Completion of the neighbor list may include committing the neighbor list to storage or notifying another process that the neighbor list is complete and ready for use. Various other ancillary data may also be added to the neighbor list to facilitate display of the interface elements. An example of a method for using the neighbor list in this manner is described below with respect to .

At action one or more POIs are identified for display. For example a mobile terminal may receive a particular heading define a particular view port e.g. a video display and wish to display every POI visible at that heading and in that view port. In some circumstances e.g. large cities with many POIs this may result in a display that shows more POI interface elements than a user may easily interact with. As such prior to rendering the POIs the subset that are to be displayed in the video display may be analyzed using the neighbor list. The POIs may be identified for display by a processing means such as the processor .

At action the method accesses neighbor data for the displayed points of interest in the neighbor list. If two or more POIs are indicated as neighbors in the list and both are identified for display at action then it may be appropriate to perform interface operations to reduce clutter and improve the device interface. For example two or more POIs that are likely to overlap and located at the same bearing relative to the mobile terminal may be combined into a single interface element via clustering techniques. Alternately if two or more POIs are identified as neighbors and there are gaps to either side of the interface elements of those POIs then it may be appropriate to introduce a horizontal offset so that the interface elements do not occlude one another. As a yet further alternative if two or more POIs are identified as neighbors and there are gaps above and below the interface elements of those POIs then it may be appropriate to introduce a vertical offset so that the interface elements do not occlude one another. In some embodiments the neighbor list is used to identify POIs that should be checked for overlap or occlusion after plotting the POIs in a three dimensional environment as the neighbor list may only be an approximation of the positioning of the POIs and thus verification may be necessary. The neighbor data for the identified POIs may be accessed and processed by a processing means such as the processor .

POI interface elements may be configured to overlap in three dimensional space in such a manner so that POI names or titles are always displayed. An always visible area may be defined for each POI interface element. For example interface elements may have a particular text area e.g. the name of the POI identified as always visible. The always visible area of the POI may be defined based on a starting x y coordinate and vertical and horizontal offsets from the starting coordinate. If portions of the always visible area of the instant POI are occluded then the occluding POI or the instant POI may be relocated such that the always visible area is visible in the display. In some embodiments the always visible area of the POI may be used as the proximity buffer for the POI during establishment of the neighbor list e.g. via the method .

POI interface elements may be presented as a cluster when they share the same geolocation or if there is a visual vertical or horizontal overlap that falls above a certain overlap threshold. Selecting a cluster of POI interface elements may expand the cluster and performing a selection operation elsewhere may close the cluster.

At action display of the identified POIs is performed using the information determined from the neighbor list at action . Display of the identified POIs may be performed by a processing means such as the processor . In this manner the neighbor list may allow for efficient display of POIs and analysis of POI density and overlap information prior to building a three dimensional representation of the POI interface elements thus saving processing power while ensuring efficient display of a visually pleasing interface.

It will be understood that each block of the flowchart and combinations of blocks in the flowchart may be implemented by various means such as hardware firmware processor circuitry and or other devices associated with execution of software including one or more computer program instructions. For example one or more of the procedures described above may be embodied by computer program instructions. In this regard the computer program instructions which embody the procedures described above may be stored by a memory of an apparatus employing an embodiment of the present invention and executed by a processor of the apparatus. As will be appreciated any such computer program instructions may be loaded onto a computer or other programmable apparatus e.g. hardware to produce a machine such that the resulting computer or other programmable apparatus implements the functions specified in the flowchart blocks. These computer program instructions may also be stored in a computer readable memory that may direct a computer or other programmable apparatus to function in a particular manner such that the instructions stored in the computer readable memory produce an article of manufacture the execution of which implements the function specified in the flowchart blocks. The computer program instructions may also be loaded onto a computer or other programmable apparatus to cause a series of operations to be performed on the computer or other programmable apparatus to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide operations for implementing the functions specified in the flowchart blocks.

Accordingly blocks of the flowchart support combinations of means for performing the specified functions and combinations of operations for performing the specified functions for performing the specified functions. It will also be understood that one or more blocks of the flowchart and combinations of blocks in the flowchart can be implemented by special purpose hardware based computer systems which perform the specified functions or combinations of special purpose hardware and computer instructions.

In some embodiments certain ones of the operations above may be modified or further amplified. Furthermore in some embodiments additional optional operations may be included. Modifications additions or amplifications to the operations above may be performed in any order and in any combination.

Many modifications and other embodiments of the inventions set forth herein will come to mind to one skilled in the art to which these inventions pertain having the benefit of the teachings presented in the foregoing descriptions and the associated drawings. Therefore it is to be understood that the inventions are not to be limited to the specific embodiments disclosed and that modifications and other embodiments are intended to be included within the scope of the appended claims. Moreover although the foregoing descriptions and the associated drawings describe example embodiments in the context of certain example combinations of elements and or functions it should be appreciated that different combinations of elements and or functions may be provided by alternative embodiments without departing from the scope of the appended claims. In this regard for example different combinations of elements and or functions than those explicitly described above are also contemplated as may be set forth in some of the appended claims. Although specific terms are employed herein they are used in a generic and descriptive sense only and not for purposes of limitation.

