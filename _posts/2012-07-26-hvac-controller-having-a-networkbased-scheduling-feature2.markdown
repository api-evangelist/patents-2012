---

title: HVAC controller having a network-based scheduling feature
abstract: A master HVAC schedule for an HVAC controller may be stored on an external server accessible over a computer network. The external server may maintain the master HVAC schedule, and may translate a portion of the master HVAC schedule into a basic HVAC schedule that is executable by an HVAC controller. The external server may deliver the basic HVAC schedule to an HVAC controller according to a predetermined schedule. In some cases, the external server may deliver an updated basic HVAC schedule to the HVAC controller in response to a user initiated change made to the master HVAC schedule or upon restoration of a lost network connection between the HVAC controller and the external server.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09657957&OS=09657957&RS=09657957
owner: Honeywell International Inc.
number: 09657957
owner_city: Morris Plains
owner_country: US
publication_date: 20120726
---
This application is related to application Ser. No. 13 559 443 entitled HVAC CONTROLLER WITH WIRELESS NETWORK BASED OCCUPANCY DETECTION AND CONTROL and Application Ser. No. 13 559 470 entitled METHOD OF ASSOCIATING AN HVAC CONTROLLER WITH AN EXTERNAL WEB SERVICE both filed on the same day herewith and both incorporated herein by reference in their entireties for all purposes.

The present disclosure relates generally to HVAC systems and more particularly to HVAC controllers that accommodate and or facilitate control of an HVAC system from a remote location.

Heating ventilation and or air conditioning HVAC systems are often used to control the comfort level within a building or other structure. Such HVAC systems typically include an HVAC controller that controls various HVAC components of the HVAC system in order to affect and or control one or more environmental conditions within the building. In some cases it may be desirable for a user to be able to affect the operation of an HVAC system from a remote location.

The present disclosure relates generally to HVAC systems and more particularly to HVAC controllers that accommodate and or facilitate control of an HVAC system from a remote location. In one illustrative embodiment an HVAC controller for controlling one or more HVAC components of an HVAC system in accordance with a programmable HVAC schedule includes an output port for sending one or more control signals to one or more HVAC components a communications port for receiving data from a remote server via a computer network a memory having at least one day of a programmable HVAC schedule stored therein and a controller coupled to the output port the communications port and the memory. In some instances the controller is configured to output one or more control signal via the output port to control the one or more HVAC components in accordance with the programmable HVAC schedule stored in the memory and to receive an updated HVAC schedule having scheduling data for at least one day from the remote server via the communications port. The controller may overwrite at least one day of the programmable HVAC schedule stored in the memory of the HVAC controller with scheduling data from the updated HVAC schedule. In some cases the controller may receive an updated HVAC schedule from the remote server in accordance with a predetermined schedule but this is not required.

In another illustrative embodiment an HVAC controller may receive an HVAC schedule having at least one day from a remote server. The HVAC schedule may be stored in a memory of the HVAC controller. The HVAC controller may operate the HVAC system in accordance with the HVAC schedule. Later an updated HVAC schedule may be received from the remote server. The updated HVAC schedule may include scheduling data for one or more additional days beyond the at least one day of the HVAC schedule. The HVAC controller may overwrite at least one day of the HVAC schedule with scheduling data from the updated HVAC schedule.

In another illustrative embodiment a server accessible over a computer network can include an input output port for sending and or receiving data via the computer network a data storage device and a controller coupled to the input output port and the data storage device. In some instances the controller may be configured to maintain a master HVAC schedule having up to 366 days and to translate a sub portion of the master HVAC schedule into a basic HVAC schedule having at least one less day than the master HVAC schedule. The controller is further configured to deliver the basic HVAC schedule to an HVAC controller over the computer network via the input output port of the server. In some instances the controller may be configured to deliver the basic HVAC schedule to an HVAC controller in accordance with a predetermined schedule. In other instances the controller may deliver an updated basic HVAC schedule to an HVAC controller in response to a change or update to the master HVAC schedule initiated by a user. These are just examples.

The preceding summary is provided to facilitate an understanding of some of the innovative features unique to the present disclosure and is not intended to be a full description. A full appreciation of the disclosure can be gained by taking the entire specification claims drawings and abstract as a whole.

While the disclosure is amenable to various modifications and alternative forms specifics thereof have been shown by way of example in the drawings and will be described in detail. It should be understood however that the intention is not to limit aspects of the disclosure to the particular illustrative embodiments described. On the contrary the intention is to cover all modifications equivalents and alternatives falling within the spirit and scope of the disclosure.

The following description should be read with reference to the drawings wherein like reference numerals indicate like elements throughout the several views. The description and drawings show several embodiments which are meant to illustrative in nature.

It is contemplated that the HVAC controller s may be configured to control the comfort level in the building or structure by activating and deactivating the HVAC component s in a controlled manner. The HVAC controller s may be configured to control the HVAC component s via a wired or wireless communication link . In some cases the HVAC controller s may be a thermostat such as for example a wall mountable thermostat but this is not required in all embodiments. Such a thermostat may include e.g. within the thermostat housing or have access to a temperature sensor for sensing an ambient temperature at or near the thermostat. In some instances the HVAC controller s may be a zone controller or may include multiple zone controllers each monitoring and or controlling the comfort level within a particular zone in the building or other structure.

In the illustrative HVAC system shown in the HVAC component s may provide heated air and or cooled air via the ductwork throughout the building . As illustrated the HVAC component s may be in fluid communication with every room and or zone in the building via the ductwork and but this is not required. In operation when a heat call signal is provided by the HVAC controller s an HVAC component e.g. forced warm air furnace may be activated to supply heated air to one or more rooms and or zones within the building via supply air ducts . The heated air may be forced through supply air duct by a blower or fan . In this example the cooler air from each zone may be returned to the HVAC component e.g. forced warm air furnace for heating via return air ducts . Similarly when a cool call signal is provided by the HVAC controller s an HVAC component e.g. air conditioning unit may be activated to supply cooled air to one or more rooms and or zones within the building or other structure via supply air ducts . The cooled air may be forced through supply air duct by the blower or fan . In this example the warmer air from each zone may be returned to the HVAC component e.g. air conditioning unit for cooling via return air ducts . The HVAC system may include an internet gateway or other device such as communication link that may allow one or more of the HVAC components as described herein to communicate over a wide area network WAN such as for example the Internet. In some cases the communication link may be integrated into the HVAC controller but this is not required.

In some cases the system of vents or ductwork and or can include one or more dampers to regulate the flow of air but this is not required. For example one or more dampers may be coupled to one or more HVAC controller s and can be coordinated with the operation of one or more HVAC components . The one or more HVAC controller s may actuate dampers to an open position a closed position and or a partially open position to modulate the flow of air from the one or more HVAC components to an appropriate room and or zone in the building or other structure. The dampers may be particularly useful in zoned HVAC systems and may be used to control which zone s receives conditioned air from the HVAC component s .

In many instances one or more air filters may be used to remove dust and other pollutants from the air inside the building . In the illustrative example shown in the air filter s is installed in the return air duct and may filter the air prior to the air entering the HVAC component but it is contemplated that any other suitable location for the air filter s may be used. The presence of the air filter s may not only improve the indoor air quality but may also protect the HVAC components from dust and other particulate matter that would otherwise be permitted to enter the HVAC component.

In some cases and as shown in the illustrative HVAC system may include an equipment interface module EIM . When provided the equipment interface module may be configured to measure or detect a change in a given parameter between the return air side and the discharge air side of the HVAC system . For example the equipment interface module may be adapted to measure a difference in temperature flow rate pressure or a combination of any one of these parameters between the return air side and the discharge air side of the HVAC system . In some cases the equipment interface module may be adapted to measure the difference or change in temperature delta T between a return air side and discharge air side of the HVAC system for the heating and or cooling mode. The delta T for the heating mode may be calculated by subtracting the return air temperature from the discharge air temperature e.g. delta T discharge air temp. return air temp. . For the cooling mode the delta T may be calculated by subtracting the discharge air temperature from the return air temperature e.g. delta T return air temp. discharge air temp. .

In some cases the equipment interface module may include a first temperature sensor located in the return incoming air duct and a second temperature sensor located in the discharge outgoing or supply air duct . Alternatively or in addition the equipment interface module may include a differential pressure sensor including a first pressure tap located in the return incoming air duct and a second pressure tap located downstream of the air filter to measure a change in a parameter related to the amount of flow restriction through the air filter . In some cases the equipment interface module when provided may include at least one flow sensor that is capable of providing a measure that is related to the amount of air flow restriction through the air filter . In some cases the equipment interface module may include an air filter monitor. These are just some examples.

When provided the equipment interface module may be configured to communicate with the HVAC controller via for example a wired or wireless communication link . In other cases the equipment interface module may be incorporated or combined with the HVAC controller . In either cases the equipment interface module may communicate relay or otherwise transmit data regarding the selected parameter e.g. temperature pressure flow rate etc. to the HVAC controller . In some cases the HVAC controller may use the data from the equipment interface module to evaluate the system s operation and or performance. For example the HVAC controller may compare data related to the difference in temperature delta T between the return air side and the discharge air side of the HVAC system to a previously determined delta T limit stored in the HVAC controller to determine a current operating performance of the HVAC system .

Depending upon the application and or where the HVAC user is located remote access and or control of the HVAC controller may be provided over the first network and or the second network . A variety of mobile wireless devices may be used to access and or control the HVAC controller from a remote location e.g. remote from HVAC Controller over the first network and or second network including but not limited to mobile phones including smart phones PDAs tablet computers laptop or personal computers wireless network enabled key fobs e Readers and the like.

In many cases the mobile wireless devices are configured to communicate wirelessly over the first network and or second network with the HVAC controller via one or more wireless communication protocols including but not limited to cellular communication ZigBee REDLINK Bluetooth WiFi IrDA dedicated short range communication DSRC EnOcean and or any other suitable common or proprietary wireless protocol as desired.

In some cases the HVAC controller may be programmed to communicate over the second network with an external web service hosted by one or more external web servers . A non limiting example of such an external web service is Honeywell s TOTAL CONNECT web service. The HVAC controller may be configured to upload selected data via the second network to the external web service where it may be collected and stored on the external web server . In some cases the data may be indicative of the performance of the HVAC system . Additionally the HVAC controller may be configured to receive and or download selected data settings and or services including software updates from the external web service over the second network . The data settings and or services may be received automatically from the web service downloaded periodically in accordance with a control algorithm and or downloaded in response to a user request. In some cases for example the HVAC controller may be configured to receive and or download an HVAC operating schedule and operating parameter settings such as for example temperature set points humidity set points start times end times schedules window frost protection settings and or the like. In some instances the HVAC controller may be configured to receive one or more user profiles having at least one operational parameter setting that is selected by and reflective of a user s preferences. Additionally the HVAC controller may be configured to receive local weather data weather alerts and or warnings major stock index ticker data and or news headlines over the second network . These are just some examples.

In some cases HVAC controller may include a timer not shown . The timer may be integral to the processor or may be provided as a separate component. The HVAC controller may also optionally include an input output block I O block for receiving one or more signals from the HVAC system and or for providing one or more control signals to the HVAC system . For example the I O block may communicate with one or more HVAC components of the HVAC system . Alternatively or in addition to the I O block may communicate with another controller which is in communication with one or more HVAC components of the HVAC system such as a zone control panel in a zoned HVAC system equipment interface module EIM e.g. EIM shown in or any other suitable building control device.

The HVAC controller may also include an internal temperature sensor but this is not required. In some cases the HVAC controller may communicate with one or more remote temperature sensors humidity sensors and or occupancy sensors located throughout the building or structure. The HVAC controller may communicate with a temperature sensor and or humidity sensor located outside of the building or structure for sensing an outdoor temperature and or humidity if desired.

The processor may operate in accordance with an algorithm that controls or at least partially controls one or more HVAC components of an HVAC system such as for example HVAC system shown in . The processor for example may operate in accordance with a control algorithm that provides temperature set point changes humidity set point changes schedule changes start and end time changes window frost protection setting changes operating mode changes and or the like. At least a portion of the control algorithm may be stored locally in the memory of the HVAC controller and in some cases may be received from an external web service over the second network. The control algorithm or portion thereof stored locally in the memory of the HVAC controller may be periodically updated in accordance with a predetermined schedule e.g. once every 24 hours 48 hours 72 hours weekly monthly etc. updated in response to any changes to the control algorithm made by a user and or updated in response to a user s request. The updates to the control algorithm or portion of the control algorithm stored in the memory may be received from an external web service over the second network. In some cases the control algorithm may include settings such as set points.

In some cases the processor may operate according to a first operating mode having a first temperature set point a second operating mode having a second temperature set point a third operating mode having a third temperature set point and or the like. In some cases the first operating mode may correspond to an occupied mode and the second operating mode may correspond to an unoccupied mode. In some cases the third operating mode may correspond to a holiday or vacation mode wherein the building or structure in which the HVAC system is located may be unoccupied for an extended period of time. In other cases the third operating mode may correspond to a sleep mode wherein the building occupants are either asleep or inactive for a period of time. These are just some examples. It will be understood that the processor may be capable of operating in additional modes as necessary or desired. The number of operating modes and the operating parameter settings associated with each of the operating modes may be established locally through a user interface and or through an external web service and delivered to the HVAC controller via the second network where they may be stored in the memory for reference by the processor .

In some cases the processor may operate according to one or more predetermined operating parameter settings associated with a user profile for an individual user. The user profile may be stored in the memory of the HVAC controller and or may be hosted by an external web service and stored on an external web server. The user profile may include one or more user selected settings for one or more operating modes that may be designated by the user. For example the processor may operate according to a first operating mode having a first temperature set point associated with a first user profile a second operating mode having a second temperature set point associated with the first user profile a third operating mode having a third temperature set point associated with the first user profile and or the like. In some cases the first operating mode may correspond to an occupied mode the second operating mode may correspond to an unoccupied mode and the third operating mode may correspond to a vacation or extended away mode wherein the building or structure in which the HVAC system is located may be unoccupied for an extended period of time. In some cases multiple user profiles may be associated with the HVAC controller . In certain cases where two or more user profiles are associated with the HVAC controller the processor may be programmed to include a set of rules for determining which individual user profile takes precedence for controlling the HVAC system when both user profiles are active.

In the illustrative embodiment of the user interface when provided may be any suitable user interface that permits the HVAC controller to display and or solicit information as well as accept one or more user interactions with the HVAC controller . For example the user interface may permit a user to locally enter data such as temperature set points humidity set points starting times ending times schedule times diagnostic limits responses to alerts and the like. In one embodiment the user interface may be a physical user interface that is accessible at the HVAC controller and may include a display and or a distinct keypad. The display may be any suitable display. In some instances a display may include or may be a liquid crystal display LCD and in some cases a fixed segment display or a dot matrix LCD display. In other cases the user interface may be a touch screen LCD panel that functions as both display and keypad. The touch screen LCD panel may be adapted to solicit values for a number of operating parameters and or to receive such values but this is not required. In still other cases the user interface may be a dynamic graphical user interface.

In some instances the user interface need not be physically accessible to a user at the HVAC controller . Instead the user interface may be a virtual user interface that is accessible via the first network and or second network using a mobile wireless device such as one of those devices previously described herein. In some cases the virtual user interface may include one or more web pages that are broadcasted over the first network e.g. LAN by an internal web server implemented by the processor . When so provided the virtual user interface may be accessed over the first network using a mobile wireless device such as any one of those listed above. Through the one or more web pages the processor may be configured to display information relevant to the current operating status of the HVAC system including the current operating mode temperature set point actual temperature within the building outside temperature outside humidity and or the like. Additionally the processor may be configured to receive and accept any user inputs entered via the virtual user interface including temperature set points humidity set points starting times ending times schedule times window frost protection settings diagnostic limits responses to alerts and the like.

In other cases the virtual user interface may include one or more web pages that are broadcasted over the second network e.g. WAN or the Internet by an external web server e.g. web server . The one or more web pages forming the virtual user interface may be hosted by an external web service and associated with a user account having one or more user profiles. The external web server may receive and accept any user inputs entered via the virtual user interface and associate the user inputs with a user s account on the external web service. If the user inputs include any changes to the existing control algorithm including any temperature set point changes humidity set point changes schedule changes start and end time changes window frost protection setting changes operating mode changes and or changes to a user s profile the external web server may update the control algorithm as applicable and transmit at least a portion of the updated control algorithm over the second network to the HVAC controller where it is received via the second port and may be stored in the memory for execution by the processor .

The memory of the illustrative HVAC controller may be in communication with the processor . The memory may be used to store any desired information such as the aforementioned control algorithm set points schedule times diagnostic limits such as for example differential pressure limits delta T limits and the like. The memory may be any suitable type of storage device including but not limited to RAM ROM EPROM flash memory a hard drive and or the like. In some cases the processor may store information within the memory and may subsequently retrieve the stored information from the memory .

Referring back generally to any number or wired or wireless devices including the HVAC controller and a user s mobile wireless device may be connected to and enrolled in a building s wireless local area network . In some cases the HVAC controller may be configured to execute a program code stored in the memory for connecting to and enrolling with the wireless local area network of the building in which it is located. Each device may be assigned a unique identifier e.g. IP address upon enrollment with the wireless local area network. The unique identifier may be assigned by a router or other gateway device. The router or gateway device may store a local cache containing a list of unique identifiers e.g. IP addresses for each of the devices connected to the wireless local area network. The router or gateway can be a separate device from the HVAC controller but this is not required. In some cases a MAC address or MAC CRC address provided by the device being enrolled in the wireless local area network host upon connection of the device to the network may be used to uniquely identify the device on the wireless local area network and or wireless network . The unique identifier may be used to identify and recognize each device on the wireless local area network each time the device is connected to the wireless local area network and or wireless network .

A first wireless network may be established between the HVAC controller and a wireless device upon acceptance of the connection from the remote wireless device . Additionally the HVAC controller may be configured to connect to a second wireless network . In some cases the first wireless network and the second wireless network are both WiFi wireless networks. In other cases the first wireless network may be a blue tooth wireless network and the second wireless network may be a WiFi wireless network. In still other cases the first wireless network may be a ZigBee wireless network and the second wireless network may be a WiFi wireless network. These are just some examples. It is contemplated that the first network and the second network may be any suitable network as desired.

In many cases the second wireless network may be capable of communicating over a wide area network via a router or gateway for accessing an external web service hosted by an external web server . The external web service may include a user account having one or more user profiles that may be associated with the HVAC controller . The external web service may provide additional functionalities and or programming capabilities that may not otherwise be available at the HVAC controller or through the user interface of the remote device . Additionally the external web service may be programmed to receive selected data from the HVAC controller over the wide area network via the second wireless network and or WAN . When provided the data received from the HVAC controller may be analyzed to determine a user s energy usage trends determine a performance of the HVAC system detect and or predict occupancy of the building and or perform any other suitable analysis as desired.

In some cases the HVAC controller may be programmed to receive one or more access parameters for accessing the second wireless network over the first wireless network from the user s wireless device . In some cases the second wireless network may be a wireless local area network of the building or structure in which the HVAC controller is installed. The one or more access parameters may include a service set identifier SSID for the second wireless network and or passcode required to gain access to the second wireless network . In some cases the one or more access parameters for accessing the second wireless network may have been previously entered by a user through the user interface of the user s wireless device and may be stored in the memory of the wireless device . For example in some cases the user s wireless device may be configured to execute an application program e.g. app that solicits and accepts via the user interface of the device one or more access parameters for accessing the second wireless network . The application program may be provided by and downloaded from the external web service for this purpose but this is not required. This may be performed by a user when connecting their wireless device to the building s wireless local area network second wireless network . As such the user s wireless device may already store the one or more access parameters for the second wireless network which may then be passed to the HVAC controller when the wireless device is connected to the HVAC controller via the first wireless network .

In some cases upon connection of the wireless device to the HVAC controller via the first wireless network the HVAC controller may be configured to implement a web server for serving up one or more web pages over the first wireless network that may be displayed and viewed on the user interface of the wireless device . The one or more web pages displayed on the user interface of the wireless device may solicit and accept the one or more access parameters for accessing the second wireless network from a user.

Once the one or more access parameters are provided to the HVAC controller via the first wireless network the HVAC controller may be programmed to use at least in part the one or more access parameters to connect to the second wireless network . In some cases the HVAC controller may be programmed to connect to the second wireless network as a network client device using the one or more access parameters received from the user s wireless device making the HVAC controller available on the second network . In some cases the HVAC controller may be programmed to first disconnect itself from the first wireless network established between the HVAC controller and the user s wireless device before connecting to the second wireless network as a network client. For example and in some cases the HVAC controller may be programmed to perform a reset and on initialization may automatically connect to the second wireless network using the one or more access parameters.

In some cases before connecting to the second network the HVAC controller may be further programmed to transmit one or more registration parameters over the first wireless network to the user s wireless device . The one or more registration parameters may be stored in the memory of the HVAC controller and may be used to uniquely identify the HVAC controller to the external web service . In some cases the one or more registration parameters are pre loaded into the memory of the HVAC controller at the factory. The one or more registration parameters may include for example a Media Access Control address MAC address and or cyclic redundancy check code CRC code of the HVAC controller . These are just examples. The one or more registration parameters may be received by the user s wireless device and stored in the device memory for later use. In some cases the one or more registration parameters may be embedded or encoded in a hyperlink that may be delivered from the HVAC controller to the user s wireless device over the first network . The hyperlink may be provided on a web page served up by the HVAC controller on the first network and that is viewable on the user interface of the user s wireless device . The hyperlink may be available for selection by a user through the user interface of the wireless device such that the hyperlink when selected by a user may link to the external web service . In response the external web service may display a web page on the user interface of the wireless device prompting the user to enter a user login and password to gain access to a user account hosted by the external web service . Upon successful login in to the user account the external web service may associate the one or more registration parameters received from the wireless device with the user account.

Rather than embedding the one or more registration parameters in a hyperlink in some cases the user s wireless device may be programmed to automatically receives the one or more registration parameters from the HVAC controller when the wireless device is connected to the HVAC controller and to provide the one or more registration parameters to the external web service . In some cases this functionality may be provided by an application program e.g. app that is downloaded from the external web service for this purpose but this is not required. In other cases the application program may be available for download from another web service such as for example Apple s iTunes or Google s App Store. In any event upon login to a user account of the external web service the application program may automatically transmit the one or more registration parameters to the external web service . In some cases the external web service may use the one or more registration parameters to associate a particular HVAC controller with a particular user s account and in some cases may be used to differentiate between two or more HVAC controllers that are associated with a single user account.

In some cases the wireless device may be further programmed to provide a geographical location of the HVAC controller to the external web service . In one example the same application program that causes the wireless device to transmit the one or more registration parameters that uniquely identify the HVAC controller to the external web service may also cause the wireless device to transmit geographical location information identifying the geographical location of the HVAC controller to the external web service . When so provided the external web service may receive the location data associated HVAC controller and associate the location data with the user s account. In some cases it may be possible to have two HVAC controllers located in two different geographical locations e.g. home and cabin associated with a single user account. The external web service may be configured to differentiate between the two or more HVAC controllers associated with a single user account through the one or more registration parameters and the geographical location associated with each of the different thermostats.

As shown in the external web server can include at least one input output port for sending and or receiving data over the wide area network to and from the HVAC controller and or another remote device . The external web server can also include a data storage device and a controller coupled to the input output port and the data storage device . In some cases the controller may be configured to implement a web application for serving up one or more web pages over the wide area network via the input output port . The one or more web pages may be accessed and viewed by a user through the user interface of the remote device over the wide area network and or a second network as described herein. In some cases the one or more web pages may provide a virtual user interface for controlling the HVAC controller . Through the one or more web pages forming the virtual user interface a user may respond to alerts and may enter or change various HVAC operating parameters including but not limited to temperature set points humidity set points starting times ending times schedule times diagnostic limits and or the like as well as respond to one or more alerts.

In some cases the master HVAC operating schedule may be initially provided by the external web service and may include a number of default time periods for each day. Each time period may have a corresponding default operating parameter set point. The user may develop their own master HVAC operating schedule by making changes to the default master HVAC schedule maintained by the external web service .

In some cases the scheduling module may include a scheduling tool for guiding a user through building their own master HVAC schedule. In some cases the scheduling tool may be an application programming interface API that may be stored in the data storage device and that may cause the controller to display a series of web pages that may prompt a user to enter information regarding their daily schedule and preferred comfort levels. Additionally through the one or more web pages displayed by the scheduling tool the user may be prompted to enter information regarding holidays e.g. federal holidays bank holidays school holidays business holidays and or religious holidays and any upcoming vacations that the user may be aware of at the time of building the master HVAC schedule. The scheduling tool may use the information provided by the user to build a master HVAC schedule that may be stored on the data storage device . This may be similar to the method for building an HVAC schedule shown and described in U.S. patent application Ser. No. 12 424 931 entitled HVAC CONTROLLER WITH GUIDED SCHEDULE PROGRAMMING which is incorporated herein by reference in its entirety for all purposes. However rather than being developed for only seven days a master HVAC operating schedule may be developed for up to 366 days or more if desired.

Alternatively or in addition the controller may be programmed to receive scheduling data from a third party calendar application. In some cases this feature may be provided as a part of the scheduling tool . For example the scheduling tool may display a web page prompting the user to grant access to a third party calendar application utilized by the user. Exemplary third party calendar applications may include GOOGLE Calendar MICROSOFT OUTLOOK Calendar and YAHOO Calendar but these are only examples. In some cases the controller may include a translation module for translating at least portion of the data received from a third party calendar application into the master HVAC schedule. The translation module may be another application programming interface API that is capable of translating or mapping the third party calendar data into the master HVAC operating schedule format.

The master HVAC operating schedule may be stored in the data storage device and may be associated with a user s account. Upon accessing their user account hosted by the external web service a user may make changes to and or update the master HVAC schedule stored in the data storage device . Additionally in some cases the controller may be programmed to periodically access and synch up with a third party calendar application utilized by the user. In this example the controller may be programmed to periodically access and receive data from a third party calendar application and automatically update the master HVAC schedule maintained in the data storage device accordingly.

According to various illustrative embodiments the controller may be further configured to translate at least a portion or a sub portion of the master HVAC schedule into a basic HVAC schedule. In some cases the controller may include an additional translation module for translating a portion or a sub portion of the master HVAC schedule into a basic HVAC schedule. The translation module may be an application programming interface API that translates data from the more complex and or lengthy master HVAC schedule into a basic HVAC schedule that is readily understood and executable at the HVAC schedule. The basic HVAC schedule may have a simplified format and may have HVAC start times end times operating modes and or operating parameter set points for at least one day but typically less than eight days. This is just one example. In some cases the basic HVAC schedule may include more than eight days. Additionally the basic HVAC schedule may cover at least one less day than the master HVAC schedule. This is recognition that the HVAC controller may have significant memory and processing constraints at least relative to that available at the external web server . In some cases the basic HVAC schedule may be a seven day schedule with at least one schedulable time period per day but this is not required.

The controller may deliver the basic HVAC schedule to the HVAC controller over a wide area network via the input output port of the external server . In some cases the controller may be configured to deliver the basic HVAC schedule in accordance with a predetermined schedule e.g. once every 24 hours 48 hours 72 hours weekly bi weekly etc. . Alternatively or in addition the controller may be programmed to deliver an updated basic HVAC schedule to the HVAC controller in response to a change or an update to the master HVAC schedule stored in the data storage device . The change or update may be a change or update initiated by a user. The change or update to the master HVAC schedule may be initiated by the user over a wide area network via a virtual user interface using a remote device . In some cases the updated basic HVAC schedule may include at least one time period not covered by the previously delivered basic HVAC schedule. In other cases the updated basic HVAC schedule may include at least one day not covered by the previously delivered master HVAC schedule. The controller may also be programmed to deliver an updated basic HVAC schedule to the HVAC controller upon restoration of a lost network connection between the HVAC controller and the external web server . Additionally when a network connection is lost between the HVAC controller and the external web server the HVAC controller may continue to control the HVAC system according to the basic HVAC schedule previously stored in the HVAC controller memory until the network connection has been restored and or the HVAC controller has received an updated basic HVAC schedule from the external web server .

Referring now back to the HVAC controller may receive an updated basic HVAC schedule from external web server over the wide area network via the second network . The HVAC controller may receive the updated basic HVAC schedule in accordance with a predetermined schedule as described herein or in response to a change initiated by a user or a user request. In other cases the HVAC controller may be programmed to automatically connect with the external web server if not already connected and receive an updated basic HVAC schedule in accordance with a predetermined schedule. Upon receiving an updated basic HVAC schedule from the external web server the HVAC controller may be programmed to overwrite at least a portion of the HVAC schedule previously stored in the HVAC controller memory with scheduling data from the updated HVAC schedule. In one example two or more days of an HVAC schedule may have been previously stored in the memory of the HVAC controller . Upon receiving an updated basic HVAC schedule from the external server the HVAC controller may be programmed to overwrite at least one previous day of the HVAC schedule stored in the memory with at least some of the scheduling data of the updated basic HVAC schedule. In some cases the HVAC controller may be programmed to overwrite all but the current day of the HVAC schedule previously stored in the memory with at least some of the scheduling data from the updated basic HVAC schedule.

Having thus described several illustrative embodiments of the present disclosure those of skill in the art will readily appreciate that yet other embodiments may be made and used within the scope of the claims hereto attached. Numerous advantages of the disclosure covered by this document have been set forth in the foregoing description. It will be understood however that this disclosure is in many respect only illustrative. Changes may be made in details particularly in matters of shape size and arrangement of parts without exceeding the scope of the disclosure. The disclosure s scope is of course defined in the language in which the appended claims are expressed.

