---

title: Alternator control for battery charging
abstract: In accordance with an aspect of the present disclosure, an electrical system for an automotive vehicle has an electrical generating machine and a battery. A set point voltage, which sets an output voltage of the electrical generating machine, is set by an electronic control unit (ECU). The ECU selects one of a plurality of control modes for controlling the alternator based on an operating state of the vehicle as determined from vehicle operating parameters. The ECU selects a range for the set point voltage based on the selected control mode and then sets the set point voltage within the range based on feedback parameters for that control mode. In an aspect, the control modes include a trickle charge mode and battery charge current is the feedback parameter and the ECU controls the set point voltage within the range to maintain a predetermined battery charge current.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09083202&OS=09083202&RS=09083202
owner: FCA US LLC
number: 09083202
owner_city: Auburn Hills
owner_country: US
publication_date: 20121218
---
Subject matter described herein was developed in part with research funding provided by the United States Government under Grants from the Department of Energy Grant Number DE EE0003347 . The U.S. Government may have certain rights to the invention.

Alternators and generators are used to generate electrical power. They are typically used in automotive applications such as to generate electrical power in automotive vehicles. For convenience the discussion herein will be in the context of alternators. Alternators and generators may be referred to herein as electrical generating machines.

In applications having a battery such as automotive vehicles the alternator is used to charge the battery when the engine of the vehicle is running which drives the alternator to produce the electrical power. A voltage regulator is used to regulate the output voltage of the alternator. Typically the voltage regulator varies the voltage of the field of the alternator to regulate the output voltage of the alternator. In many applications the alternator has an internal voltage regulator.

In certain applications an external electronic voltage regulator has been used. In one such application the external electronic voltage regulator is implemented in the electronic control unit ECU that is also used as the engine control module of a vehicle. In this application the external voltage regulator outputs a pulse width modulated drive signal to the field winding of the alternator and varies field voltage of the alternator to regulate the output voltage of the alternator by varying the duty cycle of the pulse width modulated signal. As used herein an electronic voltage regulator is a device that generates a pulse width modulated drive signal that is used to energize the field windings of an electrical generating machine. The device can be implemented in hardware or a combination of hardware and software. The device can be a stand alone device or can be implemented as part of another device such as the engine control module of a vehicle. The electronic voltage regulator can generate the pulse width modulated drive by directly generating it or generate it by controlling another device such as a power switching device by generating a pulse width modulated switching signal that is used to switch the power switching device.

Electronic voltage regulator includes error signal generator PI controller PWM signal generator and power signal driver which is illustratively a high side driver and may be referred to herein as high side driver .

The control of alternator is managed by the electronic voltage regulator in ECU based on voltage feedback sense line B Sense coupled to a B sense output of alternator which is coupled to the internal voltage output of alternator through a B resistor. This sense voltage is compared by error signal generator to a target voltage determined by the ECU based on various parameters known to the ECU from other sensors in the electrical system not shown in such as battery temperature engine speed engine load and others. The comparison between the sense voltage and the target voltage produces an error signal which is used by PI controller of electronic voltage regulator to calculate the duty cycle for a PWM drive signal applied to field windings of alternator to control the field voltage and thus regulate the output of alternator . The field windings of alternator are coupled to an output of ECU at which the PWM drive signal is generated. More specifically PI controller of electronic voltage regulator determines the duty cycle at which to drive the field windings of alternator and outputs to PWM signal generator the value of this duty cycle which is the PWM value in . PWM signal generator generates a PWM signal having this duty cycle which is used to switch high side driver which turns on and off the field of alternator . High side driver is coupled through contacts of an automatic shutdown relay ASD of power distribution center and a fuse of power distribution center to positive terminal of battery . High side driver may illustratively be high power switching semiconductor device such as an SCR Thyristor IGBT power MOSFET or the like. The objective of this control system is to minimize the error signal which implies that the sense voltage is being controlled to achieve the target voltage. The PI loop in PI controller of electronic voltage regulator is calibrated to optimize the overshoot undershoot and settling time performance specifications for system voltage response to various disturbances.

In accordance with an aspect of the present disclosure an electrical system for an automotive vehicle has an electrical generating machine and a battery. A set point voltage which sets an output voltage of the electrical generating machine is set by an electronic control unit ECU . The ECU selects one of a plurality of control modes for controlling the alternator based on an operating state of the vehicle as determined from vehicle operating parameters. The ECU selects a range for the set point voltage based on the selected control mode and then sets the set point voltage within the range based on feedback parameters for that control mode. In an aspect the control modes include a trickle charge mode and battery charge current is the feedback parameter and the ECU controls the set point voltage within the range to maintain a predetermined battery charge current. In the aspect the control modes also include a regeneration mode a battery low state of charge SOC mode a passive boost mode and a default mode. In an aspect battery temperature is the feedback parameter for the regeneration mode low SOC mode passive boost mode and default mode and the voltage set point is controlled to maintain battery charge capacity during a predetermined temperature.

Further areas of applicability of the teachings of the present disclosure will become apparent from the detailed description claims and the drawings provided hereinafter wherein like reference numerals refer to like features throughout the several views of the drawings. It should be understood that the detailed description including disclosed embodiments and drawings referenced therein are merely exemplary in nature intended for purposes of illustration only and are not intended to limit the scope of the present disclosure its application or uses. Thus variations that do not depart from the gist of the present disclosure are intended to be within the scope of the present disclosure.

In the Regeneration Mode low cost deceleration energy is used to aggressively charge the battery. The Low SOC Mode protects the battery from extended low state of charge periods. The Passive Boost Mode lowers the engine accessory load during high engine load with alternator torque savings reduced at higher RPMs. The Trickle Charge Mode maintains the battery state without depleting SOC and engine accessory load is decreased by not overcharging the battery. The Default Mode is a failsafe mode when the vehicle operating state is not suitable for any of the other control modes.

If at ECU did not branch to regeneration mode at ECU determines whether to branch to Low SOC Mode . It does so based on one or more vehicle operating parameters illustratively battery SOC. More specifically if battery SOC is at or below threshold T ECU branches to Low SOC Mode . At Low SOC Mode ECU sets the set point voltage range to a range V V which is illustratively 14.5 14.2 V and sets the set point voltage within this range based on battery temperature to maintain a predetermined battery temperature. ECU then returns to but will remain in the Low SOC Mode until battery SOC is at or above threshold T. Illustratively as shown in Tmay be 60 Tmay be 68 . It should be understood that the values for set point voltage range and each of these thresholds are illustrative values and different values can be used for these thresholds.

If at ECU did not branch to Low SOC Mode at ECU determines whether to branch to Passive Boost Mode . It does so based on one or more vehicle operating parameters. Illustratively the vehicle operating parameters are engine torque engine RPM engine runtime the time that the engine has been running and battery SOC. More specifically if engine torque is at or above a threshold T engine RPM is at or above a threshold T engine runtime is at or above a threshold T and battery SOC is at or above a threshold T ECU branches to Passive Boost Mode . At Passive Boost Mode ECU sets the set point voltage range to a range V V which is illustratively 13.2 12.6 V and sets the set point voltage within this range based on battery temperature to maintain a predetermined battery temperature. ECU then returns to . Illustratively as shown in Tmay be 200 Nm Tmay be 2000 RPM Tmay be thirty seconds and Tmay be 75 . It should be understood that the values for the set point voltage range and each of these thresholds are illustrative values and different values can be used for these thresholds.

If at ECU did not branch to Passive Boost Mode at ECU determines whether to branch to Trickle Charge Mode . It does so based on one or more vehicle operating parameters. Illustratively the vehicle operating parameters are engine runtime and whether any IBS faults have occurred. More specifically if engine runtime is at or above a threshold Tand no IBS faults have occurred ECU branches to Trickle Charge Mode . At Passive Boost Mode ECU sets the set point voltage range to a range V V which is illustratively 14.5 12.5 V and sets the set point voltage within this range based on battery current feedback to maintain 0.5 amps of battery charge. ECU then returns to . Illustratively as shown in Tmay be five seconds. It should be understood that the values for the set point voltage range and each of these thresholds are illustrative values and different values can be used for these thresholds.

If at ECU did not branch to Trickle Charge Mode ECU continues to Default Mode . At Default Mode ECU sets the set point voltage range to a range V V which is illustratively 14.7 13.4 V and sets the set point voltage within this range based on battery temperature to maintain a predetermined battery temperature. ECU then returns to . It should be understood that the values for the set point voltage range are illustrative values and different values can be used.

While shows the Regeneration Mode Low SOC Mode Passive Boost Mode Trickle Charge Mode and Default Mode it should be understood that the plurality of control modes could include less than all these modes. For example the control modes may include the Trickle Charge Mode and the Default Mode.

As used herein the term ECU module may refer to be part of or include an Application Specific Integrated Circuit ASIC a digital signal processor an electronic circuit a combinational logic circuit a field programmable gate array FPGA or a processor other suitable components that provide the described functionality or a combination of some or all of the above such as in a system on chip. The term module may also include memory shared dedicated or grouped that stores code executed by the one or more processors.

