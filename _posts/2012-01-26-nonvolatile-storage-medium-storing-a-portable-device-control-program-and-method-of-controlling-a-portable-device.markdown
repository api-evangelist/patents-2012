---

title: Non-volatile storage medium storing a portable device control program, and method of controlling a portable device
abstract: A non-volatile storage medium storing a control program readable by a computer of a portable device including a sensor to output detected information indicative of at least one of a movement and an attitude of the portable device, a data memory portion to store image data, and a display portion to display an image on the basis of the image data, wherein the control program enables the computer to function as: a partial area specifying portion to specify, as a partial image area, an area of a partial image that is a portion of the image represented by the image data, on the basis of at least one of the movement and attitude of the portable device indicated by the detected information; and a display control portion to display the partial image in the partial image area specified by the partial area specifying portion, on the display portion.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08836731&OS=08836731&RS=08836731
owner: Brother Kogyo Kabushiki Kaisha
number: 08836731
owner_city: Nagoya-shi, Aichi-ken
owner_country: JP
publication_date: 20120126
---
The present application claims the priority from Japanese Patent Application No. 2011 019054 filed Jan. 31 2011 the disclosure of which is herein incorporated by reference in its entirety.

The present invention relates to a non volatile storage medium storing a control program for controlling a portable device so as to permit an easy scrolling operation of its display panel view and a method of controlling the portable device.

There is known a technique for permitting an intuitive scrolling operation of a narrow display panel of an information device such as a portable or cellular phone. There is also known a technique wherein an image of a given area in a guide sheet having a multiplicity of coordinate indicator markers printed thereon to indicate respective two dimensional coordinate positions is taken by a CCD camera of a portable phone and the taken image is processed to recognize in a real time fashion a positional relationship between the guide sheet and the CCD camera. This technique permits display view controls such as scrolling and zooming operations of displayed contents in response to a change of the positional relationship between the guide sheet and the CCD camera.

However the technique described above requires preparation of the guide sheet for the cellular phone and is not necessarily convenient for the user of the cellular phone. It is therefore an object of the present invention to provide techniques that can solve this inconvenience.

The object indicated above can be achieved according to the principle of this invention which provides a non volatile storage medium storing a control program readable by a computer of a portable device which includes a sensor configured to output detected information indicative of at least one of a movement and an attitude of the portable device a data memory portion configured to store image data and a display portion configured to display an image on the basis of the image data wherein the control program enables the computer to function as a partial area specifying portion configured to specify as a partial image area an area of a partial image that is a portion of the image represented by the image data on the basis of the above described at least one of the movement and the attitude of the portable device that are indicated by the detected information and a display control portion configured to command the display portion to display the partial image in the partial image area specified by the partial area specifying portion.

Referring first to the block diagram of there is shown a communication system configured according to one embodiment of this invention. The communication system includes a portable or cellular phone an MFP Multi Function Peripheral a first access point a web server and a base station . The cellular phone and the MFP are operable to function as wireless LAN peripheral devices known in the art. The MFP is the multi function peripheral device having a plurality of functions including a printing function a scanning function a copying function and a facsimile function. The first access point functions as one of wireless LAN access points known in the art.

The cellular phone and the first access point are capable of performing wireless communication data communication using electric waves as indicated at in according to an infrastructure mode of wireless LAN communication a mode in which a plurality of wires LAN peripheral devices perform data communication with each other through access points . Namely the cellular phone obtains an access to the first access point and is operable to perform data communication with the MFP through the first access point after the wireless communication according to the infrastructure mode of the wireless LAN communication becomes possible. For example the wireless LAN communication includes communications according to the IEEE802.11a b g n standards.

An arrangement of the cellular phone will be described. As shown in the cellular phone includes as major components a CPU Central Processing Unit a memory portion a wireless LAN transmitter receiver portion a wireless LAN antenna portion a button input portion a display panel a cellular phone transmitter receiver portion a cellular phone antenna portion a terrestrial magnetism sensor an acceleration sensor a camera portion an inclination sensor also called gyroscope and a GPS portion . For audio communication sound or voice transmission and reception the cellular phone also includes a speaker and a microphone . The terrestrial magnetism sensor acceleration sensor inclination sensor gyroscope and GPS portion are examples of motion sensors.

As shown in the illustrative perspective view of the display panel is provided on one of six surfaces of a housing of the cellular phone . For easy conversation through the cellular phone apertures of the speaker and microphone are open in the surface referred to as first surface of the housing on which the display panel is provided and are spaced apart from each other in a longitudinal direction of the cellular phone by a distance almost equal to a distance between the ears and the mouse of the user. As indicated in the housing has an x y plane parallel to the first surface on which the display panel is provided . In other words the first surface is parallel to an x axis and a y axis cooperating to define an x y plane and has two dimensional directions in the form of x axis and y axis directions parallel to the x y plane. Namely a transverse direction of the housing is the x axis direction one of the two dimensional directions and the longitudinal direction described above is the y axis direction the other of the two dimensional directions while a direction of thickness of the housing perpendicular to the x y plane is the z axis direction. It is noted here that these x y and z axes directions are not strictly defined in other words are defined within a range of output accuracy of the motion sensors and all of the x y and z axes directions need not be used for applications of the cellular phone and a selected one or ones of these directions may be used for the applications.

The CPU controls various portions of the cellular phone according to a program stored in the memory portion and various signals transmitted and received through the wireless LAN transmitter receiver portion . The memory portion is constituted by a combination of a RAM Random Access Memory a ROM Read Only memory a flush memory a HDD hard disk and a buffer provided in the CPU . The wireless LAN transmitter receiver portion performs the wireless communication that is transmits and receives various kinds of data in the form of digital signals according to the infrastructure mode of the wireless LAN communication through the wireless LAN antenna portion . The cellular phone transmitter receiver portion performs wireless communication with the base station according to cellular phone communication standards as indicated at in through the cellular phone antenna portion .

The memory portion stores a program and the CPU processes the signals according to the program stored in the memory portion . The program includes a printing application a browser application a document editing application and an operating system

The printing application is an application for the cellular phone to command the MFP to perform a printing processing operation. The browser application is an application for displaying web data on the display panel . The CPU performs processing operations according to the browser application to obtain the web data from the web server to store the web data in the memory portion and to display images represented by the web data in the memory portion on the display panel . The document editing application is an application for creating editing and retaining files consisting of character information documents namely document files.

The operating system is a program providing basic functions utilized commonly for the printing application and browser application . The operating system includes a program for communication through the cellular phone transmitter receiver portion and a program for the wireless communication through the wireless LAN transmitter receiver portion . Further the operating system is also a program providing an API Application Programming Interface for each of the programs to obtain information calculated by the terrestrial magnetism sensor acceleration sensor inclination sensor and GPS portion .

The memory portion also stores velocity information vx vy and vz. The memory portion has a preset value memory area which stores velocity threshold values etc. described below. The velocity threshold values may be stored in advance in the memory portion by the user.

The button input portion is an input receiving portion for receiving manual operations by the user of the cellular phone . The button input portion a touch panel formed integrally with the display panel . The display panel is configured to display various kinds of functional information. The terrestrial magnetism sensor is a sensor capable of detecting the terrestrial magnetism to thereby detect a direction in which the cellular phone extends from one of its upper and lower ends toward the other. The acceleration sensor is a sensor capable of detecting a positional change of a pendulum to thereby measure an acceleration value of the cellular phone . The camera portion is provided with CCDs configured to take a picture in a predetermined area and obtain corresponding image data. The inclination sensor is a sensor capable of measuring an angle of inclination of the cellular phone with respect to the horizontal plane. As described above the operating system provides the API Application Programming Interface for each of the programs to obtain the acceleration value measured by the acceleration sensor the image data obtained by the camera portion and the angle of inclination obtained by the inclination sensor .

An arrangement of the web server will be described. The web server includes as major components a CPU a memory portion and a communication portion . The web server is a device which provides client devices in the relevant network with its web page data HTML data and reference image data and its various functions. The web server is capable of performing the wireless communication with the cellular phone through the base station . The CPU performs various control functions and the memory portion stores various kinds of data while the communication portion performs the wireless communication with the cellular phone for transmission and reception of various kinds of information.

An operation of the communication system according to the present embodiment will be described by reference to . Initially a control routine for the cellular phone to command the MFP to perform a printing operation according to the printing application will be described by reference to the flow chart of . Upon operation of the user through the button input portion to start the printing application the CPU starts the printing application so that the control routine of is initiated with step S in which the CPU obtains printing data for the MFP to perform the printing operation. The printing data are defined as data including not only data representative of photographs and figures drawings but also data representative of documents. For instance the printing data include not only bit map data and JPEG data but also data generated on the basis of document editing software. An operation to obtain web data as the printing data from the web server will be described by way of example. The CPU obtains from the web server the web data specified by URL Uniform Resource Locator input by the user. The CPU stores the obtained web data in the memory portion as the printing data.

Then the control flow goes to step S in which the CPU implements a processing to determine an initial preview display state. This processing to determine the initial preview display state will be described by reference to the flow chart of . In step S the CPU obtains kind information of the printing data. For example the kind information of the printing data includes an extension and a header that are appended to the printing data.

The control flow then goes to step S in which the CPU recognizes the kind photograph or figures or document of the printing data on the basis of the obtained kind information of the printing data. Namely step S is provided to determine whether the printing data represent a document or not. Where the kind information of the printing data is the expander information such as .jpg or .png for example the CPU recognizes that the printing data represent a photograph or figure drawing . Where the kind information is the expander information such as .txt the CPU recognizes that the printing data represent a document text . Where the header information includes the kind information of the printing data the CPU reads out the kind information portion from the header information to recognize the kind of the printing data. If the CPU recognizes that the printing data represent a photograph or figure that is if a negative determination NO is obtained in step S the control flow goes to step S.

In step S the CPU sets a display start position and the size of a partial image area so that a printing preview image corresponding to an entirety of a printing image to be printed on a recording medium according to the printing data is displayed in an entire display area of the display panel as shown in by way of example. The display start position is selected at a desired position in the printing image which corresponds to a point of origin of an area of display of the printing preview image partial image area on the display panel .

Described more specifically where an image is printed at a printing pitch of 600 dpi in an entire area of a recording medium of A4 size 210 mm 297 mm the CPU obtains bit map data of 600 dpi for printing the image on the A4 size recording medium on the basis of the printing data and stores the obtained bit map data in a bit map memory of the memory portion . The bit map data may be obtained by converting the printing data or extracting the bit map data from the printing data. Where the transverse direction of the image to be printed on the A4 size recording medium is defined as an X axis direction while the longitudinal direction of the printing image is defined as a Y axis direction an upper left point of origin of the printing image is defined as Ximgmin 0 dot Yimgmin 0 dot while a lower right end point of the printing image is defined as Ximgmax 4961 dot Yimgmax 7016 dot wherein Ximgmin and Ximgmax represent X axis coordinate values while Yimgmin and Yimgmax represent Y axis coordinate values. In this case a multiplicity of bits corresponding to respective picture elements at respective coordinate positions from the point of origin through the end point are stored in the bit map memory. On the other hand the entire display area of the display panel has an upper left point of origin defined as Xdevmin 0 dot Ydevmin 0 dot and a lower right end point defined as Xdevmax 480 dot Ydevmax 640 dot as indicated in . In the present example the CPU determines the size 4961 dots 7016 dots of the entire printing image to be the size of the partial image area and stores this size of the partial image area in the memory portion and stores the display start position 0 dot 0 dot in the memory portion . As a result the printing preview image corresponding to the entire printing image is displayed in the entire display area of the display panel such that the upper left point of origin of the display area corresponds to the upper left point of origin of the printing image. Then the control flow goes to step S of .

If it is determined in step S that the printing data represent a document that is if an affirmative determination YES is obtained in step S the control flow goes to step S in which the CPU sets the display start position and size of the partial image area so that the size of characters included in the printing preview image corresponding to the printing image to be printed according to the document data is equal to the size of characters included in the printing image to be printed on the recording medium and so that a point of start of the printing preview image corresponding to a point of start of rows of characters of the printing image the upper left point of origin of the printing image where the rows of characters to be displayed according to the document data are parallel to the X axis for instance is located at a center position of the display area of the display panel as indicated in .

Described more specifically the CPU obtains in step S the bit map data of 600 dpi for printing the document on the A4 size recording medium on the basis of the printing data and stores the obtained bit map data in the bit map memory. In the present case a multiplicity of bits corresponding to respective picture elements at respective coordinate positions from the upper left point of origin Ximgmin 0 Yimgmin 0 of the printing image through the lower right end point Ximgmax 4961 Yimgmax 7016 of the printing image are stored in the bit map memory. Then the CPU calculates the size of the partial image area on the basis of a ratio of the size 4961 dots 7016 dots of the printing image to the size 480 dots 640 dots of the display area of the display panel . For example the CPU calculates the size of the partial image area to be equal to 1 10 of the size of the printing image on the basis of the ratio of about 10.335 of the dimensions 4961 480 of the printing image and the partial image area in the X axis direction. Accordingly the CPU stores in the memory portion the calculated size 496 dots 701 dots of the partial image area which is 1 10 of the size of the entire printing image and the display start position 248 dot 350 dot . As a result the printing preview image is displayed on the display panel such that the upper left point of the printing preview image partial image area is located at the center position of the entire display area of the display panel . Then the control flow goes to step S of .

In step S the CPU commands the display panel to display the printing preview image. Described more specifically the CPU commands the display panel using the API provided by the operating system to display the bit map data at the picture elements at respective coordinate positions from the upper left point of origin Xdevmin 0 Ydevmin 0 of the display area of the display panel through the lower right end point Xdevmax 480 Ydevmax 640 . Namely the printing preview image is displayed as an initial printing preview image in the entire display area of the display panel . Where the printing data represent a photograph or figure as in the case of the initial printing preview image is displayed on the display panel such that the size of the initial printing preview image is reduced to permit the printing preview image to be displayed within the entire display area of the display panel so that the user can recognize the entirety of the image at a glance. Where the printing data represent a document as in the case of on the other hand an upper left corner portion of the printing image is displayed as an initial preview image on the display panel such that the size of the characters included in the initial preview image is almost equal to the size of the characters included in the printing image to be printed on the recording medium according to the document data to prevent contraction of the characters in the initial preview image and consequent difficulty of reading of the characters.

The control flow then goes to step S in which the CPU determines whether an operation to start the printing operation has been performed by the user. This determination may be made by determining whether a PRINTING OPERATION button displayed on the display panel has been touched by the user. If the operation to start the printing operation has been performed that is if an affirmative determination YES is obtained in step S the control flow goes to step S in which the CPU transmits the printing data to the MFP through the wireless communication . On the basis of the printing data received from the cellular phone the MFP prints the corresponding image on the recording medium. In this case one cycle of execution of the control routine of is terminated.

If the operation to start the printing operation has not been performed that is if a negative determination NO is obtained in step S on the other hand the control flow goes to step S in which the CPU determines whether a PREVIEW OPERATION button displayed on the display panel has been touched by the user. If the PREVIEW OPERATION button has not been touched that is if a negative determination NO is obtained in step S the control goes back to step S. If the PREVIEW OPERATION button has been touched that is if an affirmative determination YES is obtained in step S the control goes to step S in which implements a preview updating processing and then goes back to step S. Thus the preview updating processing in step S is repeatedly implemented as long as the PREVIEW OPERATION button is kept touched.

Referring to the flow chart of the preview updating processing will be described. It is noted here that a period of repetition of the preview updating processing a present point of time and a preceding point of time are respectively represented by T t n and t n 1 . The preceding point of time t n 1 is a point which is prior to the present point of time t n by the period T. The control flow illustrated in is initiated with step S in which the CPU reads out velocity information vx t n 1 vy t n 1 and vz t n 1 from the memory portion . The velocity information vx t n 1 represents a velocity in the x axis direction at the preceding point of time t n 1 and the velocity information vy t n 1 represents a velocity in the y axis direction at the preceding point of time t n 1 while the velocity information vz t n 1 represents a velocity in the z axis direction at the preceding point of time t n 1 .

The control flow then goes to step S in which the CPU obtains acceleration information ax t n ay t n and az t n from the acceleration sensor and stores the obtained acceleration information in the memory portion . The acceleration information ax t n represents an acceleration value in the x axis direction at the present point of time t n and the acceleration information ay t n represents an acceleration value in the y axis direction at the present point of time t n while the acceleration information az t n represents an acceleration value in the z axis direction at the present point of time t n 1

In the next step S the CPU calculates change amount information dvx t n indicative of an amount of change of the velocity in the x axis direction during a time period from the preceding point of time t n 1 to the present point of time t n . The change amount information dvx t n is obtained according to the following Equation 1 1 

In the next step S the CPU calculates the velocity information vx t n at the present point of time t n . The velocity information vx t n is obtained according to the following Equation 2 1 2 The calculated velocity information vx t n is temporarily stored in the memory portion .

In the next step S the CPU calculates change amount information dvy t n indicative of an amount of change of the velocity in the y axis direction during the period from the preceding point of time t n 1 to the present point of time t n . In the next step S the CPU calculates the velocity information vy t n at the present point of time t n and temporarily stores the calculated velocity information vy t n in the memory portion .

In the next step S the CPU calculates change amount information dvz t n indicative of an amount of change of the velocity in the z axis direction during the period from the preceding point of time t n 1 to the present point of time t n . In the next step S the CPU calculates the velocity information vz t n at the present point of time t n and temporarily stores the calculated velocity information vz t n in the memory portion . The velocity information vy t n and the velocity information vz t n are calculated according to equations similar to the above indicated Equation 1 .

Then the control flow goes to step S in which the CPU calculates movement distances sx t n sy t n and sz t n . The movement distance sx t n is a distance of movement of the cellular phone from a reference position thereof at the present point of time t n in the x axis direction. The reference position is a position of the cellular phone at the point of time when which the PREVIEW OPERATION button is touched. The movement distance sx t n is calculated by summing distances of movement of the cellular phone in the positive and negative directions along the x axis. The movement distance sy t n is a distance of movement of the cellular phone from the reference position at the present point of time t n in the y axis direction and the movement distance sz t n is a distance of movement of the cellular phone from the reference position at the present point of time t n in the z axis direction.

In the next step S the CPU changes the display start positions in the printing image on the basis of the movement distances sx t n and sy t n . Described more specifically the CPU moves the display start position of the printing image in the X axis direction on the basis of the movement distance sx t n and moves the display start position of the printing image in the Y axis direction on the basis of the movement distance sy t n .

In the next step S the CPU changes the size of the partial image area in the printing image on the basis of the movement distance sz t n . Described more specifically the CPU increases the size of the partial image area with an increase of the movement distance sz t n in the positive z axis direction and reduces the size of the partial image area with an increase of the movement distance sz t n in the negative z axis direction.

In the next step S the CPU commands the display panel to re display the printing preview image in the partial image area. If the display start position of the partial image area in the printing image has been changed in step S in at least one of the X axis and Y axis directions the position of the partial image area is moved in the X Y plane defined for the printing image. Accordingly the user can perform a scrolling operation of the printing preview image by moving the cellular phone in the x y plane defined for the display panel . Further the user can enlarge increase the size of the printing preview image by moving the cellular phone in the downward direction that is in the negative z axis direction perpendicular to the x y plane defined for the display panel and contract reduce the size of the printing preview image by moving the cellular phone in the upward direction that is in the positive z axis direction perpendicular to the x y plane.

It is noted that the steps S S and S in the control routine of the flow chart of are repeatedly implemented at the period t while the PREVIEW OPERATION is kept touched. As the period t is reduced the scrolling operation is smoothed but a load of processing operations of the CPU is increased. In this respect the value of the period t is suitably determined depending upon the processing capacity of the CPU .

One example according to the first embodiment of this invention will be described in the case where the printing data represent a document in which rows of characters extend in the horizontal direction. When the printing application is started by the user the printing image indicated in is obtained in step S. As a result of the processing to determine the initial preview display state in step S the upper left point of origin of the printing image at which the first row of characters starts to extend is set at the display start position. Then the initial printing preview image is displayed on the display panel in step S as shown in .

When the user touches the PREVIEW OPERATION button displayed on the display panel namely if the affirmative determination YES is obtained in step S the preview updating processing in step S is initiated. This preview updating process will be described in detail by reference to . If the cellular phone is moved in the rightward direction in the positive x axis direction during a time period from the point of time t to the point of time t the velocity values represented by the velocity information vx t and vy t at the preceding point of time t are zero. In step S the acceleration information ax t A and ay t 0 at the present point of time t are obtained. At the present point of time t at which the cellular phone has been moved in the rightward direction only the acceleration information ax t in the x axis direction is detected.

In step S the change amount information dvx t V is calculated. In step S the velocity information vx t V is calculated. In step S the change amount information dvy t 0 is calculated. In step S the velocity information vy t 0 is calculated.

In step S the movement distance sx t in the x axis direction is calculated. The movement distance sx t is represented by a surface area corresponding to an inclined line between the points of time t and t in a graph of the velocity information vx in the x axis direction indicated in . Described more specifically the movement distance sx t is calculated according to the following Equation 3 2 1 2 3 

In step S the partial image area of the printing image is moved in the positive X axis direction on the basis of the movement distance sx t as indicated in . In step S the printing preview image in the partial image area is re displayed on the display panel . Thus the printing preview image on the display panel is scrolled in the rightward direction as indicated in .

Then the cellular phone is moved at a constant velocity in the rightward direction in the positive x axis direction during a time period from the point of time t to the point of time t as indicated in . In step S the velocity information vx t V and vy t 0 is read out. The acceleration values represented by the acceleration information ax t and ay t at the point of time t obtained in step S are both zero. In step S the velocity information vx t V is calculated. In step S the velocity information vy t 0 is calculated.

In step S the movement distance sx t in the x axis direction is calculated. The movement distance sx t is represented by a surface area corresponding to an inclined line between the points of time t and t in the graph of the velocity information vx in the x axis direction indicated in . Described more specifically the movement distance sx t is calculated according to the following Equation 4 3 1 21 4 

In step S the partial image area of the printing image is further moved in the positive X axis direction on the basis of the movement distance sx t as indicated in . In step S the printing preview image in the partial image area is re displayed on the display panel . Thus the printing preview image on the display panel is further scrolled in the rightward direction as indicated in .

Then the cellular phone is moved at a constant velocity in a rightward and downward direction during a time period from the point of time t to the point of time t as indicated in . In step S the velocity information vx t V and vy t 0 is read out. In step S the acceleration values represented by the acceleration information ax t A and ay t A at the point of time t are obtained. In step S the velocity information vx t V is calculated. In step S the velocity information vy t V is calculated.

In step S the movement distance sx t in the x axis direction is calculated. The movement distance sx t is represented by a surface area corresponding to an inclined line between the points of time t and t in the graph of the velocity information vx in the x axis direction indicated in . Described more specifically the movement distance sx t is calculated according to the following Equation 5 4 1 21 12 22 5 Further the movement distance sy t in the y axis direction is calculated. The movement distance sx t is represented by a surface area corresponding to an inclined line between the points of time t and t in the graph of the velocity information vx in the x axis direction indicated in . Described more specifically the movement distance sx t is calculated according to the following Equation 6 4 3 2 6 

In step S the partial image area of the printing image is further moved in the positive X axis direction on the basis of the movement distance sx t and is moved in the negative Y axis direction on the basis of the movement distance sy t as indicated in . In step S the printing preview image in the partial image area is re displayed on the display panel . Thus the printing preview image on the display panel is further scrolled in the rightward and downward direction as indicated in .

Then the cellular phone is held stationary during a time period from the point of time t to the point of time t as indicated in . In step S the velocity information vx t V and vy t V is read out. In step S the acceleration values represented by the acceleration information ax t A and ay t A at the point of time t are obtained. In step S the velocity information vx t 0 is calculated. In step S the velocity information vy t 0 is calculated.

In step S the movement distances sx t and sy t are calculated. These movement distances sx t and sy t are calculated according equations similar to those described above.

In step S the position of the partial image area within the printing image is changed on the basis of the movement distances sx t and sy t as indicated in . In step S the printing preview image in the partial image area is re displayed on the display panel . Thus the scrolling operation of the printing preview image displayed on the display panel is stopped at the state indicated in .

Then the cellular phone is moved in the downward direction perpendicular to the horizontal plane during a time period between the points of time t and t and is then held stationary during a time period between the points of time t and t . In this case the movement distance sz t is calculated The movement distance sz t is represented by a surface area corresponding to an inclined line between the points of time t and t in a graph of the velocity information vz in the z axis direction indicated in . Described more specifically the movement distance sz t is calculated according to the following Equation 7 7 4242 7 

In step S the size of the partial image area in the printing image is increased on the basis of the movement distance sz t as indicated in . In step S the printing preview image in the partial image area is re displayed on the display panel . Thus the printing preview image displayed on the display panel is enlarged as indicated in .

In the cellular phone configured according to the present embodiment the acceleration value of the cellular phone is obtained by the acceleration sensor and the printing preview image displayed on the display panel can be scrolled on the basis of the obtained acceleration value. Namely the scrolling operation can be performed by simply accelerating the cellular phone without having to use a specific assisting device such as a guide sheet conventionally used whereby the cellular phone can be more easily operated by the user.

The cellular phone according to the present embodiment is further configured such that the velocity information vx and vy of the cellular phone can be calculated on the basis of the direction and magnitude of the acceleration measured by the acceleration sensor . In addition the position and size of the partial image area in the printing image can be changed on the basis of the velocity information vx and vz. By measuring the acceleration of the cellular phone it is difficult to distinguish a movement of the cellular phone at a constant speed and the stationary state of the cellular phone from each other since the acceleration value is zero when the cellular phone is moved at the constant speed and when it is held stationary. By using the velocity information however it is possible to clearly distinguish the constant speed movement and the stationary state of the cellular phone from each other so that the printing preview image can be more accurately scrolled and enlarged or reduced.

In addition the cellular phone according to the present embodiment is configured to permit the scrolling operation and enlargement or contraction of the printing preview image only while the PREVIEW OPERATION button is held touched by the user. That is the user can scroll the printing preview image only when the user has an intention to do so. Unless the PREVIEW OPERATION button is held touched by the user the printing preview image is prevented from being scrolled even if the cellular phone is accelerated without an intention to scroll the printing preview image. Thus it is possible to prevent erroneous operations of the cellular phone by the user.

Further the cellular phone according to the present invention is configured such that where the printing data are document data rows of characters in a document represented by the document data are displayed on the display panel in the same font size as the font size specified by the document data. Accordingly a relevant part of the document as printed can be checked by the printing preview image displayed on the display panel in terms of the width of each character row and the area of the printed part as if a recording medium having a printed image existed just behind the display panel . Thus the user can intuitively see how the character rows being displayed on the display panel are actually printed on the recording medium.

While the preferred embodiment of the present invention has been described above by reference to the drawings for illustrative purpose only it is to be understood that the present invention is not limited to the details of the illustrated embodiment but may be embodied with various changes and modifications such as those described below which may occur to those skilled in the art without departing from the spirit and scope of the invention defined in the appended claims.

Referring to the flow chart of one modification of the preview updating processing will be described. In this modification the state of scrolling of the printing preview image at the time when a finger of the user has released the PREVIEW OPERATION button is maintained continued if the finger is released from the button during a scrolling operation of the printing preview image by moving the cellular phone while the PREVIEW OPERATION button is kept touched by the finger. When the PREVIEW OPERATION button is again touched by the finger while the printing preview image is being scrolled the scrolling operation is stopped. Steps S through S in the flow chart of are identical with steps S through S in the flow chart of and will not be described in detail.

In step S the CPU determines whether the PREVIEW OPERATION button displayed on the display panel is touched by the user. If the button is touched that is if an affirmative determination YES is obtained in step S the control flow goes to step S. If the button is not touched that is if a negative determination NO is obtained in step S the control flow goes to S. In step S the CPU obtains the velocity information vx t n and vz t n at the present point of time t n and determines whether at least one of absolute values of the velocities represented by the obtained velocity information vx t n and vz t n is equal to or larger than a corresponding one of predetermined threshold values stored in a threshold value memory area . If none of the absolute values are equal to or larger than the corresponding threshold values that is if a negative determination NO is obtained in step S the control flow goes back to step S. If at least one of the absolute values is equal to or larger than the corresponding threshold value that is if an affirmative determination YES is obtained in step S the control flow goes to step S after the obtained velocity information vx t n and vz t n is temporarily stored in the memory portion .

In step S the CPU reads out the velocity information vx t n and vz t n from the memory portion . In step S the CPU calculates the movement distances sx t n sy t n and sz t n which are distances of movement of the cellular phone at the velocities represented by the velocity information vx t n vy t n and vz t n at a reference point of time at which the user has released the PREVIEW OPERATION button namely at which the negative determination NO is obtained in step S during a time period between the reference point of time and the present point of time t n .

In step S the CPU changes the position or size of the partial image area in the printing image on the basis of the movement distances sx t n and sz t n and commands the display panel to re display the printing preview image in the partial image area in the printing image.

In step S the CPU determines whether the PREVIEW OPERATION button has been touched again by the user. If the button has been touched again by the user that is if a negative determination NO is obtained in step S the control flow goes back to step S. If the button has been touched again by the user that is if an affirmative determination YES is obtained in step S the control flow goes to step S in which the CPU resets all values of the velocity information vx t n vy t n and vz t n stored I the memory portion and then goes back to step S.

In the cellular phone configured according to the present modification the printing preview image can be kept scrolled as if the cellular phone is moved at a constant velocity equal to the velocity at the time when the finger of the user has released the PREVIEW OPERATION button if the finger releases the button while the cellular phone is moved with the PREVIEW OPERATION button being kept touched by the finger. When the PREVIEW OPERATION button is touched again by the user the constant scrolling state is canceled and stopped. Accordingly the printing preview image can be scrolled by a long distance with a short distance of movement of the cellular phone . Thus the scrolling operation can be easily performed even when the required distance of scrolling is relatively long as in the case where the size of the printing image is relatively large.

The cellular phone is more or less moved when the cellular phone is operated by the user. This means that the velocity information representative of the velocity of movement of the cellular phone more or less includes a noise component. In the cellular phone according to the present modification however the processing to continuously scroll the printing preview image is initiated when the velocity of movement of the cellular phone at the time when the finger of the user has released the PREVIEW OPERATION button is equal to or higher than the threshold value when the affirmative determination YES is obtained in step S . Accordingly the noise component can be removed from the velocity information so that the erroneous operation of the cellular phone by the user can be prevented.

A physical quantity used to control the scrolling operation of the printing preview image is not limited to the acceleration value of the cellular phone measured by the acceleration sensor used in the illustrated embodiment described above. For example the acceleration value may be replaced by an angle of inclination of the cellular phone measured by the inclination sensor . This modification will be described below.

In the present second modification the control routine illustrated in the flow chart of is modified as described below. Namely step S is modified such that the CPU obtains inclination angle information gx t n and gy t n at the present point of time t n . Step S is modified to calculate a product of an inclination angle represented by the inclination angle information gx t n and the period t while step S is modified to calculate a product of an inclination angle represented by the inclination angle information gy t n and the period t. Step S is modified to calculate the movement distance sx t n on the basis of the product calculated in step S and the movement distance sy t n on the basis of the product calculated in step S. Step S is modified to change the position of the partial image area in the printing image on the basis of the movement distances sx t n and gy n . Step S is modified to re display the printing preview image in the partial image area on the display panel .

In the cellular phone according to the present second embodiment the position of the partial image area in the printing image can be changed according to the angle of inclination of the cellular phone measured by the inclination sensor . Accordingly the user can perform the scrolling operation of the printing preview image by inclining the x y plane defined of the display panel with respect to the horizontal plane.

The acceleration value measured by the acceleration sensor and used to control the scrolling operation of the printing preview image may be replaced by the position of the cellular phone obtained by the GPS portion . This modification will be described below.

In the present third modification the control routine of the flow chart of is modified as described below. Namely the position of the cellular phone measured by the GPS portion at the point of time when the PREVIEW OPERATION button is touched is determined as the reference position of the cellular phone . Steps S are eliminated and step S is modified to calculate the movement distances sx t n and sy t n on the basis of the present position of the cellular phone measured by the GPS portion . Step S is implemented to change the position of the partial image area in the printing image on the basis of the calculated movement distances sx t n and sy t n and step S is implemented to re display the printing preview image in the partial image area .

In the cellular phone according to the present third modification the position of the partial image area in the printing image can be changed on the basis of the positional information of the cellular phone obtained by the GPS portion .

The illustrated embodiment may be modified such that the operations to scroll enlarge and contract the printing preview image are possible only while the cellular phone is placed in a predetermined state for instance only while any part of the display panel is kept touched or only while the display panel is kept in an almost horizontal or vertical plane or kept inclined at about 45. with respect to the horizontal or vertical plane.

Further the illustrated embodiment may be modified to command a motion sensor to return detected information through the API of the operating system only while the cellular phone is placed in a predetermined state. Further the cellular phone may be designed such that the motion sensor generates the detected information only while the cellular phone is placed in a predetermined state. Described more specifically step S in the flow chart of may be modified to obtain the acceleration information from the motion sensor in the form of the acceleration sensor only while the PREVIEW OPERATION button is kept touched by the user. Thus the output of the motion sensor is obtained only while the cellular phone is kept in the predetermined state.

The illustrated embodiment may be modified to display the printing preview image in the partial image area only while the cellular phone is placed in a predetermined state. Described more specifically steps S S in the flow chart of are implemented if the printing start operation has not been performed that is if the negative determination NO is obtained in step S in the flow chart of . If the PREVIEW OPERATION button is touched by the user that is if the affirmative determination YES is obtained in step S the printing preview image is displayed in the display panel in step S. In this case steps S S in can be implemented in advance making it possible to reduce the time required to display the printing preview image on the display panel as compared with the required time where steps S S are initiated only after the cellular phone is placed in the predetermined state.

While the embodiment and its modifications use an output of the motion sensor such as the acceleration sensor inclination sensor and GPS portion to scroll enlarge and contract the displayed image the displayed image may be scrolled enlarged and reduced on the basis of a detector configured to detect a pinching motion of two fingers of the user and or a flicking motion of a finger of the user with respect to the display panel as well as the output of the above indicated motion sensor. In this case the partial image area may be specified on the basis of the output of the motion sensor detected information generated while the pinching or flicking motion is not performed with respect to the display panel . Conversely the partial image area may be specified on the basis of the output of the detector indicative of the pinching or flicking motion while the output of the motion sensor is not generated. Thus a movement of the cellular phone and a finger operation with respect to the display panel can be both utilized to scroll the displayed image.

The manner of image scrolling enlarging and contracting operations according to the present invention is applicable to various kinds of image other than the printing image for instance to an image to be displayed on the display panel according to web data using the browser application

The x axis y axis and z axis directions of the acceleration value can be defined in various manners other than the manner in which the directions are defined with respect to the display panel . For example the directions may be defined such that a horizontal plane detected by the inclination sensor is defined as the x y plane or such that the vertical direction is defined as the z axis direction. In this case the printing preview image can be scrolled enlarged and reduced by moving the cellular phone in the horizontal plane irrespective of the orientation of the cellular phone in the horizontal plane about the z axis.

Further the printing data may be obtained in step S in various manners. For instance the printing data may be obtained through the wireless communication or from a non volatile memory inserted in a memory slot provided in the cellular phone .

The principle of the present invention is applicable to any portable device other than the cellular phone for example to a note type personal computer or a tablet device.

While the PRINTING OPERATION button and PREVIEW OPERATION button are displayed on the touch type display panel the buttons may be provided in the form of hardware keys in the cellular phone .

While an image of 600 dpi is printed on an A4 size recording medium in the illustrated embodiment an image of any other desired resolution may be printed on a recording medium of any other size. In the illustrated embodiment the display panel has a display resolution of 480 dots 640 dots. However the display panel has any other display resolution. Although the printing preview image is displayed on the display panel in a display area having a point of origin 0 dot 0 dot and an end point 480 dot 640 dot in the illustrated embodiment the printing preview image is displayed in a display area having an upper left point of origin 0 dot 640 dot and a lower right end point 480 dot 0 dot when the cellular phone is positioned with its width direction parallel to the user s line of view toward the display panel such that the aperture of the microphone is located on the left side while the aperture of the speaker is located on the right side. Alternatively the display area of the display panel has an upper left point of original 480 dot 0 dot and a lower right end point 0 dot 640 dot when the cellular phone is positioned such that the aperture of the microphone is located on the right side while the aperture of the speaker is located on the left side. Thus the printing preview image can be displayed in the appropriate display area of the display panel according to the orientation of the cellular phone about the z axis.

In the illustrated embodiment the printing preview image corresponding to the upper left corner portion of the printing image is displayed as the initial preview image in the central area of the display area of the display panel . However the initial preview image corresponding to the upper left corner portion of the printing image may be displayed in the upper left corner portion of the display area of the display panel . In the illustrated embodiment the upper left point of origin of the printing image is selected as the display start position where the printing data represent the document having horizontal rows of characters. Where the printing data represent a document having vertical rows of characters the upper right point of origin of the printing image may be selected as the display start position. In this case step S is implemented to display bit map data within the partial image area on the display panel in a display area having the upper right point of origin Xdevmin 480 Ydevmin 0 and the lower left end point Xdevmax 0 Ydevmax 640 using the API provided by the operating system . In this case the printing preview image can be displayed in an appropriate manner according to the document having the vertical rows of characters.

Although the illustrated embodiment is configured to select the upper left point of origin of the printing image as the printing start position where the printing data represent a document the illustrated embodiment may be modified to detect an area of the printing image represented by the printing data in which characters are detected and to select the position of this area as the display start position. In this case the detected characters are included in the initial preview image displayed on the display panel . While the partial image area is specified by the display start position and the size in the illustrated embodiment the partial image area may be specified by the display start position and a display end position within the printing image at which the display of the printing preview image is terminated.

It is to be understood that the present invention is not limited to combinations of technical elements or features described in the appended claims but may be practiced with various technical features disclosed in the specification and the accompanying drawings which technical features are useful alone or in combination. It is to be further understood that the technical features disclosed in the specification and drawings for illustrative purpose can achieve a plurality of objects at the same time and that the invention is useful as long as at least one of those objects is achieved.

