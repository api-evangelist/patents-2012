---

title: Automated capacity aware provisioning
abstract: According to one general aspect, a method may include monitoring, via a communications network, an actual system resource usage of each of a plurality of target computing devices configured to execute one or more respective workload tasks. The method may also include receiving a request for a suggestion for an assigned target computing device to be assigned a new workload task. The method may further include providing the suggestion regarding the assigned target computing device to be assigned a new workload task, wherein the suggestion suggests one or more target computing device(s) that is included in the plurality of target computing devices. The method may also include adjusting a system resource usage profile of the assigned target computing device to include an estimated system resource usage for the new workload task and an actual system resource usage of the assigned target computing device that was previously monitored.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09135076&OS=09135076&RS=09135076
owner: Caplan Software Development S.r.l.
number: 09135076
owner_city: Milan
owner_country: IT
publication_date: 20120928
---
This description relates to managing a plurality of network resources and more specifically to provisioning tasks to the network resources based upon capacity.

Load balancing is generally a computer networking methodology to distribute workload across multiple computing devices or a computer cluster network links central processing units disk drives or other resources to ideally achieve optimal resource utilization maximize throughput minimize response time and avoid overload. Using multiple components with load balancing instead of a single component often increases reliability through redundancy. A load balancing service is usually provided by dedicated software or hardware such as for example a multilayer switch or a Domain Name System server etc.

Often when provisioning or assigning resources for new services or workloads within a cloud infrastructure or network system the management software needs to ensure there is enough capacity e.g. processing capacity memory capacity storage capacity bandwidth capacity etc. and find a sufficiently suitable place or computing device for new workloads.

Generally network engineers are concerned with questions regarding how to take into account the capacity of system resources e.g. processing capacity memory capacity etc. in the target hosts or target computing devices in the infrastructure. Often one must determine an estimate whether there is enough capacity in the various given target computing devices and to locate the best placement for candidate workloads. Often a placement engine cannot provide accurate advice because of for example an uncertainty in the actual current performance of the target hosts in a dynamic environment where many workloads are being added and removed and the demand for system resources often changes depending on the business or network activity. Frequently performance data is collected about the hosts or target computing devices but there is a time lag between the last data collection and the time at which the placement advice is needed. In this time period numerous workloads may already have been provisioned or assigned in a dynamic cloud environment causing the actual performance of the target hosts to change. These and other difficulties make the proper placement or assignment of a new workload to a target computing device difficult.

According to one general aspect a method may include monitoring via a communications network an actual system resource usage of each of a plurality of target computing devices where each of the target computing devices is configured to execute one or more respective workload tasks. The method may also include receiving from a provisioning system a request for a suggestion for an assigned target computing device to be assigned a new workload task. The method may further include providing to the provisioning system the suggestion regarding the assigned target computing device to be assigned a new workload task wherein the suggestion suggests one or more target computing device s that is included in the plurality of target computing devices. The method may also include adjusting a system resource usage profile of the assigned target computing device to include an estimated system resource usage for the new workload task and an actual system resource usage of the assigned target computing device that was previously monitored.

According to another general aspect an apparatus may include a network interface and a processor. The network interface may be configured to receive monitoring messages of an actual system resource usage of each of a plurality of target computing devices where each of the target computing devices is configured to execute one or more respective workload tasks receive from a provisioning system a request for a suggestion for an assigned target computing device to be assigned a new workload task and provide to the provisioning system the suggestion regarding the assigned target computing device to be assigned a new workload task wherein the suggestion suggests one or more target computing device s included in the plurality of target computing devices. The processor may be configured to adjust a system resource usage profile of the assigned target computing device to include an estimated system resource usage for the new workload task and an actual system resource usage of the assigned target computing device that was previously monitored.

According to another general aspect a computer program product for recommending a target computing system may be tangibly and non transitorily embodied on a computer readable medium. The computer program product may include executable code that when executed is configured to cause an apparatus to monitor via a communications network an actual system resource usage of each of a plurality of target computing devices where each of the target computing devices is configured to execute one or more respective workload tasks receive from a provisioning system a request for a suggestion for an assigned target computing device to be assigned a new workload task provide to the provisioning system the suggestion regarding the assigned target computing device to be assigned a new workload task wherein the suggestion suggests one or more target computing devices included in the plurality of target computing devices and adjust a system resource usage profile of the assigned target computing device to include an estimated system resource usage for the new workload task and an actual system resource usage of the assigned target computing device that was previously monitored.

The details of one or more implementations are set forth in the accompanying drawings and the description below. Other features will be apparent from the description and drawings and from the claims.

A system and or method for improving a network computing infrastructure substantially as shown in and or described in connection with at least one of the figures as set forth more completely in the claims.

In one embodiment the system may include a placement device a provisioning system a plurality of target computing device and a communications network e.g. the Internet an intranet etc. . In some embodiments the system may also include a client device . In various embodiments the provisioning system and the placement device may be integrated into a single device. In yet another embodiment a placement device may support a plurality of provisioning systems only one illustrated . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments the target computing devices may each include a computing device such as for example as laptops desktops workstations personal digital assistants servers blade servers mainframes and other appropriate computers etc. or a virtual machine thereof. In some embodiments the target computing devices may each be configured to execute or provide one or more network services . In such an embodiment the network services may include one or more of a number of network services such as for example web site hosting remote storage data processing distributed computing code compilation etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited. In various embodiments the network services may be homogenous or heterogeneous. Likewise in various embodiments the various target computing devices may be homogenous or heterogeneous.

In the illustrated embodiment the network services may be assigned to execute or perform various workload tasks . In such an embodiment the workload task may include a job or series of instructions that may be performed by the network service . For example a workload task may include retrieving a web page from a web server network service storing a set of backup data via a remote storage network service solving a portion of a computing problem via distributed computing network service etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In the illustrated embodiment the system may assign a workload task to a particular target computing device with the aid of a placement device . In such an embodiment the placement device may be configured to monitor the usage of the respective system resources processor capacity memory usage available storage bandwidth capacity type or state of network service etc. of the target computing device . In some embodiments the placement device may also be configured to suggest that one or more of these target computing devices be assigned or provisioned with a given workload task .

In various embodiments the placement device may include a computing device such as for example as laptops desktops workstations personal digital assistants servers blade servers mainframes and other appropriate computers etc. or a virtual machine thereof. In various embodiments the placement device may be used by a user not shown . In various embodiments the placement device may include a processor configured to execute one or more machine executable instructions or pieces of software firmware or a combination thereof. The placement device may include in some embodiments a memory configured to store one or more pieces of data either temporarily permanently semi permanently or a combination thereof. Further the memory may include volatile memory non volatile memory or a combination thereof. In various embodiments the placement device may include a storage medium configured to store data in a semi permanent or substantially permanent form. In various embodiments the storage medium may be included by the memory .

In various embodiments the placement device may include one or more network interfaces configured to allow the placement device to be part of and communicate via a communications network . Examples of a Wi Fi protocol may include but are not limited to Institute of Electrical and Electronics Engineers IEEE 802.11g IEEE 802.11n etc. Examples of a cellular protocol may include but are not limited to IEEE 802.16m a.k.a. Wireless MAN Metropolitan Area Network Advanced Long Term Evolution LTE Advanced Enhanced Data rates for GSM Global System for Mobile Communications Evolution EDGE Evolved High Speed Packet Access HSPA etc. Examples of a wired protocol may include but are not limited to IEEE 802.3 a.k.a. Ethernet Fibre Channel Power Line communication e.g. HomePlug IEEE 1901 etc. etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments the placement device may include one or more other hardware components e.g. a display or monitor a keyboard a mouse a camera a fingerprint reader a video processor etc. . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments the placement device may include an operating system OS configured to provide one or more services to an application and manage or act as an intermediary between the application and the various hardware components e.g. the processor a network interface etc. of the placement device . In such an embodiment the placement device may include one or more native applications which may be installed locally e.g. within the storage medium etc. and configured to be executed directly by the processor and directly interact with the OS . In such an embodiment the native applications may include pre compiled machine executable code. In some embodiments the native applications may include a script interpreter e.g. C shell csh AppleScript AutoHotkey etc. or a virtual machine e.g. the Java Virtual Machine the Microsoft Common Language Runtime etc. that are configured to translate source or object code into executable code which is then executed by the processor .

In one embodiment the OS may allow the application access to various system resources e.g. access to the storage medium access to a camera access to a location sensor draw a user interface UI on a display monitor etc. to perform various application functions e.g. contact a web site take a picture read write a file etc. .

In such an embodiment the placement device may include a monitoring engine configured to monitoring the usage or capacity of one or more system resources of the target computing devices . In various embodiments the target computing devices may include various pieces of hardware analogous to or similar to the hardware e.g. processor memory etc. those of the placement device as described above. In addition each target computing device may include various pieces of software e.g. OS network service etc. . In such an embodiment the monitoring engine my monitor how the target computing device is using these hardware and or software system resources or how much of these system resources are not being used or are otherwise deemed available for use .

In some embodiments the target computing device may include a monitoring tool configured to record or monitor the system resources of the respective target computing device . The monitoring tool may then provide the system resource usage information to the placement device . In some embodiments the monitoring tool may be included as part of the operating system not explicitly shown of the targeting computing device . In another embodiment the monitoring tool may be included as part of another piece of software e.g. networking service or hardware. In yet another embodiment the monitoring tool maybe a separate entity included by the target computing device or a monitor external to the target computing device e.g. a router or switch that measures bandwidth etc. . In some embodiments the monitoring tool may include a number of separate monitoring tools e.g. a memory meter a bandwidth monitor a free storage space reporting service etc. . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments this various monitoring tools of the targeting computing devices may provide system resource usage information periodically. In another embodiment the information may be provided in response to a request from the placement device wherein the request may be periodic but in other embodiments may not be . In some embodiments the information may be provided when a threshold value e.g. in either absolute or relative terms etc. is exceeded or a triggering event occurs e.g. free storage space falls below a threshold processor usage jumps or falls be a certain percentage etc. . In various embodiments the information may be provided in an asynchronous fashion in a fashion in which each target computing device acts synchronously but wherein the plurality of target computing devices are not synchronized together in synchronous fashion or a combination thereof. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In the illustrated embodiment the monitoring engine may create a system resource profile for each of the target computing devices . In various embodiments these system resource profiles may be updated or altered as new system resource usage information is made available. In some embodiments the system resource usage profiles may include static system resource information e.g. processor type installed software etc. that is not include in the system resource usage information message or update . In such an embodiment the static system resource information may be manually configured acquired as part of a startup or initial system resource usage information message as part of a special system resource usage information message acquired outside of the system resource usage information message scheme etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In some embodiments a system resource usage profile may be created for the plurality of target computing devices as a whole or as sub portions or groups. In various embodiments the system resource profiles may be stored within a usage database DB or repository . In some embodiments this usage DB may be stored within the storage medium or the memory . In various embodiments this usage DB may also include the various system resource usage information sets or messages collected from the target computing devices either in whole or in part or information derived therefrom. In some embodiments the usage DB may include historical system resource usage information or profiles which may be used for purposes described below in reference to .

At this point an example of the usage of the system may provide illustrative. As such in one embodiment a user may make use of a client computing device . In various embodiments the client device may include a computing device such as for example a shared computing terminal a desktop personal computer a laptop a netbook a tablet a smartphone etc. or a virtual machine thereof. In various embodiments the client device may include hardware and software analogous or similar to that described in reference to the hardware and software of placement device . Further in the illustrated embodiment the client device may include an application e.g. a web browser a business application etc. .

In the illustrated embodiment the user client device or the application may request via workload task request message that a target computing device perform a certain workload task . For example in one embodiment a web browser may request that a web server provide the web browser with a web page e.g. workload information . It is understood that the above is merely one illustrative example to which the disclosed subject matter is not limited.

In the illustrated embodiment system may include a provisioning system configured to assign a workload task to one of the plurality of target computing device . In various embodiments provisioning system may include a computing device such as for example as laptops desktops workstations personal digital assistants servers blade servers mainframes and other appropriate computers etc. or a virtual machine thereof. In various embodiments the client device may include hardware and software analogous or similar to that described in reference to the hardware and software of placement device .

In this context the act of provisioning may include assigning a workload task to a target computing device and may also in various embodiments include providing the target computing device with the data to process or execute the assigned workload task changing or providing the target computing device with one or more settings under which the workload task is to be executed e.g. authentication credentials network addresses or routing information network service or application settings e.g. command line parameters or arguments INI files Extensible Markup Language XML file etc. processor affinity execution priority etc. . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments the provisioning system may include one or more workload tasks to be assigned or provisioned to the plurality of target computing devices . In some embodiments the workload tasks may be stored with in a workload task DB .

While the example given is of a client device requesting that a given workload task be performed in various embodiments workload tasks may be created and provided by a number of devices or applications. For example a first workload task executed by a first target computing device may create or request a second workload task which then may be assigned to another or the same target computing device . In another embodiment requests to execute workload tasks may be occur on a predetermined schedule e.g. a workload task that executes a database report may be executed even Friday night etc. . While the example illustrate herein describes a request that is desired to be performed as soon as possible other requests may request that a given workload task may be performed at a future time or on a schedule. A version of such embodiments is discussed more in reference to . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

Further in various embodiments the workload task request may include a workload task . In another embodiment a workload task request may reference a preexisting workload task stored within the provisioning system or another system e.g. a pointer or link to a workload task stored on another device e.g. a server not shown one of the target computing devices etc. . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments the provisioning system may include a provisioning agent configured to assign a new workload task e.g. that requested by message to a target computing device . In various embodiments the provisioning agent may also be configured to fully provision the assigned target computing device as described above.

In various embodiments the provisioning agent may be configured to select a target computing device such that the new workload task may be executed as efficiently as possible or at least in a way that detrimental to the performance of the system . In such an embodiment the provisioning agent may desire to match the estimated or predicted requirements of the new workload task with the capacity or spare system resources of the assigned target computing device . In various embodiments multiple target computing devices may meet the estimated or predicted requirements of the new workload task . In such an embodiment the provisioning agent may select an acceptable target computing device based upon a predefined tie breaking scheme e.g. round robin random least system resource usage etc. . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments each workload task may include or be associated with an estimated or predicted set of execution requirements. In various embodiments these requirements may include one or more of the following a free storage space requirement a memory requirement an expected number of computation or processor cycles an supported instruction set e.g. x86 processor architecture a Java Virtual Machine single instruction multiple data instruction set MMX capable processor etc. required software or network services e.g. a Tomcat web server an SAP Enterprise Resource Planning ERP software etc. network requirements etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited. In one embodiment a workload task may include a classification or type wherein the type or classification includes a set of requirements as described above. In various embodiments the provisioning agent may take these requirements into consideration then assigning the new workload task to a target computing device .

In the illustrated embodiment the provisioning system may request assistant in assigning the new workload task to a target computing device from the placement device . In various embodiments the provisioning system or provisioning agent may send a suggestion request message to the placement device asking for one or more candidate target computing devices that the placement device thinks would be good candidates to be assigned the new workload task .

In various embodiments the providing system and the placement device may communicate via communications protocol or an arms length fashion transition scheme. In some embodiments this may take the form of a remote procedure call RPC application programming interface API or other procedural scheme. For example in one embodiment messages may be transmitted between the two devices and in a format that employs a substantially text based messaging scheme such as Simple Object Access Protocol SOAP Web Services Description Language WSDL JavaScript Object Notation JSON XML etc. In another embodiment messages may be transmitted between the two devices and in a format that employs an at least partially binary based messaging scheme such as binary RPC binary XML object serialization Common Object Request Broker Architecture CORBA etc. In these or other various embodiments the messages between the two devices and may be transmitted using a variety of protocols such as HTTP HTTPS Simple Mail Transfer Protocol SMTP etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In such an embodiment the provisioning system and the placement device may be separated architecturally as well as geographically. In some embodiments the provisioning system and the placement device may be provided by two different companies for example. Conversely in another embodiment the placement device and provisioning system may be integrated or tightly coupled. In yet another embodiment a single placement device may service a plurality of provisioning system . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In one embodiment the placement device may include a placement engine configured to suggest one or more candidate target computing devices for a given or new workload task . In various embodiments the placement engine may be configured to examine the system resource usage profiles for each or a sub portion of the targeting computing devices . Based upon that examination the placement engine may suggest one or more candidate target computing devices to the provisioning system via suggestion response message .

In one embodiment the placement engine may simply suggest the target computing device s with the lowest system resource usage. In another embodiment a secondary filtering or recommendation criteria may be employed e.g. least used least recently used round robin etc. . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

However in various embodiments the suggestion request message may include a list or set of requirements for the workload task . In some embodiments the suggestion request message may include the workload task . In another embodiment the suggestion request message may include portions of the workload task . In yet another embodiment the suggestion request message may include the type of classification of the workload task from which the requirements may be estimated or derived. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In such an embodiment in which the placement engine knows or can predict the system resource requirements of the new workload task the placement engine may make use of the system resource usage profiles to determine which of the target computing devices fulfill those requirements. In some embodiments such requirements may also include desired or recommended requirements which are optional and not strictly required. In another embodiment the requirements may include both optional requirements which are desired but the lack thereof will not cause the execution of the workload task to fail and mandatory requirements the lack thereof will or is expected to cause the execution of the workload task to fail . In such an embodiment the placement engine may use the system resource usage profiles to prioritize or filter the target computing devices such that target computing devices that include or fulfill both the optional requirements or more of the optional requirements and the mandatory requirements are suggested over other target computing devices . However it is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited and that other recommendation or suggestion schemes may be employed.

In the illustrated embodiment once the placement engine has determine which one or more target computing devices are candidates for being assigned the new workload task these suggestions may be communicated to the providing system via suggestion response message . In various embodiments a more complicated communication may be employed such as as described below.

In the illustrated embodiment the provisioning system may be select one of the candidate targeting computing devices suggested by the placement device or in another embodiment another target computing device entirely disregarding in whole or part the placement device s suggestion to be the assigned target computing device which will be assigned the new workload task . In the illustrated embodiment the assigned target computing device may execute the new workload task and provide the results or workload information to the appropriate device e.g. client device which may be defined in the workload task itself.

However as described above in various embodiments the assignment of workload tasks may be a rather dynamic environment where many workload tasks are being added assigned and removed completed and the demand for system resources often changes depending on the business or network activity. Frequently there is a time lag between the last system resource usage information collection and the time at which new placement advice is needed. In this time period numerous workload tasks ay already have been provisioned or assigned to numerous target computing devices . Such lags or inaccuracies may cause the actual performance of the target computing devices to change and not be reflective of the system resource usage profiles used by the placement devices . It is understood that the above are merely a few illustrative examples of issues to which the disclosed subject matter is not limited.

In the illustrated embodiment the placement device may attempt to ameliorate these issues by adjusting a candidate s system resource usage profile based upon an expectation that the candidate target computing device will be assigned a workload task . The placement device may assume that the provisioning system will accept the placement device s suggestion and adjust the candidate s system resource usage profile to reflect the assignment of the new workload task . Again more complex embodiments are described in regards to .

In such an embodiment the placement deice may be configured to more accurately estimate the system resource usage of a target computing device in between the times in which the system resource usage information is provided. As such in various embodiments the placement deice may be configured to make better suggestions for candidate target computing devices . However it is understood that the above is merely one illustrative example of a benefit to which the disclosed subject matter is not limited.

In such an embodiment the system resource usage information provided by the target computing devices will now be referred to as actual system resource usage information . In such an embodiment those actual system resource usage information may reflect empirical or measured data as opposed to estimated or predicted system resource data.

In various embodiments the placement device may be configured to create an estimated system resource usage adjustment or information based upon the new workload task . In one embodiment the estimated system resource usage information may be the same for each new workload task . In another embodiment the estimated system resource usage information may be based upon a predefined set of system resource usages for a given type or classification associated with the new workload task . In yet another embodiment the estimated system resource usage information may be based upon the system resource requirements associated with or included by the new workload task . In yet one more embodiment the estimated system resource usage information may be based upon historical system resource usages associated with the new workload task or substantially similar workload tasks as described below in reference to . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments the placement device may be configured to adjust the system resource usage profile of the expected assigned target computing device based upon the most recent actual system resource usage information and the estimated system resource usage associated with the new workload task . In such an embodiment the adjusted system resource usage profile may include an actual or measured component and an estimated or predicted component.

In various embodiments this adjusted system resource usage profile may be used or employed by the placement engine to make recommendations or suggestions for future workload tasks . In such an embodiment when a new or second suggestion request with a new or second workload task is received the placement engine may review the usage profiles . In such an embodiment the usage profiles now include the adjusted system resource usage profile of the prior assigned or first target computing device . In such an embodiment the placement engine may effectively be kept up to date with the current status of the real world system resource usage of the target computing devices and thus able to continue to give accurate or at least more substantially accurate advice even during the period in between an assignment of the new workload task and the next or updated system resource usage information from the assigned target computing device or in the case of failures as described below.

In such an embodiment once updated actual system resource usage information is provided by the assigned target computing device the placement device may be configured to revise the assigned target computing device s system resource usage profile by removing the estimated system resource usage portion . Alternately in another embodiment the estimated system resource usage profile which includes an estimated portion associated with the respective workload task may simply be replaced with a new system resource usage profile that does not include the estimated portion. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments instead of the receipt of a new actual system resource usage information message being the event that causes the estimated system resource usage to be removed other triggering events may cause that action. While some embodiments with such triggering events are described in more detail in regards to some examples may include the selection by the provisioning system of a target computing device other than the candidate suggested by the placement device a failure to properly assign or provision the workload task on the assigned target computing device an expiration of a predefined or heuristically determined threshold time period etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments multiple workload tasks may have been assigned to the same target computing device . In such an embodiment as triggering events associated with the respective workload tasks occur the placement device may remove the associated estimated usage portions from the assigned target computing device s system resource usage profile . In such an embodiment the addition and or removal of estimated system resource portions may occur in a pipelined fashion. It is understood that the above is merely one illustrative example to which the disclosed subject matter is not limited.

In the illustrated embodiment the target computing devices may include a plurality of target computing devices and . As described above each target computing device may provide the placement device with system resource information and respectively.

In the illustrated embodiment the provisioning system may include a provisioning agent . In the illustrated embodiment the provisioning system may be given or may include a new workload task that is to be executed by one of the target computing devices .

In various embodiments the provisioning agent may include an assignment engine that is configured to assign the new workload task to a particular one of the target computing devices . As described above in such an embodiment the assignment engine may request a suggestion or recommendation from the placement device .

In various embodiments the provisioning agent may include a placement device interface configured to communicate with the placement device . In various embodiments as described above the placement device interface may be configured to send and receive messages with the placement device via such protocols or schemes as API calls RPCs XML messages SOAP messages etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

As described above in various embodiments the provisioning system may transmit a suggestion request message to the placement device . In some embodiments the suggestion request may include the new workload task or portions thereof a type or classification of the new workload task or a set of system resource requirements associated with the new workload task . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited. In the illustrated embodiment the information provided to the placement device to aid in the recommendation of candidate target computing devices are illustrated as the workload task description .

In various embodiments the placement device may include a provisioning system interface configured to communicate with the placement system . In various embodiments as described above the provisioning system interface may be configured to send and receive messages with the placement device via such protocols or schemes as API calls RPCs XML messages SOAP messages etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In the illustrated embodiment the placement device may include a monitoring engine configured to monitoring the system resource usage of the various target computing devices . In the illustrated embodiment this is shown as the monitoring engine receiving the various actual system resource usage information messages and . It is understood that the above is merely one illustrative example to which the disclosed subject matter is not limited. As described above in various embodiments the monitoring engine may be configured to actual system resource usage information messages to create plurality of system resource usage profiles for each target computing device .

In various embodiments the placement device may include a placement engine configured to determine one or more candidate target devices in response to the suggestion request . As described above in various embodiments the placement engine may consult or review the information included in the system resource usage profiles to select one or more candidate target computing devices .

In the illustrated embodiment the target computing devices and may be already executing the workload tasks and respectively. As a result target device which is executing nothing in the illustrated embodiment may have the lowest system resource usage or highest capacity. In the illustrated embodiment the placement engine may select the target computing device as the candidate target computing device. This may be communicated to the provisioning system via the suggestion response message .

In various embodiments the suggestion request or workload task description may include a time element such that the execution of the new workload task is desired in the future as opposed to immediately or as soon as possible. In such an embodiment the placement engine may include to maintain a schedule . In such an embodiment the schedule may be configured to indicate when and which workload tasks are scheduled to be executed by various assigned target computing devices . In such an embodiment the placement engine may make use of this schedule when determining an expected system resource usage for each of the target computing devices at the time at which the new workload task desires to execute.

In another embodiment the system resource usage profiles may include a time element or dimension. In such an embodiment the system usage profiles may include expected or historical system resource usages for various timeframes e.g. hourly daily weekly etc. . In such an embodiment the schedule may not exist. Alternatively in one embodiment the schedule may indicate to the placement engine or other portion of the placement device when a new workload task is scheduled to be assigned within the system . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

As described above in various embodiments once the placement device considers the new workload task to be assigned to an assigned target computing device e.g. target computing device the placement device may adjust the respective system resource usage profile with the estimated system resource usage information . As described above in some embodiments the estimated system resource usage information may be based directly on the workload task description .

In some embodiments the placement device may include a usage estimator that is configured to estimate the system resource usage that will be incurred by the new workload task . In one embodiment the usage estimator may be configured to compute or estimate the amount of system resource usage are actually incurred by the execution of various workload tasks.

In such an embodiment the usage estimator may determine the difference in the system resource usage information for a given target computing device before a workload task is assigned and executed and the system resource usage information for the given target computing device after the workload task was assigned and during its execution. In some embodiments this difference may be attributed to the respective workload task. In various embodiments these system resource usage amounts may be saved as a plurality of workload task system resource usages . It is understood that the above is merely one illustrative example of estimating the amount of system resource used by a workload task to which the disclosed subject matter is not limited.

In such an embodiment the usage estimator may be configured to determine which of the historical workload task system resource usages most closely match or are sufficiently similar to the current new workload task . In various embodiments this determination may be based upon a set of predefined matching criteria . In some embodiments these may include matching based upon the type or classification of the new workload task a user or device that created or caused the new workload task to be executed the type of service being deployed and any user selected parameters etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In such an embodiment the usage estimator may generate the estimated system resource usage for the new workload task not off a predefined set of system resource requirements or workload type profile. Instead in some embodiments the estimated system resource usage may be based off an historical model of workload system resource usage for a similar workload task or workload tasks.

In various embodiments the new workload task is provisioned based upon a predefined deployment model with a fixed allocation of system resources e.g. processor memory and disk space etc. . However in some embodiments once deployed or executed by the target computing device the workload task s actual system resource usage may be variable. The workload task may not use its full allotment of the system resources. In some embodiments the actual system resource usage due to the new workload task may be lower than described in the workload description most of the time. In the illustrated embodiment by basing the adjusted system resource usage profile on a historically based estimate usage portion instead of a less accurate predefined estimate usage portion money may be saved as the system may be put to work more efficiently.

In some embodiments after receiving the suggestion response message the assignment engine may decide which target computing device will be assigned the new workload task . As described above in various embodiments the placement device may simply assume that everything has occurred correctly and its suggestion was taken by the provisioning system . In such an embodiment the usage profile of the candidate target computing device e.g. device may be adjusted with the estimated system resource usage .

However in the illustrated embodiment the assignment engine may be configured to inform the placement device exactly what target computing device the provisioning agent has chosen as the assigned target computing device e.g. via assignment message s . It is understood that the assignment engine is under no obligation to accept the placement device s recommendation.

For example the placement device may have recommended a first target computing device but the assignment engine for whatever reasons may have assigned the new workload task to a second target computing device . In such an embodiment the assignment engine may inform the placement device of this choice. In such an embodiment the placement device may not adjust the system resource usage profile associated with the failed candidate device but instead the system resource usage profile associated with the selected assigned device

In some embodiments the placement device may still provisionally adjust the system resource usage profile associated with the suggested candidate device immediately after the suggestion is made or determined. However once an official assignment by the provisioning system is made the erroneous adjust of the system resource usage profile associated with the suggested candidate may be revoked or removed and a new adjustment to the system resource usage profile associated with the selected assigned target computing device made. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments whenever a workload task is provisioned on a particular target host e.g. computing device a token called a Pending Provisioning Action may be created within the placement device for this provisioning action. In such an embodiment until the placement device collects from the assigned computing device system resource usage data that includes the performance impact of that new workload task the placement device simulates workload task s system resource impact via the estimated usage portion .

As described above this estimated usage portion may be included within the adjusted system resource usage profile until a triggering event occurs. As described above the triggering event may include a next or subsequent system resource usage information message an assignment message that indicates a different computing device was assigned the workload task an activation message indicating that the assignment of the new workload task failed or was not properly accomplished not receiving an activation message within a time period in which one is expected an expiration of a period of time e.g. an expected amount of time needed to properly provision the new workload task on the assigned computing device etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments the provisioning agent may include a provisioning engine configured to provision the assigned target computing device e.g. target computing device . In such an embodiment the provisioning engine may be configured to actually schedule or cause to occur the execution of the new workload task . As described above in embodiments in which the new workload task execution is to be delayed until a time in the future the provisioning engine may be configured to delay the provisioning of that workload task until the appointed time.

In the illustrated embodiment the communication between the placement device and the provisioning device may primarily include three phases an Advice or Recommendation phase a Reservation phase and an Activation phase . In various embodiments one or more of these phases may be absent or combined. In another embodiment additional phases may be included. It is understood that the above is merely one illustrative example to which the disclosed subject matter is not limited.

In such an embodiment the Advice phase may include providing a suggestion or recommendation to the provisioning device . In various embodiments during the Advice phase the Placement Engine may choose one or more of the possible target computing device for placing the new workload. During this phase the Provisioning System may still be free to ignore the advice if it chooses to. The Provisioning System in various embodiments may employ different criteria for placement and these criteria may be computed using different placement engines business logic etc.

In various embodiments the Reservation phase may include providing the placement device with an indication as to which target computing device was selected as the assigned target computing device. In one embodiment where the Provisioning System has decided to place the workload on a particular target computing device . This may or may not be the same target computing device that the Placement Engine chose or suggested. It is understood that the above is merely one illustrative example to which the disclosed subject matter is not limited.

In various embodiments the Activation phase may include providing the placement device with an indication that the new workload task has been successfully assigned or provisioning on the assigned target computing device . In such an embodiment the Provisioning System may have successful completed provisioning of the workload.

As described above and illustrated by Block in various embodiments the placement device may monitor the system resource usage or capacity of the plurality of target computing devices . As described above this monitoring may occur at periodic intervals after various triggering events or via other schemes.

In various embodiments the provisioning system may send a placement or suggestion request to the placement device as described above. In such an embodiment the placement request may include a description in whole or part of the new workload task that the provisioning system wishes advice about. In some embodiments the placement request may include a request for multiple workload tasks. In one such embodiment the placement request may request individual recommendations for each workload task. In another embodiment placement request may request a suggestion for where to place all or various sub portions of the multiple workload tasks.

In various embodiments the placement request may include a list of possible target computing devices from which the placement device may select a recommendation. In such an embodiment the provisioning device may limit the choice of sub portion of the full plurality of target computing devices . In some embodiments the provisioning device may be configured to pre filter the plurality of target computing devices based upon various requirements of the workload task e.g. software requirements a tenant model in a multi tenant computing system etc. . In such an embodiment the placement device may only be configured to monitor the hardware system resources or other aspects of the plurality of target computing devices . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

Block illustrates that in one embodiment the placement device may be configured to determine which one or more target computing devices are to be suggested or recommend as candidates for the assignment of the workload task as described above.

In various embodiments the placement device may transmit a placement recommendation to the provisioning system as described above. In some embodiments the placement recommendation may include multiple candidate target computing devices . In various embodiments these multiple candidate target computing devices may be ordered by preference given a score or other preference indicator associated with a reason why the placement device is suggesting a given placement device etc. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

Action illustrates that in one embodiment the provisioning system may select a candidate target computing device to become the assigned target computing device . As described above in various embodiments the provisioning system may not select the candidate target computing device recommended by the placement device .

In various embodiments the provisioning system may be configured to provide the placement device with an indication as to which target computing device was selected to be assigned the workload task. In the illustrated embodiment this occurs via a reservation message . In one such embodiment the reservation message may include a description of the workload task and an indication as to which target computing device was selected as the assigned target computing device in block . As described above in some embodiments the provisioning system may not communicate this information and the placement device may make an assumption regarding the selection made in action . In various embodiments the placement device may be configured to acknowledge the preservation message via the reservation acknowledgement .

In some embodiments the placement device may be configured to adjust the assigned target computing device s system resource usage profile using an estimated or simulated system resource usage model as described above and shown in Block . In various embodiments the reservation acknowledgement may occur after the action of Block substantially simultaneously with the action of Block or before the action of Block . It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

In various embodiments after the provisioning system has selected the assigned target computing device via action the workload task may be assigned or provisioned to or on the assigned target computing device. In various embodiments this may occur via a single message or series of messages collectively illustrated as the provision or assignment protocol .

In some embodiments the assignment may occur without error and the provisioning system may inform the placement device that the workload has been correctly assigned to the assigned target computing device via the activation message . In various embodiments the activation message may include a description of identifier ID of the associated workload task and or the assigned target computing device. In some embodiments an activation acknowledgment message may be transmitted form the placement device in response to the activation message .

As described above in various embodiments once a successful activation message has been received the placement device may remove the estimated or simulated system resource usage from block from the assigned target computing device s system resource profile after the next monitoring device update illustrated by Block . This removal or re adjustment of the assigned target computing device s system resource profile is illustrated by Action . As described above once a system monitoring event occurs that includes the actual workload task system resource usage a historical workload task usage profile may be generated to aid future estimation or simulations of similar workload task system resource usage in the future.

In various embodiments the assignment of the workload task to the assigned target computing device may not occur as smoothly as described above. The following provides a few example embodiments in which various errors or corrections may be made. It is understood that the below are merely a few illustrative examples to which the disclosed subject matter is not limited.

In one embodiment the assigned target computing device of the activated message may differ from the assigned target computing device of the reservation message . For example in one such embodiment the attempt to assign the workload task to the intended or first target computing device may have failed and the provisioning system may have then assigned the workload task to an alternate target computing device. In one such embodiment this change may be communicated via the activated message . In another embodiment this change may be communicated by transmitting a new reservation message and subsequent activation message .

In such embodiments upon being notified of the change in assigned target computing device the placement engine may remove the estimated system resource usage from the old failed or deprecated target computing device s system resource usage profile and then added the estimated system resource usage to the new target computing device s system resource usage profile. As described above once a new actual system resource usage update for the target computing device becomes available e.g. via block to the placement engine the placement engine may discard the simulation due to the workload tasks that were properly provisioned in favor of the actual system resource usage data from the target computing devices . In such an embodiment the actual system resource usage data is expected to include the effect of the provisioned workload task so it may not be needed to continue to maintain the simulated or estimated system resource usage.

In various embodiments the reservation and activation phases and together allow that the provisioning system and the placement device to coordinate their knowledge about the identity of the workload task that was provisioned and the target computing device where it was placed. This may be useful in various embodiments for the placement device to know so that it can continue to provide accurate advice until the next performance data feed becomes available for the chosen target computing device.

In another variation of the illustrated embodiment the provisioning system may begin the provisioning process but the process may fail. In such an embodiment the activation message may include an indication that the activation failed e.g. a FailedActivation call in the API . In such an embodiment the placement device may be configured to remove the estimated or simulated system resource usage of action . In one embodiment in which the estimation makes use of a token based system the placement device may discard the pending provisioning action token and clean up respective data structures associated with the pending provisioning action and the provisionally assigned target computing device illustrated by action . In various embodiments this may assure that the capacity of or system resource usage the chosen target computing device is again available for provisioning new workloads. It is understood that the above is merely one illustrative example to which the disclosed subject matter is not limited.

In yet another embodiment some portion of the placement or provisioning actives may fail before provisioning is fully completed. In such an embodiment even after the failed device s recover the placement device may never receive an activation message or call . In some embodiments due to this failure the estimated system resource usage may continue to be used forever. In another embodiment to handle this failure case the placement device may be configured to time out the estimated system resource usage or pending provisioning action token after a predefined or heuristically computed time has elapsed. In some embodiments time period may be estimated using historical data for how long it takes to provision various kinds of workload tasks plus how long it takes for the performance feed or monitoring tool to become available to the placement device . It is understood that the above is merely one illustrative example to which the disclosed subject matter is not limited. In various embodiments in which no activation message exits or is normally provided to the placement device such a time out scheme may be normal technique for determining when to perform action .

In some embodiments a monitoring devices action may naturally occur between the action of adjusting the system resource usage profile of the assignee computing device and the triggering event e.g. activation message that causes the estimated system resource usage due to the workload task to be removed from the system resource usage profile of the assignee computing device. In one such embodiment the actual system resource information from the assigned computing device may be ignored and the adjusted the system resource usage profile may be used instead until the triggering event . In another embodiment the placement device may be configured to replace the prior actual system resource information from the assigned computing device with the new actual system resource information from the assigned computing device creating an updated and adjusted system resource profile. In such an embodiment the estimated system resource usage may continue to be used as it may be assumed that the workload task was not yet properly provisioned and therefore had no influence on the new actual system resource information. In yet another less preferred embodiment the new actual system resource information may be compared to the adjusted system resource profile to determine if the actual system resource information comports with the adjusted system resource profile and implies that the workload task has been provisioned and is now reflected in the new actual system resource information. It is understood that the above are merely a few illustrative examples to which the disclosed subject matter is not limited.

Block illustrates that in one embodiment the actual system resource usage of each of a plurality of target computing devices may be monitored as described above. In various embodiments each of the plurality of target computing devices may be configured to execute one or more respective workload tasks as described above. In various embodiments monitoring the actual system resource usage of each of the plurality of target computing devices may include monitoring in a periodic fashion as described above. In various embodiments one or more of the action s illustrated by this Block may be performed by the apparatuses or systems of or the placement device of or or the monitoring engine of or as described above.

Block illustrates that in one embodiment a request may be received from a provisioning system for a suggestion for an assigned target computing device to be assigned a new workload task as described above. In various embodiments the suggested target computing device may include one or more of the plurality of target computing devices as described above. In some embodiments the request for a suggestion for an assigned target computing device to be assigned a new workload task may include a time in the future when the new workload task is expected to be assigned as described above. In various embodiments one or more of the action s illustrated by this Block may be performed by the apparatuses or systems of or the placement device of or or the placement engine of or as described above.

Block illustrates that in one embodiment a suggestion may be provided regarding the assigned target computing device to be assigned a new workload task as described above. In various embodiments the suggestion may include a suggestion of one or more of the plurality of targeted computing devices as described above. In various embodiments providing to the provisioning system the suggestion regarding the assigned target computing device may include providing a suggestion that a first targeting computing device be assigned the new workload task as described above. In another embodiment providing the suggestion regarding the assigned target computing device to be assigned a new workload task may include a suggestion that any of a plurality of candidate target computing devices be assigned a new workload task as described above. In such an embodiment the plurality of candidate target computing devices may include a subset of the plurality of target computing devices as described above. In various embodiments one or more of the action s illustrated by this Block may be performed by the apparatuses or systems of or the placement device of or or the placement engine of or as described above.

Block illustrates that in one embodiment an estimated system resource usage of the new workload task may be estimated based at least in part upon a historical analysis of one or more workload tasks sufficiently similar based on a predefined set of criteria to the new workload task as described above. In various embodiments one or more of the action s illustrated by this Block may be performed by the apparatuses or systems of or the placement device of or the placement engine of the usage estimator of as described above.

Block illustrates that in one embodiment a system resource usage profile of the assigned target computing device may be adjusted to include an estimated system resource usage for the new workload task and an actual system resource usage of the assigned target computing device that was previously monitored as described above. In various embodiments adjusting a system resource usage profile of an assigned target computing device may include adjusting the system resource usage profile of the assigned target computing device at the time in the future when the new workload task is expected to be assigned as described above. In various embodiments one or more of the action s illustrated by this Block may be performed by the apparatuses or systems of or the placement device of or the placement engine of the usage estimator of as described above.

Block illustrates that in one embodiment an activation message may be received wherein the message includes an indication of which target computing devices the providing system selected as the assigned target computing device and to be assigned the new workload task as described above. As described above in some embodiments the suggestion regarding the assigned target computing device may have included a suggestion that a first targeting computing device be assigned the new workload task. In some embodiments receiving the activation message may include an indication that a second target computing device was selected to be assigned the new workload task as described above. In such an embodiment adjusting the system resource usage profile of the assigned target computing device may include adjusting the system resource usage profile of the second target computing device as described above. In various embodiments one or more of the action s illustrated by this Block may be performed by the apparatuses or systems of or the placement device of or the placement engine of the usage estimator of as described above.

Block illustrates that in one embodiment a failed activation message may be received that indicates that an attempt to assign new workload task to the assigned target computing device was unsuccessful as described above. In various embodiments one or more of the action s illustrated by this Block may be performed by the apparatuses or systems of or the placement device of or or the placement engine of or as described above.

Block illustrates that in one embodiment the estimated system resource usage of the new workload task may be removed from the system resource usage profile of the assigned target computing device as described above. In some embodiments this may occur after a triggering event as described above. In various embodiments the triggering event may include a next periodic monitoring of the assigned target computing device after the new workload task was assigned as described above. In another embodiment the triggering event may include an expiration of a predetermined period of time wherein the predetermined period of time is based at least in part upon an estimated amount of time between providing the suggestion regarding the assigned target computing device to be assigned a new workload task and when the assigned target computing device begins executing the new workload task as described above. In yet another embodiment the triggering event may include the reception of the failed activation message as described above. In such an embodiment after the failed activation message has been received the estimated system resource usage of the new workload task may be removed from the system resource usage profile as described above. In various embodiments one or more of the action s illustrated by this Block may be performed by the apparatuses or systems of or the placement device of or the placement engine of the usage estimator of as described above.

Implementations of the various techniques described herein may be implemented in digital electronic circuitry or in computer hardware firmware software or in combinations of them. Implementations may be implemented as a computer program product i.e. a computer program tangibly embodied in an information carrier e.g. in a machine readable storage device or in a propagated signal for execution by or to control the operation of data processing apparatus e.g. a programmable processor a computer or multiple computers. A computer program such as the computer program s described above can be written in any form of programming language including compiled or interpreted languages and can be deployed in any form including as a stand alone program or as a module component subroutine or other unit suitable for use in a computing environment. A computer program can be deployed to be executed on one computer or on multiple computers at one site or distributed across multiple sites and interconnected by a communication network.

Method steps may be performed by one or more programmable processors executing a computer program to perform functions by operating on input data and generating output. Method steps also may be performed by and an apparatus may be implemented as special purpose logic circuitry e.g. an FPGA field programmable gate array or an ASIC application specific integrated circuit .

Processors suitable for the execution of a computer program include by way of example both general and special purpose microprocessors and any one or more processors of any kind of digital computer. Generally a processor will receive instructions and data from a read only memory or a random access memory or both. Elements of a computer may include at least one processor for executing instructions and one or more memory devices for storing instructions and data. Generally a computer also may include or be operatively coupled to receive data from or transfer data to or both one or more mass storage devices for storing data e.g. magnetic magneto optical disks or optical disks. Information carriers suitable for embodying computer program instructions and data include all forms of non volatile memory including by way of example semiconductor memory devices e.g. EPROM EEPROM and flash memory devices magnetic disks e.g. internal hard disks or removable disks magneto optical disks and CD ROM and DVD ROM disks. The processor and the memory may be supplemented by or incorporated in special purpose logic circuitry.

To provide for interaction with a user implementations may be implemented on a computer having a display device e.g. a cathode ray tube CRT or liquid crystal display LCD monitor for displaying information to the user and a keyboard and a pointing device e.g. a mouse or a trackball by which the user can provide input to the computer. Other kinds of devices can be used to provide for interaction with a user as well for example feedback provided to the user can be any form of sensory feedback e.g. visual feedback auditory feedback or tactile feedback and input from the user can be received in any form including acoustic speech or tactile input.

Implementations may be implemented in a computing system that includes a back end component e.g. as a data server or that includes a middleware component e.g. an application server or that includes a front end component e.g. a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation or any combination of such back end middleware or front end components. Components may be interconnected by any form or medium of digital data communication e.g. a communication network. Examples of communication networks include a local area network LAN and a wide area network WAN e.g. the Internet.

While certain features of the described implementations have been illustrated as described herein many modifications substitutions changes and equivalents will now occur to those skilled in the art. It is therefore to be understood that the appended claims are intended to cover all such modifications and changes as fall within the scope of the embodiments.

