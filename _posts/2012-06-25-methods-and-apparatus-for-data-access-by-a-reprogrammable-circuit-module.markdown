---

title: Methods and apparatus for data access by a reprogrammable circuit module
abstract: In some embodiments, an apparatus includes a set of memory modules configured to store data and a reprogrammable circuit module operatively coupled to the set of memory modules. The reprogrammable circuit module is configured to receive, from a host device, information associated with a search request. The reprogrammable circuit module is configured to change from a first configuration to a second configuration in response to receiving the information. The reprogrammable circuit module is configured to retrieve at least a portion of the data stored at the set of memory modules associated with the second configuration. The reprogrammable circuit module is configured to generate a search result based on the portion of the data, and transmit the search result to the host device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08838873&OS=08838873&RS=08838873
owner: Data Design Corporation
number: 08838873
owner_city: Gaithersburg
owner_country: US
publication_date: 20120625
---
This application is a continuation of PCT Patent Application No. PCT US12 42143 filed on Jun. 13 2012 titled Methods and Apparatus for Data Access by a Reprogrammable Circuit Module which is incorporated herein by reference in its entirety. This application is also a continuation in part of U.S. patent application Ser. No. 13 161 141 filed on Jun. 15 2011 titled Methods and Apparatus for Data Access by a Reprogrammable Circuit Module which is incorporated herein by reference in its entirety.

Some embodiments described herein relate generally to memory systems and in particular to systems and methods for accessing data from a memory system using a reprogrammable circuit module.

Some known systems for performing database searches employ an array of individual computers each programmed to perform a similar search function on one or more databases in order to increase the speed of retrieving data from the databases. Such a scheme however is difficult to manage and coordinate different computers. Some other known systems use an array of disk drives connected to an array of processor units. To perform a search function data is read from the disk drives and processed at the processor units. With this approach large amount of data is transmitted from the disk drives to the processors which causes a substantial latency in retrieving data.

Accordingly a need exists for a system where high speed database searches can be performed and particularly improvement in speed over the existing design using disk drives can be achieved.

In some embodiments an apparatus includes a set of memory modules configured to store data and a reprogrammable circuit module operatively coupled to the set of memory modules. The reprogrammable circuit module is configured to receive from a host device information associated with a search request. The reprogrammable circuit module is configured to change from a first configuration to a second configuration in response to receiving the information. The reprogrammable circuit module is configured to retrieve at least a portion of the data stored at the set of memory modules associated with the second configuration. The reprogrammable circuit module is configured to generate a search result based on the portion of the data and transmit the search result to the host device.

In some embodiments an apparatus includes a set of memory modules a reprogrammable circuit module and a set of data channels. Each memory module from the set of memory modules is associated with an address translation table configured to store a set of address pairs where each address pair includes 1 a physical memory address associated with a physical location in a memory module from the set of memory modules and 2 a logical memory address associated with the physical memory address. The reprogrammable circuit module is configured to execute a search process based at least in part on data stored at the set of memory modules. The search process is configured to retrieve a first physical memory address associated with a first logical memory address from an address translation table associated with a first memory module from the set of memory modules and a second physical memory address associated with a second logical memory address from an address translation table associated with a second memory module from the set of memory modules. In some embodiments the reprogrammable circuit module is configured to randomly associate the first physical memory address with the first logical memory address and randomly associate the second physical memory address with the second logical memory address such that the first logical memory address is adjacent to the second logical memory address while the first physical memory address is not adjacent to the second physical memory address. In some embodiments the reprogrammable circuit module can be configured to randomly associate physical memory addresses with logical memory addresses such that the physical memory addresses associated with a set of sequential logical memory addresses are substantially uniformly distributed within a range of physical memory addresses e.g. across the entire available memory space of one or more memory modules .

Furthermore each data channel from the set of data channels operably couples the reprogrammable circuit module to at least one memory module from the set of memory modules. The reprogrammable circuit module is configured to send based on the search process a first query to the first memory module via a first data channel from the set of data channels based on the first physical memory address and a second query to the second memory module via a second data channel from the set of data channels based on the second memory address. In some embodiments the reprogrammable circuit module is configured to send the first query at substantially a same time as the second query. In some embodiments the reprogrammable circuit module is a Field Programmable Gate Array FPGA and configured to be modified by a driver module. In some embodiments each memory module from the set of memory modules is a flash memory module included in a dual in line memory module DIMM and the set of memory modules are removably coupled to a Peripheral Component Interconnect Express PCIe card including the reprogrammable circuit module.

In some embodiments an apparatus comprises a first reprogrammable circuit module and a memory package including a set of memory modules. The memory package is removably coupled to the first reprogrammable circuit module. Specifically the memory package is operatively coupled to the first reprogrammable circuit module via a set of channels when in a first configuration and physically coupled to a second reprogrammable circuit module when in a second configuration. At least one memory module from the set of memory modules is configured to store an address translation table having a set of address pairs associated with the set of memory modules. Each address pair from the set of address pairs includes 1 a physical memory address associated with a physical location in the set of memory modules and 2 a logical memory address associated with the physical memory address. In some embodiments the memory package is a DIMM where each memory module from the set of memory modules is a flash memory module on the DIMM. In some embodiments the first reprogrammable circuit module is an FPGA.

Furthermore the first reprogrammable circuit module is configured to use the set of address pairs to execute a search process via the set of channels after the memory package is moved from the second configuration to the first configuration where the search process is substantially the same as a search process executed by the second reprogrammable circuit module when the memory package is in the second configuration. The search process executed by the first reprogrammable circuit module is configured to retrieve a physical memory address associated with a received logical memory address using the address translation table. Furthermore in some embodiments the first reprogrammable circuit module is configured to send a first query to a first memory module from the set of memory modules during a first time period and send a second query to a second memory module from the set of memory modules during a second time period overlapping the first time period.

In some embodiments an apparatus includes a set of memory modules configured to store data and a reprogrammable circuit module operatively coupled to the set of memory modules. In some embodiments each memory module from the set of memory modules is included in a DIMM. In some embodiments each memory module from the set of memory modules is a flash memory module. In some embodiments each memory module from the set of memory modules is removably coupled to a PCIe card including the reprogrammable circuit module. In some embodiments the reprogrammable circuit module is an FPGA. In some embodiments the reprogrammable circuit module is configured to be modified by a driver module.

The reprogrammable circuit module is configured to receive from a host device information associated with a search request. In some embodiments the information is associated with a Structured Query Language SQL query. The reprogrammable circuit module is configured to change from a first configuration to a second configuration in response to receiving the information. The reprogrammable circuit module is configured to retrieve at least a portion of the data stored at the set of memory modules associated with the second configuration. In some embodiments the reprogrammable circuit module is configured to compare the data stored in the set of memory modules with at least one search parameter and retrieve the portion of the data based on the comparison. The reprogrammable circuit module is configured to generate a search result based on the portion of the data and transmit the search result to the host device. In some embodiments the search result is based on a function of the portion of the data but does not include the portion of the data. In some other embodiments the search result includes the portion of the data.

As shown in and further described below the expansion board contains an implementation of a scalable structure that is synthesized by connecting multiple parallel channels e.g. data channels of high data rate memory modules e.g. memory modules directly to a data processing module e.g. reprogrammable circuit module . In other words an array of memory modules is connected to a single large data processing module where each memory module has its own data channel thus to provide a combined transfer rate of up to a multiple times of the data rate for a single data channel. In some embodiments such an integrated structure consisting of a single data processing module connected to an array of memory modules typically flash memory devices is referred to as a Flash Processing Element FPE . In some embodiments a scalable implementation of a FPE is known as a Scalable Large Flash Memory SLFM system.

The expansion board can be any removable device that can be used to implement a FPE structure i.e. to access and retrieve data stored in the memory package and locally process the retrieved data within the expansion board . Specifically reprogrammable circuit module can be used to access and retrieve data from the memory modules e.g. memory modules included in the memory package via the data channels e.g. data channels and then process the retrieved data within the expansion board . For example the expansion board can be an add in circuit board directly coupled to a motherboard of a PC. For another example the expansion board can be a removable module connected to a processor of a computer server via an interface and or a bus. Furthermore the expansion board can be operatively coupled to a host computer via for example a high speed serial data and or command interface over a data channel. In some embodiments the expansion board can be connected to a motherboard of the host computer .

In some embodiments the expansion board can be a PCIe card. In such embodiments the FPE system including the reprogrammable circuit module the memory package and other components not shown in are contained on the PCIe expansion board . Physical implementation of the I O channel connecting the expansion board and the host computer can be in a PCIe format and the expansion board can be accessible with a unique PCIe address. The PCIe format allows multiple FPE boards including the expansion board to be used in a variety of configurations from single board applications to systems needing hundreds of FPEs. These FPE boards i.e. PCIe cards such as the expansion board are physically compatible with common full length PCI slots of a PC or a PCIe expansion chassis. Furthermore such a PCIe card can be connected to a motherboard or a host computer via a high speed serial data or command interface over a multi lane PCIe channel which can provide a large data rate e.g. 5 G bytes sec . Additionally in some embodiments the expansion board can be a circuit board that adopts the Advanced Telecommunications Computing Architecture ATCA backplane interface specification or any other interface specification.

The reprogrammable circuit module can be any circuit module that is capable of retrieving data from the memory package . In some embodiments the reprogrammable circuit module can be capable of on board processing of retrieved data. In some embodiments the reprogrammable circuit module can be an FPGA. For example the reprogrammable circuit module can be an Altera Stratix 4GX 530 FPGA. More specifically the reprogrammable circuit module can be an FPGA consisting of a large number of logic elements and or data processing elements which is programmed to retrieve data stored at memory modules in the memory package and further process the retrieved data within the reprogrammable circuit module . In other embodiments a reprogrammable circuit module can be an application specific integrated circuit ASIC or any other suitable programmable logic device PLD such as a programmable logic array PLA a programmable array logic PAL a complex programmable logic device CPLD etc.

Particularly the reprogrammable circuit module can be used to perform a search function. That is the reprogrammable circuit module can be configured to search specific data e.g. a string a term from the data stored within the memory modules included in the memory package . Details of a reprogrammable circuit module being configured to perform a search function are described with respect to .

In some embodiments the reprogrammable circuit module includes an on board configuration storage such as an on board configuration ROM read only memory to store a configuration file. The configuration ROM although not shown in can be mounted on the expansion board and electrically coupled to the reprogrammable circuit module . The configuration file contained in the configuration ROM can be automatically uploaded from the configuration ROM into the reprogrammable circuit module upon the application of power at the beginning of a system boot up. As a result the reprogrammable circuit module is configured to operate according to the uploaded configuration file such as to perform a specific task e.g. a search function . Furthermore a new configuration file can be loaded into the on board configuration ROM of the expansion board at any time after a system boot up and further uploaded into the reprogrammable circuit module e.g. at next system boot up such that the reprogrammable circuit module can be reprogrammed to perform a different task if necessary.

In some embodiments the reprogrammable circuit module can also be configured or reprogrammed by a driver module not shown in which is typically located at the host computer . As a tool to configure the reprogrammable circuit module from the host computer the driver module can optimize a program e.g. an FPGA program for a given task that is to be executed by the reprogrammable circuit module and then send the program to the reprogrammable circuit module . For example as different search programs use different criteria a user can write a VHDL VHSIC hardware description language program for a given search algorithm and then send the VHDL program to the reprogrammable circuit module from the host computer using the driver module. As a result the reprogrammable circuit module can adjust accordingly and execute the search function according to the VHDL program. In other embodiments other programming languages such as Verilog or other HDL languages can be used to reprogram or configure the reprogrammable circuit module . In some embodiments the driver module can be configured to download the program to the reprogrammable circuit module using for example an application programming interface API or any other suitable method.

In some embodiments one or more driver modules can be used to configure or reprogram the reprogrammable circuit module for various applications and or tasks. For example a driver module can configure the reprogrammable circuit module to perform a search task using a first keyword. The same driver module can configure the reprogrammable circuit module at a different time to perform another search task using a second keyword. For another example a first driver module can configure the reprogrammable circuit module to perform a search task a second driver module can configured the reprogrammable circuit module to perform a data storing task.

As shown in the memory package contains multiple memory modules such as the memory modules . A memory module in the memory package can be any type of memory device that can be used to store data and can be accessed by the reprogrammable circuit module via for example a data channel e.g. data channel . In some embodiments a memory module can include one or more memory blocks each of which contains a certain memory space of a fixed block size e.g. 16 kB 32 kB etc. . In some embodiments a memory module can be a flash memory device such as a multi level cell MLC Not AND NAND chip a single level cell SLC NAND chip or a Clear NAND chip etc. To support a particular type of memory device the reprogrammable circuit module can be adjusted accordingly. For example an FPGA internal state machine providing readout of the memory devices can be changed according to the specific type of memory devices. In some embodiments the memory modules in a single memory package e.g. memory package can be instances of a same type of memory devices.

In some embodiments each memory module contained in the memory package is associated with an address translation table which is from a set of one or more address translation tables stored in one or more memory modules contained in the memory package . That is at least one memory segment unit in each memory module is associated with an entry of an address translation table stored in a memory module. For example as shown in each memory module contained in the memory package is associated with an address translation table which is stored in the memory module . The address translation table can be configured to store a set of address pairs. Each address pair can include a physical memory address associated with a physical location in a memory module contained in the memory package and a logical memory address associated with that physical memory address. Details of the internal structure of a memory module and an address translation table are further described with respect to .

In some embodiments although not shown in more than one address translation table can be stored in the memory modules in the memory package . In such embodiments for example each memory module contained in the memory package can be associated with a single address translation table. For example each memory module e.g. memory module contained in the memory package can have its own address translation table which is stored in the associated memory module. In that case the address translation table is uniquely associated with the memory module . Similarly stated the address translation table is configured to store mapping information for memory segment units of the memory module but not the other memory modules including the memory modules etc.

The memory package can be any replaceable module that can contain one or more memory modules e.g. the memory modules and enable the memory modules to be accessed by an on board data processing module e.g. the reprogrammable circuit module via for example one or more data channels e.g. the data channels . The memory package is replaceable in the sense that it can be mounted onto any suitable circuit board via a suitable interface socket or removed from the circuit board if necessary. For example the memory package can be mounted onto the expansion board via a socket when in a first configuration as shown in or mounted onto another circuit board via another suitable interface socket not shown in when in a second configuration. As a result the memory package can be physically coupled to the reprogrammable circuit module via a set of data channels e.g. the data channels when in the first configuration and physically coupled to another reprogrammable circuit module via a different set of data channels when in the second configuration.

Accordingly the memory modules e.g. the memory modules can be removed from the expansion board containing the on board data processing module e.g. the reprogrammable circuit module and other associated interface components not shown in . The expansion board can be used as a carrier board for one or more memory packages that include one or more memory modules. Each of the memory packages can be structurally and functionally similar to the memory package described herein. As a result the memory modules accessed by the reprogrammable circuit module can be easily replaced with for example new types of memory modules or same type of memory modules containing different data. Specifically a memory package containing the old types of memory modules can be removed from an expansion board and then a different memory package containing the new types of memory modules can be mounted onto the expansion board. Thus this feature permits upgrading the memory modules to newer types as they become available which greatly enhances the technology lifetime of the system. Furthermore the memory capacity of an expansion board can be expanded by mounting additional memory packages onto the expansion board. In some embodiments operations on a memory package associated with an expansion board e.g. remove the memory package from the expansion board replace the memory package with another memory package mount the memory package onto the expansion board do not erase change or affect in any other means the data stored in the other memory packages mounted on the expansion board.

On the other hand as described in detail with respect to the reprogrammable circuit module can be configured to execute a task such as a search function on the memory package when the memory package is coupled to the reprogrammable circuit module in the first configuration where the search function is substantially the same as a search function executed by a different reprogrammable circuit module when the memory package is coupled to the different reprogrammable circuit module in the second configuration.

In some embodiments the reprogrammable circuit module can be configured to obtain and maintain a status of the memory modules contained in the memory package s e.g. the memory package that are operatively coupled to and accessed by the reprogrammable circuit module . The reprogrammable circuit module can be configured to execute code e.g. FPGA code to collect a status e.g. operative or inoperative and or other information e.g. available memory space associated with each memory module from that memory module. Based on the collected information the reprogrammable circuit module can determine for example the memory modules that are active in operation the total memory space that is available from the operative memory modules and or the like. In some embodiments as further described with respect to the reprogrammable circuit module can obtain information associated with usage on a memory block such as for example a number of access operations associated with that memory block.

In some embodiments the memory package can be a DIMM. In such embodiments the SLFM design using a DIMM as a memory package can be compatible with a variety of flash memory devices as memory modules including MLC NAND chips SLC NAND chips Clear NAND chips etc. Also a DIMM flash mounting scheme uses DIMM slot connectors to mount the flash memory devices e.g. memory modules onto the memory package which is then coupled to the expansion board via socket . For example the memory package can be a DIMM with a memory of 1 T bytes that contains 16 Clear NAND chips each of which has a memory of 64 G bytes. Additionally the use of the DIMM flash mounting scheme also permits alternative types of flash memory devices to be used on the memory package without re spinning the expansion board by only providing a new DIMM containing the new type of flash memory devices and adjusting the reprogrammable circuit module accordingly e.g. changing the FPGA code consistent with the state machine requirements of the new part in the reprogrammable circuit module .

As shown in a set of data channels e.g. the data channels operatively couple the reprogrammable circuit module to the memory modules e.g. the memory modules contained in the memory package . A data channel can be used to convey any data command query or the like from the reprogrammable circuit module to a memory module and or send any retrieved data or information from the corresponding memory module to the reprogrammable circuit module . Furthermore the data channels are parallel to each other in the sense that multiple data channels can be used at the same time to transmit data between the reprogrammable circuit module and various memory modules of the memory package . For example if there are 34 data channels connecting the memory modules and the reprogrammable circuit module each having a speed of 200M byte sec e.g. using a double data rate DDR sync protocol then an aggregate rate up to 6 G byte sec can be provided.

In some embodiments more than one memory module can be connected to the reprogrammable circuit module by a single data channel. For example as shown in the memory modules are connected to the reprogrammable circuit module via the data channel the memory modules are connected to the reprogrammable circuit module via the data channel the memory modules are connected to the reprogrammable circuit module via the data channel . Specifically more than one memory module per data channel is made possible by exploiting the latency time of accessing a unit e.g. a page of data from a memory module to interleave data accesses to multiple memory modules on the same data channel. For example in the case of Clear NAND chips the latency time is 150 sec. Since the page readout time is about 50 sec it is possible to combine two chips on a single memory bus i.e. data channel with no loss of latency. Thus the latency time between the receipt of a command selecting a page to be transferred and the beginning of transmission is exploited to permit having multiple flash memory devices sharing a single data channel.

Furthermore the number of memory modules e.g. flash memory devices that can be supported by the reprogrammable circuit module e.g. an FPGA can be limited by the I O pin count of the reprogrammable circuit module as well as the internal logic resources of the reprogrammable circuit module needed to support the memory modules. The internal resources include for example logic support for generating the state machine timing signals needed to meet the flash interface requirements data buffers needed for alignment and error correction of the transferred pages etc. For example a Stratix EP4S530 FPGA has 744 I O pins allowing for various I O interface standards needed by the FPGA to connect flashing memory devices and other components. As a result a Stratix EP4S530 FPGA can support as many as 33 flash memory chips e.g. contained in one or more memory packages .

Each memory segment unit in the memory module can be identified by for example a physical memory address representing a physical location of the starting point of that memory segment unit. A physical memory address can be for example a binary number from a finite monotonically ordered sequence of binary numbers that uniquely describes the physical location of a memory itself. For example as shown in the memory segment unit where the address translation table is stored can be identified by a physical memory address 0x000000 which represents a physical location of the starting point of that memory segment unit. In this case it is also the starting point of the memory space of memory module . For another example the memory segment unit where data is stored can be identified by a physical memory address 0x000100 which represents a physical location of the starting point of that memory segment unit. Furthermore as shown in the physical memory addresses of the memory segment units form a monotonically ordered e.g. increasing decreasing sequence.

In some embodiments a memory segment unit of the memory module can be accessed by for example a reprogrammable circuit module e.g. the reprogrammable circuit module in based on the physical memory address identifying the memory segment unit. In some embodiments a reprogrammable circuit module can be configured to search or retrieve the data stored in a memory segment unit of the memory module using the physical memory address identifying that memory segment unit to locate a starting point for the search or retrieving operation. For example a reprogrammable circuit module can be configured to retrieve data using physical memory address 0x000106 to locate a starting point for the retrieving operation. Particularly a reprogrammable circuit module can be configured to search the address translation table using 0x000000 to locate a starting point for the search.

As shown in the address translation table has two columns of entries shown as a logical memory address and a physical memory address . The first column the logical memory address contains logical memory addresses e.g. 1000 1001 1002 1100 each of which uniquely identifies a logical memory address associated with a memory segment unit in a memory package including the memory module that hosts the address translation table . A logical memory address can be in any suitable form and can represent a location at which a memory segment unit or other item such as a memory cell a storage element etc. appears to reside from the perspective of a reprogrammable circuit module that performs a search function on the memory modules. In the example of a logical memory address can be a four digital integer such as 1000 1001 etc. In other embodiments a logical memory address can be in any other suitable form.

The second column the physical memory address contains physical memory addresses e.g. 465 0x002010 463 0x006a24 466 0x00f92a 461 0x00ff00 each of which uniquely identifies a physical memory location of a memory segment unit in the memory package. In some embodiments an address translation table stored in a memory module can store physical memory addresses identifying physical memory locations within other memory modules. In such embodiments a physical memory address stored in this address translation table can include both information associated with a hosting memory module and information identifying a physical memory location within that hosting memory module. In the example of the physical memory address 465 002010 shown in 465 identifies a memory module i.e. the memory module shown in and 002010 identifies a memory segment unit which is represented by a physical memory address 0x002010 in the identified memory module . Overall the physical memory address 465 002010 identifies the memory segment unit 0x002010 in the memory module . Similarly the physical memory address 463 006a24 identifies the memory segment unit 0x006a24 in the memory module .

The address translation table associates each logical memory address with a physical memory address. Specifically each logical memory address stored in the column of the logical memory address can be mapped to a physical memory address stored in the column of the physical memory address . For example the logical memory address 1000 is mapped to the physical memory address 465 0x002010 in the first entry of the address translation table . For another example the logical memory address 1001 is mapped to the physical memory address 463 0x006a24 in the second entry of the address translation table .

In some embodiments the logical memory addresses can be stored in a logical order in the address translation table such as a monotonically increasing order as shown in . In such embodiments the physical memory addresses are not necessarily stored in any logical order in the address translation table . For example the logical memory address stored in the first entry of the address translation table i.e. 1000 is adjacent to the logical memory address stored in the second entry of the address translation table i.e. 1001 while the physical memory address stored in the first entry i.e. 465 0x002010 is not adjacent to the physical memory address stored in the second entry i.e. 463 0x006a24 . In fact the two physical memory addresses identify two memory segment units in two different memory modules. In other embodiments physical memory addresses can be stored in a logical order in the address translation table .

In some embodiments a reprogrammable circuit module can be configured to associate a physical memory address with a logical memory address stored in an address translation table. That is the reprogrammable circuit module can be configured to assign a physical memory address to each logical memory address and then store the pair of addresses i.e. the physical memory address and the logical memory address as an entry in the address translation table. Furthermore in some embodiments the reprogrammable circuit module can be configured to randomly assign a physical memory address to a logical memory address such that the logical memory addresses are stored in a logical order in the address translation table while the physical memory addresses associated with those logical memory addresses are randomly distributed across the entire available memory space provided by the memory modules as shown in . In some embodiments for example the physical memory addresses associated with those logical memory addresses can be substantially uniformly distributed across the entire available memory space provided by the memory modules.

In some embodiments when a first memory segment unit e.g. one or more memory blocks changes from operative to inoperative the reprogrammable circuit module can be configured to move data stored in the first memory segment unit to a second memory segment unit that is operative. Accordingly the reprogrammable circuit module can be configured to update the address translation table such that a logical memory address associated with the data is remapped to a physical memory address associated with the second memory segment unit. Thus the data can still be located by looking up the address translation table using the logical memory address associated with the data.

In some embodiments a SLFM system described with respect to can be used to execute a search function. is a schematic illustration of such a SLFM system including a reprogrammable circuit module that is configured to execute a search process on a memory package according to an embodiment. The structure of the system in is similar to that of the system shown in . Specifically the reprogrammable circuit module is a portion of an expansion board which is operatively coupled to a host computer . A set of memory modules including memory modules are included in a replaceable memory package that is coupled to the expansion board via a socket . Each memory module from the set of memory modules in the memory package is operatively coupled to the reprogrammable circuit module via a data channel such as data channels .

A search process can be executed by the system shown in as follows. Initially a query is formulated in the host computer by for example an operator or a user of the host computer and or a program or application executing on the host computer . An application running on the host computer can then be configured to translate the query into a set of machine executable tasks. In some embodiments such a machine executable task can be for example a string or a term of a predefined format e.g. a fixed length that can be searched against data stored in the memory modules on the memory package . Thus the query is translated into a set of searchable strings or terms at the host computer .

In some embodiments one or more logical memory addresses associated with a searchable string or term can be determined based on the string or term. Specifically a logical memory address is associated with a string or term in a sense that data stored in the memory segment unit represented by the logical memory address is likely to contain information associated with the string or term. Thus to search for the string or term data stored in the memory segment unit represented by the logical memory address needs to be searched. In some embodiments the desired logical memory addresses can be determined at the host computer and then sent from the host computer to the reprogrammable circuit module . In such embodiments the reprogrammable circuit module is configured to receive the logical memory addresses. In some other embodiments the desired logical memory addresses can be determined at the reprogrammable circuit module or another component of the system not shown in . In such embodiments the searchable string or term is sent from the host computer to the reprogrammable circuit module or the other component where one or more logical memory addresses associated with the string or term are determined based on the string or term. The logical memory addresses are then sent to the reprogrammable circuit module if necessary. As a result one or more logical memory addresses associated with the searchable string or term are available at the reprogrammable circuit module . In the example of the reprogrammable circuit module is configured to receive logical memory address 1001 and 1002 as shown in from the host computer .

Next the reprogrammable circuit module can be configured to send an address translation query including the desired logical memory addresses to an address translation table stored in a memory module in the memory package via a data channel. As shown in the reprogrammable circuit module is configured to send an address translation query via the data channel shown as the data path to the memory module contained in the memory package where an address translation table is stored. Similar to the address translation table shown in the address translation table is associated with the memory modules contained in the memory package . That is at least one memory segment unit in each memory module contained in the memory package is associated with an entry stored in the address translation table . In the example of the address translation query sent from the reprogrammable circuit module to the memory module includes the desired logical memory addresses 1001 and 1002.

In some embodiments the reprogrammable circuit module can be configured to send more than one address translation queries each of which contains a different set of logical memory addresses and is destined to a different address translation table. For example although not shown in if entries associated with the logical memory address 1001 and 1002 are stored in two different address translation tables in the memory package then the reprogrammable circuit module can be configured to send a first address translation query containing the logical memory address 1001 to a first address translation table that includes an entry for the logical memory address 1001 and send a second address translation query containing the logical memory address 1002 to a second address translation table that includes an entry for the logical memory address 1002. Thus every logical memory address is carried by an address translation query that is sent to an appropriate address translation table containing an entry for the logical memory address.

After an address translation query containing a logical memory address is received at an address translation table an entry associated with the logical memory address can be determined based on the logical memory address. A physical memory address associated with the logical memory address can be retrieved from the entry and sent to the reprogrammable circuit module via a data channel. In the example of if the address translation table includes the same entries of the address translation table as shown in then the physical memory address 463 0x006a24 is associated with the logical memory address 1001 and the physical memory address 466 0x00f92a is associated with the logical memory address 1002. That is the logical memory address 1001 points to a memory segment unit in the memory module which is identified by a physical memory address of 0x006a24 in the memory module and the logical memory address 1002 points to a memory segment unit in the memory module which is identified by a physical memory address of 0x00f92a in the memory module . As a result of the memory module receiving the address translation query containing the logical memory addresses 1001 and 1002 the physical memory addresses 463 0x006a24 and 466 0x00f92a are retrieved from the address translation table and sent to the reprogrammable circuit module via the data channel shown as the data path in . Thus a desired logical memory address available at the reprogrammable circuit module is used to retrieve a physical memory address which can be used to locate a specific memory segment unit in a memory module within the memory package .

Subsequently the reprogrammable circuit module can be configured to send one or more data queries to one or more memory segment units each of which is identified by a retrieved physical memory address associated with a logical memory address. Specifically a data query destined to a memory segment unit in a memory module within the memory package can be sent over a data channel connecting the reprogrammable circuit module and the memory module. Furthermore in some embodiments multiple data queries to different memory modules can be sent from the reprogrammable circuit module at substantially a same time. In other words a first data query can be sent to a first memory module during a first time period and a second data query can be sent to a second memory module during a second time period overlapping the first time period. Thus sending multiple data queries or retrieving data from multiple memory modules can be performed in a substantially simultaneous fashion via multiple data channels.

In the example of after the logical memory address 1001 and 1002 are translated into the physical memory address 463 0x006a24 and 466 0x00f92a the reprogrammable circuit module is configured to send a first data query to a memory segment unit identified by the physical memory address 0x006a24 in the memory module via the data channel shown as the data path and a second data query to a memory segment unit identified by the physical memory address 0x00f92a in the memory module via the data channel shown as the data path . The first data query and the second data query can be sent at substantially a same time and subsequently data can be retrieved from the memory module and the memory module during a substantially same time period shown as the data path and respectively .

A data query sent from the reprogrammable circuit module to a memory segment unit in a memory module is designed to retrieve data from the memory segment unit. In some embodiments data stored in the memory segment unit can be retrieved completely and the original data can be sent to the reprogrammable circuit module for further processing. In some other embodiments data stored in the memory segment unit can be partially retrieved and sent to the reprogrammable circuit module for further processing according to the data query. Further processing can include for example search the desired string or term in the original data or processed data. Such further processing can be performed at the reprogrammable circuit module or alternatively at another component of the host computer .

In some embodiments information of the associations between logical memory addresses and physical memory addresses with respect to memory segment units contained in a memory package can be stored in one or more address translation tables included in the memory package. In other words the remapping information e.g. between the logical memory addresses and the physical memory addresses for a memory package can be carried by the one or more address translation tables included in the memory package. As a result the memory package can be swapped from one circuit board to another that is suitable for the memory package without losing the remapping information. In the example of the address translation table is configured to store the remapping information for the memory package . Therefore the memory package can be removed from the expansion board and coupled to a different circuit board where a task e.g. a search function can be executed in a substantially same way by a different reprogrammable circuit module as when the memory package is coupled to the expansion board .

In the example shown and described with respect to after a search process is initiated at the host computer a data lookup is generated at the host computer . Subsequently a query associated with the data lookup is generated by an application at the host computer and then sent to the reprogrammable circuit module . The query includes a first logical memory address L and a second logical memory address L. Furthermore in some embodiments the first logical memory address L and the second logical memory address L can be adjacent to each other in a logically ordered sequence.

Additionally in some embodiments an instruction can be received at the reprogrammable circuit module from a driver module operatively coupled to the reprogrammable circuit module such that the search process can be modified based on the instruction. Such a modification can be for example to reconfigure the reprogrammable circuit module to update the address for an address translation table e.g. after a new memory package is coupled to the reprogrammable circuit module etc. In the example of after a new memory package is mounted onto the expansion board and operatively coupled to the reprogrammable circuit module a driver module at the host computer can be configured to send an instruction to the reprogrammable circuit module for example to provide an address for a new address translation table associated with the new memory package.

At a first physical memory address associated with the first logical memory address is retrieved by the reprogrammable circuit module where the first physical memory address is associated with a memory location at a first memory module coupled to the reprogrammable circuit module by a first data channel. Specifically the reprogrammable circuit module can be configured to send an address translation query including the first logical memory address to a first address translation table that includes an entry for the first logical memory address. The first address translation table is stored in a memory module operatively coupled to the reprogrammable circuit module via a data channel. As a result the first physical memory address which is associated with the first logical memory address i.e. the first logical memory address and the first physical memory address are stored as a pair in an entry of the first address translation table can be retrieved from the first address translation table and sent to the reprogrammable circuit module via the data channel. The first physical memory address identifies a memory location such as a memory segment unit in a first memory module that is coupled to the reprogrammable circuit module by a first data channel.

In the example of the reprogrammable circuit module can be configured to send an address translation query including the first logical memory address L to the address translation table included in the memory module via the data channel . As a result a first physical memory address P which is associated with the first logical memory address L in an entry of the address translation table can be retrieved from the address translation table and sent back to the reprogrammable circuit module via the data channel . The first physical memory address P identifies a memory segment unit in for example the memory module which is coupled to the reprogrammable circuit module via the data channel .

At a second physical memory address associated with the second logical memory address is retrieved by the reprogrammable circuit module where the second physical memory address is associated with a memory location at a second memory module coupled to the reprogrammable circuit module by a second data channel. Similarly to retrieving the first physical memory address the reprogrammable circuit module can be configured to send an address translation query including the second logical memory address to a second address translation table that includes an entry for the second logical memory address. In some embodiments the second address translation table can be the same as the first address translation table and thus the second logical memory address can be included in the same address translation query for the first logical memory address. In some other embodiments the entry for the second logical memory address is stored in a different address translation table from that for the first logical memory address and therefore a separate address translation query including the second logical memory address is sent to the second address translation table which is probably stored in a different memory module from that for the first address translation table. As a result the second physical memory address which is associated with the second logical memory address i.e. the second logical memory address and the second physical memory address are stored as a pair in an entry of the second address translation table can be retrieved from the second address translation table and sent to the reprogrammable circuit module via the data channel. Similar to the first physical memory address the second physical memory address identifies a memory location such as a memory segment unit in a second memory module that is coupled to the reprogrammable circuit module by a second data channel. In some embodiments the second memory module can be different than the first memory module. In some embodiments both the first memory module and the second memory module can be included within a common memory package such as a common DIMM.

In the example of the reprogrammable circuit module can be configured to send an address translation query including both the first logical memory address L and the second logical memory address L to the address translation table included in the memory module via the data channel . Alternatively the reprogrammable circuit module can be configured to send a different address translation query including the second logical memory address L to a different address translation table not shown in included in a different memory module. As a result in either case a second physical memory address P which is associated with the second logical memory address L can be retrieved from the corresponding address translation table and sent to the reprogrammable circuit module via a data channel. The second physical memory address P identifies a memory segment unit in for example the memory module which is coupled to the reprogrammable circuit module via the data channel . Furthermore in the example of both the memory module including a location associated with the first physical memory address P and the memory module including a location associated with the second physical memory address P are included in a common memory package which can be for example a DIMM.

At the first memory module is accessed during a first time period by the reprogrammable circuit module via the first data channel using the first physical memory address. Specifically based on the first physical memory address retrieved from the address translation table the reprogrammable circuit module can be configured to locate and access the memory segment unit identified by the first physical memory address which is included in the first memory module. Particularly the reprogrammable circuit module can be configured to send a data query to the memory segment unit identified by the first physical memory address via the first data channel. As a result data can be retrieved during the first time period from the memory segment unit identified by the first physical memory address.

In the example of the reprogrammable circuit module can be configured to send a data query to the memory segment unit identified by the first physical memory address P which is included in the memory module via the data channel . As a result data can be retrieved during a first time period from the memory segment unit identified by the first physical memory address P in the memory module via the data channel .

At the second memory module is accessed during a second time period overlapping the first time period by the reprogrammable circuit module via the second data channel using the second physical memory address. Similar to the case for the first physical memory address the reprogrammable circuit module can be configured to send a data query to the memory segment unit identified by the second physical memory address which is included in the second memory module via the second data channel. As a result data can be retrieved during the second time period from the memory segment unit identified by the second physical memory address. Furthermore because the first memory module and the second memory module are two different memory modules and the first data channel and the second data channel are two separate data channels the operation of retrieving data from the first memory module and the operation of retrieving data from the second memory module are independent therefore can be executed in parallel. Thus the first time period can be overlapping the second time period.

In the example of the reprogrammable circuit module can be configured to send a data query to the memory segment unit identified by the second physical memory address P which is included in the memory module via the data channel . As a result data can be retrieved during a second time period from the memory segment unit identified by the second physical memory address P in the memory module via the data channel . Furthermore the first time period and the second time period can be overlapping.

Similar to the memory package and the memory package in the memory package can be for example a DIMM. Each memory module included in the memory package can be for example a flash memory module. Similar to the expansion board and the expansion board in the expansion board can be for example a PCIe card. Similar to the reprogrammable circuit module and the reprogrammable circuit module in the reprogrammable circuit module can be for example an FPGA. Furthermore the reprogrammable circuit module can be reprogrammed or reconfigured modified by for example a driver module not shown in operatively coupled to the reprogrammable circuit module . In some embodiments such a driver module can be located at the host computer . In some embodiments such a driver module can be configured to reprogram the programmable logic components such as logic gates of the reprogrammable circuit module . In some embodiments such a driver module can be configured to change values of the registers included in the reprogrammable circuit module . In some embodiments the reprogrammable circuit module can be reprogrammed at run time. That is the reprogrammable circuit module can be reconfigured during the execution of a task e.g. a search process .

The system in can be configured to execute a search process. Initially the reprogrammable circuit module can be configured to receive information associated with a search request from the host computer . Such a search request can be in the form of for example a SQL query or any other type of programming language designed for managing searching and or querying data. In some embodiments the received information associated with the search request can include for example a search term a string a keyword and or the like. The received information associated with the search request can be used to configure the reprogrammable circuit module .

In response to receiving the information associated with the search request the reprogrammable circuit module can be reprogrammed. Specifically the reprogrammable circuit module can be configured to change from a first configuration to a second configuration such that the reprogrammable circuit module is programmed to execute the search process for the search request. For example the reprogrammable circuit module can be configured to change from a first configuration that is associated with storing data into the memory modules contained in the memory package to a second configuration that is associated with executing the search process for the search request. In some embodiments as a result of the reprogrammable circuit module being changed from a first configuration to a second configuration the values of the registers included in the reprogrammable circuit module can be changed accordingly.

When in the second configuration the reprogrammable circuit module can be configured to search the data stored in the memory modules contained in the memory package and retrieve at least a portion of data from the memory modules . In some embodiments the reprogrammable circuit module can be configured to send one or more signals containing a search parameter to one or more of the memory modules . The search parameter can be for example a term a string or a keyword that is associated with the search request. The reprogrammable circuit module can be configured to compare the data stored in the memory modules with the search parameter to identify data that is related to the search parameter. The reprogrammable circuit module can then be configured to retrieve the identified data from the associated memory module s .

For example the reprogrammable circuit module can be configured to send a signal containing a keyword to the memory module via the data channel . The reprogrammable circuit module is configured to compare the data stored in the memory module with the keyword to identify any memory segment unit e.g. a page that stores the keyword. As a result the reprogrammable circuit module is configured to retrieve the data stored in the identified memory segment unit s from the memory module via the data channel shown as the signal in . For another example the reprogrammable circuit module is configured to send a signal containing a search term to the memory module via the data channel . The reprogrammable circuit module is configured to compare the data stored in the memory module with the search term to identify a memory block that stores the search term. As a result the reprogrammable circuit module is configured to retrieve the data stored in the identified memory block s from the memory module via the data channel shown as the signal in .

In some embodiments the reprogrammable circuit module can be configured to search the data stored in the memory modules contained in the memory package using any other suitable method. For example the reprogrammable circuit module can be configured to retrieve the data stored in a memory module to the reprogrammable circuit module e.g. via a data channel and store the data in a memory e.g. a cache a buffer within the reprogrammable circuit module . The reprogrammable circuit module can be configured to compare the retrieved data with a search parameter to identify the data that is related to the search parameter. Based on the comparison result the reprogrammable circuit module can be configured to remove the data that is not related to the search parameter from the memory. Thus the data related to the search parameter is available at the reprogrammable circuit module for further processing.

After the data identified as related to the search request is made available at the reprogrammable circuit module the reprogrammable circuit module can be configured to generate a search result based on the data. In some embodiments the search result can include the identified data. For example the search result can include a paragraph including a search term from an article stored in the memory modules of the memory package . In some other embodiments the search result can be generated based on for example a function of the retrieved data. Such a function can be for example a logical operation e.g. a logical and operation a logical or operation etc. a mathematical operation e.g. a counting operation an addition operation etc. or any other suitable function operated on the retrieved data. For example the search result can include a number of times a keyword occurs in a database stored in the memory modules of the memory package . For another example the search result can be a binary value indicating whether a search term is stored in the memory modules of the memory package e.g. the resulted search result is 1 or not e.g. the resulted search result is 0 .

After the search result is generated at the reprogrammable circuit module the reprogrammable circuit module can be configured to transmit the search result to the host computer . In such a search process as described herein data stored in the memory modules of the memory package is searched and processed e.g. compared at the memory package or at the reprogrammable circuit module . Furthermore the search result is generated at the reprogrammable circuit module . As a result data searching and data processing associated with the search process are conducted within the expansion board not at any software module stored and or executing in hardware or at the host computer .

As an example the reprogrammable circuit module receives information associated with a search request from the host computer . The search request requests a number of times that a keyword occurs in a document stored in the memory modules of the memory package as well as each sentence from the document that includes the keyword. In response to receiving the information associated with the search request the reprogrammable circuit module is configured to change from a first configuration to a second configuration such that the reprogrammable circuit module is programmed to execute an appropriate search process associated with the search request. The reprogrammable circuit module is configured send a set of signals to the memory modules to search the data stored in the memory modules . Specifically the reprogrammable circuit module is configured to identify any sentence from the document stored in the memory modules that includes the keyword and retrieve data e.g. text content associated with the identified sentence s . After data associated with each identified sentence that includes the keyword is made available at the reprogrammable circuit module the reprogrammable circuit module is configured to process the data and then generate a search report based on the data. Specifically the reprogrammable circuit module is configured to count the number of times that the keyword occurs in the identified sentences based on the retrieved data. Such a number is included in the search result. Additionally each identified sentence is also included in the search result. After the search result is generated at the reprogrammable circuit module the reprogrammable circuit module is configured to transmit the search result to the host computer .

In some embodiments the reprogrammable circuit module can be reconfigured to execute different search processes for various search requests. For example the reprogrammable circuit module can be configured to receive information associated with a second search request that is different from the previous search request described above. In response to receiving the second search request the reprogrammable circuit module can be configured to change from the second configuration to a third configuration that is associated with executing a search process for the second search request. Furthermore at the third configuration the reprogrammable circuit module can be configured to execute the search process for the second search request in a similar way to that for the previous search request as described above.

As shown in the reprogrammable circuit module and or the set of memory modules in the memory package is operatively coupled to a counter module which includes a set of counters e.g. counters . Each counter is associated with a memory block at a memory module in the memory package . In some embodiments each counter can be operatively coupled to its associated memory block. For example the counter is associated with and operatively coupled to a memory block at the memory module the counter is associated with and operatively coupled to another memory block at the memory module .

In some embodiments each counter included in the counter module can be for example a process application virtual machine and or some other software module stored and or executing in hardware or a hardware module which is configured to record information associated with access operations for the memory block associated with that counter . Each counter included in the counter module can be located or hosted at for example a memory portion of the reprogrammable circuit module a memory module of the memory package e.g. the memory module associated with that counter or any other suitable memory location within the expansion board .

Each counter can be configured to store and update information associated with access operations for the memory block associated with that counter . Such information can be for example a number of times that the memory block has been accessed e.g. for storing data for retrieving data within a certain time period a rate associated with accessing the memory block and or the like. For example the counter is configured to store and update a number of times that the memory block at the memory module associated with the counter has been accessed within last 1 millisecond. For another example the counter is configured to store and update a rate at which the memory block at the memory module associated with the counter is currently accessed. Furthermore in some embodiments each counter can be controlled and modified e.g. incremented decremented cleared etc. by the reprogrammable circuit module .

In some embodiments the set of counters can be stored in for example a set of registers within the expansion board . In such embodiments a user can obtain information associated with usage of the set of memory modules from the set of counters by checking the set of registers. For example the user can periodically check the registers to obtain the number or rate of access operations associated with the set of memory modules .

In some embodiments the reprogrammable circuit module can be configured to access memory blocks at the set of memory modules in the memory package for various operations such as for example storing data retrieving data and or the like. As described with respect to the reprogrammable circuit module can be configured to select a memory block for an access operation e.g. storing data retrieving data . For example the reprogrammable circuit module can be configured to select the memory block associated with the counter to store a data item. For another example the reprogrammable circuit module can be configured to select the memory block associated with the counter to retrieve a data item. In some embodiments as described below with respect to the reprogrammable circuit module can be configured to select a memory block using for example a hash function.

In response to the reprogramming circuit module selecting a memory block the counter module can be configured to increment a counter that stores a number of access operations associated with the selected memory block. In some embodiments after the memory block is selected at the reprogrammable circuit module the reprogrammable circuit module can be configured to send a signal containing information associated with the selected memory block to the counter module . Accordingly the counter module can be configured to increment a number of access operations stored in the counter associated with the selected memory block. For example after the reprogrammable circuit module selects the memory block associated with the counter for an operation to store data the reprogrammable circuit module can be configured to send a signal containing information associated with that memory block to the counter module . As a result the counter module can be configured to increment the number of access operations stored in the counter by 1. In such embodiments the counter module is operatively or directly coupled to the reprogrammable circuit module .

Alternatively in some other embodiments the counter module can be configured to monitor access operations on the memory modules in the memory package . Specifically after the access operation is performed at the selected memory block the counter module can be configured to receive an indication of the access operation from the memory package e.g. from the memory module that includes the selected memory block . Accordingly the counter module can be configured to increment the number of access operations stored in the counter associated with the selected memory block. For example after the reprogrammable circuit module selects the memory block associated with the counter for an operation to retrieve data the reprogrammable circuit module can be configured to access the selected memory block and retrieve data from that memory block. The counter module can be configured to receive an indication of the access operation from the memory package . As a result the counter module can be configured to increment the number stored in the counter by 1. In such embodiments the counter module is operatively or directly coupled to the memory modules of the memory package .

In some embodiments the counter module can be configured to decrement or perform other operations on a counter that stores a number of access operations associated with a memory block. For example the counter module can be configured to clear a counter to 0 after the memory block associated with that counter not being accessed for a certain time period. For another example the counter module can be configured to set a counter to a certain value based on an instruction command or indication received from the reprogrammable circuit module the memory package or any other component module or an operator.

In some embodiments the counter module can be configured to adjust e.g. increment decrement a counter with an adjustment of any arbitrary value e.g. a number more than 1 a number less than 1 based on any suitable factor associated with the access operations. For example the counter module can be configured to increment a counter by a number of bytes or bits that are accessed in the memory block associated with that counter . For another example the counter module can be configured to increment a counter by a first number e.g. 1 if the memory block associated with that counter is accessed for a read operation or by a second number e.g. 2 different from the first number if that memory block is accessed for a write operation.

Similar to the scenario of a counter that stores a number of access operations being adjusted as described above the counter module can be configured to adjust or change a counter that stores a rate or any other information associated with access operations. For example in response to an access operation performed or to be performed on a memory block the counter module can be configured to recalculate and then update a counter that stores a rate of access operations associated with that memory block. In some embodiments for example the rate of operations can be recalculated and updated after each access operation. In some other embodiments for example the rate of operations can be calculated and updated periodically e.g. every 10 millisecond independent of access operations.

In some embodiments the counter module can be configured to determine a distribution of access operations across the memory blocks within one or more memory modules of the memory package . Such a distribution can include information associated with the access operations across the memory blocks such as for example an average number of access operations across all memory blocks a maximum number of access operations at the memory blocks a minimum number of access operations at the memory blocks a difference between the maximum number and the minimum number of access operations at the memory blocks and or the like. Based on such a distribution the counter module can be configured to determine for example a level of uniformity that measures how uniformly the access operations have been distributed across the memory blocks within the one or more memory modules of the memory package .

In some embodiments the counter module can be configured to transmit a signal e.g. to the reprogrammable circuit module in response to a counter crossing a threshold. Such a signal can be an indication of for example an overused memory block an underused memory block and or any other type of abnormal usage of the memory block associated with that counter . In some embodiments such a threshold can be a function of the remaining counters from the set of counters . For example the threshold can be a sum of the minimum number from the remaining counters and a system parameter which represents a maximum allowable distance in terms of the number of access operations between any two memory blocks. Such a system parameter can be predetermined by for example an operator or administrator. Thus if a counter is larger than the sum of the minimum number from the remaining counters and the system parameter the counter module is triggered to transmit a signal. For another example the threshold can be a rate value that is twice of the average of all the counters that store a rate of access operations. Thus if a counter is larger than twice of the average of all the counters that store a rate of access operations the counter module is triggered to transmit a signal. In some other embodiments such a threshold can be a predetermined value e.g. 1000 100 millisecond that is independent of the remaining counters from the set of counters .

In some embodiments in response to receiving the signal from the counter module the reprogrammable circuit module can be configured to perform an action. In some embodiments for example the reprogrammable circuit module can be configured to change the method to select memory blocks for access operations. In such embodiments the reprogrammable circuit module can be configured to change a probability that a memory block is selected for access operations. That is the reprogrammable circuit module can be configured to select a memory block for an access operation with a first probability. In response to receiving a signal from the counter module indicating an abnormal usage of the memory block e.g. overused underused the reprogrammable circuit module can be configured to modify the method to select memory blocks for access operations such that that memory block is selected for an access operation with a second probability different from the first probability.

For example the reprogrammable circuit module can receive a signal from the counter module indicating that the memory block associated with the counter has been overly accessed for storing data items. In response to the signal the reprogrammable circuit module can be configured to modify the method to select memory blocks for access operations e.g. storing data such that the memory block associated with the counter is no longer selected for storing data. For another example the reprogrammable circuit module can receive a signal from the counter module indicating that the memory block associated with the counter has not been adequately accessed for retrieving data. In response to the signal the reprogrammable circuit module can be configured to move data to be retrieved to the memory block associated with the counter and modify the method to select memory blocks for access operations e.g. retrieving data such that the memory block associated with the counter is more frequently selected for retrieving data.

In some embodiments as described with respect to the reprogrammable circuit module can be configured to modify a hash function that is used to select memory blocks for access operations. In some embodiments the hash function can be modified such that access operations can be for example substantially uniformly distributed across the memory blocks included in the memory package . In some other embodiments the hash function can be modified such that access operations can be distributed across the memory blocks according to any other suitable distribution.

In some embodiments in response to the reprogrammable circuit module receiving a signal from the counter module indicating that a memory block has been overused various actions can be taken accordingly. For example the reprogrammable circuit module can be configured to move data stored in the overused memory block to another memory block that has not been overused. For another example the memory module including the overused memory block can be replaced e.g. by an operator with a new memory module. For yet another example the reprogrammable circuit module can be configured to refresh the data stored in the overused memory block.

At a query associated with a data lookup can be received at the reprogrammable circuit module where the query includes a first data item and a second data item. Such a query can be received from for example the host computer. In some embodiments the data lookup can be associated with an access operation e.g. store data search data retrieve data etc. on the memory modules included in the memory package. The first data item and the second data item can be for example a binary string a number a keyword or any other suitable type of data. In some embodiments the first data item can be logically associated with the second data item. For example the second data item can be immediately subsequent to the first data item in the query. For another example the second data item can be an integer that is the successor of the first data item i.e. the second data item is an integer that is one greater than the first data item . In the example of the reprogrammable circuit module can be configured to receive a query associated with a data lookup from the host computer . The query includes a first data item and a second data item that are logically associated e.g. both data items are integer numbers and the second data item is the successor of the first data item .

At a first physical memory address can be determined using the first data item as an input to a hash function. The hash function can be executed at the reprogrammable circuit module. In some embodiments the result of the hash function can be the first physical memory address. In other embodiments the result of the hash function can be used to determine the first physical memory address such as for example an identifier e.g. an index number associated with the first physical memory address. The first physical memory address is associated with a memory location e.g. a memory block at a first memory module coupled to the reprogrammable circuit module where the first memory module is included within the expansion board. In the example of the reprogrammable circuit module can be configured to determine a first physical memory address using the first data item as an input to a hash function. The result of the hash function can be the first physical memory address which is associated with for example a memory block at the memory module in the memory package .

At a second physical memory address can be determined using the second data item as an input to the hash function. In some embodiments the result of the hash function can be the second physical memory address. In other embodiments the result of the hash function can be used to determine the second physical memory address such as for example an identifier e.g. an index number associated with the second physical memory address. Similar to the first physical memory address the second physical memory address is associated with a memory location at a second memory module coupled to the reprogrammable circuit module where the second memory module is also included within the expansion board. In some embodiments the second physical memory address can be different from the first physical memory address and or the second memory module can be different from the first memory module. In the example of the reprogrammable circuit module can be configured to determine a second physical memory address using the second data item as an input to the hash function. The result of the hash function can be the second physical memory address which is associated with for example a memory block at the memory module in the memory package .

At the first memory module can be accessed using the first physical memory address during a first time period. Furthermore in some embodiments the reprogrammable circuit module can be configured to store the first data item at the memory location at the first memory module associated with the first physical memory address. In some other embodiments the reprogrammable circuit module can be configured to perform any other suitable operation e.g. search data retrieve data at the memory location at the first memory module associated with the first physical memory address. In the example of the reprogrammable circuit module can be configured to access the memory block at the memory module using the first physical memory address. Furthermore the reprogrammable circuit module can be configured to store data including the first data item into the memory block at the memory module associated with the first physical memory address.

At the second memory module can be accessed using the second physical memory address during a second time period. In some embodiments the second time period at least partially overlaps the first time period. That is the reprogrammable circuit module can be configured to access the first memory module and the second memory module substantially simultaneously. Similar to the case of the first data item in some embodiments the reprogrammable circuit module can be configured to store the second data item and or perform any other suitable operation at the memory location of the second memory module associated with the second physical memory address. In the example of the reprogrammable circuit module can be configured to access the memory block at the memory module using the second physical memory address. Furthermore the reprogrammable circuit module can be configured to store data including the second data item into the memory block at the memory module associated with the first physical memory address. In some embodiments the reprogrammable circuit module can be configured to store data at the memory module and store data at the memory module substantially simultaneously.

In some embodiments the hash function used to determine physical memory addresses at the reprogrammable circuit module can be a hash function that randomly associates physical memory addresses with input data items. That is data items that are logically associated can be associated with random physical memory addresses i.e. not logically associated using the hash function. In the example of described above the first data item and the second data item are logically associated e.g. sequentially while the first physical memory address at the memory module determined based on the first data item is not logically associated with the second physical memory address at the memory module determined based on the second data item. As a result memory locations within the set of memory modules can be randomly accessed by the reprogrammable circuit module based on input data items.

In some embodiments the hash function used to determine physical memory addresses at the reprogrammable circuit module can be modified by for example a driver module. In some embodiments such a driver module can be executed at the host computer operatively coupled to the reprogrammable circuit module. In some embodiments the hash function can be modified such that a certain distribution of access operations at the set of memory modules can be achieved. For example the hash function can be modified such that the physical memory addresses determined based on the input data items can be substantially uniformly distributed across the set of memory modules. As a result the memory locations within the set of memory modules can be substantially uniformly accessed based on the input data items.

While various embodiments have been described above it should be understood that they have been presented by way of example only not limitation and various changes in form and details may be made. Any portion of the apparatus and or methods described herein may be combined in any combination except mutually exclusive combinations. The embodiments described herein can include various combinations and or sub combinations of the functions components and or features of the different embodiments described.

While shown and described above with respect to as an address translation table being included in a memory module in other embodiments a copy of an address translation table can be stored in a reprogrammable circuit module. In such embodiments a physical memory address associated with a logical memory address can be retrieved from the copy of the address translation table at the reprogrammable circuit module without sending a query to the address translation table stored in the memory module. For example in a copy of the address translation table can be stored at the reprogrammable circuit module . Thus the reprogrammable circuit module does not need to send a query to the address translation table at the memory module .

While shown and described above with respect to as an expansion board including one reprogrammable circuit module connected to only one memory package in other embodiments more than one memory packages can be connected to a reprogrammable circuit module in an expansion board. In some embodiments for example a reprogrammable circuit module can be coupled to four memory packages on one expansion board where each of the memory packages contains 16 memory modules. As a result in such embodiments the reprogrammable circuit module can be configured to retrieve data from up to 64 memory modules at the same time via parallel data channels. In other embodiments a reprogrammable circuit module can be coupled to any number of memory packages each of which contains any number of memory modules. As a result in such embodiments the reprogrammable circuit module can be configured to retrieve data from any number of memory modules at the same time via parallel data channels. Furthermore a SLFM system can be configured to employ parallel processing channels with a large array of multiple reprogrammable circuit modules e.g. FPGAs where each of the multiple reprogrammable circuit modules has a similar structure and functionality as the reprogrammable circuit module described herein. Inherently the SLFM system can be scalable by increasing the number of FPGAs and the associated FPGA processing channels.

Some embodiments described herein relate to a computer storage product with a computer readable medium also can be referred to as a processor readable medium having instructions or computer code thereon for performing various computer implemented operations. The media and computer code also can be referred to as code may be those designed and constructed for the specific purpose or purposes. Examples of computer readable media include but are not limited to magnetic storage media such as hard disks floppy disks and magnetic tape optical storage media such as Compact Disc Digital Video Discs CD DVDs Compact Disc Read Only Memories CD ROMs and holographic devices magneto optical storage media such as optical disks carrier wave signal processing modules and hardware devices that are specially configured to store and execute program code such as Application Specific Integrated Circuits ASICs Programmable Logic Devices PLDs and read only memory ROM and RAM devices. Other embodiments described herein relate to a computer program product which can include for example the instructions and or computer code discussed herein.

Examples of computer code include but are not limited to micro code or micro instructions machine instructions such as produced by a compiler code used to produce a web service and files containing higher level instructions that are executed by a computer using an interpreter. For example embodiments may be implemented using Java C or other programming languages e.g. object oriented programming languages and development tools. Additional examples of computer code include but are not limited to control signals encrypted code and compressed code. Such computer code can also be referred to as a computer program and some embodiments can be in the form of a computer program.

