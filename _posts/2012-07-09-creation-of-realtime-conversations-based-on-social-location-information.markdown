---

title: Creation of real-time conversations based on social location information
abstract: A social networking system determines common location information included in a set of posts between a set of users. Using the determined common location information, the social networking system generates a message interface for grouping a set of messages into a conversation thread. For example, the messages may be grouped into a conversation thread based on common location information in the messages and being associated with participants sharing a social relationship. When a group conversation is created, the social networking system presents a message interface containing the conversation thread to one or more participants of the thread. The social networking system adds the set of messages to the conversation thread based on social information about the social relationships among the participants of the conversation thread. The social networking system then presents the message interface for display to one or more of the participants.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09412136&OS=09412136&RS=09412136
owner: Facebook, Inc.
number: 09412136
owner_city: Menlo Park
owner_country: US
publication_date: 20120709
---
This disclosure relates generally to social networking systems and more specifically to a social networking system that organizes and presents messages as a conversation based on location information.

Social networking systems provide various electronic message channels to allow users to share information including status updates including a current location of a user or plans to attend a social event. For example users can share information by updating their status posting to another user s wall or messaging a user using web chat.

But the flexibility provided by sharing information using a variety of communication channels within the social networking system can create challenges for a user to discover related messages from other users with whom the user is connected to. For example a user sharing messages over web chat about attending a social event may be unaware of posts received from other users indicating an interest in attending the same social event because the posts were buried in a listing of several unrelated posts from other users. In another example a user may simply discover a message regarding the event too late. Thus for many users of a social networking system manually sorting through hundreds of messages in real time to identify group and create messages associated with particular social information would be impractical.

Embodiments of the invention facilitate the creation of real time conversations based on social and location information. The creation of the real time conversation may be triggered by and created based on posted content associated with a location. In an embodiment the social networking system determines common location information from a set of posts between a set of users. Using the determined common location information the social networking system generates a message interface for grouping a set of messages into a conversation thread. For example the messages may be grouped into a conversation thread based on common location information in the messages and being associated with participants sharing a social relationship. When a group conversation is created the social networking system presents a message interface containing the conversation thread to one or more participants of the thread. The social networking system adds the set of messages to the conversation thread based on social information about the social relationships among the participants of the conversation thread. The social networking system then presents the message interface for display to one or more of the participants.

The figures depict various embodiments of this disclosure for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of this disclosure.

A user of social networking system uses client device to interact with social networking system via an application such as a web browser or a native application to perform operations such as browsing content posting and sending messages retrieving and sorting messages received from other users and the like. The application may load a message interface provided by social networking system to send and receive messages. Messages can be sent or received through different electronic message channels formats. Generally speaking a social networking channel is any technology that may be used for delivering electronic messages to a user of the social networking system. Examples of social networking channels include web chat e.g. a chat application of a web page hosted by social networking system e mail extensible social networking and presence protocol XMPP short message service SMS texting and mobile chat e.g. via an application installed on a mobile client . Messages may contain plain text or other content such as an image video audio or other attachment.

In an embodiment social networking system comprises an object store graph information store application programming interface API conversation thread index and message grouping module . Through API third party website may interact with the social networking system . For example in an embodiment third party website performs operations supported by API such as delivering messages to social networking system retrieving messages stored by social networking system and obtaining social information about users of social networking system . Social information about users of social networking system includes information describing relationships among users and interactions of users with other users and objects on social networking system . Interactions of users with objects on social networking system include historical information such as a previous check in at a location tagging a photo sharing a link or indicating a preference for an object e.g. liking a band a song a video a merchant location etc. .

Object store stores information on various objects of social networking system . These objects represent a variety of things with which a user of social networking system may interact in social networking system including without limitation other users e.g. user objects of social networking system represented e.g. as a profile object for the user application objects e.g. a game playable within social networking system event objects e.g. a concert that a user attends plans to attend or is invited to attend group objects to which users may belong page or hub objects e.g. pages constituting a particular organization s presence on the system media item objects e.g. pictures videos audio text or any other type of media content location objects associated with a user e.g. Santa Clara Calif. USA and even concept objects or other terms e.g. monetary policy . Object store may further store objects representing other data routinely produced by users of social networking system such as message objects status updates photos and videos.

Message objects includes content and metadata associated with a message such as a web chat SMS message e mail or post. A post includes any content or information received from the user that indicates a location including check ins photos with tagged locations invitation to attend an event etc. Content may include text images video or references to other content. Metadata may include location information temporal information or network information associated with the sender or recipient or any component of the communication channel associated with transmitting or receiving the message. Location information includes information as specific as latitude and longitude coordinates street address entity name e.g. Yoshi s San Francisco event e.g. Carnival Louis New Years Eve party Burning Man Sturgis etc. or structure e.g. Golden Gate Bridge Coit Tower or Eifel Tower . Location information also includes information as broad as a country city or geographic region e.g. Isla de San Andr s or Pacific Northwest .

An object in object store may represent a business entity. In an embodiment the business entity creates a page on social networking system to enable users of social networking system to express interest in web pages hosted on third party websites external to social networking system . For example pages may be represented as page objects in social networking system as a result of embedding a widget social plug in programmable logic or code snippet into the webpage such as an inline frame iframe .

Object store also stores metadata associated with the objects such as a name describing the object e.g. Charles Williams for a person Birthday Reminder for an application or Lowell High School San Francisco Alumni for a group an image representing the object e.g. a user or entity profile picture one or more labels assigned to the object by users e.g. the textual strings game crime and strategy for a strategy game application or different e mail addresses of a user object e.g. jeremy1234 gmail.com and jeremy1234 yahoo.com . Different types of objects may have different types of metadata such as a set of associated user objects for a group object a media type e.g. video for media item object and a unique user ID and name tokens e.g. separate first and last names Charles and Williams for user object .

Graph information store stores information on the relationships of the objects in object store . In an embodiment graph information store represents the objects of object store as nodes that are linked together in a social graph. A social graph includes nodes connected by edges stored on social networking system . Nodes include users and objects of social networking system such as web pages embodying concepts and entities and edges connect the nodes. Any concept that can be embodied in a web page may become a node in the social graph. As a result users may interact with many objects external to social networking system that are relevant to a keyword or keyword phrase such as Cowboys Stadium. Social networking system records each of the interactions with an object relevant to keyword or keyword phrase as an edge. For example using keyword phrase Cowboys Stadium interactions may include a user purchasing tickets to attend the 2012 Cotton Bowl attaching an image or video of highlights from a Dallas Cowboys football game to a message a user message discussing where to park for an upcoming Dallas Cowboys game or a user message inviting a connected user to attend an informal get together to watch a Dallas Cowboys game at a user s home.

Edges represent a particular interaction between two nodes such as when a user expresses an interest in a news article shared by another user about America s Cup. The social graph may record interactions between users of social networking system as well as interactions between users and objects of social networking system by storing information in the nodes and edges that represent these interactions.

Various examples of edges in the social graph include an edge between two user objects representing that the users have a relationship in social networking system e.g. are friends or have communicated viewed the other s profile or interacted in some way an edge between a user object and an application object representing that the user has used the application an edge between a user object and a group object representing that the user belongs to the group and an edge between a user object and a page object representing that the user has viewed the page to name just a few. For example if one user establishes a relationship with another user in the social networking system the two users are each represented as a node and the edge between them represents the established relationship the two users are then said to be connected in the social network system. Continuing this example one of these users may send a message to the other user within the social networking system. This act of sending the message is another edge between those two nodes which can be stored and or logged by the social networking system. The message itself may be treated as a node.

In another example one user may tag another user in an image that is maintained by the social networking system. This tagging action may create edges between the users as well as an edge between each of the users and the image which is also a node. In yet another example if a user confirms attending an event the user and the event are nodes where the indication of whether or not the user will attend the event is the edge.

In yet another example if a user confirms attending an event the user and the event are nodes where the indication of whether or not the user will attend the event is the edge. Using a social graph therefore a social networking system may keep track of many different types of objects and edges the interactions and connections among those objects thereby maintaining an extremely rich store of socially relevant information.

Custom graph object types and graph action types may be defined by third party developers as well as administrators of the social networking system to define attributes of the graph objects and graph actions. For example a graph object for a movie may have several defined object properties such as a title actors directors producers year and the like. A graph action type such as purchase may be used by a third party developer on a website external e.g. third party website to social networking system to report custom actions performed by users of social networking system . In this way the social graph may be open enabling third party developers to create and use the custom graph objects and actions on external websites.

In an embodiment edges in graph information store have associated metadata such as a label describing the type of relationship e.g. friend as the label between two user objects family as the label between brother and sister or an affinity value quantifying the strength of the relationship. Affinity may be determined for example from positive and negative interactions between two objects. Further a relationship degree or distance between any two objects can be ascertained by determining the number of edges on the shortest path between the objects. For example two user objects that have an edge between them e.g. denoting a friendship relationship have a relationship degree or distance of one and are considered first order connections. Similarly if a user object A is a first order connection of user object B but not of user object C and B is a first order connection of C then objects A and C have a relationship degree of two indicating that C is a second order connection of A and vice versa .

In an embodiment social networking system adds information to graph information store when it observes events taking place indicating relationships between the various objects such as a user object interacting with an event object . Alternatively and or additionally graph information store may be created based on existing stored information from which relationships can be inferred. For example the friend list of a user object might indicate that the user has a friend relationship with another user or the data for group object might indicate that some set of users has a membership relationship with that group and this information could be reflected in graph information store .

Conversation thread index stores information about a large number of conversation threads. Each conversation thread is associated with a collection of posts that include common location information sent between the participants of the conversation thread. For example one conversation thread may include messages discussing preference for particular restaurant sent between user Adam and user Bob and messages sent between user Bob and user Charlie discussing plans to visit the restaurant. In this example Adam and Bob are connected as friends and Bob and Charlie are also connected as friends. Adam and Charlie however are not connected as friends. From Adam s perspective a conversation thread concerning the restaurant includes messages exchanged between Bob and Charlie because the subject matter of their message concerns the restaurant and because Adam s social proximity with Bob and Charlie. That is Adam is a first order connection of Bob but not of Charlie. Bob is a first order connection of Charlie which makes Adam a second order connection of Charlie and vice versa .

In an embodiment social networking system stores message objects in object store . Conversation thread index links each conversation thread to message objects that are part of a conversation thread. As conversation threads can include many message objects each conversation thread may be linked to several different message objects . Other information stored in conversation thread index for each thread may include for example participants of the thread a folder or category e.g. location or event that the thread belongs to a state of the thread timestamps of the posts in the thread an electronic message channel associated with each post as well as other types of information that are appropriate for indexing.

Message grouping module accesses conversation thread index to retrieve information about conversation threads update information about conversation threads and to generate new conversation threads. Message grouping module may also access object store and graph information store to retrieve information about the objects of social networking system . Additionally message grouping module receives organizes and presents messages to from users of social networking system via an interactive message interface. The message interface can be for example a webpage that is viewed by a user at a client device with a web browser.

The functionality provided by message grouping module is described in greater detail in conjunction with . Examples of the functionality provided by message grouping module include organizing messages into conversation threads using location information and social network information providing a reply interface adding contextual information to messages among others.

In an embodiment message grouping module aggregates messages into conversation threads that include messages sent between connected users of social networking system that include content associated with common location information. For example assume that Adam and Bob are connected users of the social networking system . If Adam sends a message to Bob inviting Bob to attend a sporting event with Adam and Bob replies to Adam indicating that he would like to attend the event message grouping module creates a new conversation thread in conversation thread index to capture the discussion about the sporting event. Each time Adam or Bob exchange messages concerning the sporting event message grouping module adds the new message to the existing sporting event conversation thread. Also each time another users connected to Adam or Bob posts a message that message is also added to the existing sporting event conversation thread.

More generally message grouping module creates a conversation thread from a plurality of messages that share common location and social information which are exchanged by a threshold number of users over a predetermined threshold period of time. For example message grouping module may create a conversation thread when at least four messages that include common location information e.g. discuss plans to go hiking at a local park are exchanged between at least three users that share a social connection over a thirty minute period of time. In another example message grouping module may create a conversation thread based on receiving at least two messages that include common location information e.g. a check in by a first user at a Las Vegas resort and a post by a second user including an image of a second user at the same resort and exchanged between at least two users that share a social connection during a predetermined period of time threshold of at least thirty minutes or other threshold suitable to indicate that received messages are part of the same conversation.

As discussed in the previous example message grouping module determines location information by identifying content including text or images included in a message associated with a location. Message grouping module also determines location information directly from a message such as from a post associated with a check in. And more generally message grouping module further determines location information of a post based on geographic information about a user s location received by social networking system . For example social networking system may receive a user s location information from a mobile device used by a user to access social networking system . In another example social networking system may receive a user s location information from a third party such as a location based service or network provider by which the user accesses social networking system .

Message grouping module also groups messages into conversation threads by adding new messages to a previously grouped conversation thread. For example messaging grouping module updates the conversation thread to include new messages generated by participants of the conversation thread that include common location information. In another example messaging grouping module updates the conversation thread to include new messages that include common location information generated by other users who are connected to participants of the conversation thread. To provide a real time conversation experience message grouping module continually updates the conversation thread in real time or substantially contemporaneous with a determination that a new message shares common location information with the messages of an existing conversation thread. Along with a further determination that the new message is associated with a user that has an existing social relationship with the existing participants of the conversation thread.

Message grouping module further groups messages by adding messages to an existing conversation thread not previously grouped such as a conversation thread initiated by a user to exchange messages with another user using a web chat. In this case message grouping module identifies the subject matter of the messages to determine if the messages include common location information as previously discussed. Message grouping module also access social information about the participants of the existing thread to determine if other users with which the participants have a social relationship are exchanging messages that also include the determined common location information. To access social information social networking system may traverse the social graph to identify other users to add the conversation thread based in part on interactions with the participants or other objects that have an edge to one or more participants. With additional users identified message grouping module may in turn add one or more of the identified users to an existing conversation when these identified users exchange messages about common location information e.g. attending a concert meeting a rally impromptu study group at an on campus library etc. presently discussed in the existing conversation thread.

Message grouping module further organizes grouped messages within a conversation thread using social information from graph information store . As previously discussed social information is indicative of social relationships between the users of a conversation thread and allows the messages within a conversation thread to be organized by their social relevancy. When a user has a large number of messages in a conversation thread organizing messages within a conversation thread using social networking information helps to avoid information overload.

In an embodiment organizing includes categorizing messages within a conversation thread by applying a set of heuristic rules to order messages and or determine how a message is displayed. For example one rule may be that if a certain type of social relationship e.g. friends family exists between the participants of a thread messages associated with participants sharing that certain type of relationship may be listed before messages from other types of participants in the conversation thread. Alternatively or additionally messages associated with participants sharing a certain type of relationship may be continually displayed with greater persistence compared to other messages within the same conversation thread. In an embodiment if a social relationship does not exist at all the message is not included in the conversation thread. Another rule may be that if an affinity between the thread participants exceeds a threshold the associated messages are displayed before and or with greater persistence compared to messages from other participants that do not exceed the threshold. Similarly a further rule may be that if a distance e.g. degrees of separation between the participants is less than a threshold the associated messages are displayed before and or with greater persistence compared to messages from other participants that do not exceed the threshold.

In an embodiment message grouping module may organize messages within a conversation thread based in part on a calculated relationship score. For example the relationship score may be calculated by social networking system as a function of affinity such that a higher affinity results in a higher relationship score. Higher scores i.e. indicating a strong social relationship between users indicate that a message is socially relevant whereas lower scores i.e. indicating a weak social relationship between users indicate that a message is less relevant. Messages with relationship scores exceeding a threshold may be ordered or displayed in a position of greater prominence and or greater persistence within a conversation thread. Messages with scores under a threshold are displayed in a position of lesser prominence and or lesser persistence and all other messages are not included in the conversation thread.

In an embodiment organizing messages within a conversation threads also includes filtering messages within a conversation thread according to social networking information. For instance a user may select only to view messages within a conversation thread that involve friends of the user. In response for a selected conversation thread message grouping module presents messages where one or more participants of the thread are friends of the user. Other messages not involving participants that are friends are hidden from view.

When a thread has more than two participants the type of social information used to organize messages for a selected conversation thread may depend directly on which participant the thread is being presented to. For example if user A B and C are participants of a thread the social relationship between user A and user B may be used to organize messages within the thread for presentation to user A. Additionally or alternatively the social relationship between user A and user C may also be used to organize messages within a thread for presentation to user A. The social relationship between user B and user C may not be used to organize the messages within a thread for user A because that relationship is irrelevant to user A.

Message grouping module also considers other factors either alone or in combination with the social information when organizing messages within a conversation thread. These factors may include but are not limited to 

To group messages based on location information social networking system determines common location information from the plurality of messages. In an embodiment message grouping module observes the content of the received messages including content referred to e.g. links in the messages. In observing the content of the messages message grouping module semantically analyzes the number and types of words phrases sentences and paragraphs formed by the characters included in the message to determine location information associated with the content. For example a message sent by user A to user B may be a web chat that includes content describing the New Year s Eve Masquerade Ball hosted by the San Francisco Symphony. In this example grouping module identifies the phrase New Year s Eve Masquerade Ball hosted by the San Francisco Symphony as location information. And in turn groups messages from user A and other users connected to user A and related to the New Year s Eve Masquerade Ball into a conversation thread based on this common location information.

In another embodiment social networking system determines common location information based in part on geographic information about the user. For example social networking system may access geographic information about a computing device e.g. smart phone tablet computer desktop computer etc. used by the user to access social networking system . In another example social networking system determines common location information by accessing geographic information about the user from a third party including a location based service or network provider providing services over network .

Message grouping module groups the set of messages having determined common location information into a conversation thread. The grouped messages are associated with participants that have established a social relationship in social networking system . For example the social relationship represents social information including an affinity between two or more participants a type of connection between two or more participants e.g. personal relationship familial relationship professional relationship etc. . Social information also includes historical information about an interaction between a participant and an object included in the social networking system. For example historical information may include previous check in information associated with the location of an event discussed in messages from participants included in the real time conversation thread. Historical information also includes interaction with a previously grouped conversation thread that included messages from the same or similar group of participants. The social information may be directly retrieved from social graph information store . Alternatively it may be retrieved from a pre built index of social information that allows for faster retrieval of the social information in graph information store .

Message grouping module groups messages into conversation threads when receiving a set of messages from a threshold number of users over a predetermined threshold period of time as previously described in reference to . In some embodiments message grouping module groups messages sharing common location information from a set of participants that have a social relationship on social networking system into a previously existing conversation thread. The previously existing conversation thread will include messages from at least a subset of those participants that have a social relationship with the newly added participants whose messages include location information common to at least some of the messages included in the previously existing conversation thread.

For example for a first participant of a conversation thread message grouping module adds a set of messages to a conversation thread based on social information about the social relationship between the first participant and another participant of the conversation thread. For example to present a conversation thread about a location socially relevant to a viewing user i.e. the user to whom a message interface is presented message grouping module groups messages based in part on common location information and social information as previously described. Messages determined to include common location information may be grouped and then regrouped based on social information associated with the viewing user. For example social information includes a degree of connection between the viewing user and another participant in the conversation thread and the viewing user s affinity to another participant in the conversation thread. Social information also includes whether the viewing user and another participant in the conversation thread have established a connection in the social networking system and the type of connection between the viewing user and another participant of the conversation thread.

Message grouping module adds the conversation thread to a message interface to enable further communications in real time among the participants. In one embodiment message grouping module adds the conversation thread to the message interface as the messages are grouped by messaging grouping module . And because messages are grouped in real time as previously discussed messaging grouping module may in turn add maintain and subsequently present a message interface that includes a real time conversation thread. In another embodiment message grouping module allows a user to add a conversation thread to the message interface by allowing a user to create a new chat option. To allow a user to create a new chat option message grouping module presents for display to a user a list of connect users associated with a particular location as determined by common location information included in messages associated with the list of connected users. The list of connected users may be presented to a user with the option for the user to arrange the lists by location or social proximity based on information from graph information store .

Message grouping module provides the message interface for display to one or more of the participants of the conversation thread. In an embodiment the message interface allows the viewing user to select a conversation thread from a list of conversation threads grouped based on location information. The message interface further allows the viewing user to add a message e.g. a posts web chat etc. to a selected conversation thread. For example message interface allows a viewing user to send a post to participants of the conversation thread using a third party application SMS messages e mail or the like. In an embodiment message interface further allows a viewing user to create a new conversation thread by presenting the viewing user with a listing of friends sorted by location information. Like existing conversation threads new conversation threads may also be sorted and or ranked by location information or social proximity i.e. by relationship degree relative to the viewing user .

An example message interface will be described in greater detail concerning . In an embodiment the message interface provides selections for a user to list existing conversation threads and to sort the conversation threads based on social information i.e. friends or social proximity . In another embodiment the message grouping module organizes the conversation thread in the message interface using social information that is indicative of relationships between the participants of the thread. In an embodiment message grouping module also organizes the messages within a conversation thread using the social information. For example organizing may include sorting or filtering the messages in a conversation thread based on the social information.

In the case where a participant in a conversation thread switches device types during a conversation e.g. switches from a desktop computer to a mobile device while exchanging messages using web chat message grouping module forwards the conversation thread to a message interface on the switched device. In one embodiment message grouping module switches devices automatically and without user intervention. For example social networking system provides one or more signal to message grouping module indicating when a session to access social networking system was commenced and or terminated by each device associated with a user. Message grouping module may then evaluate these signals to determine whether the period of time between when a session was terminated and when a subsequent session was commenced meets a session switching threshold indicating a user switched devices. For example a threshold may be less than five minutes between termination of a session and the commencement of a subsequent session. In another embodiment in addition to the session switching threshold message grouping module switches devices automatically based in part on a change in location information associated with immediately subsequent sessions.

In another embodiment message grouping module switches devices based on receipt of a signal from the user indicating a request to switch the message interface to another device. For example message grouping module may receive a signal indicating that a participant in a conversation thread requests to switch the message interface to another device during a conversation. Responsive to receipt of the request signal message grouping module displays for selection to the user a list of devices previously used by the user to access social networking system .

For each conversation thread a brief summary of the conversation is presented in the interface. In an embodiment the summary includes the names or references to the common location information serving as the subject of the conversation thread pictures and . In another embodiment and an excerpt not shown from the most recent message in the conversation is provided along with the summary. In an embodiment the summaries are organized by time date so that conversations with the most recent messages are placed higher in within a list of conversations in the interface.

Message interface also includes header region for receiving a selection from the viewing user to create a new thread perform actions e.g. sort threads based on social information hide threads select persistence for a thread based on location or social information among other things . Header region also includes an interface for searching for messages in a conversation thread. The interface allows messages to be searched through the use of textual search queries by entering a query in a search box. Message grouping module processes the query and identifies messages that match the query. The search results are then presented in a list to the viewing user. In an embodiment the scope of the search can be limited through the use of search options. The search options can be entered in a number of ways such as with an additional command in the search query or through a list of selectable options. Using the search options the scope of the search can also be limited in a number of ways. For example the search can be limited to particular conversation threads or can be an unrestricted search of a user s entire mailbox. Searches can also be restricted by time user names message channel i.e. e mail or web chat etc.

Icons within each message indicate a message channel used to deliver the message. Icon indicates that first message is a web chat message. Icon indicates that the second message is an e mail message. Icon indicates that the third message is a SMS text message sent from a phone. In an embodiment the conversation thread is updated in real time as new messages are received. In operation a conversation thread is akin to a historical record of correspondence about a location between a set of users sharing some social relationship. Through the interface a viewing user can scroll backwards in time to view the entire history of the messages in the conversation thread. In an embodiment some of the messages can have attachments such as pictures videos documents etc. The pictures and video can be shown in the interface with a preview of the attachment instead of just a link to the attachment. For example an attached picture can be shown in the interface with a thumbnail of the picture.

The conversation thread also includes both outgoing and incoming messages. For example the conversation thread in includes message which is a message sent by the viewing user Jon Perlow. The conversation thread also includes message which is a message sent to user Mike Matas from user Jen Elstrott in response to Mike s message . Mike having a first order connection with Jen and Jen having a first order connection with Jon.

In an embodiment conversation threads that have more than two participants behave like chat rooms. A conversation participant can send a message to the conversation thread which is then distributed by message grouping module to all conversation participants. In an embodiment object store includes a profile for each user that comprises a profile name an e mail address a profile picture and other identifying information. In an embodiment the name of a participant as displayed in the summary is identified from the participant s profile. For example an e mail received from Lucy.Zhang yahoo.com can be identified from information in object store as being an e mail from the user Lucy Zhang.

When a conversation thread has a large number of participants in an embodiment only a sub set of the participant names are presented to simplify the summary. The sub set can be any number of participants from the conversation. For example conversation thread has fourteen participants. Only the names of four conversation participants Lucy Zhang Jon Perlow Mike Matas and Jen Elstrott are displayed. The name of the mailbox owner is not shown in the summary. The names of the other two participants are grouped together and presented as 14 others. Message grouping module selects the sub set of names in any of a number of ways. For example the sub set may include the names of the participants who created the most recent messages in the conversation the name of the participant who started the conversation or the names of the participants that the viewing user has the strongest affinity for or social relationship with.

In an embodiment the brief excerpt A may be extracted from the content of the most recent message in the conversation thread. For example in conversation thread the excerpt A includes the text I will see you there which is the most recent message from this conversation thread . In other embodiments the brief excerpt is extracted from other information that is not message content such as metadata associated with the message. For example the brief excerpt could be the title of the most recent e mail message in the conversation.

In an embodiment the message interface also includes quick reply bar for sending messages and adding messages to a conversation thread. For example quick reply bar is used for sending either text based messages or attachments to participants of a conversation thread. As shown in quick reply bar is placed below a conversation thread at the bottom of the interface. In an embodiment quick reply bar is placed anywhere in the interface and does not necessarily have to be placed directly below the conversation thread.

Quick reply bar includes a text entry box and a mode selection box . Text entry box is an element of the interface that accepts message text for updating the conversation thread. The quick reply bar can operate in two different messaging modes quick reply mode or standard mode. The mode can be selected by toggling mode selection box in quick reply bar . Mode selection box thus allows a user to switch between the quick reply mode and the standard mode or to select a particular mode of operation. In other embodiments more than two message modes are supported by quick reply bar and mode selection box allows the user to switch between any of the modes. In other embodiments text entry box and mode selection box have a different appearance than that shown in .

The quick reply mode is similar to an instant messaging mode for sending messages. When operating in quick reply mode a user can enter a message in text entry box and send it by pressing the enter key. This allows for messages to be sent with keyboard based input without requiring the user to switch between a keyboard and a mouse allowing for a quicker reply. The message is sent to message grouping module for adding the message to the conversation thread and updating the message interface with the new message. Any message text in the text entry box is also cleared out to allow the user to start typing a new message.

In an embodiment when operating in non quick reply standard mode reply all button is provided for sending messages. Reply all button is an interface element that can be selected with a mouse click. In an embodiment reply all button is only be shown when operating in the standard mode but hidden during the quick reply mode.

When operating in a non quick reply standard mode pressing the enter key does not send the message. Instead pressing the enter key has the effect of generating a carriage return and moves the cursor below the current line of text in the text entry box similar to how pressing the enter key when writing an e mail creates another line of text. This method of sending messages may be slower because it requires the use of a mouse but is preferable for some users. Additionally this also allows for the creation of more complex and longer messages that have multiple lines of text and spaces in between the lines.

In an embodiment the settings for quick reply bar are persistent. As the viewing user moves from one conversation thread to the next the settings for the quick reply bar are maintained. For example if the mailbox owner sets the quick reply bar to a standard mode when viewing one conversation thread and then switches to viewing a different conversation thread quick reply bar will remain in standard mode. Additionally to add a new message to a conversation thread the viewing user may select new message which generates an interface to compose a message to a current participant in the conversation thread or a non participant which has a social relationship with the viewing user. In an embodiment the generated interface may be any suitable interface to send a message to another user of social networking system .

The foregoing description of the embodiments has been presented for the purpose of illustration it is not intended to be exhaustive or to limit the embodiments to the precise forms disclosed. Persons skilled in the relevant art can appreciate that many modifications and variations are possible in light of the above disclosure.

Some portions of this description describe the embodiments in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are commonly used by those skilled in the data processing arts to convey the substance of their work effectively to others skilled in the art. These operations while described functionally computationally or logically are understood to be implemented by computer programs or equivalent electrical circuits microcode or the like. Furthermore it has also proven convenient at times to refer to these arrangements of operations as modules without loss of generality. The described operations and their associated modules may be embodied in software firmware hardware or any combinations thereof.

Any of the steps operations or processes described herein may be performed or implemented with one or more hardware or software modules alone or in combination with other devices. In one embodiment a software module is implemented with a computer program product comprising a non transitory computer readable medium containing computer program code which can be executed by a computer processor for performing any or all of the steps operations or processes described.

Embodiments may also relate to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes and or it may comprise a general purpose computing device selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a non transitory computer readable storage medium or any type of media suitable for storing electronic instructions and coupled to a computer system bus. Furthermore any computing systems referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.

Finally the language used in the specification has been principally selected for readability and instructional purposes and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope of the embodiments to be limited not by this detailed description but rather by any claims that issue on an application based hereon. Accordingly this disclosure is intended to be illustrative but not limiting of the scope of the embodiments which is set forth in the following claims.

