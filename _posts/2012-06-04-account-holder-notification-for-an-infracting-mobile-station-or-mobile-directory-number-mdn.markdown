---

title: Account holder notification for an infracting mobile station or mobile directory number (MDN)
abstract: A mobile communication network offers notification to an account holder upon occurrence of an infraction of a subscriber selected restriction by operation of one of the mobile stations under the subscriber's account. In the examples, the subscriber can select a directory number/station under the account, a desired one of a number of available restriction options and one or more parameters of the selected restriction. When the mobile communication network detects an infraction, caused by operation of the mobile station through the network, a system or processor obtains a destination address designated for an account holder, for the subscriber's account, such as the directory number for one of the subscriber's stations selected as that of the account holder. The system sends a notification of the infraction intended for the account holder, using the destination address, for example, as a text message sent through the network to the account holder's mobile station.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08577331&OS=08577331&RS=08577331
owner: Cellco Partnership
number: 08577331
owner_city: Basking Ridge
owner_country: US
publication_date: 20120604
---
This application is a continuation of and claims priority from U.S. application Ser. No. 12 264 492 filed on Nov. 4 2008 the disclosure of which is hereby incorporated by reference herein in its entirety.

In recent years mobile wireless communications have become increasingly popular. Initial implementations of mobile wireless communications for example in the form of cellular telephone networks supported circuit switched voice communication services. The carriers developed short message service SMS technology to provide text and or e mail communications via the wireless communication networks. As the public wireless communication networks have evolved to provide greater bandwidth and packet based services the industry has developed a variety of data services such as web browsing as well as a variety of services using multimedia message service MMS technology.

As popularity and demand has grown subscribers have increasingly obtained service for a number of mobile stations with individual mobile directory numbers or MDNs under one mobile subscriber account with the carrier providing services through the mobile communication network. For example a family may have mobile phones for both parents as well as a mobile phone for one or more of their children. Verizon Wireless for example currently offers private customers up to five stations numbers under one account billing subscription.

As usage of multiple mobile stations under one plan increase situations arise in which a subscriber may desire to restrict certain use or operations of one or more of the mobile stations under the subscriber s account for example to limit voice call data or message usage so as to avoid excessive usage charges. As another example a parent may want to limit the time of day usage by a child for example to prevent usage during school hours or late at night. Parental control restrictions may also limit the other numbers phones that the child may call to or receive calls from impose similar restrictions on messaging and or impose various content or site restrictions on web surfing downloading or other data services.

Often these restrictions have imposed hard limits that is to say a service of some restricted type would be blocked if contrary to the restriction. For example if a usage restriction limited the amount of voice call minutes for a particular mobile station with a particular MDN then the network would prevent any further mobile voice call to or from the station after the station user reaches the applicable usage limit.

This type of restriction is analogous to the limitations on usage imposed by prepaid arrangements. Notifications may be provided as usage nears the limit pass a soft threshold and or when usage is blocked upon reaching the hard maximum limit. However these notifications were typically provided to the infracting mobile station e.g. whose usage reached the soft threshold or reached the hard maximum limit. Notifications were not provided to any destination other than the infracting device e.g. not to another mobile station or terminal of the parent subscriber account holder which limited the ability of the subscriber account holder to deal with the infracting activity.

There have also been situations in which notifications were provided to account holders. For example a recent FCC Mandate requires a communication to the account holder or subscriber when certain pertinent information on an account is changed such as when the account password or billing plan had been changed via web access or as a result of a phone call or in store communication with customer service personnel. To insure effective communication of such notifications Verizon Wireless implemented a hierarchical delivery approach which would first try sending an SMS message to the account holder then if the SMS delivery is not successful try sending an email then if the email is not successful try sending a letter and if there is not a valid mailing address a file is sent to customer service for a confirmation call back. This approach utilized one or more electronic delivery methods as the first attempts which tends to ensure that the communication reaches the customer quickly and at the least cost. However when those methods are exhausted the traditional more costly communication methods are employed. The account holder notifications however were not applied in the context of operation of the mobile stations associated with the subscriber account particularly in a manner as would notify the account holder of an attempt or actual infraction of a restriction that the subscriber has placed on the particular mobile station.

In the following detailed description numerous specific details are set forth by way of examples in order to provide a thorough understanding of the relevant teachings. However the present teachings may be practiced without such details. In other instances known methods procedures and components have been described at a relatively high level without detail in order to avoid unnecessarily obscuring aspects of the present teachings.

The various examples disclosed herein relate to technologies for providing reliable notifications upon determination that operation of a mobile station through a mobile communication network has resulted in an infraction of a subscriber selected restriction imposed on the mobile station s network operations. Although the operation that rose to the level of an infraction is that of the mobile station the mobile station is often associated with or assigned a mobile directory number MDN and for convenience of discussion below we may at times refer to the infracting mobile station or to the infracting MDN of that station. One or more notifications of the infraction may be sent to the account holder for example via different message delivery techniques and in at least some cases a notification may be sent to the mobile station of the infracting MDN. The notification techniques discussed herein may be applied to infractions of both hard and soft restrictions. A hard restriction would be one that the mobile station cannot breach in which case an infraction would be an attempt to communicate in a manner barred by the restriction. Examples include attempts to exceed a maximum usage limit or send or receive communication with another station identified on a blacklist for blocking communications . A soft restriction would one that triggers a notification when there is an infraction but for which communication is still permitted. An example of this later case would be when usage reaches or exceeds some threshold but is allowed to continue e.g. where the threshold is at some level below a maximum usage ceiling or limit.

Reference now is made in detail to the examples illustrated in the accompanying drawings and discussed below. illustrates a number of mobile stations a mobile communication network coupled to other communication networks and several systems elements associated with or included in the mobile network for various functions as may be involved in monitoring mobile station usage determining infractions of usage restrictions and providing attendant notifications.

Hence illustrates a mobile communication network as may be operated by a carrier or service provider to provide a wide range of mobile communication services and ancillary services or features to its subscriber customers and associated mobile station MS users. The elements generally indicated by the reference numeral generally are elements of the network and are operated by or on behalf of the carrier although the mobile stations typically are sold to the carrier s customers. The mobile communication network provides communications between mobile stations as well as communications for the mobile stations with networks and stations outside the mobile communication network .

For purposes of later discussion several mobile stations appear in the drawing to represent examples of the mobile stations that may receive various services via the mobile communication network . Today mobile stations typically take the form portable handsets smart phones or personal digital assistants although they may be implemented in other form factors. For discussion of the usage control example exemplary types of restriction service and associated exemplary notification service we will assume that the mobile stations and and their associated MDNs are all covered under one subscriber account and that among those stations the mobile station is the station of the account holder AH .

The network allows users of the mobile stations to initiate and receive telephone calls to each other as well as through the public switched telephone network PSTN and telephone stations connected thereto. The network allows SMS type text messaging between mobile stations and similar messaging with other devices via the Internet. The network typically offers a variety of other data services via the Internet such as downloads web browsing e mail etc.

The mobile communication network typically is implemented by a number of interconnected networks. Hence the overall network may include a number of radio access networks RANs as well as regional ground networks interconnecting a number of RANs and a wide area network WAN interconnecting the regional ground networks to core network elements such as the MMSCs. A regional portion of the network such as that serving mobile stations and will typically include one or more RANs and a regional circuit and or packet switched network and associated signaling network facilities.

Physical elements of a RAN operated by one of the mobile service providers or carriers include a number of base stations represented in the example by the base stations BSs . Although not separately shown such a base station typically comprises a base transceiver system BTS which communicates via an antennae system at the site of base station and over the airlink with one or more of the mobile stations and when the mobile stations are within range. Each base station typically includes a BTS coupled to several antennae mounted on a radio tower within a coverage area often referred to as a cell. The BTS is the part of the radio network that sends and receives RF signals to from the mobile stations that the base station currently serves.

The radio access networks also include a traffic network represented generally by the cloud at which carries the user communications for the mobile stations and between the base stations and other elements with or through which the mobile stations communicate. Individual elements such as switches and or routers forming the traffic network are omitted here form simplicity.

A Mobile Directory Number MDN is the telephone number assigned to a mobile station which a calling party or device inputs in order to call or send a message to the particular mobile station. To call the mobile station for example a user of a PSTN telephone or of another mobile station dials the MDN associated with the mobile station . To send a MMS message or a SMS message to destination mobile station as another example typically entails input of the MDN of that mobile station. A Mobile Identification Number MIN is an identification number used by the network to signal a particular mobile station. The MIN is formatted like a telephone number and the MIN may be the same as the MDN. However increasingly the network assigns a different number for use as the MIN and translates the MDN input by a calling or other originating party into the MIN that the network uses to establish the call or send the message to the destination mobile station. Of these numbers assigned to the mobile station the MDN typically is the number or address of the station known and used by other parties or stations.

The traffic network portion of the mobile communication network connects to a public switched telephone network . This allows the network to provide voice grade call connections between mobile stations and regular telephones connected to the PSTN . The drawing shows one such telephone at . For purposes of discussing notifications some notifications may entail voice message delivery or even service representative calls to the account holder for example at a regular telephone such as telephone via the PSTN . The PSTN also provides connections to other types of customer premises equipment such as facsimile or FAX machines. The drawing shows one FAX machine by way of example to illustrate the point that an account holder notification may entail a facsimile transmission of the notification message to the account holder s FAX machine such as the machine .

The traffic network portion of the mobile communication network connects to a public packet switched data communication network such as the network commonly referred to as the Internet shown at . Packet switched communications via the traffic network and the Internet may support a variety of user services through the network such as mobile station communications of text and multimedia messages e mail web surfing or browsing programming and media downloading etc. For example the mobile stations may be able to receive messages from and send messages to user terminal devices such as personal computers either directly peer to peer or via various servers not separately shown . The drawing shows one such user terminal device as a personal computer PC at by way of example. For purposes of discussing notifications some notifications may entail an e mail message transmission of the notification to the account holder s terminal such as to the PC via the Internet .

Wireless carriers developed the short message service SMS to transmit text messages for display on the mobile stations. In many existing network architectures the SMS traffic uses the signaling portion of the network to carry message traffic between a Short Message Service Center SMSC and the mobile stations. The SMSC supports mobile station to mobile station delivery of text messages. However the SMSC also supports communication of messages between the mobile stations and devices coupled to other networks. For example the SMSC may receive incoming IP message packets from the Internet for delivery via the network one of the base stations and a signaling channel over the air link to a destination mobile station. For this later type of SMS related communications the network also includes one or more Short Message Peer to Peer SMPP protocol gateways . The SMPP gateway provides protocol conversions between SMPP as used by the SMSC and the protocols used on the Internet or other IP network. SMPP messages ride on. IP transport e.g. between the gateway and the SMSC .

Of note for purposes of this discussion many of the notifications discussed herein are sent to various mobile stations using SMS capabilities of the network . For example when a mobile station commits an infraction of a restriction that the account holder has set up against the MDN of the station then the network will provide a notification of the infraction in the form of an SMS message sent via the SMPP gateway the SMSC the traffic network one of the base stations and a signaling channel over the air link to the mobile station of the account holder. In some cases the network may also send an SMS message to the station of the user that committed the infraction. Hence in our example when the mobile station commits the infraction the network might also provide a notification of the infraction in the form of an SMS message sent via the SMPP gateway the SMSC the traffic network one of the base stations and a signaling channel over the air link to the mobile station itself.

The carrier will also operate a number of systems that provide ancillary functions in support of the communications services provided through the network and those elements communicate with other nodes elements of the network via one or more private IP type packet data networks sometimes referred to as an Intranet . The support elements for example include one or more systems of record such as the system shown at . An example of such a system is a Vision system which includes subscriber account records. A large carrier typically has a number of such systems and the system that stores the account data for a particular subscriber may be referred to as the system of record for that subscriber s account.

As discussed more later with regard to the customer communications system also includes or has access to a preference center system that forms a system of record which includes a record for the mobile stations and . That record identifies the mobile stations and the MDN of the mobile station identified as the account holder AH for notification purposes. In a parental usage control example the parent would designate the MDN of the parent s mobile station as the MDN for the account holder. The AH designated MDN may be the main subscriber number under which the account was originally established if that is still the parent s own number but the subscriber may change the AH designation to another of the numbers under the account.

For purposes of the infraction detection and associated notification another ancillary carrier system of the network is a usage data aggregator . In our example we assume that the account of the mobile stations and has subscribed to the parental control type usage restriction service and the subscriber has instructed the network to apply one or more usage control restrictions to the two mobile stations and under the subscriber s account. The usage data aggregator will monitor real time usage of the mobile stations and through the mobile traffic network . Trigger events with regard to usage by the mobile stations and also are defined in the data aggregator . If an event corresponding to a trigger defined by a subscriber selected restriction occurs in the network operation of one of the mobile stations and the usage data aggregator will detect that event and generate an infraction notification request message for transmission via the network .

The aggregator may be similar to real time call or usage rating platform originally developed for prepaid services. Such a platform however may be adapted to usage monitoring for postpay subscription services as well for example where it is desirable to monitor and possibly restrict amount of usage or other aspect of mobile station operations in real time. An example of a suitable platform which may be adapted to perform the functions of the usage data aggregator is the Surepay platform manufactured and sold by Alcatel Lucent.

The exemplary network also includes a customer communications system which is coupled for communication via the private network . The customer communications system receives the infraction notification request message from the usage data aggregator and in response generates and sends one or more notification messages. For example the customer communications system may generate and send SMS messages one to the mobile station designated as that of the account holder and or an SMS message to the mobile station that committed the infraction. In the examples discussed in more detail below the customer communications system also supports alternative messaging for example in the form of facsimile voice or e mail messages. The customer communications system may utilize those alternative message communication capabilities for infraction notifications or for other types of notification communications that the carrier may offer to its subscribers e.g. to provide notifications of significant account activities such as on line access to add a number station or to change the primary password on the account.

In practice today the carrier will also offer its subscribers on line access to a variety of functions related to the subscribers accounts such as review of billing statements and usage data on line payment subscription changes password control or the like. For that purpose the carrier in our example operates a customer account web server offering a MyAccount Now MyVerizon type subscriber interface via the Internet. Hence a user s terminal such as PC may be used to access on line information about a subscriber s account which the mobile carrier makes available via the carrier s MyAccount web site accessible through the Internet . Of note for purposes of the present discussions of notifications the web site provides secure user access to the restriction features and allows the subscriber to designate the MDN for the account holder s mobile station .

For example the subscriber may use the PC to log in via the site offered by the server to subscribe to usage restrictions and identify the MDNs of mobile stations and under the subscriber s account as subject to the restrictions. In an exemplary deployment a number of options for different usage controls are available and the web site allows the subscriber to select the control s to apply to each MDN covered by the usage controls. As noted the web site also allows the subscriber to select an MDN for the AH designation and we will assume for discussion of further examples that the subscriber selects the MDN for the mobile station as that of the account holder. The server communicates with other network systems via the private network for example to store the subscription information and account holder designation in the systems of record and . For example when the customer subscribes to usage restriction service and designates an MDN for the account holder the MyVerizon application in the server sends an XML over HTTP request to the CCC request processor in customer communications system to notify the subscriber of this account change in accord with the applicable business rules. However this notification request per the business rules also causes the CCC request processor to set the account holder designation appropriately in the preference center . Appropriate triggers for the restricted MDNs are also loaded into the usage data aggregator . If the system offers reporting options to the subscriber such as options to select alternative notifications in the event that a SMS notification to the account holder fails the applicable notification choices also may be stored as subscriber preferences in the preference center directory maintained by the customer communication system .

With that overview of the system it may be helpful now to consider a high level discussion of an example of a restriction service with associated infraction notifications including how these services might appear from the user or subscriber s point of view.

In a current implementation usage control is a subscription feature that allows a subscriber to select one or more of the MDNs and thus the associated mobile stations under the subscriber s account with the mobile network carrier and apply one or more restrictions to each selected MDN. Examples of possible usage control type restrictions offered for the feature include a voice call usage threshold a voice call usage maximum limit a message communication usage threshold a message communication maximum limit a data communication usage threshold a data communication maximum limit a time of day or day of the week restriction as well as one or more types of blockage restrictions regarding communications with regard to an identified station or the like of another party. Blockage restrictions for example may include a blockage or blacklist of numbers or other addresses of stations parties with which a mobile station identified by its own MDN is not allowed to communicate. Another example of a blockage type restriction might be a white list of allowable numbers or other addresses of stations parties with which the particular mobile station is allowed to communicate when other numbers addresses are blocked either permanently or during periods of restriction under a time of day day of the week type restriction.

In operation the subscriber would use their personal identification number and a password to log onto their own account page at the carrier s website using a PC and the web server . Once the customer has subscribed to the usage control feature the subscriber would select one or more MDNs under their account that are to be the subject of a usage control restriction. In our example the subscriber selects the MDNs for the mobile stations and for application of usage control restrictions.

For each MDN selected for a usage control restriction the web server offers options among the available types of restrictions. The subscriber can then select one or more of the available restrictions to apply to each selected MDN mobile station under the subscriber s account. For each restriction the web server may also offer one or more control parameters that the subscriber may choose and set. For example for a time of day restriction the subscriber can select the appropriate time periods e.g. as start and stop times of the restricted usage period as start times with associated durations or by other convenient means of selecting applicable intervals . As another example for usage thresholds or limits the subscriber can select a threshold or a maximum limit on the usage units call minutes message units data volume or the like allocated to each restricted MDN. In a current implementation the subscriber selects a maximum limit for the usage allocation for the restricted MDN and the system sets a threshold at a predetermined level somewhat below that maximum limit essentially to provide a threshold for a warning as usage nears the limit. The web server would also offer the subscriber options to set up blockage restrictions by entering numbers addresses for a blacklist or a white list.

The usage control feature also allows the subscriber to select one of the MDNs under the account and thus one of the mobile stations for designation as the MDN station of the account holder for notification purposes. Hence web server offers the subscriber a selection option and the subscriber selects the appropriate MDN under the account for the holder such as the MDN of the mobile station in our example.

Once the subscriber has made the various selections for the usage control service relevant data is stored in the systems of record that is to say in the preference center in the case of the infraction notification service. Other elements of the mobile communication network are provisioned based on that data so as to implement the subscriber selected usage controls and to provide the appropriate notifications of infractions.

For example the mobile traffic network is provisioned so as to report usage activities of the restricted MDNs mobile stations such as and to the usage data aggregator and the data aggregator is provisioned to monitor operations of those MDNs mobile stations and determine if when operations of any of the restricted mobile stations through the network create an infraction of any of the subscriber selected restrictions. One approach may be to provision the network to treat the MDNs mobile stations and in a manner similar to those of prepaid subscribers so as to look to the usage data aggregator before allowing communications to report usage to the usage data aggregator in real time and to terminate ongoing communications and or block new communications attempts if so instructed by the usage data aggregator . In this way the data aggregator can impose actual limits on activities of the restricted mobile stations and if desired by the subscriber. The usage data aggregator can also monitor the activities of the restricted mobile stations and to detect infractions for reporting purposes.

In the illustrated example when the usage data aggregator detects an infraction it generates and sends a notification request message to the customer communication system . One approach would be for the usage data aggregator itself to send one or more notifications but the exemplary approach reduces the workload on the data aggregator and facilitates application of more sophisticate logic or business rules to the notifications regarding various types of infractions and or as selected or preferred by the various subscribers. Hence in the mobile communication network the data aggregator generates a request message for a notification to be sent to the MDN of the mobile station that the aggregator detected has committed an infraction of an applicable subscriber selected usage restriction and the usage data aggregator sends that notification request message through the carrier s private network to the customer communication system .

The customer communication system receives the notification request message and processes that message to determine where to send one or more notifications regarding the infraction. Of note for purposes of the usage control example this entails a lookup of relevant account information to obtain a destination address of the designated account holder for the subscriber s account. Typically this will be the MDN of the mobile station that the subscriber selected as the MDN for the account holder. Using that destination address the customer communication system sends a notification of the infraction intended for the account holder. In the example this typically entails sending an SMS message addressed to the designated account holder s MDN through the SMPP gateway to the SMSC which stores and forwards the SMS notification message through the mobile traffic network to the account holder s mobile station . Typically the customer communication system similarly sends an SMS notification message to the mobile station or that committed the infraction using the MDN of the appropriate station as the address of the SMS notification message. The system supports at least some situations in which a notification may be sent to the infracting MDN station without sending a notification for the account holder. However most of the notification operations considered in the examples discussed here at least include an account holder notification.

Although shown as a common platform at in the elements of the customer communication system of may be implemented on separate hardware communicating with each other via a network the same as or similar to network . For example one or more of the databases and typically will be implemented as separate servers in communications with the hardware platform s implementing the CCC notification request processor although the databases may be implemented as records and appropriate application software running on the same computer as the middleware for the CCC notification request processor . The preference center directory for example may be implemented as a LDAP server coupled for communication with the computer running the CCC notification request processor programming.

The CCC notification request processor receives notification requests processes them and provides the processed requests to associated messaging applications that send the desired notifications out via one or more delivery techniques. In the illustrated implementation the CCC notification request processor provides such notification services for a number of enterprise applications as well as for infraction notifications responsive to infractions detected via the usage data aggregator . For example the other enterprise applications may trigger notifications of certain activities on a subscriber s account such as when a customer uses the on line web service through server to change their address email address MyAccount challenge question MyAccount password MyAccount secondary email addresses or Vision password. In any such case the CCS request processor will send a notification to the customer following specific notification logic and provide fallout files by area when the notification cannot be made.

As a specific example of a restriction on MDN or mobile station operation Usage Control is a revenue generating parental control feature for MyAccount customers that provides the account holder with the ability to manage their billable usage and place restrictions on the mobile devices under their account. In the example of the customer communication system supports notification delivery upon infractions of the restrictions applied via the Usage Control feature. Hence when a MDN under an account triggers a certain infraction notification to occur the account holder should also receive a notification. The system will check the system of record to determine the MDN and or email address of the account holder when the web service receives a notification request for a MDN under the account and the system sends notifications to the account holder and the infracting MDN.

Of note the proposed example of the CCC notification request processor receives notification requests in XML format. A number of business applications or clients deliver such notification requests in XML format. Where the platform functioning as the usage data aggregator for Usage Control service is a SurePay platform from Alcatel Lucent however that platform cannot send notification requests as XML over Hypertext Transfer Protocol HTTP or Message Queuing MQ like the other CCES client applications use in the illustrated implementation example. Hence the system of includes a TCP IP socket based interface in the form of CCES notification server to facilitate the infraction notifications. To the client application of the usage data aggregator this interface appears as a server and this interface will act as a broker between the data aggregator and the CCES notification middleware particularly the request processor . For example the notification server parses each message from the usage data aggregator to form an XML message appropriate for delivery to the CCS request processor . A regular expression based parser may be used to extract each field from the name value pairs contained in each of the notification request messages from the usage data aggregator platform. In the example these fields are used to construct a CCC XML notification request following the CCC XML schema used as inputs to the CCC request processor .

The customer communication system will include or have communication access to a number of databases that store information used in performance of various notification related functions. In the example the customer communication system includes a database of business rules and a database of notification message templates. The rules in the database provide the logic for determining what notifications to send in response to the various events reported by the usage data aggregator and the other enterprise applications. The template database provides the format and common content e.g. forms or templates for the various notification messages sent out by the system .

The Preference Center is the system of record for communication preferences and account holder designation. Communications with this system of record provide the CCS request processor with information that is useful in processing of various notifications including notifications regarding MDN infractions. The systems and communicate using XML via the network to store and retrieve the preference and account holder data from system .

Thus the preference center directory stores preference data regarding notifications for various network customer accounts that may be subject to notifications. For the infraction reporting feature the preference center directory for example stores the MDN of the account holder as designated by the subscriber. The directory may store other notification preference information for the subscriber account for infraction notifications and or for other notifications that the carrier may want to provide to the subscriber such as other notification destination addresses a preferred language for the notification messages e.g. English or Spanish etc. The language for the notification also may be specified by a field or parameter of the notification request message as provisioned in the usage data aggregator with regard to the MDNs of the monitored mobile stations . The CCS request processor communicates with the Preference Center application that updates its directory using the Lightweight Directory Access Protocol LDAP .

The customer communication system also runs one or more message output applications identified as CCES applications in for processing the notification request messages output from the CCC notification request processor as needed to generate and send the actual notification messages through one or more communication delivery channels. The CCC notification request processor modifies notification request messages based on its processing and outputs the modified notification request messages in XML format to the appropriate one or more of the CCES applications to send the actual notifications. The CCES applications comprise application programming software which may run on the same or a different computer from the CCC notification request processor .

The CCES applications enable the customer communication system to provide notifications including notifications regarding the MDN infractions and notifications for the other enterprise applications using a number of communication techniques as shown by way of example to the right of . Some messages may be batch processed for SMS communications or sent in real time in response to triggering events as represented by the MyAccount SMS processing in the drawing. Batch SMS communications may be limited to business hours if desired or sent at any time of the day. Event responsive notifications such as those for the MDN infraction notifications would be sent in real time as the infraction events are detected and processed through the customer communication system . The customer communication system also supports other types of notifications such as e mail letter or facsimile transmissions via an Enterprise Communication Services ECS function.

At least in an initial deployment the MDN infraction notifications will typically utilize SMS message transmission to the mobile station of the account holder and or to the mobile station MDN that has committed the infraction. Obviously the notification service for infractions of usage control could be adapted to offer alternative notification delivery either based on a preference or upon failure of SMS message delivery.

The customer communication system could be implemented on a single hardware platform. However to provide effective notification services for a large number of customers and a large volume of trigger events the customer communication system for the usage control associated example of infraction notification service and other enterprise applications requiring notification may utilize a distributed system architecture. Hence is a network diagram of an exemplary hardware platform for the CCES notification service in support of the usage control service.

In the example of the distributed hardware platform for the CCES Notification Service includes two clusters with DNS with Global Site Selector GSS or other load balancing. Each cluster includes two Sun T2000 Servers configured as CCES Notification Servers e.g. each hosted at a data center in a different region . There will be a Cisco Content Services Switch CSS or other load balancer in each cluster that will balance load to the active nodes in the cluster. Each node will listen on a TCP IP socket for usage control notifications from one or more of the usage data aggregators and on an HTTP port for a CSS keep alive signal. In the exemplary system architecture of there can be up to a maximum of 32 simultaneous connections from the data aggregator platform s to the CCES usage control notification service. The CCES CCC service connects to the SMPP gateway s to deliver the SMS notifications to the customers. In the exemplary system architecture of there can be up to a maximum of 20 simultaneous connections from the customer communication system to the SMPP gateways. The CCC software will throttle the SMPP messages to avoid reaching the SMPP gateway throttle limits.

The exemplary system architecture will be highly available and fault tolerant. However other system architectures may be used e.g. to meet the demands of increased event and notification traffic relative to the usage control service and or other enterprise applications that require customer notifications.

The usage data aggregator platform will send notification requests to the CCES Notification Service servers via TCP IP sockets. Multiple TCP IP socket connections can be made to each CCES Notification Server. Each TCP IP Socket connection will remain open indefinitely and receive and acknowledge notification requests one at a time. If the TCP IP socket connection to CCES is severed the usage data aggregator platform will need to reestablish it and resend any notification that was not acknowledged. Acknowledgements from the customer communication system will indicate that each of the messages was received for processing but will not provide any detail into the success or failure of SMS delivery.

As outlined above the notification server function provides an application program interface or API between the usage data aggregator and the CCC notification request processor. This API enables an exchange of information between systems using standard TCP IP Sockets protocol. In an example there is one process running in the customer communication system that will receive messages from data aggregator. This process may be a multi threaded socket based listener. The messages and acknowledgements may be sent in a synchronous fashion. That is the usage data aggregator will wait for an acknowledgement from customer communication system for every message sent before it continues sending more messages. If there is no acknowledgement from the system then the data aggregator will try to resend the message after a determined set period of delay.

In an exemplary implementation each notification request message from the usage data aggregator contains the following name value pair fields. If the length of any parameter is less than the length defined the blank is padded from the right.

Both the field names and values are included in the messages as octet strings . will always be a 3 octet string. has variable length defined as follows.

Table 1 below provides additional information regarding the information contained in the fields of the notification request messages for an exemplary implementation of infraction notifications regarding a usage control service where for the example M in the M O column designates a mandatory field and O designates an optional field .

The CCES software for notification services may be written in Java. Each CCES Notification Server node in the example has an instance of Websphere running the CCES notification software and the CCC MyAccountSMS software on the same Java Virtual Machine JVM . This allows the usage control service to utilize all of the features of the customer communication system including SMS notifications EMS notifications MMS notifications Email notifications fax notifications letter notifications notification templates rules based failure notifications preference center lookups and weekly reports. EMS Enhanced Messaging Service is an application level extension to Short Message Service SMS for cellular phones available on GSM TDMA and CDMA networks. The CCC software for example makes the preference center lookups on the account number provided in the notification request to send SMS notifications to the Account Holder.

For discussion of the following example primary SMS messages are those sent to the infracting MDN that is to say to the MDN identified in the infraction notification request from the usage data aggregator . At least some notification requests generate an additional or secondary SMS message that is sent to the Account Holder s MDN. The Account Holder s MDN is obtained via a Preference Center LDAP lookup using the account number contained in the infraction notification request from the data aggregator. In a current implementation the account number takes the format of a 9 digit account number followed by a hyphen character followed by a 5 digit customer id number.

The flow chart of provides a high level illustration flow for an example of an infraction notification procedure. shows a somewhat more detailed exemplary procedure. For purposes of the discussion of these processes we will assume that the subscriber has subscribed to a usage control service such as outlined earlier and under that type of restriction service has selected to apply one or more restrictions particularly a restriction on voice call usage per month by a mobile station having an assigned MDN. The subscriber also has designated the MDN of mobile station as that of the account holder. 

The infraction processing begins with detection of an infraction. In our example this may occur when the mobile station crosses a threshold of voice call usage a set value below the limit selected by the subscriber or when the user of mobile station reaches the selected voice call limit. In the mobile communication network of the usage data aggregator monitoring the voice call usage by the mobile station detects the infraction event and generates and sends a notification request message with the relevant information to the customer communication system . At step S in the process of the CCES notification server receives the notification request message essentially as the trigger for notification to the infracting MDN to the mobile station that has the particular MDN . From the overall point of view of the network the usage data aggregator initially detects the infraction. However from the point of view of the customer communication system the system detects the infraction by receiving the notification request message regarding the infraction from the usage data aggregator .

The notification request message includes the information in respective data fields as discussed above and shown in Table 1 including for example an indication of the type of event causing the infraction identification of the account and the MDN of the mobile station that caused the infraction. At step S the CCES notification server parses the notification request to form a corresponding XML request message and delivers the XML version of the message to the CCC notification request processor .

The CCC notification request processor uses an event identification and or a notification type identification from the parsed now XML notification request message to access the business rule database to retrieve one or more applicable business rules step S . For example the applicable business rule may indicate that there is to be a preference lookup and if the system supports lookups for different types or sets of subscriber preference information the business rule may also indicate the appropriate one of several possible types of preference lookup. In the present example the voice call usage infraction should generate a notification to the account holder in addition to a notification to the MDN of mobile station that committed the infraction . Hence the business rule specifies a need for a preference lookup and indicates a particular type of preference lookup so as to obtain a destination address of the subscriber designated account holder.

Hence in step S in the example of the CCC notification request processor will do an LDAP lookup to a system of record that is to say the preference center directory in the implementation of to obtain the MDN of the account holder s mobile station . The lookup could provide other delivery point destination information although for this example we will assume that the lookup identifies only the account holder MDN of the station .

In step S the CCC notification request processor processes the notification request. In this example the processing at S will entail generation of two SMS messages one to the MDN of the mobile station that committed the infraction and another to the MDN of the account holder s mobile station . This will typically entail obtaining a template of the appropriate notification message from the database and filling in appropriate fields of the template with the relevant data obtained from the notification request message and or from the system of record lookup in step S. In step S the customer communication system sends the SMS messages to the infracting MDN i.e. to the mobile station and to the account holder s MDN i.e. to the mobile station .

In an exemplary implementation the usage control example with infraction notifications is configured to provide only SMS notifications addressed to the MDN designated for the account holder and or addressed to the MDN of the station operating in a manner that produced the usage control infraction. The customer communication system however supports a variety of other user or account holder notifications as well as configurations in which notifications are provided to alternate destinations by alternate delivery techniques in the event of initial deliver failure. Although developed for other enterprise applications such additional or alternate notification techniques could be applied to the infraction notifications as well.

The flow chart of shows some aspects of exemplary processing by the customer communication system in somewhat more detail. Processing begins at step S when there is a trigger of notification regarding an infraction with regard to an MDN of a mobile station under an account have usage control for example by the mo station . The message is parsed at S and delivered to the CCC request processor essentially the same as steps S and S in the process discussed above relative to .

As discussed above the notification request message includes the information in respective data fields including for example an indication of the type of event causing the infraction identification of the account and the MDN of the mobile station that caused the infraction. In step S the notification request message may also specify a type of notification. Based on information from the parsed now XML notification request message the CCC notification request processor accesses the business rule database to retrieve one or more applicable business rules in a manner similar to the operation in step S of .

However for purposes of discussion of we will assume that the customer communication system supports a wider range of message options for at least some of the enterprise applications that utilize the notification services of the customer communication center. In this scenario notifications may be sent via text message Email letter and fax. Each notification request after S conforms to the CCC XML schema that defines the elements needed to send the notification including the request type. Business rules for each request type are used to control the logic for the notification and can include a preference center check. Hence each business rule will include a field or parameter specifying whether or not a preference check lookup is required and if so a particular one of the various possible types of preference lookups that the system can perform for notification processing.

At step S in the example of the CCC notification request processor examines the applicable business rule to determine if the notification processing for the received request requires a check of the system of record that is to say whether a preference check is needed for processing of the received notification request message. If not the processing branches from S to step S at which step the customer communication system sends an SMS message to the mobile station using the MDN of the station from the currently received notification request message . Of note notification requests regarding infractions would pull up a business rule requiring a preference check. At step S if the processor determines that a check of the system of record is appropriate the processing branches from S to step S in which the CCC notification request processor does an LDAP lookup to the system of record in the preference center directory to obtain the relevant subscriber preference information.

In this example the preference center directory is a system of record for storage of the customer s notification preference s and the designated MDN for the Account Holder for all MDNs subject to usage control. In the example the system supports four types of preference checks to lookup various different types or sets of subscriber preference data based on the type of lookup specified in the applicable business rule. The processing branches below S based on the type of preference lookup specified by the applicable business rule.

As in the earlier example the preference information stored in the subscriber s account record in the directory at least for usage control infraction notifications includes the MDN of the station designated as that of the account holder for the account containing the MDN that is the subject of the detected infraction. However this information may also include other subscriber preference information regarding notifications for use in a number of branchings among steps S to S in the process flow depending on the trigger event the requested type of notification and thus the type of preference lookup determined from the applicable business rule.

The preference center check is made with a web service call that responds in XML with the details from LDAP. The example of supports four preference types for different notification procedures for infraction notifications and or for other notification services supported by the customer communication system . The exemplary preference lookups and corresponding notifications are as follows 

Typically infraction processing under usage control might use only the UC type lookup whereas other services or applications would use the other approaches. However the infraction notification service could be configured to use other lookups e.g. for certain accounts subscribers or in the event of an SMS message delivery failure.

After the Preference Center lookup is finished the appropriate notification destinations in the XML are updated with the LDAP details that were received. This may entail a modification at step S of the notification request with the details obtained from the applicable preference center lookup from one of steps S to S .

An aspect of a business rule or a different rule triggered on delivery failure may be used to indicate that a request type must also follow hierarchical delivery rules in the event of a failure of one or more of the message transmissions. If the business rule for such fail over is set to yes then the Email address in Preference Center check will only be used if it is over 30 days old.

After the notification request XML is modified as needed in step S notifications are sent using the details in the modified request at step S. Notifications are sent to the infracting MDN of mobile station and one or more notifications are sent to the account holder. Further notifications can be sent based on the failure of a prior notification. For example if the SMS message transmission to the account holder MDN fails the system may send an e mail message to an address of the account holder. Then if the e mail transmission fails there might be a letter or facsimile transmission and so on. This approach allows the Account Holder to receive notifications associated with MDNs under their account when those MDNs trigger or receive various notifications via a series of subscriber selected delivery techniques that increase the likelihood of successful notification delivery to the account holder. Similar failover options may also be provided for the notification communications to the infracting MDN user.

In the examples outlined above usage control is a real time control feature that offers the account holder the ability to manage their billable usage and place restrictions on the mobile devices under their account e.g. as a parental control service usage control allows a parent to control usage of the mobile devices of their children. Usage control features may include voice warning limits messaging limits data transport limits time of day restrictions and communication block list. The notification services will facilitate all communications in real time to the customers that provision the usage control feature.

In our example usage control is an opt in service managed by the subscriber or account holder only. Features within the service are also opt in. A network subscriber is not obligated to have usage controls and a network subscriber that does have usage controls is not obligated to have or activate all features of the service. Account holders can opt in to the service via web site access for example through MyAccount or the like on the carrier s web site implementation. Configuration of usage control settings available through MyAccount enables the subscriber to configure each of their MDNs. Usage control SMS messages to mobile devices subscribers and or users may be provided for free and do not debit the message limit set by the parent or account holder or any price plan text messaging allowance. The designation of an MDN as that of the Account Holder may be determined by the customer via the web applications for example via MyAccount Access Management if implemented on the carrier s web site.

The following discussion provides an outline of the usage control service with the notifications regarding infractions as may be implemented on the network of Verizon Wireless the assignee of the present application.

II. Voice Plan Management In one example nearing t X or reaching the user configured threshold will trigger a free message to the infracting MDN. Reaching the user configured limit t will also trigger a free SMS to the parent Account Holder AH . Table 2 below shows details of an example of the messaging provided in the event that the voice usage for the mobile station associated with a particular MDN reaches a threshold near a maximum usage limit t and or reaches the usage limit t . In a current example the threshold is set at a level t X where X is some number of units below the subscriber selected hard limit t set for that mobile station and MDN.

In the example if the voice call limit is reached Mobile Terminated MT and Mobile Originated MO calls will be blocked unless directed to MDNs of other mobile stations included under the particular account.

III. Block List Voice and Messaging Requirements When a user attempts to send a message or make a voice call to a block listed number they will receive a denied service message free SMS indicating to the user that they cannot send messages to block listed numbers. Their attempt will not be debited from their limit. Table 3 below shows details of an example of the messaging provided in the event that the user of the mobile station associated with a particular MDN attempts to send a message to a number that has been listed as blocked with respect to the particular mobile station and sending MDN. Although not shown in this example notifications could also be provided to the account holder.

IV. Functionality of Messaging Plan Management Nearing t X or reaching the user configured threshold will trigger a free SMS to the infracting MDN. Reaching the user configured limit will also trigger a free SMS to the parent Account Holder AH . Table 4 below shows details of an example of the messaging provided in the event that the SMS message usage for the mobile station associated with a particular MDN reaches a threshold near a maximum usage limit typically set at a level t X which is X units below the hard limit t set for that mobile station and MDN and when usage reaches the limit t. Similar controls and messaging could be provided for MMS messaging and data e.g. web surfing usage if accounted separately.

If the maximum message limit is reached Mobile Terminated MT messages will not be delivered and Mobile Originated messages will not be sent. When messaging reaches the actual limit additional notifications may be provided as explained in Table 5 below. Of course further notifications could be provided to the account holder as well.

V. Time of Day TOD Restrictions Messaging and Data Services Requirements Account holders can designate the days and times when a device in the account cannot be used for messaging or application download during a 1 week 7 day interval. When a user attempts to send a message during designated restricted times a free denied service message will alert the user that they cannot send messages to anyone outside their account until XXX time. XXX is a time determined from the restricted times set in usage control profile. The attempt will not count towards their limit.

A free SMS message will be sent every time an attempt to violate the Time of Day restriction occurs. This will result in multiple messages possibly a succession of multiple messages to the same MDN during the TOD Restriction period.

Table 6 below shows details of an example of the messaging that may be provided in the event of infractions regarding time of day restrictions. Although this example shows only messages to the users addressed to the infracting MDNs notifications could also be sent to the account holder as discussed earlier.

As shown by the above discussion functions relating to the detection of an infraction by a mobile station or its user with respect to an assigned MDN and the attendant infraction notification service to the user and or to the account holder may be implemented on computers connected for data communication via the components of various network configured to provide mobile communication services and related service features as shown in . Although special purpose devices may be used such computers also may be implemented using one or more hardware platforms intended to represent a general class of data processing device commonly used to run server and or client programming so as to implement the functions discussed above albeit with an appropriate network connection for data communication.

A general purpose computer typically comprises a central processing unit CPU or other processing device an internal communication bus various types of memory or storage media RAM ROM EEPROM cache memory disk drives etc. for code and data storage and one or more network interface cards or ports for communication purposes. The software functionalities involve programming including executable code as well as associated stored data e.g. files used for the business rules template and preference center databases. The software code is executable by the general purpose computer that functions as the usage data aggregator and or the server s forming the customer communication system. In operation the respective code is stored within the particular general purpose computer platform. At other times however the software may be stored at other locations and or transported for loading into the appropriate computer platform. Execution of such code by a processor of the computer platform enables the platform to implement the respective processing steps of the infraction detection and notification methodology in essentially the manner performed in the implementations discussed and illustrated herein.

The server functions may be implemented in a distributed fashion on a number of similar platforms to distribute the processing load as illustrated by way of example in .

Hence aspects of the methods of providing notifications of infractions of mobile station usage restrictions outlined above may be embodied in programming. Program aspects of the technology may be thought of as products or articles of manufacture typically in the form of executable code and or associated data that is carried on or embodied in a type of machine readable medium. Storage type media include any or all of the memory of the computers processors or the like or associated modules thereof such as various semiconductor memories tape drives disk drives and the like which may provide storage at any time for the software programming. All or portions of the software may at times be communicated through the Internet or various other telecommunication networks. Such communications for example may enable loading of the software from one computer or processor into another for example from a management server or host computer of the network operator or carrier into the computer platform of the data aggregator and or the computer platform s that serve as the customer communication system. Thus another type of media that may bear the software elements includes optical electrical and electromagnetic waves such as used across physical interfaces between local devices through wired and optical landline networks and over various air links. The physical elements that carry such waves such as wired or wireless links optical links or the like also may be considered as media bearing the software. As used herein unless restricted to tangible storage media terms such as computer or machine readable medium refer to any medium that participates in providing instructions to a processor for execution.

Hence a machine readable medium may take many forms including but not limited to a tangible storage medium a carrier wave medium or physical transmission medium. Non volatile storage media include for example optical or magnetic disks such as any of the storage devices in any computer s or the like such as may be used to implement the data aggregator the customer communication system etc. shown in the drawings. Volatile storage media include dynamic memory such as main memory of such a computer platform. Tangible transmission media include coaxial cables copper wire and fiber optics including the wires that comprise a bus within a computer system. Carrier wave transmission media can take the form of electric or electromagnetic signals or acoustic or light waves such as those generated during radio frequency RF and infrared IR data communications. Common forms of computer readable media therefore include for example a floppy disk a flexible disk hard disk magnetic tape any other magnetic medium a CD ROM DVD or DVD ROM any other optical medium punch cards paper tape any other physical storage medium with patterns of holes a RAM a PROM and EPROM a FLASH EPROM any other memory chip or cartridge a carrier wave transporting data or instructions cables or links transporting such a carrier wave or any other medium from which a computer can read programming code and or data. Many of these forms of computer readable media may be involved in carrying one or more sequences of one or more instructions to a processor for execution.

The present teachings are amenable to a variety of modifications and or enhancements. For example although the implementations described above utilized SMS type messages as the initial notification messages to the party that committed the infraction and to the account holder other electronic messages to their mobile stations may be used for those notifications such as MMS type messages.

While the foregoing has described what are considered to be the best mode and or other examples it is understood that various modifications may be made therein and that the subject matter disclosed herein may be implemented in various forms and examples and that the teachings may be applied in numerous applications only some of which have been described herein. It is intended by the following claims to claim any and all applications modifications and variations that fall within the true scope of the present teachings.

The description above has used a large number of acronyms to refer to various services messages and system components. Use of several of these acronyms is not strictly standardized in the art. For the convenience of the reader the following list correlates terms to acronyms as used in the detailed description above.

