---

title: Method for generating location targeted, keyword-triggered, ads and generating user recallable layer-based ads
abstract: Location-specific content is automatically generated for a particular entity having a plurality of physical locations. Database entries that contain identifying data associated with the particular entity are searched for to obtain location information of each of the plurality of physical locations. The location information, in correlation with one or more keywords associated with the particular entity, is stored in a computer-readable electronic database such that a user-generated query that includes at least one of the keywords and a search location causes a processor to execute operations that initiates a search of the computer-readable electronic database for the location information of the physical locations that are in proximity to the search location. At least one result that is displayable to the user is provided.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09069866&OS=09069866&RS=09069866
owner: Google Inc.
number: 09069866
owner_city: Mountain View
owner_country: US
publication_date: 20120913
---
The present application is a continuation of U.S. patent application Ser. No. 12 418 968 filed Apr. 6 2009 the entire disclosure of which is hereby incorporated herein by reference.

The present invention is directed to on line advertising and more particularly to the generation of data for on line advertising and to the display of on line advertising.

The display of keyword triggered advertisements on the same web pages that provide responses to Internet search queries has been shown to be extremely profitable. Typically users carry out searches of the Internet by entering one or more keywords as a query into a search engine or similar web page. The search engine then provides the results of the search on one more web pages that show the search results arranged according to some predetermined order or ranking.

Recently location based advertising has been introduced to deliver advertisements that are targeted to the current location of a user or to a location specified by the user as part of the search query. As an example in response to a user query for camera stores located in Manhattan the user may be shown ads for stores located solely in New York City. However the generation of a sufficient inventory of location based ads for a given advertiser is often difficult. In addition to storing the ad content and keywords that are currently used to supply keyword triggered advertisements every store location of the advertiser may also need to be stored thereby greatly increasing the amount of information to be stored.

Inventories of location based advertisements are often generated by manually entering store locations into a file. For large chain advertisers large amounts of data must be entered and such entry is often too cumbersome to be worth their effort. Alternatively some mechanism for uploading data files containing store locations is provided. For entry or file uploading to be carried out however both the advertiser and the search engine provider must agree on a common format for the data as well as agree on a method of periodically updating and or uploading the data. As a result location based advertising has not been adopted by many advertisers.

Often a pay per click PPC advertising model is used in which the advertiser only pays when a user actually clicks on an advertisement to visit the web site of the advertiser. However many businesses are not interested in the Internet traffic generated by an ad as their sales are more dependent on the amount of foot traffic such ads generate i.e. the number customer drawn into their stores by an ad. For such advertisers ads that merely provide customers with a link to the advertisers web site is not that valuable.

Some mapping sites display conventional content advertisements based on locations shown on a map in response to a location inquiry by a user. Such advertisements however may not be targeted to the particular interests of the user. Alternatively other mapping sites provide permanent links which show the advertiser s locations on the map. Such advertisements likewise do not target the user s interest and may be of little help to the user.

Keyword triggered ads may also be sold which appear directly on the displayed map. However advertisements in this form may be of limited value to advertisers because only a few lines of ad copy can be shown and often only appear for limited durations. Moreover such advertisements do not show other information that is of interest to the user such as the advertiser s retail locations and do not provide the user with any relation between the displayed map and the advertised business such as by showing store locations on the map.

In accordance with aspects of the present invention an advertising model for local search queries which provides trackable value to advertisers as well as being useful to users.

An aspect of the invention is a method of automatically generating location specific content for a particular entity having a plurality of physical locations. Database entries that contain identifying data associated with the particular entity are searched for to obtain location information of each of the plurality of physical locations. The location information in correlation with one or more keywords associated with the particular entity is stored in a computer readable electronic database such that a user generated query that includes at least one of the keywords and a search location causes a processor to execute operations that initiates a search of the computer readable electronic database for the location information of the physical locations that are in proximity to the search location. At least one result that is displayable to the user is provided.

In accordance with this aspect of the invention the identifying data may be a name of the particular entity or a uniform resource locator URL of a web site associated with the particular entity. Searching within on line content associated with the particular entity may be performed by matching identifying data contained within the on line content to identical data contained within the entries. At least one of a business listing data feed a web site or a data file may be searched. One or more details relating to each physical location may be stored and the details relating to a given physical location may be selected from the group consisting of a photograph of that physical location hours of operation for that physical location a telephone number of that physical location a URL of a web site for that physical location and an icon indicating an attribute for that physical location.

Another aspect of the invention is a method of providing location location specific content for a particular entity having a plurality of physical locations. The location information of each of the plurality of physical locations in correlation with one or more keywords associated with the particular entity are stored in a database. A user entered query that includes at least one of the keywords and a search location is received over a network from a user terminal. The database is searched for location information of the physical locations that are in proximity to the search location. A map of a region that includes the search location is generated. An overlying layer is generated for the map and includes one or more markers that are positioned to overlay the map at the physical locations that are located within the map region. At least the map is transmitted over the network to the user terminal for display on a display screen.

In accordance with this aspect of the invention the one or more markers of the overlying layer may be icons associated with the particular entity or favicons associated with a web site of the particular entity. The overlying layer may be transmitted together with the map such that the map and the overlying layer are initially shown concurrently on the display screen. A user interface element that can be activated to turn on or off the displaying of the overlying layer may be provided on the display screen. Content may be generated for the particular entity and the content together with the map may be transmitted such that the map and the content are shown concurrently at different regions of the display screen. A list of the physical locations that are located within the map region may be generated and the list may include one or more details relating to each listed physical location which are selected from the group consisting of the address of that physical location a photograph of that physical location hours of operation for that physical location a telephone number of that physical location a URL of a web site for that physical location and an icon indicating an attribute for that physical location. The list together with the map may be transmitted such that map and the list are initially shown concurrently at different regions of the display screen. Each of the markers of the overlying layer may be unique to that physical location and the list of the physical locations may include for each physical location the marker that overlies that physical location. A further overlying layer that includes at least part of the list may be generated and a user interface element that can be activated to turn on the displaying of the further overlying layer may be provided on the display screen together with the map the further overlying layer obscuring at least part of the map. A user interface element that can be activated to turn off the displaying of the further overlying layer may be provided on the display screen together with the further overlying layer.

Yet another aspect of the invention is a method of obtaining location specific content for a particular entity having a plurality of physical locations. A user entered query that includes at least one of keywords and a search location is transmitted over a network to a remote facility. A map of a region that includes the search location is received from the remote facility. An overlying layer for the map is received from the remote facility and includes one or more markers that are positioned to overlay the map at the physical locations located within the map region. At least the map is displayed as part of a display screen.

In accordance with the above aspect of the invention the one or more markers of the overlying layer may be icons associated with the particular entity or favicons associated with a web site of the particular entity. The map and the overlying layer may be initially displayed concurrently on the display screen. A user interface element that can be activated to turn on or off the displaying of the overlying layer may be displayed on the display screen. Content may be received for the particular entity and the map and the content may be displayed concurrently at different regions of the display screen. A list of the physical locations that are located within the map region may be received and the list may include one or more details relating to each listed physical location which are selected from the group consisting of the address of that physical location a photograph of that physical location hours of operation for that physical location a telephone number of that physical location a URL of a web site for that physical location and an icon indicating an attribute for that physical location. The map and the list may be initially displayed concurrently at different regions of the display screen. Each of the markers of the overlying layer may be unique to that physical location and the list of the physical locations may include for each physical location the marker that overlies that physical location. A further overlying layer that includes at least part of the list may be received and a user interface element that can be activated to turn on the displaying of the further overlying layer the further overlying layer obscuring at least part of the map. A user interface element that turns off the displaying of the further overlying layer may be displayed together with the further overlying layer.

A further aspect of the invention is a system for automatically generating location specific content for a particular entity having a plurality of physical locations. A memory stores a computer readable electronic database. A processor searches for database entries that contain identifying data associated with the particular entity to obtain location information of each of the plurality of physical locations stores in the computer readable electronic database the location information in correlation with one or more keywords associated with the particular entity such that a user generated query that includes at least one of the keywords and a search location causes a processor to execute operations that initiates a search of the computer readable electronic database for the location information of the physical locations that are in proximity to the search location and provides at least one result that is displayable to the user.

In accordance with this further aspect of the invention the identifying data may be a name of the particular entity or a uniform resource locator URL of a web site associated with the particular entity. The processor may search within on line content associated with the particular entity by matching identifying data contained within the on line content to identical data contained within the entries. The processor may search at least one of a business listing data feed a web site or a data file. The processor may store in the memory one or more details relating to each physical location and the details relating to a given physical location may be selected from the group consisting of a photograph of that physical location hours of operation for that physical location a telephone number of that physical location a URL of a web site for that physical location and an icon indicating an attribute for that physical location.

A still further aspect of the invention is a system for providing location location specific content for a particular entity having a plurality of physical locations. A server includes a memory that stores a computer readable electronic database and a processor that stores in the database the location information of each of the plurality of physical locations in correlation with one or more keywords associated with the particular entity receives a user entered query that includes at least one of the keywords and a search location over a network from a user terminal searches the database for location information of the physical locations that are in proximity to the search location generates a map of a region that includes the search location generates an overlying layer for the map the overlying layer including one or more markers that are positioned to overlay the map at the physical locations that are located within the map region and transmits at least the map over the network to the user terminal for display on a display screen.

In accordance with this still further aspect of the invention the one or more markers of the overlying layer may be icons associated with the particular entity or favicons associated with a web site of the particular entity. The processor may transmit the overlying layer together with the map such that the map and the overlying layer are initially shown concurrently on the display screen. The processor may transmit to the user terminal for display on the display screen a user interface element that can turn on or off the displaying of the overlying layer. The processor may generate content for the particular entity and wherein the transmitting step includes transmitting the content together with the map such that the map and the content are shown concurrently at different regions of the display screen. The processor may generate a list of the physical locations that are located within the map region the list including one or more details relating to each listed physical location which are selected from the group consisting of the address of that physical location a photograph of that physical location hours of operation for that physical location a telephone number of that physical location a URL of a web site for that physical location and an icon indicating an attribute for that physical location. The processor may transmit the list together with the map such that the map and the list are initially shown concurrently at different regions of the display screen. Each of the markers of the overlying layer may be unique to that physical location and the list of the physical locations may include for each physical location the marker that overlies that physical location. The processor may generate a further overlying layer that includes at least part of the list and to provide to the user terminal for display on the display screen together with the map a user interface element that can turn on the displaying of the further overlying layer the further overlying layer obscuring at least part of the map. The processor may provide to the user terminal for display on the display screen together with the further overlying layer a user interface element that can turn off the displaying of the further overlying layer.

In the present application the term location specific content includes location based advertisements. Moreover the term entity as used in the present application includes individuals businesses government entities non profits etc. Additionally the term physical location as used in the present application includes any physical location of such individuals businesses government entities non profits etc.

The foregoing aspects features and advantages of the present invention will be further appreciated when considered with reference to the following detailed description and accompanying drawings.

As shown in an example of a system in accordance with aspects of the present invention includes computers in communication with one another such as over a network and may include a server . As shown in the server may contain a processor memory and other components typically present in a computer.

The memory stores information accessible by processor including instructions e.g. an algorithm that may be executed by the processor and data that may be retrieved manipulated and or stored by the processor. The memory may be of any type capable of storing information accessible by the processor such as a hard drive ROM RAM CD ROM write capable or read only memories.

The processor may comprise any number of well known processors such as processors sold by Intel Corporation. Alternatively the processor may be a dedicated controller for executing operations such as an ASIC.

The instructions may comprise any set of instructions to be executed directly such as machine code or indirectly such as scripts by the processor. In the present application the terms instructions steps and programs are used interchangeably. Such instructions may be stored in any computer language or format such as in object code or modules of source code. The functions methods and routines of the instructions of the invention are explained in more detail below.

Data may be retrieved stored or modified by the processor in accordance with the instructions . The data may be stored as a collection of data. For example though the invention is not limited by any particular data structure the data may be stored in computer registers in a relational database as a table having a plurality of different fields and records as XML documents or in flat files. The data may also be formatted in any computer readable format such as but not limited to binary values ASCII or EBCDIC Extended Binary Coded Decimal Interchange Code . Similarly the data may include images stored in a variety of formats such as vector based images or bitmap images using lossless e.g. BMP or lossy e.g. JPEG encoding. Moreover the data may include any information sufficient to identify the relevant information such as descriptive text proprietary codes pointers references to data stored in other memories including other network locations or information used by a function to calculate such relevant data.

Though the processor and the memory are functionally illustrated in as being within the same block it is understood that the processor and the memory may actually comprise multiple processors and memories that may or may not be stored within the same physical housing or location. As an example some or all of the instructions and or data may be stored on a removable CD ROM whereas other instructions and or data may be stored within a read only computer chip. Some or all of the instructions and or data may be stored in a location physically remote from yet still accessible by the processor. Similarly the processor may comprise a collection of processors which may or may not operate in parallel.

In an aspect of the invention the server communicates with one or more client computers . Each client computer may be configured in a manner similar to the server with a processor memory and instructions as well as a user input device and a user output device such as display . Each client computer may be a general purpose computer intended for use by a person shown in and having all of the internal components normally found in a personal computer PC such as a central processing unit CPU a display a CD ROM a hard drive a mouse keyboard a touch sensitive screen speakers a microphone networking equipment such as a modem and or a router i.e. a telephone cable or other router as well as all of the components used for connecting these elements to one another.

The server and client computers are capable of direct and indirect communication with other computers such as over the network . Although only a few computers are depicted in it is appreciated that a typical system can include a large number of connected servers and clients with different computers being located at different nodes of the network. The network as well as any intervening nodes may comprise various configurations and protocols including the Internet intranets virtual private networks wide area networks local networks private networks using communication protocols proprietary to one or more companies Ethernet local area networks wireless fidelity WiFi local area networks and hypertext transfer protocol HTTP . Communication may be facilitated by any device capable of transmitting data to and receiving data from other computers such as modems e.g. dial up or cable modems network interfaces and wireless interfaces. The server may be a web server. Although certain advantages are obtained when information is transmitted or received in the manner noted above other aspects of the invention are not limited to any particular manner of transmission of information. For example in some aspects of the invention information may be sent using a recording medium such as a disk tape CD ROM or may be sent directly between two computer systems using a dial up modem. In other aspects the information may be transmitted in a non electronic format and then manually entered into the system.

Moreover computers in accordance with the systems and methods described herein may comprise any device capable of processing instructions transmitting data to and or receiving data from humans and other computers. Such computers may include network computers lacking local storage capability PDA s with modems and Internet capable wireless phones.

An aspect of the invention automates the generation of an inventory of location based advertisements for subsequent use by a search engine or other program that responds to user queries. The automated generation of such advertisements may be carried out within the server of which may be the same server that executes the search engine program or similar program. Alternatively the inventory of advertisements may be carried out within one of the user systems and then delivered over the network to a server that runs the search engine program or similar program.

Preferably the location based advertisement inventory is generated for a business that is already an advertiser so that data regarding the advertiser is already stored in the server or the user system . Such advertiser data is matched against a data feed or a file that contains at the very least business addresses and telephone numbers. For example a business name contained in the advertiser data can be used to find entries in a Yellow Pages data feed or other business listing data feed that contains the business name. Alternatively other information can be matched such as an Internet address URL of an advertiser s web site. Such matching can be carried out using any of a number of known correlation techniques.

As a further alternative advertiser data can be matched against data stored in a file that is read by the server or user system or that is uploaded to the user system or server. The data in such feeds or files may be transmitted in a markup language containing tags such as keyhole markup language KML or another geographic information system GIS format be used. Updates of the inventory of location based advertisements may be carried out by simply reading or uploading a new file and then repeating the matching operation described above. As a further alternative instead of a data feed or file an online application programming interface API can be dynamically accessed to match and accumulate data for the advertisement inventory.

In addition to the addresses and telephone numbers of business locations other information may also be read from the data feed or file. As an example the geo location of each business site may be included as well as the hours and or days that each business location is open. Additionally icons may be incorporated that provide information regarding each particular site such as whether a business is temporarily closed.

Though such known web pages may include the display of an advertisement based on keywords which may be used by the search engine or similar program to display a paid advertisement such search engines or similar programs are unable to provide location based advertisements. As a result the advertisement does not contain information that is specific to a user s location. For example for the keyword based search of coffee houses and cafes in San Francisco an advertisement for a national chain of coffee houses is displayed but is not specific to San Francisco and in fact the advertisement may advertise a national chain that does not have any stores in San Francisco.

An aspect of the present invention provides location specific advertisements by generating layers that may be used to overlay the web page showing the search results. show an example of a web page in accordance with another aspect of the invention in which a user is provided with the option of displaying one or more such layers on a web page . In this example a user is looking for the locations in San Francisco of a chain coffee houses known as Tom s and has entered toms in sf as search term . The web page displays a list of the business sites located and a map showing the location of each business site. The search engine or similar program that generates the web page also accesses the advertiser data for Tom s to determine and display a list categories .

In accordance with this aspect of the invention the search engine or similar program also searches an inventory of location based advertisements and determines that two advertisers match these categories and have stores in San Francisco. Typically the targeting of a location based advertisement to a particular region or regions is indicated in a field within the advertisement data. In the present example the search engine or similar program searches for advertisements that are tagged specifically for San Francisco and if such advertisements are not found searches for advertisements that are tagged for wider regions that include San Francisco.

The web page preferably displays a sponsored layers box that lists each located advertiser an icon associated with that advertiser and a check box that allows the user may click on to turn on or off the display the of the store locations of that advertiser on the map . The icons that are displayed may be determined from the advertiser information or alternatively may be address bar icons favicons that appear on the address bar when the advertiser s web page is displayed by a browser program. shows the sponsored layer adjacent to the list of search results . Alternatively as shows the sponsored layers may be displayed atop the map .

The web page displays hw hardware as the search terms a list of HW Hardware stores in the depicted area and a map showing the locations of these stores. Additionally the search engine or similar program determines from the advertiser information that HW Hardware is a paid advertiser so that the web page includes an advertisement for HW Hardware as well as a list of categories that pertain to HW Hardware. Additionally using the inventory of location based advertisements an additional layer is displayed in which a favicon or other icon associated with HW Hardware is shown at each store location.

Also in accordance with this aspect of the invention the user may search for a specific category of business and the search engine or similar program performs a search that not only takes into account a previously entered location keyword but also identifies the locations of paid advertisers within that location. shows an example in which the user who carried out the search whose results are shown in or B subsequently carries out a search for a bank. A web page shows the search term bank a list of the banks located by the search and a map shows the locations of the banks. Additionally using the inventory of location based advertisements it is determined that one of the banks located by the search ABC Bank is a paid advertiser and a layer is displayed showing the favicon associated with the bank at each bank locations.

In accordance with yet another aspect of the invention various layers may be generated and combined to provide different ways of displaying location based advertisement as shown for example in . shows a map of a section of a city for example without showing any additional layers. shows atop the map another layer that is added after a search for Tom s is carried out. The added layer includes a results box that identifies Tom s with a marker that is adjacent to its name. A box provides the user with various viewing options. The map also includes markers at each store location of Tom s .

Additionally the layer may list a sponsored advertiser e.g. Smith s which may be in the same type of business as the first advertiser or alternatively may simply be an advertiser having businesses within the region shown by map shown in .

Although the invention herein has been described with reference to particular embodiments it is to be understood that these embodiments are merely illustrative of the principles and applications of the present invention. It is therefore to be understood that numerous modifications may be made to the illustrative embodiments and that other arrangements may be devised without departing from the spirit and scope of the present invention as defined by the appended claims.

