---

title: Programmable transceiver circuit
abstract: A multi-function programmable transceiver is described. The transceiver includes a driver circuit and a receiver circuit, which allows an Application Specific Integrated Circuit (ASIC) device to drive and receive data from other ASIC devices. Both the driver and receiver circuits share a common input/output (I/O) pin. The driver circuit can be programmed to provide one of the several driver functions, such as CMOS, TTL, PCI, HSTL, SSTL and LVDS. Other functional features of the transceiver that can be programmed are driving strengths or output impedance, output power supply voltage, single ended or differential mode of HSTL/SSTL transceivers, and class 1 or class 2 operations for SSTL/HSTL transceivers. The receiver circuit can also be programmed to provide one of the several receiver functions, such as CMOS, TTL, PCI, HSTL, SSTL and LVDS.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08975920&OS=08975920&RS=08975920
owner: BAE Systems Information and Electronic Systems Integration Inc.
number: 08975920
owner_city: Nashua
owner_country: US
publication_date: 20120813
---
The present application claims priority under 35 U.S.C. 119 e 1 to provisional application No. 61 522 739 filed on Aug. 12 2011 the contents of which are incorporated herein by reference.

The present invention was made with United States Government assistance under Contract No. 07 C 0371 awarded by classified customer. The United States Government has certain rights in the present invention.

The present invention relates to receivers and drivers in general and in particular to a programmable transceiver for Field Programmable Gate Array devices.

Field Programmable Gate Array FPGA devices are commonly employed to implement different functions in various applications. Because of the large numbers of potential applications FPGA devices will be called upon in various applications to receive input signals from a variety of circuits having different voltage swing standards between logic 1 and logic 0. Similarly FPGA devices will be called upon in various applications to drive a variety of circuits having output signals that must meet the voltage standards for logic 1 and logic 0 of the circuit being driven. FPGA devices may also need to communicate with other devices that are designed to meet input output I O specifications at a different power supply voltage.

Suffice to say it can be very costly and time consuming to customize each and every I O buffer for every application. The conventional method is to use several driver and receiver circuits in parallel and one of the circuits can be selected by using a multiplexor. Such designs tend to require a large amount of silicon chip area and the operations may have longer signal delays and may dissipate more power than necessary.

Consequently it would be desirable to provide a transceiver circuit that can be field programmed to meet various requirements of different applications.

In accordance with a preferred embodiment of the present invention a transceiver which includes a driver circuit and a receiver circuit allows an Application Specific Integrated Circuit ASIC device to drive and receive data from other ASIC or Field Programmable Gate Array FPGA devices. Both the driver and receiver circuits share a common input output I O pin. The driver circuit can be programmed to provide one of the several driver functions such as CMOS TTL PCI HSTL SSTL and LVDS. Other functional features of the transceiver that can be programmed are driving strengths output impedance output power supply voltage single ended or differential mode of HSTL SSTL transceivers and class 1 or class 2 operations for SSTL HSTL transceivers. The receiver circuit can also be programmed to provide one of the several receiver functions such as CMOS TTL PCI HSTL SSTL and LVDS.

All features and advantages of the present invention will become apparent in the following detailed written description.

Referring now to the drawings and in particular to there is illustrated a block diagram of a programmable transceiver in accordance with a preferred embodiment of the present invention. As shown a transceiver includes a driver block and a receiver block . Driver block includes a driver input PA and programming control inputs G G. Similarly receiver block includes a receiver output P and programming control inputs REC REC. Both driver block and receiver block share a common input output I O pin P. An N well bias signal NWext which is generated by driver block is also connected to receiver block . An X signal which is generated by driver block goes to a CMOS switch within both driver block and receiver block . This CMOS switch isolates the pre driver circuits in the driver and receiver functions from the voltage at an external primary I O pin in cold spare applications.

With reference now to there is depicted a circuit diagram of driver block in accordance with a preferred embodiment of the present invention. As shown driver block includes five separate circuit paths connected in parallel with each other from driver input PA to transceiver I O pin P. Level shifter is provided to shift the levels of input data PA and level shifters are provided to shift the levels of programming inputs G G respectively. Each of circuit paths can be individually programmed to an active mode or tri state Hi Z mode via programming inputs G G respectively. Each of circuit paths may be designed to provide one of the four units of driving strengths measured in terms of source and sink current at specified output up level and down level limits. For example circuit path may be designed to meet up and down levels at 16 mA source and sink currents respectively. Similarly circuit path may be designed to meet up and down levels at 12 mA source and sink currents respectively circuit path may be designed to meet up and down levels at 8 mA source and sink currents respectively and circuit path may be designed to meet up and down levels at 6 mA source and sink currents respectively. Circuit path may be designed for LVDS driver function only.

Various combinations of one or more circuit paths can provide a very large range of driving strengths that can be specified in terms of source and sink currents at I O pin P or in terms of driver circuit output impedance. For example if circuit paths and provide 16 mA 12 mA 8 mA and 6 mA respectively then driver block can provide a driving strength of 24 mA source and sink currents by enabling circuit paths and in active mode while placing circuit paths and in tri state mode.

In many applications the core logic of an ASIC or FPGA device is operated at a lower power voltage than the power supply voltage for the I O buffer circuit in order to lower power dissipation and to achieve higher circuit density. In those applications signals from core logic are shifted from lower voltage level to I O power supply voltage levels.

Although circuit paths and are capable of providing 16 mA 12 mA 8 mA and 6 mA respectively at a high end of the driver power supply voltage of for example 3.3 V source and sink currents that circuit paths can support will be lower at a lower power supply voltage such as 2.5 V or 1.8 V. By putting more circuit paths in active state driver block can meet the output up and down level specifications at the required source and sink currents. Table I depicts the relationships among power supply voltage VDD2 source sink current I I and circuit paths in active state or Hi Z state.

In applications where it is not practical to replace hardware when a device stops functioning properly spare parts are wired in parallel with the active parts are switched on in active state via a software instruction and the part that has gone bad is switched off. This capability is known as cold spare characteristics of the device. In cold spare mode power supply to the ASIC or FPGA device is turned off but its inputs and outputs that are connected in parallel to the active ASIC or FPGA device will be switching.

In driver block inverter buffer circuit reduces the load on level shifter . Transistor TP generates n well bias voltage NWext for circuit paths . In cold spare mode when I O pin P is at driver power supply and its own power supply is at 0 V transistor TP will conduct and transistor TN will not conduct. The drain voltage of TN or node X will be at I O pin P signal voltage level.

Referring now to there is illustrated a circuit diagram of circuit path . The pre driver circuit may be implemented with multiple transistors to provide multiple input nodes. The pre driver circuit can put this path in active or tri state mode. In one embodiment a selection of the transistors can program slew rate control with multiple programming inputs for circuit path . One pair of transistors can isolate the output stage from the pre driver circuit mentioned above. In cold spare mode X will be high driver power supply as mentioned above and driver power supply will be equal to 0V. Output stage transistors are sized to provide desired source and sink currents for example 16 mA at high end of the driver power supply voltage when circuit path is in active mode. Each of circuit paths has incrementally more transistors than those in circuit path to provide more driving power.

Referring now to there is illustrated one embodiment of LVDS driver circuit path . Circuit path is specifically designed to meet LVDS specifications. Circuit path may be designed in the same manner as circuit path except the output stage transistors may be sized to provide lower source and sink currents in an incremental manner. Its output voltage level is adjusted with R series resistor between drain of pull up transistor and I O pin P and R series resistor between drain of pull down transistor and I O pin P.

With reference now to there is depicted a circuit diagram of receiver block from in accordance with a preferred embodiment of the present invention. A required receiver function can be selected via programming inputs REC REC. LVDS receiver is a differential receiver with inputs from two drivers as positive and negative inputs for differential mode or positive and Vapplied to a negative input for single ended mode. LVDS receiver function can be selected by applying a high logic level at REC and a low logic level at REC REC and REC. PCI receiver function can be selected by applying a high logic level at REC and a low logic level at REC REC and REC. Schmitt Trigger receiver function can be selected by applying a high logic level at REC and a low logic level at REC REC and REC. CMOS TTL receiver functions can be selected by applying a high logic level at REC and a low logic level at REC REC and REC.

The selected receiver function passes through a 4 1 multiplexor and then through a buffer circuit that is common to all the receiver functions. All receiver functions can be inhibited by applying a low logic level at REC REC and NOR circuit will generate a logic high level at its output to turn on transistor which will produce a logic high level at output P of a buffer . No logic node within receiver block floats whether or not a receiver function has been selected.

Once the corresponding driver and receiver functions in transceiver have been selected transceiver is ready to communicate in bi directional mode with other ASIC and or FPGA devices. When transceiver is in driving or sending mode driver block is set to active mode while receiver block is set to inactive mode. When transceiver is in receiving mode driver block is set to Hi Z mode and receiver block is set to receiving mode. Transceiver can be programmed for any of the functions listed in Table II.

Referring now to there is illustrated a method for selecting a single ended mode or a differential mode. In high speed transceiver functions such as LVDS differential mode SSTL and differential mode HSTL true and complement logic levels are generated from a single data input. For single ended mode a programming input PS is set at a low logic level. Driver data inputs are applied to inputs PA and PA. The outputs of mode selection blocks and at P and P respectively become inputs to the two individual drivers such as the one shown in . For differential mode programming input PS is set at a high logic level and the input to mode selection blocks and is PA. P of mode selection block will produce an in phase output at P and mode selection block will produce an out of phase output at P. These two signals are applied to the inputs of drivers in two adjacent transceiver circuits.

As has been described the present invention provides an improved transceiver having a driver block and a receiver block. The driver block can be constructed by implementing multiple signal paths needed for maximum driving strength at minimum power supply voltage with four incremental driving strengths CMOS circuit paths and one LVDS driver circuit path in parallel from a driver input to a driver output. In active state high driving strengths use more of the CMOS circuit paths and low driving strengths use less of the CMOS circuit paths. The transceiver may also be used in cold spare applications which means its power supply voltage will be approximately 0 V while its I O pin will be switching from ground to power supply voltage.

While the invention has been particularly shown and described with reference to a preferred embodiment it will be understood by those skilled in the art that various changes in form and detail may be made therein without departing from the spirit and scope of the invention.

