---

title: Method and system for remotely calibrating display of image data
abstract: A method for remotely calibrating display of image data is provided. Using a processor of the client computer display data are determined. The display data are indicative of a luminance dynamic range of the display and of an ambient lighting environment of the display. The display data are then transmitted to a server computer. Using a processor of the server computer display adjustment data are determined in dependence upon the display data. The display adjustment data are then transmitted to the client computer. Alternatively, image data for displaying on the display are received. Adjusted image data are then determined in dependence upon the received image data and the display adjustment data and transmitted to the client computer.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08890906&OS=08890906&RS=08890906
owner: Calgary Scientific Inc.
number: 08890906
owner_city: 
owner_country: CA
publication_date: 20120309
---
The present application claims priority to U.S. Provisional Patent Application No. 61 487 610 filed May 18 2011 and entitled Method and System for Remotely Calibrating Display of Image Data which is incorporated herein by reference in its entirety.

In many fields it is important that images displayed on electronic displays appear the same over time and on different displays. For example in radiology it is important that a displayed medical image appears having the same contrast from year to year as a disease is followed or as the image is viewed on different displays. Therefore standards exist for the calibration of displays to ensure consistency of display between devices and consistency over time. Color standards are often reached through International Color Consortium ICC related correction and calibration tools. In radiology one industry standard for grayscale display and calibration is in Digital Imaging and Communications in Medicine DICOM Part 14 the Gray Scale Display Function GSDF the content of which is incorporated herein by reference in its entirety.

It is common practice for medical device manufactures whose equipment contains or functions in association with a display system to offer GSDF or similar calibration as a product feature. This technology operates either as an integral unit to the device or as a third party add on product. In the first case a sensor within the display system monitors part or all of the luminance generated through the display s light path and supplies information to control components to correct or maintain the display response relevant to the GSDF. Medical physicists and other practitioners can monitor the changes in calibration requirements of various devices over time to ensure they are performing within limits and that the information displayed to physicians is displayed consistently.

Recently there has been an increase in usage of client server systems for the display of medical images. In this case rather than images being generated on a designated medical device such as for example a PACS workstation or modality console with integral display components the medical images are rendered on a central server and displayed on a client device which can be separated by a large distance from the server and even outside the hospital where the server is deployed. Also the client devices have evolved from closely controlled components of the medical device to commodity computers laptops tablet computers and even smart phones. The capacity of these devices to support internal or third party calibration varies widely.

While the designated medical devices have been used at fixed locations such as for example dark rooms or radiology reading rooms the new devices are mobile and therefore introduce widely varying ambient light levels as a new variable to the calibration of image display. Mobile devices are used in widely varying situations such as for example offices various other indoor locations restaurants theatres residences as well as outdoors thus creating a wide range of possible lighting environments.

In addition to good manufacturing practice in industry the application and routine maintenance of display quality assessments in the medical field can be a requirement for accreditation or reimbursement. With the adoption of mobile devices for these various color calibration or medical the Gray Scale Display Function GSDF consistency sensitive applications the number of possible devices requiring monitoring may expand dramatically.

The present disclosure provides methods and systems for remotely calibrating a display of image data. According to one aspect of the present disclosure there is provided a method for remotely calibrating display of image data. Using a processor of the client computer display data are determined. The display data are indicative of a luminance dynamic range of the display and of an ambient lighting environment of the display. The display data are then transmitted to a server computer. Using a processor of the server computer display adjustment data are determined in dependence upon the display data. The display adjustment data are then transmitted to the client computer. Alternatively image data for displaying on the display are received. Adjusted image data are then determined in dependence upon the received image data and the display adjustment data and transmitted to the client computer.

According to the aspect of the present disclosure there is provided a method for remotely calibrating display of image data. The method includes receiving at a server computer a luminance dynamic range of a display of the computing device receiving at the server computer an ambient lighting environment in which the display operates determining display adjustment data in accordance with the luminance dynamic range and the ambient lighting environment and if the display supports calibration providing the display adjustment data to the computing device to adjust the image data or if the display does not support calibration communicating adjusted image data to the computing device.

According to another aspect of the present disclosure there is provided an apparatus for remotely calibrating a display of image data. The apparatus includes a network interface a memory that stores computer executable instructions and a processor that executes the computer executable instructions. The instructions cause the apparatus to receive display data from a client computer indicative of a luminance dynamic range of a display of the computing device and an ambient lighting environment in which the display operates determine display adjustment data in accordance with the luminance dynamic range and the ambient lighting environment of the computing device and if the display supports calibration provide the display adjustment data to the computing device to adjust the image data or if the display does not support calibration communicate adjusted image data to the computing device.

According to another aspect of the present disclosure there is provided a method for remotely calibrating display of image data on a computing device. The method includes determining a luminance dynamic range of a display of the computing device determining an ambient lighting environment in which the display operates communicating the luminance dynamic range and the ambient lighting environment to a server computer that determines display adjustment data in accordance with the luminance dynamic range and the ambient lighting environment and if the display supports calibration receiving the display adjustment data to adjust the image data or if the display does not support calibration receiving adjusted image data.

Other systems methods features and or advantages will be or may become apparent to one with skill in the art upon examination of the following drawings and detailed description. It is intended that all such additional systems methods features and or advantages be included within this description and be protected by the accompanying claims.

Unless defined otherwise all technical and scientific terms used herein have the same meaning as commonly understood by one of ordinary skill in the art. While implementations of the disclosure will be described for remotely calibrating image data on certain devices it will become evident to those skilled in the art that the implementations of the disclosure are not limited thereto but are applicable for remotely calibrating image data for display on any type of computing device.

Referring to there is illustrated a system for providing remote calibration via e.g. a computer network according to an implementation of the disclosure. The system comprises a client computer e.g. a wireless handheld device such as an IPHONE or a BLACKBERRY connected via a computer network such as for example the Internet to server computer . The server computer may be part of a Local Area Network LAN for example the LAN of a hospital. The client computer may be any computing device e.g. a tablet device a desktop computer a workstation a notebook computer etc. having a suitable display to render image or video data in accordance with the below.

Remote calibration of a display associated with the client computer may be performed by executing executable commands of a client calibration program stored in memory using processor of the client computer . For example the client calibration program may determine display data indicative of a luminance dynamic range of the display and of an ambient lighting environment in which the display operates. The display data are then transmitted via the computer networks and to the server computer .

In accordance with the display data executable commands of a server calibration program stored in memory are executed using processor of the server computer to determine display adjustment data. If the display supports calibration the processor retrieves the image data for display from database and provides the same together with the display adjustment data to the processor of the client computer . The image data for display may be adjusted by the client computer . On the other hand if the display does not support calibration the processor retrieves the image data for display from database determines adjusted image data in dependence upon the image data and the display adjustment data and transmits the adjusted image data to the processor of the client computer . Upon receipt the processor of the client computer controls the display in accordance the display adjustment data and provides the image data for display or provides the adjusted image data for display. Alternatively the server calibration program is executed on a processor of a second server computer connected to the server computer and the client computer via the computer network . Optionally provision of a client calibration program is omitted and the display data are provided for example as user input data via a suitable web browser.

Referring to there is illustrated a flow diagram of a method for remotely calibrating display of image data according to an implementation of the present disclosure. At display data are determined using processor of the client computer . The display data are indicative of a luminance dynamic range of the display and of an ambient lighting environment of the display. Data indicative of the luminance dynamic range of the display may be for example provided by the manufacturer of the display and retrievably stored in memory of the client computer .

Alternatively data indicative of a plurality of dynamic luminance dynamic ranges such as for example 8 bit range 255 pixel values or 10 bit range 1024 pixel values and their association to respective types of displays may be stored in the form of a look up table in the memory of the server computer . Upon receipt of data indicative of the type of display for example provided by the user or retrieved from the memory of the client computer the processor may retrieve the respective luminance dynamic range using the look up table. Further alternatively the data indicative of the luminance dynamic range may be obtained using an external photometer . In accordance with such an aspect of the disclosure the minimum illumination may first be measured by filling the display with the lowest intensity pixel value and measuring the minimum output luminance of the display. Next the maximum illumination is measured by filling the display with the highest intensity pixel value and measuring the maximum output luminance of the display. The luminance dynamic range may then be determined as the difference between the maximum output luminance and the minimum output luminance. The above may be performed for example once before using the display and the data are stored in memory of the client computer . Optionally the measurement is repeated in predetermined intervals to update the luminance dynamic range of the display to take for example aging effects of the display into account.

To determine the data indicative of the ambient lighting environment in which the display operates the user of the client computer may be for example provided with a list of representative lighting environments as illustrated in . Representative ambient lighting environments are for example a dark room or minimum lighting approx. 30 lux a radiology reading room approx. 100 lux a standard office lighting approx. 300 lux and outdoors approx. 450 lux . Alternatively the ambient lighting may be measured using a photometer integral to the client computer such as for example built in camera or an external photometer connected to the client computer .

At data indicative of the measured ambient lighting is processed and transmitted together with the data indicative of the luminance dynamic range of the display to the server computer . At after receipt of the display data at the server computer display adjustment data are determined using the processor of the server computer . For example as a first step a lowest and a highest Just Noticeable Difference JND are determined as follows JND JND Luminance Ambient Lighting JND JND Luminance Ambient Lighting 

where the JND is the luminance difference of a given target under given viewing conditions that the average human observer can just perceive.

Display adjustment data may then be determined such that the adjusted luminance dynamic range of the display substantially matches the perceptual dynamic range. For example the Gray Scale Display Function GSDF function is employed to determine the pixel values that will step the display one JND at a time in a nonlinear fashion using the remaining luminosity capability of the display . Alternatively the pixel values are determined using other functions or a look up table.

Alternatively the perceptual dynamic range may be determined by the user. For example a user of the display may be presented with a first series of contrast images. Two exemplary contrast images are illustrated in and . As shown each contrast image comprises a target and a surround with the surround having pixels values determined for example by common practice or as specified in applicable standard e.g. VESA Flat Panel Display Measurement ACR Task Group 18 DICOM Part 14 SMPTE . In the first series the target pixel values increase with each subsequent image. The user then identifies the contrast image in which the target is first distinguishable from the surround . The difference of the target and surround pixel values of the indentified image is associated with the JND. Next the user may be presented with a second series of contrast images. Each contrast image in the second series of images comprises a target and a surround with the surround having high valued pixels determined for example by common practice or as specified in an applicable standard. In the second series the target pixel values decrease with each subsequent image. The user identifies the contrast image in the second series in which the target is first distinguishable from the surround . The difference of the target and surround pixel values of the indentified image is associated with the JND.

In accordance with implementations of the present disclosure the target comprises for example one block of pixels placed approximately in the center of the display . Alternatively the target comprises a plurality of pixels forming a predetermined shape such as for example a circle a rectangle a cross etc. Alternatively the target is displaced to a random location on the screen or comprises a group of targets as determined by common practice or as specified in applicable standards.

Optionally or additionally the ambient lighting may be measured when the user identifies JNDand JND. An association of the JNDand JNDwith the ambient lighting may be created. The JNDand JNDand the associated ambient lighting data may then stored in memory of the client computer for example in the form of a look up table. During use of the client computer if an ambient lighting is measured which is within a predetermined range of the stored ambient lighting a determination of the JNDand JNDby the user may be omitted. In this instance the respective data may be retrieved from the memory and provided to the server computer .

At if the display supports calibration then at processor retrieves the image data for display from the database and provides the same together with the display adjustment data to the processor of the client computer . Optionally the processor may provide only the display adjustment data while the image data are provided from another location. Upon receipt the processor of the client computer controls the display in dependence upon the display adjustment data and provides the image data for display or provides the adjusted image data for display. If at the display does not support calibration then at the processor retrieves the image data for display from database determines adjusted image data in accordance with the image data and the display adjustment data and transmits the adjusted image data to the processor of the client computer .

With regard to the flow diagram of an alternative to sending the luminance changes to the client computer is to perform the changes on the image on the server computer and send the altered image requiring no further modification to the client computer for display. Such an implementation may be used for devices that are not capable of altering the display look up table in use.

Further optionally the display adjustment data may be used for display of video data. For example the display adjustment data are transmitted once before display of a sequence of image frames of the video data or an adjusted image frame is determined for each image frame of the video data using the display adjustment data.

Yet further in some implementations the ambient lighting may be measured during display of the image data for example in predetermined time intervals and when a change in the ambient lighting is detected data indicative of the new ambient lighting are provided to the server computer which then updates the display adjustment data for adjusting the display of the image to the changed ambient lighting. Updating of the data indicative of the ambient lighting is useful during display of an image for a longer time interval when a user changes his her location or during display of video data. For example during display of video data the display adjustment data are changed for the display of subsequent image frames of the video if a change of the ambient lighting is detected. The server computer then provides updated display adjustment data to the client computer or determines the adjusted image frames of the video using the updated display adjustment data.

Further optionally data indicative of the luminance dynamic range of the image to be displayed are determined in dependence upon the display adjustment data and provided for display to the user. This feature provides the user with a quantitative assessment of the luminance dynamic range of the image. Further optionally the user is provided with an indication if predetermined standards are not met by the current display of the image.

In accordance with some implementations illustrates a flow diagram of processes performed to identify and track the client computer. For example the tracking and identification may implement to maintain consistency of the display characteristics across client computers accessing a particular server computer . The tracking may also identify a client computer that is out of specification and in need of attention repair.

At using a client software connection a device specific unique identifier may be acquired from the client computer. For example a MAC address of the device s communications components may be acquired or some another unique identifier e.g. a GUID maintained by the client computer . This information may be transmitted with the display data as described with reference to or separately. At it is determined if the client computer is known. If not then at a record may be entered into a database. The database may be maintained by or on behalf of the sever computer to track the client computers. If the client computer is known then at the current state of the computer as conveyed in the display data is compared to the previous history of the client computer. At information regarding the new client computer or the known client computer may be optionally communicated to an interested party. For example quality assurance staff may wish to be informed when if client computers are accessing the server computer . At a user is advised if the client computer is out of calibration or out of specification such that appropriate action may be taken. For example if the client computer may need repair or may provide inaccurate image production the user may be advised in order to prevent e.g. an incorrect diagnosis.

Thus in the above the method for remotely calibrating display of image data may be implemented using standard programming technologies and standard digital encoding formats for processing the image video data. Software for the central server system is programmed using for example the Microsoft Visual Studio development environment. Client devices are programmed using native application programming interfaces and software in languages appropriate to each device for example Objective C C and Java.

The present disclosure has been described herein with regard to implementations. However it will be obvious to persons skilled in the art that a number of variations and modifications can be made without departing from the scope of the disclosure as described herein.

