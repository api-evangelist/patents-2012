---

title: Method for discovering a dynamic address of a communication device
abstract: A method for discovering a communication device is disclosed. The method includes: receiving in the communication device a communication including a request for an address and an identification of an application, in response to receiving the communication, associating a dynamic address of the communication device with the identified application, and sending a second communication directly or indirectly to a client device, the second communication including the dynamic address. The communication device may further obtain a dynamic address in response to receiving the communication. The dynamic address may be used for a dedicated purpose, such as for receiving a file for subsequent use by the application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09413589&OS=09413589&RS=09413589
owner: BlackBerry Limited
number: 09413589
owner_city: Waterloo
owner_country: CA
publication_date: 20120509
---
This application claims the benefit of U.S. Patent Application No. 61 557 207 filed Nov. 8 2011 the contents of which are incorporated herein by reference.

Some conventional existing systems include an address being dynamically assigned from a service. When a device on a network is assigned an address dynamically it is difficult for other network devices to contact that address. This makes peer to peer communication difficult without some other means for determining the network address corresponding to the device. The device can publish its dynamically assigned address via methods such as Domain Name System DNS or Dynamic DNS DDNS but this can be a security concern as it may not allow the addressee to pick and choose who gets to receive its addressing information. Another difficulty is that many existing dynamic servers typically take an active role in the discovery process for example generating receiving and or relaying the dynamic address. This can result in a possible security breach of the address between peer devices.

Additional difficulties with existing systems may be appreciated in view of the detailed description below.

Example embodiments generally relate to facilitating discovery of a communication device. In example embodiments a requesting client device can request an address of the communication device. Along with the request is an identification of an application wherein the communication device is configured to associate the address with the identified application of the communication device. In response the communication device may generate or obtain a dynamic address and associate the dynamic address with the application. The dynamic address may be used for a dedicated purpose such as for receiving a file for subsequent use by the application.

In accordance with an example embodiment there is provided a method for discovering a communication device the method including receiving in the communication device a communication including a request for an address and an identification of an application in response to receiving the communication associating a dynamic address of the communication device with the identified application and sending a second communication directly or indirectly to a client device the second communication including the dynamic address.

In accordance with another example embodiment there is provided a communication device including a processor memory and a communication subsystem for sending and receiving communications. The processor is configured for receiving in the communication device a communication including a request for an address and an identification of an application in response to receiving the communication associating a dynamic address of the communication device with the identified application and sending a second communication directly or indirectly to a client device the second communication including the dynamic address.

In accordance with yet another example embodiment there is provided a non transitory computer readable medium having instructions stored thereon executable by a processor for facilitating discovery of a communication device. The instructions comprise instructions for receiving in the communication device a communication including a request for an address and an identification of an application in response to receiving the communication associating a dynamic address of the communication device with the identified application and sending a second communication directly or indirectly to a client device the second communication including the dynamic address.

Reference is first made to which shows in block diagram form a communication system in which example embodiments can be applied. The communication system comprises a number of mobile communication devices mobile devices which may be connected to the remainder of system in any of several different ways. Accordingly several instances of mobile communication devices are depicted in employing different example ways of connecting to system . Mobile communication devices are connected to a wireless communication network which may comprise one or more of a Wireless Wide Area Network WWAN and a Wireless Local Area Network WLAN or other suitable network arrangements. In some embodiments the mobile communication devices are configured to communicate over both the WWAN and WLAN and to roam between these networks. In some embodiments the wireless network may comprise multiple WWANs and WLANs .

The WWAN may be implemented as any suitable wireless access network technology. By way of example but not limitation the WWAN may be implemented as a wireless network that includes a number of transceiver base stations one of which is shown in where each of the base stations provides wireless Radio Frequency RF coverage to a corresponding area or cell. The WWAN is typically operated by a mobile network service provider that provides subscription packages to users of the mobile communication devices . In some embodiments the WWAN conforms to one or more of the following wireless network types Mobitex Radio Network DataTAC GSM Global System for Mobile Communication GPRS General Packet Radio System TDMA Time Division Multiple Access CDMA Code Division Multiple Access CDPD Cellular Digital Packet Data iDEN integrated Digital Enhanced Network EvDO Evolution Data Optimized CDMA2000 EDGE Enhanced Data rates for GSM Evolution UMTS Universal Mobile Telecommunication Systems HSDPA High Speed Downlink Packet Access HSUPA High Speed Uplink Packet Access 3GPP Long Term Evolution LTE IEEE 802.16e also referred to as Worldwide Interoperability for Microwave Access or WiMAX or various other networks. Although WWAN is described as a Wide Area network that term is intended herein also to incorporate wireless Metropolitan Area Networks WMAN and other similar technologies for providing coordinated service wirelessly over an area larger than that covered by typical WLANs.

The WWAN may further comprise a wireless network gateway which connects the mobile communication devices to transport facilities and through the transport facilities to a wireless connector system . Transport facilities may include one or more private networks or lines the public internet a virtual private network or any other suitable network. The wireless connector system may be operated for example by an organization or enterprise such as a corporation university or governmental department which allows access to a network such as an internal or enterprise network and its resources or the wireless connector system may be operated by a mobile network provider. In some embodiments the network may be realised using the internet rather than an internal or enterprise network.

The wireless network gateway provides an interface between the wireless connector system and the WWAN which facilitates communication between the mobile communication devices and other devices not shown connected directly or indirectly to the WWAN . Accordingly communications sent via the mobile communication devices are transported via the WWAN and the wireless network gateway through transport facilities to the wireless connector system . Communications sent from the wireless connector system are received by the wireless network gateway and transported via the WWAN to the mobile communication devices .

The WLAN comprises a wireless network which in some embodiments conforms to IEEE 802.11x standards sometimes referred to as Wi Fi such as for example the IEEE 802.11a 802.11b and or 802.11g standard. Other communication protocols may be used for the WLAN in other embodiments such as for example IEEE 802.11n IEEE 802.16e also referred to as Worldwide Interoperability for Microwave Access or WiMAX or IEEE 802.20 also referred to as Mobile Wireless Broadband Access . The WLAN includes one or more wireless RF Access Points AP one of which is shown in that collectively provide a WLAN coverage area.

The WLAN may be a personal network of the user an enterprise network or a hotspot offered by an internet service provider ISP a mobile network provider or a property owner in a public or semi public area for example. The access points are connected to an access point AP interface which may connect to the wireless connector system directly for example if the access point is part of an enterprise WLAN in which the wireless connector system resides or indirectly via the transport facilities if the access point is a personal Wi Fi network or Wi Fi hotspot in which case a mechanism for securely connecting to the wireless connector system such as a virtual private network VPN may be required . The AP interface provides translation and routing services between the access points and the wireless connector system to facilitate communication directly or indirectly with the wireless connector system .

The wireless connector system may be implemented as one or more servers and is typically located behind a firewall . The wireless connector system manages communications including email messages to and from a set of managed mobile communication devices . The wireless connector system also provides administrative control and management capabilities over users and mobile communication devices which may connect to the wireless connector system .

The wireless connector system allows the mobile communication devices to access the network and connected resources and services such as a messaging server for example a Microsoft Exchange IBM Lotus Domino or Novell GroupWise email messaging server and optionally other servers . The other servers may comprise a content server for providing content such as internet content or content from an organization s internal servers to the mobile communication devices in the wireless network an application server for implementing server based applications such as instant messaging IM applications or a web server for providing content accessible by a web browser.

For the purposes of the described example embodiments any server within an enterprise network such as a messaging server or any other server will be referred to as an enterprise server. A service may include one or more servers or enterprise servers.

The wireless connector system typically provides a secure exchange of data e.g. email messages personal information manager PIM data and IM data with the mobile communication devices . In some embodiments communications between the wireless connector system and the mobile communication devices are encrypted. In some embodiments communications are encrypted using a symmetric encryption key implemented using Advanced Encryption Standard AES or Triple Data Encryption Standard Triple DES encryption. Private encryption keys are generated in a secure two way authenticated environment and are used for both encryption and decryption of data.

Encryption keys used for communications or for encrypting data stored on the device can be protected via various means such as a password or hardware based protections such as those afforded by hardware based key stored mechanisms.

The wireless network gateway is adapted to send data packets received from the mobile device over the WWAN to the wireless connector system . The wireless connector system then sends the data packets to the appropriate connection point such as the messaging server or other servers . Conversely the wireless connector system sends data packets received for example from the messaging server or other servers to the wireless network gateway which then transmit the data packets to the destination mobile device . The AP interfaces of the WLAN provide similar sending functions between the mobile device the wireless connector system and network connection point such as the messaging server or other servers .

The network may comprise a private local area network metropolitan area network wide area network the public internet or combinations thereof and may include virtual networks constructed using any of these alone or in combination.

A mobile device may alternatively connect to the wireless connector system using a computer such as desktop or notebook computer via the network . A link may be provided for exchanging information between the mobile device and computer connected to the wireless connector system . The link may comprise one or both of a physical interface and short range wireless communication interface. The physical interface may comprise one or combinations of an Ethernet connection Universal Serial Bus USB connection Firewire also known as an IEEE 1394 interface connection or other serial data connection via respective ports or interfaces of the mobile device and computer . The short range wireless communication interface may be a personal area network PAN interface. A personal area network is a wireless point to point connection meaning no physical cables are required to connect the two end points. The short range wireless communication interface may comprise one or a combination of an infrared IR connection such as an Infrared Data Association IrDA connection a short range radio frequency RF connection such as one specified by IEEE 802.15.1 or the Bluetooth special interest group or IEEE 802.15.3a also referred to as UltraWideband UWB or other PAN connection.

It will be appreciated that the above described communication system is provided for the purpose of illustration only and that the above described communication system comprises one possible communication network configuration of a multitude of possible configurations for use with the mobile communication devices . Example embodiments may be employed in connection with any other type of network and associated devices that are effective in implementing or facilitating wireless communication. Suitable variations of the communication system will be understood to a person of skill in the art and are intended to fall within the scope of the present example embodiments.

Reference is now made to which illustrates a mobile device in which example embodiments can be applied. The mobile device is a two way communication device having data and or voice communication capabilities and the capability to communicate with other computer systems for example via the Internet. Depending on the functionality provided by the mobile device in various embodiments the device may be a multiple mode communication device configured for both data and voice communication a smartphone a mobile telephone or a PDA personal digital assistant enabled for wireless communication a tablet based computer or a computer system with a wireless modem.

The mobile device includes a case not shown housing the components of the device . The internal components of the device are constructed on a printed circuit board PCB . The mobile device includes a controller comprising at least one processor such as a microprocessor which controls the overall operation of the device . The processor interacts with device subsystems such as a wireless communication subsystem for exchanging radio frequency signals with the wireless network to perform communication functions. The processor interacts with additional device subsystems including a display screen such as a liquid crystal display LCD screen input devices such as a keyboard and control buttons flash memory random access memory RAM read only memory ROM auxiliary input output I O subsystems data port such as serial data port such as a Universal Serial Bus USB data port speaker microphone short range communication subsystem and other device subsystems generally designated as . Some of the subsystems shown in perform communication related functions whereas other subsystems may provide resident or on device functions.

The device may comprise a touchscreen display in some embodiments. The touchscreen display may be constructed using a touch sensitive input surface connected to an electronic controller and which overlays the display screen . The touch sensitive overlay and the electronic controller provide a touch sensitive input device and the processor interacts with the touch sensitive overlay via the electronic controller.

The mobile device may communicate with any one of a plurality of fixed transceiver base stations of the wireless network within its geographic coverage area. The mobile device may send and receive communication signals over the wireless network after the required network registration or activation procedures have been completed.

The processor operates under stored program control and executes software modules stored in memory such as persistent memory for example in the flash memory . As illustrated in the software modules comprise operating system software . The software modules comprise software applications which for example may include a text or instant messaging application a web browser and an email messaging application . A web server may at least partly be performed from the operating system software system software or daemon. The system software can include processes at an operating layer or system level that are configured to automatically interpret and process incoming and outgoing communications using protocols or formats for communication exchange. Although it may be understood that a software application may be configured to perform some aspects of the system software or web server these are typically intended to mimic the functions of the system software and would be considered to be system software for the purposes of example embodiments.

In some example embodiments the functions performed by each of the applications and may each be realized as a plurality of independent elements and any one or more of these elements may be implemented as parts of other software applications . In some example embodiments one or more applications are configured to receive data such as files documents or other information from a server such as a messaging server or a web or other server . Non limiting examples of data received from a server may include email attachments files transferred via file transfer protocol FTP or any other protocol documents or files downloaded from a web page via a web browser or files sent via a text or instant messaging application. Non limiting examples of services performed by the web server include a telnet server an http or https server or an ftp server. Some example software applications or applications implemented through the web server may include peer to peer communications electronic mail Internet faxing instant messaging and voice over IP VoIP .

For illustration purposes shows a security module as a component of the operating system . In some example embodiments the security module may perform security functions including the generation and management of tokens private keys and or public keys. The security module may be used to perform the encryption decryption or the signing verification of data using such keys or tokens.

The software modules or parts thereof may be temporarily loaded into volatile memory such as the RAM . The RAM is used for storing runtime data variables and other types of data or information. Although specific functions are described for various types of memory this is merely one example and a different assignment of functions to types of memory could also be used.

In some embodiments the auxiliary input output I O subsystems may comprise an external communication link or interface for example an Ethernet connection. The mobile device may comprise other wireless communication interfaces for communicating with other types of wireless networks for example a wireless network such as an orthogonal frequency division multiplexed OFDM network or a GPS Global Positioning System subsystem comprising a GPS transceiver for communicating with a GPS satellite network not shown . The auxiliary I O subsystems may comprise a pointing or navigational tool input device such as a clickable trackball or scroll wheel or thumbwheel or a vibrator for providing vibratory notifications in response to various events on the device such as receipt of an electronic message or incoming phone call or for other purposes such as haptic feedback touch feedback .

In some embodiments the mobile device includes a removable memory card typically comprising flash memory and a memory card interface . The mobile device can store data on the removable memory card in an erasable persistent memory which in one example embodiment is the flash memory or on both a removable memory card and in an erasable persistent memory.

In various embodiments the data includes service data comprising information required by the mobile device to establish and maintain communication with the wireless network . The data may also include user application data such as email messages address book and contact information calendar and schedule information word processor documents spreadsheets presentation slides image files audio and video files and other commonly stored user information stored on the mobile device by its user and other data. The data stored in the persistent memory e.g. flash memory of the mobile device may be organized at least partially into a number of databases each containing data items of the same data type or associated with the same application. For example email messages contact records and task items may be stored in individual databases within the device memory.

In some embodiments the mobile device is provided with a service routing application programming interface API which provides an application with the ability to route traffic through a serial data i.e. USB or Bluetooth Bluetooth is a registered trademark of Bluetooth SIG Inc. connection to the host computer system using standard connectivity protocols. When a user connects their mobile device to the host computer system via a USB cable or Bluetooth connection traffic that was destined for the wireless network is automatically routed to the mobile device using the USB cable or Bluetooth connection. Similarly any traffic destined for the wireless network is automatically sent over the USB cable Bluetooth connection to the host computer system for processing.

The mobile device also includes a battery as a power source which is typically one or more rechargeable batteries that may be charged for example through charging circuitry coupled to a battery interface such as the serial data port . The battery provides electrical power to at least some of the electrical circuitry in the mobile device and the battery interface provides a mechanical and electrical connection for the battery . The battery interface is coupled to a regulator not shown which provides power V to the circuitry of the mobile device .

The short range communication subsystem is an additional optional component which provides for communication between the mobile device and different systems or devices which need not necessarily be similar devices. For example the subsystem may include an infrared device and associated circuits and components or a wireless bus protocol compliant communication mechanism such as a Bluetooth communication module to provide for communication with similarly enabled systems and devices.

A predetermined set of applications that control basic device operations including data and possibly voice communication applications will normally be installed on the mobile device during or after manufacture. Additional applications and or upgrades to the operating system or software applications may also be loaded onto the mobile device through the wireless network the auxiliary I O subsystem the serial port the short range communication subsystem or other suitable subsystem . The downloaded programs or code modules may be permanently installed for example written into the program memory i.e. the flash memory or written into and executed from the RAM for execution by the processor at runtime. Such flexibility in application installation increases the functionality of the mobile device and may provide enhanced on device functions communication related functions or both. For example secure communication applications may enable electronic commerce functions and other such financial transactions to be performed using the mobile device .

The mobile device may provide two principal modes of communication a data communication mode and an optional voice communication mode. In the data communication mode a received data signal such as a text message an email message or Web page download will be processed by the communication subsystem and input to the processor for further processing. For example a downloaded Web page may be further processed by a browser application or an email message may be processed by the email messaging application and output to the display . A user of the mobile device may also compose data items such as email messages for example using the input devices in conjunction with the display screen . These composed items may be transmitted through the communication subsystem over the wireless network .

In the voice communication mode the mobile device provides telephony functions and operates as a typical cellular phone. The overall operation is similar except that the received signals would be output to the speaker and signals for transmission would be generated by a transducer such as the microphone . The telephony functions are provided by a combination of software firmware i.e. the voice communication module and hardware i.e. the microphone the speaker and input devices . Alternative voice or audio I O subsystems such as a voice message recording subsystem may also be implemented on the mobile device . Although voice or audio signal output is typically accomplished primarily through the speaker the display screen may also be used to provide an indication of the identity of a calling party duration of a voice call or other voice call related information.

For the purposes of some example embodiments Session Initiation Protocol SIP will be utilized although it is appreciated that other or additional protocols may be used. As understood by those of ordinary skill in the art SIP is the IETF Internet Engineering Task Force standard for multimedia session management and more specifically is an application layer control protocol for establishing maintaining modifying and terminating multimedia sessions between two or more endpoints. SIP is defined in J. Rosenberg et al. RFC 3261 Session Initiation Protocol June 2002 the contents of which are herein incorporated by reference. Other protocols extensions and standards related to SIP may be implemented and referenced as appropriate.

A difficulty with some existing conventional systems is that there may be limited flexibility when assigning an address of a communication device. In some conventional systems the communication device typically uses a same assigned address for most or all of the applications or services. Another difficulty for example is that some Domain Name System DNS or other servers typically take an active role in the discovery process for example receiving relaying and sometimes generating the dynamic address. This can result in a possible security breach of the address between peer devices.

Further in some conventional systems a request for the address of a communication device can merely include a bare request without any additional information. In some conventional systems at most merely a system software may be inherently identified due to the nature of the request for example for telnet http or ftp or some discovery protocols.

In accordance with some example embodiments there is generally provided methods for facilitating discovery of a communication device. In example embodiments a requesting client device can request an address of the communication device. Along with the request is an identification of an application wherein a communication device can be configured to interpret the request as an instruction or a request to associate the address with the identified application of the communication device. In response the communication device may obtain a dynamic address and associate the dynamic address with the application. Accordingly the dynamic address can be used for a dedicated purpose such as receiving a file for subsequent use by the application.

Reference is now made to which illustrates an example configuration of a system for facilitating discovery of the mobile device by a client device and subsequently establishing a peer to peer session there between. Example methods described in detail herein may be applied to the system . In one of the other servers hereinafter service device may be configured to include a SIP server. For example the SIP server may also implement multimedia functions such as videoconferencing call session setup and teardown etc. or various client specific applications for operation at the user level or having user interfaces sometimes referred to as apps . In some example embodiments the server device may be used to facilitate discovery of the mobile device . This may include using for example a service delivery module . The service delivery module may include a SIP component a Representational State Transfer REST interface component and a discovery component for transcoding the REST requests into SIP and back as well as providing some token verification and routing to devices.

In some example embodiments the mobile device has subscribed or logged into the server device and a secure connection is established there between. Similarly in some example embodiments the client device has subscribed or logged into the server device and a secure connection such as HTTPS TLS is established there between. In an example implementation as shown in the client device can communicate with the server device over an HTTPS TLS session using Representational State Transfer REST as understood in the art. The system can be used to discover the mobile device so that a peer to peer connection or secure session can be established between the client device and the mobile device as shown.

In some example embodiments the server device communicates with the client device at an address that is different than the dynamic address. The dynamic address may be designated for communicating with only the client device or other peer devices and not the server device .

In some example embodiments the client device can include an application driver for performing the various functions and communications for device discovery and file transfer. In some example embodiments the mobile device may also include as part of the system software a discovery module a notify module and a file transfer module .

In some example embodiments the mobile device including an application or app module for effecting user level applications. Some example applications include consumer applications including games including single player games and multiplayer games ringtones and wallpapers music and audio television movies and video sports news and information news and RSS Really Simple Syndication weather and travel search and reference guides medical guides and calculators maps and travel maps and navigation travel companions city and dining guides mileage and expense tracking health and fitness health and nutrition personal fitness personal banking stocks and financial news time and expense tracking photo management documents and printing task contact and calendar management time expense and mileage tracking clocks calculators and other utilities voice commands and voice recognition social networking and instant messaging conferencing and phone services add on accessories GPS Global Positioning System digital pen and paper and presentation and screen projection. Additional applications include business or enterprise applications including mobile solutions for line of business sales force automation field service automation and GPS tracking remote IT Information Technology help desk custom ERP Enterprise Resource Planning solutions SCM Supply Chain Management and process management business intelligence analytics reporting and alerting mobile forms and custom developer tools industry specific mobile solutions such as financial services health care government law enforcement and public safety professional services and legal real estate education retail wholesale hospitality and leisure manufacturing hosted solutions for small medium business and large enterprise such as hosted sales force automation hosted field service automation and fleet management hosted mobile forms and custom business solutions hosted document management hosted email and collaboration employee productivity document and content management printing and faxing business productivity tools and task management navigation and mapping unified communications and voice services. It may thus be appreciated that the term application or app can be distinguished from the term system software for example such example applications may include user level applications and or interactions.

In some example embodiments the mobile device may further display a user interface for interacting with a user of the mobile device to operate the application . In some example embodiments the same user is operating both the client device and the mobile device . Note that some example peer to peer connections between the client device and the mobile device may not be limited to local networks or connections in close proximity but can include non local networks such as the Internet.

In some example embodiments the client device may be a personal computer a tablet based computer or a device configured similar to the mobile device .

Reference is now made to which shows in flow diagram form an example method for facilitating discovery of an address of the mobile device . Generally the client device requests the address of the mobile device and the request can include an identification of an application. The mobile device is configured to receive and subsequently interpret the request as an instruction or a request to associate a dynamic address of the mobile device with the identified application of the mobile device .

In some example embodiments both the mobile device and the client device have subscribed or logged into the server device and a secure connection such as HTTPS TLS is established with the server device . For example some or all of the communications and events of the method may be communicated using HTTPS TLS.

At event the client device sends a communication to the server device which includes a message having an identification of a device Device ID or user User ID an identification of a system software Event file transfer and an identification of an application App . The User ID can for example be an e mail address or a user common name while a Device ID may include a persistent device identifier such a Personal Identification Number. The App is included within an application identification field wherein the application identification field is for identifying one of a plurality of applications. The Event is included within a system software identification field wherein the identified system software can be used by the mobile device for the receiving of further communications. Note that the identified application in the application identification field is therefore distinguishable from the identified system software in the system software identification field as they both may be received at event but are used for different purposes.

At event a communication is sent from the server device to the identified mobile device wherein the communication includes a message including identification of the Event and the App. At event in response to receiving of the communication at event the mobile device generates a dynamic address of the mobile device . In some example embodiments this includes the mobile device generating a dynamic address. In other example embodiments this includes the mobile device being assigned a dynamic address from another server not shown . At event in response to receiving the communication at event the mobile device associates the dynamic address of the mobile device with the identified application. For example the mobile device interprets the communication at event as being an instruction or a request to associate the dynamic address with the identified application. The identified system software is interpreted by the mobile device as a protocol or type of communication to expect at the dynamic address when receiving of further communications.

In some example embodiments at event a token may be generated by the mobile device to facilitate secure communications at the dynamic address. The token is included within the OK message at event . Thus when receiving subsequent communications from the client device the client device presents the token for verification and authentication by the mobile device . Third party tokens or token services may also be used in some example embodiments.

At event the mobile device sends a communication directly or indirectly to the client device which includes the dynamic address. For example event shows a OK message sent to the server device which includes the dynamic address. At event the server device sends a OK to the client device which includes the dynamic address.

In some example embodiments both the mobile device and the client device have access to a same encryption key. The encryption key may be based on a shared secret accessible by both the mobile device and the client device . In some example embodiments the dynamic address is encrypted by the encryption key prior to sending to the client device at event . For example this avoids the server device from intercepting the dynamic address or other man in the middle attacks. The encrypted dynamic address is then decrypted by the client device .

In other example embodiments at event the client device sends a public key within the message. In some example embodiments at event the dynamic address is encrypted by the mobile device using the public key prior to sending to the client device . The client device can then decrypt the encrypted dynamic address using a corresponding private key or decryption key. The server device would not be able to intercept the encrypted dynamic address as it does not have access to the private key or decryption key.

At event the communication may include multiple candidate addresses rather than a single address or URL. For example the mobile device could return three addresses for a single request one composed of a local subnet IP address one of an external public IP address and one of a separate proxy server e.g. a Traversal Using Relay NAT TURN server .

At event now that the client device has discovered the mobile device the client device sends a further communication to the dynamic address which can include a file or a document. For example the communication can be an HTTP post to the address. The particular format of a peer to peer connection may be previously identified in the identification of the system software at message . For example the Event file xfer req can be interpreted by the mobile device as being in relation to a subsequent HTTP post message to be allocated to the dynamic address. In some example embodiments the connection established at event may be performed over HTTPS.

In some example embodiments the encryption key is used by the client device to encrypt the file. The encrypted file is sent to the mobile device at event which may then decrypt the file using the encryption key or a corresponding decryption key. Additional security features are described in detail herein.

At this stage at event the mobile device receives the communication including the file and may authenticate the communication e.g. using the token and or HTTPS . The mobile device then internally checks which application that the file is to be associated with based on the file being received at the particular address e.g. rather than the communication of event identifying the application . At event a OK confirmation is sent back to the communication device .

The application of the mobile device may be notified at this time. The application can thus perform a particular application function when the file is received. In some example embodiments the application function is automatically performed after receipt and verification of the communication at event .

It may thus be appreciated that the term application can be distinguished from the term system software e.g. the system software is the module which is configured using system level protocols or automated methods or daemons which implement the protocols or formats to actually receive the file. Examples of applications described in detail above may include user level applications and interaction.

Reference is now made to which shows in flow diagram form a detailed example method for facilitating discovery of the mobile device in accordance with an example embodiment. The example embodiment shown can include session based communications which can include establishing a session e.g. starting with an INVITE message . The example embodiment shown may be implemented with or without user prompting through the user interface . In some example embodiments a same user is operating or controlling both the client device and the mobile device e.g. me to me sending .

In some example embodiments both the mobile device and the client device have subscribed or logged into the server device and a secure connection such as HTTPS TLS is established with the server device . For example some or all of the communications and events of the method may be communicated using HTTPS TLS.

At event the application subscribes to the notification module using a SUBSCRIBE message. The subscription can include an identification of a system software Event file transfer and an identification of the application App . The particular system software can be interpreted from the application based on the identification of the system software and can include for example telnet http or ftp.

At event the client device sends a communication to the server device which includes a HTTP POST message having an identification of a device or user User ID an identification of a system software Event file transfer and an identification of an application App . At event a user authentication exchange is performed to authenticate the client device from the server device . In some example embodiments a restricted token is issued by the service delivery module to the client device for the purpose of the particular file transfer session.

At event the server device determines the location of the mobile device identified in the User ID typically by way of the mobile device having already logged into the server device . The server device may also contain a registry of devices and respective users.

At event an INVITE message is sent from the server device to the identified mobile device wherein the INVITE includes identification of the Event and the App. In the example shown the communication of event is sent to the notify module . At event the notify module sends a NOTIFY message to the identified application . At event in some example embodiments the application prompts a user for example through the user interface . The prompts can request whether the user wishes to accept a file transfer at the mobile device . At event the application sends a Notify callback message to the notify module indicating that a prompting to the user is occurring. At event the notify module sends a SIP informational response to the server device .

At event the server device creates a session identifier session ID in relation to obtaining the address. At event the server device sends a message to the client device with a session ID indicating that a new resource is being created. At event the client device sends an HTTP GET message to the server device referencing the session ID in order to request the address File URL of the mobile device .

At event in some example embodiments which include interaction through the user interface the application receives an acceptance from the user. In other example embodiments user prompting is not required. It would be appreciated that the method of is flexible to accommodate both user prompting and no user prompting.

At event the application sends an instruction to the file transfer module to create a transfer session. At event the file transfer module dynamically generates an address of the mobile device which can be referred to as a dynamic address. At event the file transfer module associates the dynamic address with the application . In some example embodiments the file transfer module generates or obtains a token for subsequent authentication of communications received at the dynamic address. The token is included or embedded with the dynamic address. In some example embodiments the file transfer module encrypts the dynamic address using an encryption key or part of a key pair. Thus in some example embodiments subsequent secure communications may include the token and may include the dynamic address being an encrypted address.

At event the file transfer module sends the dynamic address to the application . At event the application sends a Notify message which indicates the dynamic address and an acceptance of the file transfer request. At event the notify module sends a OK message to the server device and includes within the message the dynamic address. At event this message is passed to the client device . At event the server device sends an ACK message to the notify module .

In some example embodiments the encrypted dynamic address is decrypted using a key or part of a key pair by the client device . The client device now has knowledge of the dynamic address of the mobile device .

At event now that the client device has discovered the mobile device the client device sends a further communication to the dynamic address which can include a file or a document. For example the communication can be an HTTPS post to the address. In some example embodiments the file can be encrypted using an encryption key or part of a key pair. The particular format of a peer to peer connection may be previously identified in the identification of the system software at message . For example the Event file xfer req can be interpreted by the mobile device as being in relation to a subsequent HTTPS post message to be allocated to the dynamic address.

At this stage the mobile device receives the communication including the file may authenticate the communication e.g. using the token and or HTTPS and checks which application the file is to be associated with based on the file being received at the dynamic address. At event the file transfer module sends a OK confirmation back to the communication device . At event the file transfer module sends a message to the application indicating successful file transferring. At event the application sends a Notify message to the notify module to terminate the session. At event the notify module sends a BYE message to the server device ending the SIP session. At event a OK message is sent.

The application can thus perform a particular application function when the file is received. In some example embodiments the application function is automatically performed after receipt and verification of the communication at event .

In some example embodiments filenames of the received files are assigned unique file names by the file transfer module for example by appending a timestamp or something of that nature to the original filenames. For example this can assist in any handling of duplicate file names or overwriting existing files.

Some additional example functions of the server device will now be described in accordance with some example embodiments. In some example embodiments the server device stores or queues the initial request message event . This assists when the mobile device is unavailable or cannot be located. In other example embodiments no storing or queuing is performed and an error message is sent to the client device should the mobile device be unavailable. In some example embodiments the server device tracks the number of file transactions. In some example embodiments multiple files are sent by implementing multiple sessions with several file transfers taking place simultaneously or sequentially.

To facilitate discovery between the client device and other devices the discovery module can expose publically a RESTful interface for the purpose of discovering the mobile device and notifying the client device e.g. using SIP . A new DNS domain name can be created by the discovery module for the client device to use for subsequent HTTPS communication. This may be configured in a Global Traffic Manager GTM . In some example embodiments a restricted token may be issued by the client device for the purpose of the particular file transfer session. The restricted token may be revocable in some example embodiments.

When the discovery module receives multiple dynamic addresses from the application the service delivery module may then generate an address field with a skeleton URL which may be used by other devices to reach the application i.e. the skeleton URL is the dynamic address which is externally communicated and used by external devices . The multiple dynamic addresses may be assigned to the skeleton URL. The multiple dynamic addresses may be received by the discovery module in the form of a candidates list to facilitate Session Traversal Utilities for NAT Traversal Using Relay NAT Interactive Connectivity Establishment STUN TURN ICE as would be understood in the art.

Referring again to the peer to peer connection between the client device and the mobile device will be described in greater detail. In example embodiments this is performed over HTTPS. The certificate for HTTPS may be signed from a self signed certificate of the mobile device or may be signed from a root certificate from a third party certification authority CA .

In order to provide the encryption of the dynamic address based on a common encryption key the following process may be used 1 when a user runs or installs the application driver on the client device prompt the user to enter a key password 2 when the user runs or installs the application on the mobile device prompt the user to enter the same key password 3 The file to be transferred will be encrypted by the client device with this key and decrypted upon receipt on the mobile device using the same shared key. Note that 1 and 2 above can happen in any order. Accordingly even if the server device accesses the encrypted file the server device would not be able to read the file. In some example embodiments the same encryption key may be used to encrypt the dynamic address when sending from the mobile device to the client device . In some example embodiments for extra security the shared key can be used to negotiate a session key which is used to encrypt the file for that particular session using an algorithm and key exchange procedure such as in EC SPEKE. Similar methods may be used to negotiate a key pair rather than a shared encryption key.

In some example embodiments a file may be sent to multiple devices at one time. For example referring to the device ID at event if the value is blank the service delivery module may select the first online in coverage device to send the request to. If a user has only one device the device ID may not need to be included. For example from an API point of view DeviceID may mean that the specific device of this user will be targeted. If the mobile device is not in coverage an error will be returned. The DeviceID may mean that the service delivery module selects the first online in coverage device registered to the same user or group as the client device . The DeviceID may mean that the service delivery module will target all online in coverage devices of the same user or group of the client device .

Some example embodiments have been described as a me to me communication with a common user. In other example embodiments me to you implementations may be supported such that in the client device the shared key is assigned on a per destination basis. In other examples keys may be given to users by using other key sharing means. When a group of devices is supported the group can share a key.

In some example embodiments it would be appreciated that the dynamic address may be generated from the mobile device and may not be merely an assigned address from an external DNS server or router device. The dynamic address can be exclusively associated to the particular identified application.

The particular format of the dynamic address will now be described in greater detail. For example the format of the dynamic address may depend on the type of system software being used to receive or process subsequent files or documents. Examples of system software can include for example a telnet server an http server or an ftp server.

Accordingly the dynamic address may vary depending on the particular application. Examples of the dynamic address include 

The example addresses Myipaddress and myport could vary depending on the interface cellular interface wifi VPN which facilitates multiple URLs. In other example embodiments the address may be based on a TURN server or some other sort of proxy and that value could be dynamically obtained once the turn server is configured to expect that connection. An example dynamic address is as follows 

Reference is now made to which shows in flow diagram form a detailed example method for facilitating discovery of a mobile device in accordance with an example embodiment. The example shown may use a transaction based call flow which may not require an INVITE to initiate creation of a session. Rather any message can be used for establishing the session. The example embodiment shown may be implemented with or without user prompting through the user interface . In some example embodiments a same user is operating or controlling both the client device and the mobile device e.g. me to me sending .

In some example embodiments both the mobile device and the client device have subscribed or logged into the server device and a secure connection such as HTTPS TLS is established with the server device . For example some or all of the communications and events of the method may be communicated using HTTPS TLS.

At event the application subscribes to the notification module using a SUBSCRIBE message. The subscription can include an identification of a system software Event file transfer and an identification of the application App .

At event the client device sends a communication to the server device which includes a HTTP POST message having an identification of a device or user User ID an identification of a system software Event file transfer and an identification of an application App . At event the server device authenticates the client device .

At event the server device determines the location of the mobile device identified in the User ID typically by way of the mobile device having already logged into or registered with the server device .

At event a message is sent from the server device to the identified mobile device wherein the message includes identification of the Event and the App. In the example shown the communication of event is sent to the notify module . At event the notify module sends a NOTIFY message to the identified application .

At event the application sends an instruction to the file transfer module to create a transfer session. At event the file transfer module dynamically generates an address of the mobile device which can be referred to as a dynamic address. At event the file transfer module associates the dynamic address with the application . In some example embodiments the file transfer module generates or obtains a token for subsequent authentication of communications received at the dynamic address. The token is included or embedded with the dynamic address. In some example embodiments the file transfer module encrypts the dynamic address using an encryption key or part of a key pair. Thus in some example embodiments subsequent communications may include the token and may include the dynamic address being an encrypted address.

At event the file transfer module sends the dynamic address to the application . At event the application sends a Notify message which indicates the dynamic address and an acceptance of the file transfer request. At event the notify module sends a OK message to the server device and includes within the message the dynamic address. At event this message is passed to the client device .

In some example embodiments the encrypted dynamic address is decrypted using a key or part of a key pair by the client device . The client device now has knowledge of the dynamic address of the mobile device .

At event now that the client device has discovered the mobile device the client device sends a further communication to the dynamic address which can include a file or a document. For example the communication can be an HTTPS post to the address. In some example embodiments the file can be encrypted using an encryption key or part of a key pair. The particular format or type of a peer to peer connection may be previously identified in the identification of the system software at message . For example the Event file xfer req can be interpreted by the mobile device as being in relation to a subsequent HTTPS post message to be allocated to the dynamic address.

At this stage the mobile device receives the communication including the file may authenticate the communication e.g. using the token and or HTTPS and checks which application the file is to be associated with based on the file being received at the dynamic address. At event the file transfer module sends a OK confirmation back to the communication device . At event the file transfer module sends a message to the application indicating successful file transferring.

The application can thus perform a particular application function when the file is received. In some example embodiments the application function is automatically performed after receipt and verification of the communication at event .

Referring again to in some example embodiments the application driver may be used to implement a printing or print to go ptg type function which is implemented from a print driver to facilitate printing or sending of a file or document onto the mobile device after discovery of the address of the mobile device . For example the printing function may appear as a printer option when printing a document to print to the mobile device as if it were a printer. Similarly the application of the mobile device may include a printing or print to go ptg application . The application may be used for receiving the file or document received at a designated address of the mobile device and displaying of the file or document. In some example embodiments the file or document is automatically displayed. In some example embodiments the file is converted to portable document format PDF and transferred securely to the mobile device for viewing. Other features such as annotating and commenting may be included in some example embodiments.

While some of the present embodiments are described in terms of methods a person of ordinary skill in the art will understand that present embodiments are also directed to various apparatus such as a handheld electronic device including components for performing at least some of the aspects and features of the described methods be it by way of hardware components software or any combination of the two or in any other manner. Moreover an article of manufacture for use with the apparatus such as a pre recorded storage device or other similar non transitory computer readable medium including program instructions recorded thereon or a computer data signal carrying computer readable program instructions may direct an apparatus to facilitate the practice of the described methods. It is understood that such apparatus articles of manufacture and computer data signals also come within the scope of the present example embodiments.

While some of the above examples have been described as occurring in a particular order it will be appreciated to persons skilled in the art that some of the messages or steps or processes may be performed in a different order provided that the result of the changed order of any given step will not prevent or impair the occurrence of subsequent steps. Furthermore some of the messages or steps described above may be removed or combined in other embodiments and some of the messages or steps described above may be separated into a number of sub messages or sub steps in other embodiments. Even further some or all of the steps of the conversations may be repeated as necessary. Elements described as methods or steps similarly apply to systems or subcomponents and vice versa. Reference to such words as sending or receiving could be interchanged depending on the perspective of the particular device.

The term computer readable medium as used herein includes any medium which can store instructions program steps or the like for use by or execution by a computer or other computing device including but not limited to magnetic media such as a diskette a disk drive a magnetic drum a magneto optical disk a magnetic tape a magnetic core memory or the like electronic storage such as a random access memory RAM of any type including static RAM dynamic RAM synchronous dynamic RAM SDRAM a read only memory ROM a programmable read only memory of any type including PROM EPROM EEPROM FLASH EAROM a so called solid state disk other electronic storage of any type including a charge coupled device CCD or magnetic bubble memory a portable electronic data carrying card of any type including COMPACT FLASH SECURE DIGITAL SD CARD MEMORY STICK and the like and optical media such as a Compact Disc CD Digital Versatile Disc DVD or BLU RAY Disc.

Variations may be made to some example embodiments which may include combinations and sub combinations of any of the above. The various embodiments presented above are merely examples and are in no way meant to limit the scope of this disclosure. Variations of the innovations described herein will be apparent to persons of ordinary skill in the art having the benefit of the present disclosure such variations being within the intended scope of the present disclosure. In particular features from one or more of the above described embodiments may be selected to create alternative embodiments comprised of a sub combination of features which may not be explicitly described above. In addition features from one or more of the above described embodiments may be selected and combined to create alternative embodiments comprised of a combination of features which may not be explicitly described above. Features suitable for such combinations and sub combinations would be readily apparent to persons skilled in the art upon review of the present disclosure as a whole. The subject matter described herein intends to cover and embrace all suitable changes in technology.

