---

title: Multi-point social media geotracker
abstract: A database server stores information about content posted to multiple content storage servers. A client device makes a reading request for information from the database server about content posted to content storage servers within a span of locations selected by a user and within a span of time selected by a user. The database server stores information about content posted to multiple content storage servers in response to a loading request for content posted within a distance of multiple locations.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09215285&OS=09215285&RS=09215285
owner: Targets Brands, Inc.
number: 09215285
owner_city: Minneapolis
owner_country: US
publication_date: 20120315
---
This application claims priority from U.S. Provisional Application 61 561 239 filed on Nov. 17 2011 which is hereby incorporated by reference in its entirety.

Internet connected mobile devices such a phones tablet computers gaming devices and laptop computers have given people the ability to share information about their current activities. Typically this information is captured or created by the person controlling the mobile device and then is uploaded through the Internet to a server where it is stored and distributed to others. This information can include short messages pictures and video. In addition the information that is uploaded can be tagged with position information that describes the current location of the mobile device. This position information can be in the form of longitude and latitude values or less exact values such as the name of a building or street.

The discussion above is merely provided for general background information and is not intended to be used as an aid in determining the scope of the claimed subject matter. The claimed subject matter is not limited to implementations that solve any or all disadvantages noted in the background.

A list of multiple preset locations is retrieved and for each preset location a stream of content postings currently being posted to a content storage server from within a limited area around the preset location is requested.

In accordance with a further embodiment information about content postings is received wherein the information is limited to content postings that are posted from within a set distance of at least one of a plurality of locations such that information for at least one excluded content posting is excluded from being received because the excluded content posting was posted farther than the set distance from all of the plurality of locations. The received information is stored in a database. The database is searched for information about content postings that were posted within a first time span to identify a plurality of content postings wherein a first identified content posting was posted within the set distance of a first location in the plurality of locations and a second identified posting was posted within the set distance of a second location in the plurality of locations. Using a processor a first web page is generated to display icons for each of the plurality of content postings that were identified during the searching.

In accordance with an additional embodiment a database server stores information about content posted to multiple content storage servers from locations that are positioned within a radius of a plurality of preset locations. A client device makes a reading request for information from the database server about content posted to the multiple content storage servers within a span of time selected by a user.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter.

Embodiments described below provide a stream of content postings where each posting in the stream has been posted within a set distance of one of a plurality of selected locations. For example a single request for postings will return all postings within a quarter mile of five separate locations. Postings that are outside of these areas are not returned and thus are excluded from the returned results. The postings that are returned may be further filtered based on keywords such that only postings containing one or more of the keywords are returned.

The stream of postings is saved in a database together with the time and date that each posting was posted and the location where the posting was posted. A server searches the database to identify those postings that satisfy parameters set by a user through a web page. Those parameters can include filter terms that must be in the posting a time span during which the postings must have been posted and a geographical span where the posting must have been posted. The server then constructs a refreshed web page that displays a map with icons positioned on the map for each of the postings that meet the parameters set by the user.

User interface also includes a filter window which is displayed in response to the user selecting filter button . Filter window includes filter time span slider filter time span text filter term input box Add term button filter term box and check box .

Filter time span slider is used to filter out content postings that occurred within set distance of a preset location based on when they were posted. In particular filter time span slider sets a time span that is used to calculate a date time range for content postings such that any postings that occurred outside of that range are not displayed. In accordance with some embodiments this date time range is defined by an ending time point that is set to the date and time that the search is initiated and a beginning time point that is set to the date and time that is separated from the ending time point by an amount equal to the time span. For example if a search is initiated on January 28at 2 00 p.m. and filter time span slider has been used to set the time span to two days the date range for the search will have a starting time point of January 26 2 00 p.m. and an ending time point of January 28 2 00 p.m.

Filter time span slider may be shifted left and right by dragging the slider using an input device. As filter time span slider is shifted the filter time span is altered and filter time span text is changed to reflect the current filter time span.

Filter term input box accepts filter terms input by a user. When the user selects Add term button an entry containing the text in filter term input box is added to filter term box . If there is already an entry in filter term box when Add term button is selected the existing entries are shifted downward within filter term box and the newly added text is inserted as the topmost entry. Thus entries accumulate in filter term box as Add term button is pressed. For example in filter term box contains entries and which were added to filter term box by first adding entry based on a first selection of Add term button and then adding entry while shifting entry downward in response to a second selection of Add term button . Entry contains filter text consisting of the word Rally and delete button which when selected removes entry from filter term box . Entry contains filter text consisting of the word Signs and delete button which when selected removes entry from filter term box .

The text in filter term box is used to filter the content postings that are displayed on user interface . In particular the text in filter term box is used to filter the content postings that are posted within set distance of the preset locations displayed on user interface . In accordance with one embodiment the terms in filter term box are ANDed together such that only those postings that include all of the terms in filter term box are displayed in user interface . In accordance with other embodiments the terms in filter term box are ORed together such that only those postings that include at least one of the terms in filter term box are displayed in user interface . An AND OR control may be selected by the user to control whether the search terms are ANDed or ORed together. An AND OR designation indicates whether the terms are currently being ANDed or ORed together.

Check box is used by the user to control whether postings displayed on user interface are removed when they are no longer within the time span set by filter time span slider . When check box is checked icons for postings are removed from user interface automatically when the time span between when the postings were posted and the current time exceeds the time span set by filter time span slider . When check box is not checked icons for postings remain on user interface even after they no longer fit within the time span requirement set by filter time span slider .

The user may change the area of the map shown on user interface by panning the map and changing the zoom level of the map. To pan the map the user places the cursor on the map presses a button on the pointing device and drags the cursor while continuing to press the button. The user may also pan the map using pan control . In particular pressing the top of pan control causes the map to pan upwards pressing the bottom of pan control causes the map to pan downwards pressing the left part of pan control causes the map to pan to the left and pressing the right part of pan control causes the map to pan to the right. The user may change the zoom level using zoom control which includes a slide . Moving slide upward changes the zoom level to show a smaller part of the map in more detail and moving slide downward changes the zoom level to show a larger part of the map.

Search box is used to designate an additional area such as area from which postings are to be captured. To designate the additional area the user selects Select Location button then selects a point on map as the center of the additional area. To select the point on map the user positions pointer at the point such as point and presses a select key on an input device. The radius of the designated area is set using search radius slider . By using the pointer a user slides search radius slider between a minimum radius and a maximum radius. Terms that are used to filter the postings are input by the user in query box . The filtering operation limits the content postings to those postings that contain the query term or phrase. To submit the search term for filtering the user enters the search term in query box and then selects Search button . The time span during which the postings must be posted is set using time span slider . Postings that are further back in time than the time span set by time span slider are filtered out and are not presented in user interface .

Search radius slider time span slider and query box only control the appearance of postings for the additional designated location and do not impact which postings near the preset locations are displayed.

Search box also includes a clear button which when selected causes designated area and the postings within designated area to be removed from user interface . A postings summary area is also provided in search box and provides a count of each type of posting currently being shown on user interface . For example postings summary area indicates that there are 5 message postings 2 photo postings and 3 video postings shown on user interface .

Aggregator server uses the longitudes and latitudes of a plurality of preset locations and a radius around each preset location to request separate content streams from content storage servers and . Based on the criteria provided by aggregator server content storage servers and filter content as it is posted to the content storage servers to identify matching content. In particular content storage servers and identify those postings that are posted within radius of at least one of the preset locations as matching postings. For each matching posting an XML document containing information about the matching posting is created and is forwarded in a stream to aggregator server . Aggregator server aggregates the separate streams provided by the content storage servers into a single stream that is then returned to a mapping server . Mapping server parses the XML documents in the stream and stores the information about the content in postings database . The streaming will generally continue until terminated by mapping server .

Aggregator server can also request separate content streams from content storage servers and based on a designated location and designated location radius provided by a mapping tool on a client via mapping server . Designated location is set by the user by pressing Select Location button of and then selecting a point on the map. Designated location radius is set by the user through search radius slider control . Based on the designated location and designated location radius provided by aggregator server content storage servers and filter content as it is posted to the content storage servers to identify content that was posted within designated location radius of designated location . For each matching posting an XML document containing information about the matching posting is created and is forwarded in a stream to aggregator server . Aggregator server aggregates the separate streams provided by the content storage servers into a single stream that is then returned to mapping server . Mapping server parses the XML documents in the stream and stores the information about the content in postings database . Within postings database the content posted within designated radius of designated location will be separately identifiable from the content posted within radius of one of the preset locations . The streaming will generally continue until terminated by mapping server .

Mapping tool on client device receives filter terms filter time span search terms designated location search time span and designated location radius from a user through one or more input devices such as pointing device keyboard touch sensitive display and microphone . Each of the input devices communicates with operating system through a respective driver and . Operating system then provides the input values to mapping tool . In several embodiments mapping tool is a web page provided by mapping server and executed within a browser application on client .

Periodically and or in response to a user input mapping tool makes a refresh call to mapping server to request postings in postings database that meet the parameters set by filter terms filter time span search terms designated location search time span designated location radius and a view span . View span represents the vertical and horizontal span of a requested view of displayed map . In accordance with one embodiment the vertical and horizontal spans are provided in terms of longitude and latitude values. Specifically the longitude and latitude values of the upper left corner of the requested view and the longitude and latitude values of the lower right corner of the requested view.

During the refresh mapping server determines if new map images need to be returned to client based on differences between the last map view span and the requested map view span. Such map images are stored in a map image database in mapping server . In addition mapping server uses the requested view span and the other parameters provided by mapping tool to perform two searches on postings database . In the first search mapping server searches postings database for all postings that are within radius of at least one preset location were posted within the filter time span match the filter search terms and were posted at a position that is located within the requested view span . Filter time span is set by the user through time span slider and filter search terms are the terms in filter term box of . In the second search mapping server searches postings database for all postings that are within the designated location radius of designated location were posted within the search time span match the search terms and were posted at a position that is located within the requested view span . Search time span is set by the user through time span slider of and search terms are the terms entered in query box . Mapping server also searches a preset locations database for all preset locations that are positioned within the requested view span .

After searching postings database and preset locations database mapping server returns a refreshed mapping tool with icon types and position information that includes information about the matching postings and matching preset locations and associated icon images from icon images database . In accordance with one embodiment a separate icon is provided for each type of content posting. Icons are also provided for each preset location and for the designated location. Based on the information in refreshed mapping tool browser application renders a page showing the map view and the returned icons on display .

As discussed further below mapping tool is refreshed in response to user input or in response to a refresh timer programmed in mapping tool that requests refreshment of the icons displayed on the map at set intervals. In accordance with some embodiments refresh timer requests an update to the icons by posting a request back to mapping server to refresh mapping tool . In accordance with some embodiments the request to refresh mapping tool based on the expiration of timer is limited to refreshing the icons and not the images of the map. This reduces flicker on the page and increases the speed at which the icons can be updated.

The operation of embodiments is discussed further below by referring to a number of events that can occur. The first event is a home screen request event. Such an event is triggered when mapping tool is first requested and when the user selects an icon on the user interface to return to the home screen.

At step mapping server searches postings database for all postings that are within the preset location radius of at least one preset location in preset location database that were posted within the default filter time span and that were posted at a location that is within the default view span for the home screen. At step mapping server searches map images database for map images that reflect the default view span of the home page.

At step mapping server constructs mapping tool page by including references to the file paths of map images found in step and by designating icons to be displayed on the map images. The designation of the icons includes a designation of an image to use as the icon and a location on the map images where the icon image should be positioned. This information is shown as icon types and positions in . In accordance with one embodiment icons are designated for each posting returned by the search of postings database at step . When designating the icons mapping server may replace overlapping icons with a single icon that includes a number indicating the number of icons that are overlapping. In accordance with some embodiments icons that represent multiple overlapping icons are interactive such that if a user selects such an icon it is converted into multiple icons such that the user can gain access to each of the postings represented by the single icon.

At step mapping server sets a refresh timer in mapping tool page . When the refresh timer in mapping tool page expires mapping tool page will request a refresh of the postings icons from mapping server . In accordance with one embodiment mapping server sets refresh timer to thirty seconds. In response to the refresh request mapping server will perform a new search of the postings database to identify new postings that are within the default preset location radius of at least one preset location that were posted within the default filter time span and that were posted at a location that is within the default view span for the home screen. During such a refresh request postings that were previously displayed may be removed because they no longer fall within the default filter time span.

At step mapping server serves mapping tool page to client . At step browser application executes mapping tool page and renders the map images and icons on display .

To provide the bandwidth needed to convey postings from areas around multiple locations some embodiments utilize multiple processing threads. provides a more detailed block diagram of aggregator server and content storage servers and that utilize multiple threads to stream content postings to mapping server . To initiate the stream mapping server sends a stream request to an Application Programming Interface in aggregator server . Application Programming Interface API then creates a plurality of processing threads to provide the necessary bandwidth to handle receiving posting streams for multiple locations simultaneously. In accordance with one embodiment a separate processing thread is opened for each location content storage server combination. For example if there were ten preset locations in location list and three content storage servers API would create thirty processing threads with ten processing threads for each content storage server. In the example of a total of nine processing threads and are created. Processing threads and are created to request streams from content storage server processing threads and are created to request streams from content storage server and processing threads and are created to request streams from content storage server . In addition processing threads and request streams relative to a first preset location processing threads and request streams relative to a second preset location and processing threads and request streams relative to a third preset location.

Each processing thread calls a separate instance of a streaming API in a content storage server. Specifically threads and call separate instances and of a streaming API in content storage server threads and call separate instances and of a streaming API in content storage server and threads and call separate instances and of a streaming API in content storage server .

In content storage server each API instance and searches a postings database for postings within the default radius of the location assigned to the API instance. Thus API instance searches for postings within the default radius of the first preset location API instance searches for postings within the default radius of the second preset location API instance searches for postings within the default radius of the third preset location. The postings in database are provided by user API instances and which receive the postings from user applications and respectively. Although only three user API instances and user applications are shown those skilled in the art will recognize that any number of user applications may provide content postings to content storage server .

In content storage server each API instance and searches a postings database for postings within the default radius of the location assigned to the API instance. Thus API instance searches for postings within the default radius of the first preset location API instance searches for postings within the default radius of the second preset location API instance searches for postings within the default radius of the third preset location. The postings in database are provided by user API instances and which receive the postings from user applications and respectively. Although only three user API instances and user applications are shown those skilled in the art will recognize that any number of user applications may provide content postings to content storage server .

In content storage server each API instance and searches a postings database for postings within the default radius of the location assigned to the API instance. Thus API instance searches for postings within the default radius of the first preset location API instance searches for postings within the default radius of the second preset location API instance searches for postings within the default radius of the third preset location. The postings in database are provided by user API instances and which receive the postings from user applications and respectively. Although only three user API instances and user applications are shown those skilled in the art will recognize that any number of user applications may provide content postings to content storage server .

The streams from the multiple threads are interleaved by API to form the aggregate stream . This may require buffering in a buffer .

Mapping server receives the aggregate stream parses each XML file in the aggregate stream and stores the parsed information in postings database . provides an example of a table in postings database . Table includes a posting ID field a location longitude field a location latitude field a content type field a content text field a content author field an author image URL field a content page URL field a content posting time field and a content posting date field .

Posting ID field contains a unique identifier for the posting. Location longitude field and location latitude field contain the longitude and latitude of the location where the content was posted. Content type field indicates what type of content is in the posting text photograph or video for example. Content text field contains text found in the posting. For some text postings content text field contains the entire text that was posted. For photograph or video postings content text field contains text that was posted with the photograph or video. For some video postings content text field contains text of the audio portion of the video. Content text field is searched to find postings that match search terms entered in filter term box and query box .

Content author field contains a name or pseudonym for the user who posted the content and author image URL field contains a URL address to an image file containing an image of the user who posted the content. Content page URL field contains a URL address to a page containing the posting. Content posting time field and content posting date field provide the time and date that the content was posted to the content storage server.

At step mapping server parses request parameters sent with the refresh request. These parameters include the longitude and latitude values that describe the span of the requested view the filter time span the filter terms a parameter indicating whether the filter terms are to be ANDed or ORed together search terms search time span designated location radius designated location postings currently displayed on mapping tool and an indication of whether check box has been selected so that old assets should be removed when mapping tool is refreshed. If the refresh request was triggered by a change in any of these parameters the value that the parameter was changed to is sent in the request.

At step mapping server determines if the designated location or the radius around the designated location have changed since mapping tool was last refreshed. If either the designated location or the designated radius has changed mapping server requests a new stream of postings for the designated location and designated radius from aggregator server . If a stream of postings for a previous designated location or previous designated radius is currently open and active mapping server will request that aggregator server close the previous stream before requesting the new stream. In addition mapping server will delete entries in postings database for the previous designated location or the previous designated radius.

If there were no changes to the designated location or designated radius or after the new stream of postings is requested at step the process of continues at step where mapping server searches postings database for postings that meet all of the following requirements they were posted within the requested view span they were posted within the set distance of at least one preset location they match filter terms and they were posted within the filter time span . At step mapping server searches postings database for postings that meet all of the following requirements they were posted within the requested view span they were posted within the designated radius of the designated location they match search terms and they were posted within search time span . During step mapping server also searches postings database for postings that meet all of the following requirements they were posted within the requested view span they were posted within designated radius of designated location they match filter terms and they were posted within filter time span .

During steps and filter time span and search time span are used to define time ranges and the searches in steps and limit the postings to those postings within the time ranges. Specifically the time range defined for filter time span is defined as spanning from a current time determined just before the search is performed to a time that is before the current time by an amount equal to filter time span . The time range defined for search time span is defined as spanning from a current time determined just before the search is performed to a time that is before the current time by an amount equal to search time span .

At step mapping server determines if check box has been checked such that old postings are to be automatically removed from mapping tool page . If old postings are not to be automatically removed box is not checked and if there was no change to filter time span or to filter terms mapping server will maintain the icons currently shown on mapping tool page . To do this at step postings that are currently shown on mapping tool page are added to the list of postings found during steps and . Since some of the postings found during search steps and may already be displayed on mapping tool page a posting that is currently shown on mapping tool page is only added to the list of postings if the posting was not returned during search steps and .

After step or if old postings are to be removed or if filter time span or filter terms were modified at step mapping server searches preset locations database for preset locations positioned within the requested view at step .

At step mapping server constructs mapping tool page by inserting references to the map images selected at step by providing icons and position information for the icons for each posting in the list of postings by providing icons and position information for each of the preset locations identified in step by providing a semi transparent circular overlay and position information for the overlay for the designated location and designated radius and providing headers menus and controls for the mapping tool page .

The icons that are inserted in step are taken from icon images database . provides an example of a table in icon images database that contains the icon information needed to select a correct icon. In table an icon ID field provides a unique identifier for the icon a posting location type field provides the posting type or the location type for the icon such as image posting text posting video posting store location head quarters location and government building location for example. An icon image URL field provides a URL address for the icon image that is to be placed on the screen.

At step mapping server sets a refresh timer in mapping tool page . In accordance with one embodiment the refresh timer is set to thirty seconds such that after mapping tool page has been rendered for thirty seconds mapping tool page will request that mapping server refresh mapping tool page .

At step mapping server serves mapping tool page to browser application on client and at step browser application renders mapping tool on display .

To receive additional information about a posting a user can select the posting s icon or hover a pointer over the posting s icon. provides a flow diagram of steps that are performed in response to a user hovering a pointer over a posting s icon.

At step a user hovers a pointer over a posting icon by placing the pointer on top of the posting icon without pressing a selection button. In response mapping tool opens a window near the posting s icon at step . In accordance with one embodiment the window appears to extend from or be expanded within the icon. At step mapping tool retrieves posting content from postings database of mapping server . The posting content may include posted text that is stored directly in postings database or other content that is retrieved by using a URL address stored in postings database . For example a URL for an image or a video may be used to retrieve the image or video. The retrieved content is then displayed within the window at step .

Instead of hovering over an icon a user can also select icon to receive additional information about a posting a user can select the posting s icon. In accordance with some embodiments selecting an icon produces the same windows as hovering over the icon and as described above for . In accordance with other embodiments selecting a posting icon opens a window in which a web site associated with one of the content storage servers and is rendered.

An example of a computing device that can be used as a server and or client device in the various embodiments is shown in the block diagram of . The computing device of includes a processing unit a system memory and a system bus that couples the system memory to the processing unit . System memory includes read only memory ROM and random access memory RAM . A basic input output system BIOS containing the basic routines that help to transfer information between elements within the computing device is stored in ROM . Computer executable instructions that are to be executed by processing unit may be stored in random access memory before being executed.

Embodiments of the present invention can be applied in the context of computer systems other than computing device . Other appropriate computer systems include handheld devices multi processor systems various consumer electronic devices mainframe computers and the like. Those skilled in the art will also appreciate that embodiments can also be applied within computer systems wherein tasks are performed by remote processing devices that are linked through a communications network e.g. communication utilizing Internet or web based software systems . For example program modules may be located in either local or remote memory storage devices or simultaneously in both local and remote memory storage devices. Similarly any storage of data associated with embodiments of the present invention may be accomplished utilizing either local or remote storage devices or simultaneously utilizing both local and remote storage devices.

Computing device further includes a hard disc drive an external memory device and an optical disc drive . External memory device can include an external disc drive or solid state memory that may be attached to computing device through an interface such as Universal Serial Bus interface which is connected to system bus . Optical disc drive can illustratively be utilized for reading data from or writing data to optical media such as a CD ROM disc . Hard disc drive and optical disc drive are connected to the system bus by a hard disc drive interface and an optical disc drive interface respectively. The drives and external memory devices and their associated computer readable media provide nonvolatile storage media for the computing device on which computer executable instructions and computer readable data structures may be stored. Other types of media that are readable by a computer may also be used in the exemplary operation environment.

A number of program modules may be stored in the drives and RAM including an operating system one or more application programs other program modules and program data . In particular application programs can include mapping tool and application programs executed on mapping server aggregator server and content storage servers and . Program data may include text images and video of postings and data stored in one or more of the database described above.

Input devices including a keyboard and a mouse are connected to system bus through an Input Output interface that is coupled to system bus . Monitor is connected to the system bus through a video adapter and provides graphical images to users. Other peripheral output devices e.g. speakers or printers could also be included but have not been illustrated. In accordance with some embodiments monitor comprises a touch screen that both displays input and provides locations on the screen where the user is contacting the screen.

The computing device may operate in a network environment utilizing connections to one or more remote computers such as a remote computer . The remote computer may be a server a router a peer device or other common network node. Remote computer may include many or all of the features and elements described in relation to computing device although only a memory storage device has been illustrated in . The network connections depicted in include a local area network LAN and a wide area network WAN . Such network environments are commonplace in the art.

The computing device is connected to the LAN through a network interface . The computing device is also connected to WAN and includes a modem for establishing communications over the WAN . The modem which may be internal or external is connected to the system bus via the I O interface .

In a networked environment program modules depicted relative to the computing device or portions thereof may be stored in the remote memory storage device . For example application programs may be stored utilizing memory storage device . In addition data associated with an application program such as data stored in the databases or lists described above may illustratively be stored within memory storage device . It will be appreciated that the network connections shown in are exemplary and other means for establishing a communications link between the computers such as a wireless interface communications link may be used.

Although elements have been shown or described as separate embodiments above portions of each embodiment may be combined with all or part of other embodiments described above.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

