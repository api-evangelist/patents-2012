---

title: Techniques for determining communication state using accelerometer data
abstract: Techniques for communicating with a user on a network include receiving acceleration data that indicates acceleration of a mobile network node associated with a user of a network. A communication state for the user is determined based at least in part on the acceleration data. The communication state indicates a type of network communication suitable for communicating with the user. Network communications with the user are based on the communication state. Among other uses, such techniques allow a network communicating with a human through a mobile node carried by the human to infer from stopped or unusual motions when the human's ability to receive or act on communications is impaired or otherwise affected.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08547907&OS=08547907&RS=08547907
owner: Cisco Technology, Inc.
number: 08547907
owner_city: San Jose
owner_country: US
publication_date: 20120103
---
This application is a continuation of U.S. patent application Ser. No. 12 788 243 filed May 26 2010 titled TECHNIQUES FOR DETERMINING COMMUNICATION STATE USING ACCELEROMETER DATA which is a continuation of U.S. patent application Ser. No. 11 052 020 filed Feb. 5 2005 titled TECHNIQUES FOR DETERMINING COMMUNICATION STATE USING ACCELEROMETER DATA the disclosure of which is incorporated herein by reference in its entirety.

The present invention relates to using accelerometer data to determine communication state of a user on a network.

Networks of general purpose computer systems connected by external communication links are well known and widely used in commerce. The networks often include one or more network devices that facilitate the passage of information between the computer systems. A network node is a network device or computer system connected by the communication links. An end node is a node that is configured to originate or terminate communications over the network. An intermediate network node facilitates the passage of data between end nodes.

Persons use networks to communicate in any of various ways including by voice and multimedia over analog and digital telephone networks. Communications mechanisms using computer networks include file transfer web page viewing electronic mail email on line chat chat rooms shared digital logs blogs instant messaging voice over IP and audio or video or multi media streaming among others. Many of these communication mechanisms involve a client process operating on the person s local computer exchanging data with a server process operating on a remote computer on the network.

The client server model of computer process interaction is widely known and used. According to the client server model a client process sends a message including a request to a server process and the server process responds by providing a service. The server process may also return a message with a response to the client process. Often the client process and server process execute on different computer devices called hosts and communicate via a network using one or more protocols for network communications. Network nodes are often hosts for client and server processes. The term server is conventionally used to refer to the process that provides the service or the host computer on which the process that provides the service operates. Similarly the term client is conventionally used to refer to the process that makes the request or the host computer on which the process that makes the request operates. As used herein the terms client and server refer to the processes rather than the host computers unless otherwise clear from the context. In addition the server process can be broken up to run as multiple processes on multiple hosts sometimes called tiers for reasons that include reliability scalability and redundancy but not limited to those reasons.

Some communications such as viewing web pages and email are delayed communications that are completed at a later time when a second person signs on to the network to receive the communication. It is becoming more common for communications to be relatively immediate with multiple exchanges. Such communications require the presence of the remote party on the network. With the proliferation of networks a person absent on one network an enterprise private network might be present on another network e.g. a cellular telephone network or the public Internet .

Presence data is used in several extant and emerging applications. For example in instant messaging applications such as AOL Instant Messenger AIM from America Online of Dulles Va. and Presence Works of Presence Works Inc in Alexandria Va. presence data indicates the instantaneous knowledge that someone is available online and reachable via instant messaging.

More broadly presence data indicates a dynamically changing set of channels capabilities characteristics preferences and ability for remote persons to communicate and interact with each other over a network at the current time. Thus in the following the terms presence and present communication state are used interchangeably. See for example the document identified as request for comments RFC 2778 found at a website of the Internet Engineering Task Force IETF found at domain ietf.org. The entire contents of RFC 2778 are hereby incorporated by reference as if fully set forth herein.

Presence data includes such present communicative states of availability as online offline do not disturb at lunch. Some applications consider other availability information as presence data including information that indicates for a particular person try mobile phone first then business line always send e mail or unavailable for conference calls but available for webcasts. In some applications presence data may include physical location of the person such as on travel in London or at home or in office or at company headquarters as well as a network address.

In some applications presence data indicates people on the same virtual location like a web page or a shared document at the same time. In some applications presence data indicates people who are within the same cell the geographical area covered by a cellular phone antenna . In some applications presence data indicates location of a person or facility based on a positioning system such as the Global Positioning System GPS widely used in commerce and by the military. Geographic position is a communication state in the sense that one person is within sight or earshot of another person or node on the network.

As used in the following presence data indicates the communication state for a person at the current time and includes all sources of such information no matter how precise or reliable including a person s planned location or communicative state in a calendar database for the current time. Predicted future communication states and recorded past communication states are communication states that are not considered within presence data.

Most applications that use presence data require a human user to manually input data so the application can more accurately infer the human user s state. For example even after the human user logs onto an instant messaging service which usually requires manual input but can be automated the service does not know whether the user is sitting at a desk and looking at the host s display device or not. The system infers that the user is present and attentive if the user has recently typed any information using the keyboard. The system assumes the user is idle if no keys are pressed for several minutes. An idle user may be in the room attentive to a video or audio display on the host but doing some other activity such as reading a paper or talking on a telephone. Alternatively the user may be gone away from the host and in no situation to respond to network communications presented at that host during that time. To distinguish the two cases the user must manually input data that indicates the user is leaving the vicinity of the network node and may be expected back in an estimated amount of time e.g. out to lunch 2 hour meeting on vacation etc. In these systems the communicative state of a user is determined by manual input.

While requiring manual input to infer communicative state is useful in many circumstances there are ever more circumstances in which such manual input is inconvenient or impossible. For example a cellular telephone is turned on but another user of the cellular telephone network has no information about whether the cellular telephone owner is available to communicate using the cellular telephone. The other user must cause the telephone to ring wait for no response and infer that the owner is unavailable wasting time better spend contacting an alternate person who is available to talk. It is inconvenient for the cellular telephone owner to constantly press keys to notify the network that not only is the cellular telephone on but the owner is currently available for communications using it.

Some emerging systems would benefit even more than the cellular telephone system from communication state data that does not require manual input. For example mobile ad hoc networks MANets involve mobile wireless routers that network with other fixed or mobile wireless routers with which they come into transmission range. The mobile routers can be carried by humans animals or vehicles including robots to interface multiple electronic devices also carried. MANets have applications in tactical police and military and emergency medical services scenarios including Search and Rescue. The mobile routers feed information to various control interfaces for the vehicles or various display elements for a human user or stimuli for animals. The routers also receive and transmit to the network information from various sensors or input devices operated by the user such as the person an animal or the vehicle. The MANets allow different units to share more information more quickly so that the multiple units can proceed as a coordinated whole.

If a particular human animal or vehicular user of the mobile router loses the capacity to coordinate actions with the other units then the other units would want to be made aware of this change in availability of that particular user. In some circumstances communications with the particular user would be affected that is the communication state of the user has changed. In some circumstances the user would be unable to provide manual input to signal the change. For example an animal or an injured human or a maximally active human might not be able to provide needed manual input. Communications are affected for example because if a particular user is unable to move communications involving the user s motion are wasteful of scare network resources. If a person is unconscious then the person is incommunicado regardless of the integrity of the person s electronic equipment. If a user is highly active dealing with a crisis such as a burning home or hostile gunfire the user is not available for non crucial communications and is too busy to report this change in availability until the crisis has diminished.

The change in the communication state of the user leads to a change in the types of communication that should be used. In some circumstances tactical communications might be dropped and replaced with diagnostic communications to determine what is wrong with that particular user. A pulse sensor for a living user might be interrogated. Various computerized systems or sensors on a vehicle would be interrogated. If remedial activity by the user could be determined then it would be beneficial to transmit information conveying the remedial activity to the user on a channel the user is expected to receive such as audio if the person is too consumed by crisis to view video .

In some circumstances the user could become captured by hostile forces and the information carried through the MANnet can be compromised. It would be desirable to know that the person s use of the network has changed i.e. the communication state for network communications has changed even though the person is unable to make any manual entries. As a result of this change in communication state it would be desirable to stop transmitting sensitive information and delete all sensitive information stored on the devices carried by the person.

Based on the foregoing there is a clear need for techniques to determine the communicative state of users of network nodes without manual input from the users and to communicate with the user based on the communicative state.

The approaches described in this section could be pursued but are not necessarily approaches that have been previously conceived or pursued. Therefore unless otherwise indicated herein the approaches described in this section are not to be considered prior art to the claims in this application merely due to the presence of these approaches in this background section.

A method and apparatus are described for communicating with a user on a network. In the following description for the purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the present invention. It will be apparent however to one skilled in the art that the present invention may be practiced without these specific details. In other instances well known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the present invention.

In various embodiments accelerometer data is used to infer communicative state of a network user. Among other uses such techniques allow a network communicating with a human through a mobile node carried by the human to infer from stopped or unusual motions that the human s ability to receive or act on communications is impaired or otherwise affected.

For purposes of illustration embodiments of the invention are described in the context of a MANet used by a military force but the invention is not limited to this context. In other contexts other networks including cellular telephone networks apply techniques of the present invention to support the same or different services.

The subnetworks include any network that connects a variety of users of host computers including but not limited to local area networks LANs wireless networks wide area networks WAN the Internet a network of heterogeneous networks using the Internet Protocol IP and virtual private networks. For the purposes of illustration four end nodes and three intermediate network nodes are shown in . In other embodiments more or fewer end nodes and intermediate network nodes are included in network .

For purposes of illustration mobile end node is carried by user and communicates by a wireless link with intermediate network node . For example user carries a laptop computer with a wireless network interface card as end node . As another example user carries a cellular telephone that has a wireless link with a cellular tower that connects to an intermediate cellular network node

Also for purposes of illustration mobile intermediate network node is carried by mobile user and communicates by a wireless link with intermediate network node . Mobile network node is also connected to network segments that are carried by user . A network segment is a portion of a network that does not include an intermediate network node. Network segment connects mobile intermediate network node to mobile end nodes that are also carried by user . For example a military troop carries a personal router as intermediate network node connected by one network segment to a wearable computer as one end node and a digital camera as a second end node . On network segment intermediate network node is connected to other end nodes not shown such as a controller for an ear piece and heads up display and a global positioning system GPS end node. In other embodiments more or fewer users carry more or fewer network nodes and network segments.

According to the illustrated embodiment at least one mobile node carried by a user includes an accelerometer. For example mobile end node includes accelerometer and mobile intermediate network node includes accelerometer . In other embodiments more or fewer or different mobile network nodes include an accelerometer.

Accelerometers are devices that measure acceleration i.e. changes in speed or direction experienced by the accelerometer. Digital accelerometers of small size and power requirements with a wide variety of sensitivities and frequency responses are available commercially. Some small size accelerometers are micro electromechanical systems MEMS accelerometers fabricated using techniques of integrated circuits. See for example accelerometers described at the time of this writing at the Internet sites of among others Honeywell electronics or Silicon Design Inc or the Center of Wireless Integrated Microsystems WIMS at the University of Michigan. Among these accelerometers the capability is provided for measuring accelerations as small as one hundred thousandth of g where g is the acceleration of gravity about 9.8 meters per second per second m s to accelerations as large as thousands of g on time scales increasing from about a hundredth of a second.

Accelerometers are widely known and used in mobile devices to monitor or control operation of such devices. For example accelerometers are used in automobile air bag systems to detect crash conditions suitable for deploying an air bag. In another example an accelerometer is used in a mobile computing device with a magnetic hard disk such as a laptop computer. The accelerometer detects a dropped device so the hard disk controller can retract read heads from the hard disk surface and lock the hard disk from rotating. These responses reduce or avoid damage to the hard disk and the data stored on it when the dropped device hits the ground or some other surface. Accelerometers are also used to detect and monitor vibrations in heavy equipment and vehicles. To applicants knowledge no accelerometers are used or proposed to determine presence on a network.

The network includes the communication state system which determines the communication state of users at the end nodes of the network such as users and a user not shown of stationary end node . The communication state system includes a communication state server and a library of data that indicates acceleration characteristics on one or more storage devices. The communication state server determines communication state of one or more users based on acceleration data and controls the storage and retrieval of acceleration characteristic data in library . For purposes of illustration communication state server is shown separate from nodes but in some embodiments communication state server resides in part or in whole on one or more of nodes or other nodes not shown of subnetworks . Furthermore for purposes of illustration one communication state server is connected to one storage device with library but in other embodiments the library may be distributed over several data storage devices connected directly to one or more communication state servers like server or connected indirectly to one or more servers through sub networks . Any communication state system known in the art may be modified to serve as communication state system . In various embodiments network includes more or fewer communication state systems like system .

The library of acceleration characteristics associates spectral or statistical characteristics of acceleration data with corresponding user activities. For example the library includes data that indicates a first set of acceleration amplitude ranges in certain acceleration frequency bands that is uniquely associated with human walking motion. As a further example the library includes data that indicates a second set of acceleration amplitude ranges in different acceleration frequency bands that is uniquely associated with human running motion. As a still further example the library includes data that indicates a third set of acceleration amplitude ranges in different acceleration frequency bands that is uniquely associated with off road travel by a land vehicle in certain terrain.

For example in a second illustrated embodiment a definition is developed for a user activity state by modeling that state as a series of motion events. Each motion event is characterized as a vector including a duration of time a positive acceleration event onset in each of three directions a maximum velocity event maturity in each of three directions and a negative acceleration deceleration event conclusion in each of three orthogonal directions. The orthogonal directions can be expressed in Cartesian spherical or other coordinates. A running activity state is then associated with some series of motion event vectors. Similarly a walking riding stationary or other activity state is associated with a series of different motion event vectors as described in more detail in the next section with reference to . In other embodiments a motion event is a vector expressing duration acceleration maximum velocity and deceleration in two dimensions such as in a Cartesian plane or using polar coordinates or in one dimension such as acceleration magnitude and speed.

In step acceleration is measured at a mobile node by an accelerometer to produce raw acceleration data. As used here the term raw acceleration data means the acceleration data output by the accelerometer. In some embodiments raw data is an analog signal such as provided by the amplitude or frequency of a voltage signal . In some embodiments raw data is a digital signal such as an eight binary digit bit value that represents acceleration for a particular time interval e.g. one hundredth of a second .

For example in some embodiments during step acceleration is measured at accelerometer on a cellular telephone serving as end node carried by user . In some embodiments acceleration is measured at accelerometer on a hard disk drive in a mobile computer with a wireless network card that serves as end node carried or worn by user . As another example an accelerometer is included in a personal router that serves as intermediate network node on a heavily instrumented human animal or vehicular user . In some embodiments the network node that includes the accelerometer processes the raw acceleration data to produce processed acceleration data.

Any processing of raw acceleration data known in the art at the time an embodiment of the invention is implemented may be used. For example in various embodiments the raw data is digitized averaged over longer time intervals filtered calibrated Fourier transformed to produce one or more spectral characteristics statistically processed to produce one or more other statistical characteristics or processed in some combination of these ways to produce the processed acceleration data. In some embodiments the processed data consumes much less data storage space than the raw acceleration data and can be transmitted over network while consuming substantially fewer network resources than transmitting the raw acceleration data.

For purposes of illustration it is assumed that the raw and processed acceleration data for one direction are as depicted in . is a graph that illustrates traces of raw and processed acceleration data respectively according to this illustrated embodiment. The horizontal axis represents the time axis in arbitrary units for both traces . Two vertical axes are used. One vertical axis represents an acceleration axis in arbitrary units for the trace of raw acceleration data. The horizontal line indicates a zero acceleration value. A second vertical axis represents a speed axis in arbitrary units for the trace of processed acceleration data. The time axis indicates a zero speed value.

The trace of raw data represents the raw acceleration data produced by an accelerometer e.g. accelerometer . The data includes a time of the trace e.g. a start time for time axis elapsed time along axis and acceleration over a sample time scale for each of multiple samples. It is assumed for purposes of illustration that the sample time scale is short compared to the time for a user activity to evolve. In some embodiments the raw acceleration data includes a location not shown or velocity not shown derived from integrating the acceleration values over time or both. As can be seen in the trace of raw acceleration data shows a time extent of variable but predominantly positive acceleration indicated by the line segment labeled average acceleration. This time extent represents a time of average positive acceleration during which speed is increasing in the direction associated with this raw data. As also can be seen in the trace of raw acceleration data shows a time extent of variable but predominantly negative acceleration indicated by the line segment labeled average deceleration. This time extent represents a time of average negative acceleration during which speed is decreasing in the direction associated with this raw data. As also can be seen in the trace of raw acceleration data shows a time extent of less variable but near zero acceleration indicated by the line segment labeled constant speed. This time extent represents a time of average zero acceleration during which speed is constant at some maximum value in the direction associated with this raw data.

The trace of processed acceleration data represents the processed acceleration data produced by a processor e.g. in end node plotted as speed versus time. The data includes a time of the trace e.g. a start time for time axis elapsed time along axis and speed deduced from average acceleration over the time period of average acceleration average acceleration over the time period of constant velocity and average acceleration over the time period of average deceleration . The processed data also includes motion event duration from the beginning of the period of average acceleration to the end of the period of average deceleration. In some embodiments the processed acceleration data includes a location not shown . As can be seen in the trace of processed acceleration data shows a linear increase in speed during the time extent of average acceleration. As also can be seen in the trace of processed acceleration data shows a linear decrease in speed during the time extent of average deceleration. As also can be seen in the trace of processed acceleration data shows a constant speed during the time extent of constant speed. During this time the speed is at some maximum value in the direction associated with this raw data as indicated by the maximum speed tick mark on the speed axis . The duration average acceleration maximum speed and average deceleration for the motion event vector are derived from the processed data.

In step acceleration data for a mobile node is received at a communication state server . In various embodiments the acceleration data received in step is raw or processed acceleration data or both.

For example in some embodiments a communication state server resident on end node receives raw acceleration data from accelerometer . In an illustrated embodiment a computer serving as end node receives raw acceleration data produced by accelerometer and generates processed acceleration data which is sent to and received by communication state server on a different node of the network . In some embodiments a communication state server resident on end node receives raw acceleration data from accelerometer across network segment . In some embodiments a computer serving as end node receives raw acceleration data from accelerometer and generates processed acceleration data which is then sent to and received by communication state server on a different node of the network . In an illustrated embodiment intermediate network node receives raw acceleration data from accelerometer and generates processed acceleration data which is then sent to and received by communication state server on a different node of the network .

In step communication state is determined based at least in part on the acceleration data received. The communication state indicates a type of network communication suitable for communicating with the user.

For example in some embodiments one communication state indicates that the user is walking and in possession of a cell phone. This communication state indicates that a call on a cell phone is an appropriate network communication but that an instant message to the person s desktop computer is not appropriate for the user s current state. The portion of the communication state that indicates that the user is walking is based on the acceleration data and makes it unlikely that the person is within view or hearing range of the user s desktop computer.

In some embodiments one communication state indicates that the user is walking and in possession of both a laptop computer and a beeper. This communication state indicates that a call on the beeper is an appropriate network communication but that an instant message to the person s laptop computer is not appropriate for the user s current state. The portion of the communication state that indicates that the user is walking is based on the acceleration data and makes it unlikely that the person currently has the laptop deployed for viewing.

In an illustrated embodiment one communication state indicates that the user is unconscious and in possession of a personal router serving as intermediate network device connected to wearable computer serving as end node and a digital camera serving as end node on network segment and a controller for an ear piece and heads up display and a global positioning system GPS end node on network segment . The user is determined to be unconscious based on the acceleration data that indicates either no movement at all or movement that is entirely due to a land vehicle moving over terrain in the user s vicinity as determined by the GPS. This communication state indicates that a loud signal on the ear piece is an appropriate network communication to possibly rouse a sleeping troop if warranted but that a visual message to the troop s heads up display is not appropriate for the user s current state. If the user does not respond to the ear piece signal then the user s state is changed to injured unconscious to indicate that the troop could not be roused by a loud audio signal to the troop s ear piece.

In an illustrated embodiment the communicative state is determined from a group including among others communication states that indicate a combination of one or more of the following states a persistently motionless living user who is not likely to be available for most network communication a passive passenger living user who is moving only passively with a moving vehicle and who is not likely to be available for most network communication a mildly active e.g. shifting head or hand moving living user who is likely to be available for any network communication a moderately active e.g. walking living user who is likely to be available for some network communication a strongly active e.g. running living user who is likely to be available only for certain most crucial network communications a normally functioning vehicular user that is likely to be available for normal network communications and an abnormally functioning vehicular user that is likely to be available only for diagnostic network communications an unreliable communication channel and a network node with compromised security.

In another embodiment the activity states are associated with communication states as follows. When the user activity state is stationary then the user can receive e mail. When the user activity state is moving very fast but not riding then the user can receive voice calls. When the user activity state is moving fast by riding then any form of short communications with the user is acceptable. When the user activity state is unexpectedly not moving then open a voice call with a team member to check on the user. When the user activity state indicates a fast fall towards earth followed by a sudden stop then an emergency call is placed to send emergency services to the user location. When the user activity state is moving fast then reduce the packet size and data rate of IP packets to increase reliability. When the user activity state is moving slow then increase packet size and data rate of IP packets to increase throughput.

Any method may be used to determine the communication state based on the acceleration data. In an illustrated embodiment the server maps activity state to network traffic types. In other embodiments server or another server not shown maps activity state to other meanings for other purposes. In the illustrated embodiment the mapping associates an index table of network address x with user y. Server determines that user y is in activity state z. Server then determines that suitable communications are types a b or c . Thus server formulates and serves up communication state information for user y using library . For example in some embodiments server determines proper forms of communications e mail voice call instant messenger IM pager etc. .

In some embodiments multiple different servers on the same or different node perform the functions of server . For example an activity state server determines user y is associated with activity state z. A communications broker server associates user y with network addresses x x x x for a cell phone network pager network and various IP clients and determines which of these addresses is best to use for the current activity state of the user y. In some embodiments the communications broker uses other sources of presence information in making its determination such as login information or the fact that the user just sent an IM message a few seconds earlier.

In other embodiments step includes predicting future communication states based on the acceleration data. For example based on a current position of user and rate of movement from the accelerometer data the communication state server determines that the user is about to leave an area of coverage for wireless communications over intermediate network node . In some embodiments server also determines that user is expected to be incapable of reliable network communications in the near future because the measured accelerations perturb an orientation of an antenna used by end node to communicate with intermediate node . In some embodiments server also determines that user is expected to be incapable of any network communication after that time. In some embodiments server also determines that user is expected to come into better range of a different intermediate network node e.g. intermediate network node when the user moves out of range of intermediate network node

In an illustrated embodiment step includes steps . In step one or more characteristics of the acceleration data are determined. For example in an illustrated embodiment a histogram of half second averaged accelerations accumulated over 45 seconds is determined based on the raw or processed acceleration data received in step for the accelerometer on personal router serving as intermediate network node . In a second illustrated embodiment a series of motion event vectors are determined.

In step the characteristic of the acceleration data are matched to characteristics in a library of acceleration characteristics associated with different user activities. For example the histogram computed in step is compared to one or more histograms in library that are associated with different human animal and vehicular user activities. In a second illustrated embodiment the series of motion event vectors are associated with a user activity state such as stationary walking running riding falling etc.

In an illustrated embodiment library includes histograms for an unconscious human user a mildly active human user who is occasionally shifting weight or moving hands or arms a moderately active human user who is walking and a strongly active human who is running or moving a heavy load. In the illustrated embodiment library includes histograms for an unconscious animal user a moderately active animal user and a stressed animal user. In the illustrated embodiment library includes for each of several vehicles histograms for one or more normal operating conditions including land operations over different types of terrain and one or more abnormal operating conditions such as immobilized vehicles vehicles with damaged wheels or supports or structures and collisions.

It is assumed for purposes of illustration that during step the histogram of half second averaged accelerations accumulated over 45 seconds based on the raw or processed acceleration data from accelerometer carried by human user matches most closely a library histogram for a land vehicle moving over rocky vegetation sparse terrain. When the vehicular motion is subtracted because the user is known to be a human not a vehicle the remaining signal matches most closely that of an unconscious human user.

In step the current communication state is determined based at least in part on the user activity associated with the matched acceleration characteristic. For example based on data not shown that associates intermediate node with human user and based on the determination during step a communication state is determined that indicates that the user is unconscious and in possession of a personal router intermediate network device connected to wearable computer node and a digital camera node on network segment and a controller for an ear piece and heads up display and a global positioning system GPS end node on network segment . In the second illustrated embodiment the user activity state unexpectedly not moving indicates a voice call should be opened with a team member to check on the user and packet size and data rate of IP packets should be increased to increase throughput.

In some embodiments step includes sending data that indicates the communication state to the mobile node. For example step includes sending data to mobile end node that indicates that the node is moving out of range of intermediate network node

In step communication with the mobile node is based on the communication state. For example in some embodiments if the communication state indicates an abnormally functioning vehicle then step includes providing reduced services to a mobile network node on the vehicle and adding communications to interrogate diagnostic systems on the vehicle.

In the illustrated embodiment communication with user is effected by a loud signal on the ear piece as an appropriate network communication to possibly rouse a sleeping troop if warranted because a visual message to the troop s heads up display is not appropriate for the current communication state.

If the user does not respond to the ear piece signal then the user s state is changed to injured unconscious that indicates that the troop could not be roused by a loud audio signal to the troop s ear piece. In various embodiments during step communications with user is suspended or diverted depending on a protocol for the embodiment. In some embodiments if the communication state indicates an injured human then step includes providing reduced services to a mobile network node carried by the human and adding communications to interrogate diagnostic systems for the human such as sensors for pulse blood pressure and body temperature of the human user.

In some embodiments the communication state is determined to be compromised communications based at least in part on the acceleration data. For example if it is determined that no friendly vehicle is in the vicinity of the user as determined by the GPS not shown on network segment then it can reasonably be inferred that the user or user equipment or both have been captured by hostile forces and are being transported by land vehicle over the specified terrain. In various embodiments sensitive data is no longer communicated to intermediate network node or sensitive data stored on one or more nodes carried by user e.g. nodes is deleted or both.

In some embodiments step includes sending data that indicates the communications state to the mobile node. For example step includes sending data to mobile intermediate network node that indicates the compromised communication state. In response one or more nodes carried by user deletes sensitive data.

In some embodiments a network node is configured based on the communication state. For example based on a communication state that indicates unreliable communications e.g. due to antenna accelerations at an outer range of a wireless intermediate network node such as node a network node is configured to use a reduced value for a network configuration parameter for a maximum size of data packets communicated over the network e.g. the maximum transmission unit MTU 

In the second illustrated embodiment the user activity state unexpectedly not moving causes a voice call to be opened with a team member to check on the user and causes packet size and data rate of IP packets to be increased to increase throughput.

In an illustrated embodiment step includes steps . In step one or more routing policies are determined based on the communication state. For example in some embodiments it is determined to use a network policy appropriate for unreliable communications. A network policy is a set of rules for routing data packets on a network. For example a particular network policy for unreliable transmissions is determined base on the communication state.

In step a network node is configured based on the routing policy. For example network node is configured to use a reduced value MTU as part of the particular network policy.

Computer system also includes a memory coupled to bus . The memory such as a random access memory RAM or other dynamic storage device stores information including computer instructions. Dynamic memory allows information stored therein to be changed by the computer system . RAM allows a unit of information stored at a location called a memory address to be stored and retrieved independently of information at neighboring addresses. The memory is also used by the processor to store temporary values during execution of computer instructions. The computer system also includes a read only memory ROM or other static storage device coupled to the bus for storing static information including instructions that is not changed by the computer system . Also coupled to bus is a non volatile persistent storage device such as a magnetic disk or optical disk for storing information including instructions that persists even when the computer system is turned off or otherwise loses power.

Information including instructions is provided to the bus for use by the processor from an external input device such as a keyboard containing alphanumeric keys operated by a human user or a sensor. A sensor detects conditions in its vicinity and transforms those detections into signals compatible with the signals used to represent information in computer system . Other external devices coupled to bus used primarily for interacting with humans include a display device such as a cathode ray tube CRT or a liquid crystal display LCD for presenting images and a pointing device such as a mouse or a trackball or cursor direction keys for controlling a position of a small cursor image presented on the display and issuing commands associated with graphical elements presented on the display .

In the illustrated embodiment special purpose hardware such as an application specific integrated circuit IC is coupled to bus . The special purpose hardware is configured to perform operations not performed by processor quickly enough for special purposes. Examples of application specific ICs include graphics accelerator cards for generating images for display cryptographic boards for encrypting and decrypting messages sent over a network speech recognition and interfaces to special external devices such as robotic arms and medical scanning equipment that repeatedly perform some complex sequence of operations that are more efficiently implemented in hardware.

Computer system also includes one or more instances of a communications interface coupled to bus . Communication interface provides a two way communication coupling to a variety of external devices that operate with their own processors such as printers scanners and external disks. In general the coupling is with a network link that is connected to a local network to which a variety of external devices with their own processors are connected. For example communication interface may be a parallel port or a serial port or a universal serial bus USB port on a personal computer. In some embodiments communications interface is an integrated services digital network ISDN card or a digital subscriber line DSL card or a telephone modem that provides an information communication connection to a corresponding type of telephone line. In some embodiments a communication interface is a cable modem that converts signals on bus into signals for a communication connection over a coaxial cable or into optical signals for a communication connection over a fiber optic cable. As another example communications interface may be a local area network LAN card to provide a data communication connection to a compatible LAN such as Ethernet. Wireless links may also be implemented. For wireless links the communications interface sends and receives electrical acoustic or electromagnetic signals including infrared and optical signals that carry information streams such as digital data. Such signals are examples of carrier waves.

The term computer readable medium is used herein to refer to any medium that participates in providing instructions to processor for execution. Such a medium may take many forms including but not limited to non volatile media volatile media and transmission media. Non volatile media include for example optical or magnetic disks such as storage device . Volatile media include for example dynamic memory . Transmission media include for example coaxial cables copper wire fiber optic cables and waves that travel through space without wires or cables such as acoustic waves and electromagnetic waves including radio optical and infrared waves. Signals that are transmitted over transmission media are herein called carrier waves.

Common forms of computer readable media include for example a floppy disk a flexible disk a hard disk a magnetic tape or any other magnetic medium a compact disk ROM CD ROM or any other optical medium punch cards paper tape or any other physical medium with patterns of holes a RAM a programmable ROM PROM an erasable PROM EPROM a FLASH EPROM or any other memory chip or cartridge a carrier wave or any other medium from which a computer can read.

Network link typically provides information communication through one or more networks to other devices that use or process the information. For example network link may provide a connection through local network to a host computer or to equipment operated by an Internet Service Provider ISP . ISP equipment in turn provides data communication services through the public world wide packet switching communication network of networks now commonly referred to as the Internet . A computer called a server connected to the Internet provides a service in response to information received over the Internet. For example server provides information representing video data for presentation at display .

The invention is related to the use of computer system for implementing the techniques described herein. According to one embodiment of the invention those techniques are performed by computer system in response to processor executing one or more sequences of one or more instructions contained in memory . Such instructions also called software and program code may be read into memory from another computer readable medium such as storage device . Execution of the sequences of instructions contained in memory causes processor to perform the method steps described herein. In alternative embodiments hardware such as application specific integrated circuit may be used in place of or in combination with software to implement the invention. Thus embodiments of the invention are not limited to any specific combination of hardware and software.

The signals transmitted over network link and other networks through communications interface which carry information to and from computer system are exemplary forms of carrier waves. Computer system can send and receive information including program code through the networks among others through network link and communications interface . In an example using the Internet a server transmits program code for a particular application requested by a message sent from computer through Internet ISP equipment local network and communications interface . The received code may be executed by processor as it is received or may be stored in storage device or other non volatile storage for later execution or both. In this manner computer system may obtain application program code in the form of a carrier wave.

Various forms of computer readable media may be involved in carrying one or more sequence of instructions or data or both to processor for execution. For example instructions and data may initially be carried on a magnetic disk of a remote computer such as host . The remote computer loads the instructions and data into its dynamic memory and sends the instructions and data over a telephone line using a modem. A modem local to the computer system receives the instructions and data on a telephone line and uses an infra red transmitter to convert the instructions and data to an infra red signal a carrier wave serving as the network link . An infrared detector serving as communications interface receives the instructions and data carried in the infrared signal and places information representing the instructions and data onto bus . Bus carries the information to memory from which processor retrieves and executes the instructions using some of the data sent with the instructions. The instructions and data received in memory may optionally be stored on storage device either before or after execution by the processor .

In the foregoing specification the invention has been described with reference to specific embodiments thereof. It will however be evident that various modifications and changes may be made thereto without departing from the broader spirit and scope of the invention. The specification and drawings are accordingly to be regarded in an illustrative rather than a restrictive sense.

