---

title: Systems and methods for enforcement of security profiles in multi-tenant database
abstract: Embodiments relate to systems and methods for the enforcement of security profiles in a multi-tenant database. A multi-tenant database can be populated with data from different users or other entities. Different users may enjoy different sets of permissions to access, modify, store, and/or otherwise manipulate sets of data within the database. After authentication, a user's associated set of permissions are retrieved. When data is requested, matching tables or other objects located in the database are identified based on the user's query. Rather than retrieving matching tables or other objects directly, a meta data security engine can check the requesting user's permissions, and apply any filters or restrictions required by those permissions to the data present in the table(s). A substitution can be made of a table-valued function, including any filtered data entries, for the table itself. Flexible and granular data security rules can thereby be applied, transparently to the user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09286475&OS=09286475&RS=09286475
owner: XEROX CORPORATION
number: 09286475
owner_city: Norwalk
owner_country: US
publication_date: 20120221
---
The present teachings relate to systems and methods for the enforcement of security profiles in a multi tenant database and more particularly to platforms and techniques for exposing the internal data model of a multi tenant database to users on public or private networks while applying desired security protocols to the accessing of selected data by individual users and others.

In the field of network database management the use of multi tenant databases which host data for two or more distinct users or entities is known. The data hosted within the overall database can include various types levels and configurations of data for access and consumption by a potentially diverse set of applications. Within the field of applications such as centralized asset supplies and incident management applications it is not uncommon for client applications to request data from a central database that applies or imposes different implementation techniques to ensure that users of a given client application only see data that they are entitled to. A common implementation technique involves the client applications creating and managing a duplicate set of access control rules that reproduce the ones that exist in the central application database. While this approach has potential benefits such as flexibility it incurs a high cost of maintenance and is not scalable to multiple client applications.

Another approach in known database technology is for client applications to access and consume a set of application programming interfaces APIs that control and manage the data security for the client applications. This minimizes the duplication of effort but reduces the flexibility available from the model placing the burden of change on the central application database since that database must adapt the suite of APIs to new application needs.

It may be desirable to provide methods and systems for the enforcement of security profiles in multi tenant database in which security policies for a diverse range of applications can be installed and managed via a central multi tenant database while making the specification and application of the security policies transparent to applications and users while remaining scalable and relatively flexible or configurable.

Embodiments of the present teachings relate to systems and methods for the enforcement of security profiles in a multi tenant database. More particularly embodiments relate to platforms and techniques for configuring maintain and enforcing a set of security related permissions in a multi tenant database and or other data store. In aspects multiple users and or other entities can maintain data sets in a single database hosting multiple users or tenants. Different users may have different access rights and or other permissions to different portions of the data stored in the multi tenant database. In embodiments the multi tenant database can store the resident data in a table based format and can for instance be structured as a SQL database although other types of data stores can be used. After authentication a meta data security engine can retrieve a user s assigned set of permissions and access or apply those permissions to via table valued function. The table valued function can provide a view on the data which the user has requested while suppressing or filtering those data components which the user does not have the required permission to read or access. The table valued function can thereby serve to filter or condition the retrieval of data by individual users in a transparent manner that does not require any manual configuration by the user making the data query. Greater flexibility and granularity in the management of access rights can therefore be maintained.

Reference will now be made in detail to exemplary embodiments of the present teachings which are illustrated in the accompanying drawings. Where possible the same reference numbers will be used throughout the drawings to refer to the same or like parts.

In aspects as also shown one or more client in the set of clients and or other devices platforms services and or user portals can access the data service via and or in association with a number of intermediate services applications and or engines designed to deliver authentication data security and or other services while processing data queries from the user. More particularly in aspects as shown the set of clients and or other devices platforms services and or user portals which is initiating access to the data service can first interact with an authentication service . The multi tenant database can be or include for example the Windows Communication Foundation WCF service and or other proprietary and or public domain authentication applications and or services. At time of login the user of the subject set of clients and or other devices platforms services and or user portals can proceed through a login process including the receipt of a user name password and or other credentials from the user. After receiving positive authentication results from the multi tenant database the user of the set of clients and or other devices platforms services and or user portals can be connected to and or permitted to access the data service for purposes of data access retrieval updating and or other data manipulation or activities.

In aspects the user can transmit a query to the data service for purposes of interrogating the a set of tables and or other information hosted in the multi tenant database and receiving back from that database various data outputs reports and or other results. In aspects the data service can communicate with an entity data model which can present or expose the data structure schema and or model to the user and or others to permit query and database activities. The entity data model can for instance expose the tables columns rows hierarchies and or other logical arrangements of the data hosted in the multi tenant database . In aspects the data entity model and or other published or exposed model schema and or configuration can in turn communicate with a meta data security engine which mediates the delivery of results to the query via a set of permissions accessed or maintained by the meta data security engine and or other security application platform and or service. In aspects the meta data security engine can be or include one or more platforms applications services and or logic used to map portions or all of the data hosted in the multi tenant database to those users or other entities entitled to view and or manipulate that data for instance by building a set of tables which record information including tables or other entities exposed to applications or users of the multi tenant database along with necessary permissions needed by users or groups to access that data and or other information. Different levels of access control can be enforced via meta data security engine including user level controls group level controls column level controls row level controls and or others. In implementations the set of entities users groups permissions and or other control features can be stored or encoded in formats other than table formats if desired or called for by implementation.

In aspects the set of permissions can include access control lists filters privilege requirements user specific access rights and or other security information determining the data reading writing updating and or other activities permitted by one or more users. In embodiments as shown the set of permissions and or other security or access rules filters criteria privileges user profiles and or profiles for other entities and or functions can be stored or hosted in the multi tenant database itself. In further embodiments the set of permissions can be stored in one or more other data stores associated with the meta data security engine and or other security applications platforms sites locations and or services.

In embodiments the data service can receive the query and generate a query such as a SQL query that is compatible with the data model or schema presented in the data entity model and or other published or exposed model schema and or configuration and transmit that translated request command and or instructions to the data entity model and or other published or exposed model schema and or configuration. The data entity model and or other published or exposed model schema and or configuration can receive the SQL and or other request command and or instructions to the meta data security engine and or other security application platform and or service. In aspects the meta data security engine and or other security application platform and or service can receive the SQL and or other request command and or instructions and analyze that request or query in light of the set of permissions that apply to the user who supplied query . In aspects this can include examining the overall level of permission and or access rights that are afforded to the user the specific tables fields variables and or other information that the query calls for and or other information to filter or condition the results to be generated for the user s query . Merely in terms of an example a query received from Company A can request data related laboratory results for a particular pharmaceutical trial in cases where the multi tenant database includes medically related information. The meta data security engine and or other security application platform and or service can receive the corresponding SQL and or other request command and or instructions for that data and consult the set of permissions to ensure that the user is associated with Company A and that user and or Company A as a whole has access permission to view those results. In aspects the set of permissions may indicate that a second Company B has rights to view its own data but no access rights to view the clinical data of Company A while Company C which could for instance be in a joint development effort with Company A is entitled to also view the results of Company A without restriction. In cases different users of a given company and or other organization may have rights to view different parts of the data associated with their company. In general the set of permissions can establish data rights to all of the set of tables contained in the multi tenant database and or to any subset or subsets of the set of tables including for instance selected fields columns tables variables and or other data components of the set of tables and or other information content of the multi tenant database . In aspects the set of permissions and or other security or access rules filters criteria profiles privileges and or functions can be selected to establish data control at any level of granularity specified by a user and or organization administrator of the multi tenant database and or other person or entity. In further aspects the set of permissions and or other security or access rules filters criteria profiles privileges and or functions can be applied to the content of query in a transparent manner so that the user is not aware of the additional data to which the user does not enjoy rights. Similarly the set of permissions and or other security or access rules filters criteria profiles privileges and or functions can be set up and configured by the user organization administrator of the multi tenant database and or other person or entity at any time and or can be imported or generated automatically.

After processing of the content of query and applying the set of permissions the meta data security engine and or other security application platform and or service can intercept adapt filter and or otherwise modify or process the data contained in the set of tables to generate results in the form of a table valued function rather than directly outputting matching data from the set of tables . In aspects the table valued function can replace or be substituted for the raw data contained in the set of tables yet operate to provide a view of all the constituent data of the set of tables to which the user is entitled through the set of permissions . The view to accessible data delivered by the table valued function can in aspects be fully compatible with the SQL or other format of the query so that again the results contained in the table valued function are transparent to the user without adaptation or additional processing while still ensuring necessary security and access control.

In a SQL and or other request command and or instructions can be generated via the data service reproducing and or based on the user s original query . In the SQL and or other request command and or instructions generated by the data service can be received in the data entity model and or other published or exposed model schema and or configuration for purposes of interrogating the set of tables and or other data structures of the multi tenant database . In the multi tenant database can be interrogated based on the SQL and or other request command and or instructions based on or corresponding to the query . In aspects for instance the SQL and or other request command and or instructions can comprise statements or instructions such as an instruction to JOIN or to MERGE two or more tables in the set of tables and or perform other actions or processing.

In the meta data security engine and or other security application platform and or service can substitute a table valued function or table valued functions for any matching table results or outputs obtained from the set of tables prior to preparing results to transmit to the user. In the meta data security engine and or other security application platform and or service can return the table valued function to the user via the client they are operating in the set of clients and or otherwise. In aspects as shown the table valued function can be transmitted to the user via the data entity model and or other published or exposed model schema and or configuration and data service and or can be routed or directed through other pathways or connections. In processing can return to a prior processing point jump to a further processing point repeat and or end.

In the a determination can be made by the meta data security engine and or other security application platform and or service whether the currently identified table s permissions in the set of permissions are covered and or reflected in one or more previously generated table valued function . If the determination is yes processing can return to . If the determination is no processing can proceed to . In the meta data security engine and or other security application platform and or service can replace the identified table with the tabled value function and or perform another substitution or alteration of the matching table s in the set of tables to conform the results delivered to the user to that user s set of permissions. In processing can return to a prior processing point jump to a further processing point repeat or end.

In if the determination is that the identified tables do not contain any columns that require permissions other than table permissions processing can proceed to . In the meta data security engine and or other security application platform and or service can select every column in the identified table s and filter the rows of that table or tables by the accounts users and or other entities the user s login session has permission for.

In processing can repeat return to a prior processing point jump to a further processing point or end.

The foregoing description is illustrative and variations in configuration and implementation may occur to persons skilled in the art. For example while embodiments have been described which generally adhere to the SQL database standard in embodiments other classes or types of databases can be used. For further example while embodiments have been described in which data control operations are performed by a single meta data security engine and or other security application platform and or service in embodiments multiple security engines or services can provide data conditioning filtering and other services or functions. Other resources described as singular or integrated can in embodiments be plural or distributed and resources described as multiple or distributed can in embodiments be combined. The scope of the present teachings is accordingly intended to be limited only by the following claims.

