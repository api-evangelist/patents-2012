---

title: Methods and apparatus for estimating the position and orientation of an implant using a mobile device
abstract: Methods and apparatus for providing an overlay image of an implant during a surgical procedure using a mobile computing device are provided herein. The implant may include radio-opaque internal markers adjacent to and defining edges of the implant. The method may include: capturing an image of a imaging display device screen; estimating a pose of the implant based on the relationship between the 2-D positions of the radio-opaque internal markers and the 3-D positions of the radio-opaque internal markers; retrieving or generating a 3-D model image of the implant at the determined pose using the 3-D implant data; and overlaying the 3-D model image onto the image of the implant. The captured image may include the implant and at least two of the radio-opaque internal markers being visible as fiducial markers within the image. The fiducial markers may be 2-D positions of the radio-opaque internal markers in a 2-D plane.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08989843&OS=08989843&RS=08989843
owner: DePuy Synthes Products, LLC
number: 08989843
owner_city: Raynham
owner_country: US
publication_date: 20120605
---
Polyether ether ketone PEEK is a thermoplastic material commonly used in the manufacture of implants. PEEK implants provide many advantages as compared to implants made of metal such as titanium. For example PEEK implants have a modulus of elasticity that is more similar to the modulus of elasticity of bone and therefore PEEK implants provide for improved biomechanics when implanted into the body. In addition PEEK implants are radiolucent i.e. partly or wholly permeable to radiation . This allows for improved assessment of bony fusion and or reappearance of cancer.

Because PEEK implants are radiolucent it is more difficult to intraoperatively determine the exact implant position and orientation. One solution to the problem above is to provide an implant made of a semi radiolucent PEEK material that is partially visible with a C arm x ray system for example. However when the PEEK implant is semi radiolucent it becomes more difficult to assess bony fusion and or reappearance of cancer. Another solution to the problem above is to provide radio opaque internal markers within the PEEK implants that define the edges of the PEEK implants. The markers appear as fiducial markers in the image captured by the C arm x ray system and facilitate visual estimation of implant position and orientation. However even using PEEK implants with radio opaque markers it is still difficult to accurately estimate implant position and orientation because the exact distance between the markers and the edges of the implants are not captured in the image.

A method for providing an overlay image of an implant using a mobile computing device is provided herein. The implant may include radio opaque internal markers adjacent to and defining edges of the implant. In addition the mobile computing device may store a library of 3 D implant data including 3 D positions of the internal markers in 3 D space. The method may include capturing an image of an imaging display device screen estimating a pose of the implant based on the relationship between the 2 D positions of the radio opaque internal markers and the 3 D positions of the radio opaque internal markers retrieving or generating a 3 D model image of the implant at the determined pose using the 3 D implant data and overlaying the 3 D model image onto the captured image of the implant. The captured image may include the implant and at least two of the radio opaque internal markers which are visible as fiducial markers within the captured image. The fiducial markers may be 2 D positions of the radio opaque internal markers in a 2 D plane. Further the 3 D model image may be provided at the estimated pose over the implant.

Optionally the estimated pose of the implant may be defined by a projection transformation. In addition the method may further include deriving the projection transformation using the 2 D positions of the internal markers and the 3 D positions of the internal markers.

Alternatively or additionally the method may include receiving information related to the implant and or the surgical procedure and using the received information when estimating the pose of the implant. The received information may be used to refine the derivation of the projection transformation. In addition the information may include at least one of an implant family an implant size an implant component an imaging view and a surgical approach.

In another implementation the method may include requesting information related to the implant and or the surgical procedure under the condition that the pose of the implant cannot be derived.

In yet another implementation the method may include performing an image process on the 3 D model image. For example the image process may include adjusting transparency of the 3 D model image.

One of ordinary skill in the art would understand that the above described subject matter may also be implemented as a computer controlled apparatus a computer process a computing system or an article of manufacture such as a computer readable storage medium.

Other systems methods features and or advantages will be or may become apparent to one with skill in the art upon examination of the following drawings and detailed description. It is intended that ail such additional systems methods features and or advantages be included within this description and be protected by the accompanying claims.

Unless defined otherwise all technical and scientific terms used herein have the same meaning as commonly understood by one of ordinary skill in the art. Methods and materials similar or equivalent to those described herein can be used in the practice or testing of the present disclosure. While implementations will be described for estimating the position and orientation of implants using a mobile computing device it will become evident to those skilled in the art that the implementations are not limited thereto but are applicable for estimating the position and orientation of any object for which 3 D information is known using a mobile computing device.

Referring to a mobile computing device and an imaging device according to an implementation of the invention are shown. The mobile computing device may be used for estimating the position and orientation of implants. The mobile computing device may be implemented as the computing device discussed with regard to or alternatively as a specialized computing device configured to perform a specific task. For example in some implementations the mobile computing device may be an IPAD available from APPLE INC. CUPERTINO Calif. However in other implementations the mobile computing device may be another type of portable computing device such as a laptop computer a tablet a smart phone etc. The imaging device may be a medical imaging device such as a C arm x ray system. The imaging device may include an imaging device display screen for displaying an image of a patient such as an x ray image for example.

As shown in the mobile computing device may be capable of capturing an image of the imaging device display screen . In order to capture images the mobile computing device may include an image capturing device i.e. a digital camera . The captured image may then be displayed by the mobile computing device and optionally stored in memory of the mobile computing device . For example the imaging device may capture record and or display an image of an implant inserted within the patient s body during a surgical procedure which may then be captured and displayed on the mobile computing device . The position of the image capturing device of the mobile computing device relative to the imaging device is not critical to the operations discussed below for estimating the position and orientation of the implants. As discussed above the implant may be made of a PEEK material which is radiolucent and therefore difficult to identify visually on the imaging device display screen and or in the captured image . For example a faint outline of the implant may be visible in the captured image .

Referring to an example captured image of an imaging display device screen showing an A P view of an implant is shown. The captured image may be displayed on the mobile computing device shown in . The captured image may include the implant and a plurality of internal markers . In three fiducial markers are specifically labeled but additional fiducial markers are visible in the captured image . A clamp is also included in the captured image . The clamp is a portion of the device that may be utilized during the surgical procedure to position the implant and is visible because it is radio opaque.

The implant may be formed in a variety of shapes and sizes. For example the implant may include a ring a post and endplates fixed to opposite ends of the post i.e. cranial and caudal endplates . The implant may also be expandable such that the distance between the endplates is adjustable. In addition the endplates may be various sizes and or fixed at various angles with respect to the post. As discussed above if the implant is made of a PEEK material the implant will be difficult to identify visually within the image i.e. an x ray image because the PEEK material is radiolucent. Thus in order to assist the surgeon placing the implant the implant may be provided with radio opaque internal markers. The radio opaque internal markers are placed adjacent to and define the edges of the implant. For example the radio opaque internal markers may be placed 1 mm from the edges of the implant. The implant may be designed such that the radio opaque internal markers assist the surgeon in visualizing the structural features of the implant. In fact the radio opaque internal markers allow the surgeon to visualize an implant having any shape size and or feature. Accordingly the radio opaque internal markers allow the surgeon to estimate the position and orientation i.e. a pose of the implant of the implant during surgery. However even when a well designed implant includes radio opaque internal markers it may still be difficult for the surgeon to estimate the position and orientation of the implant during surgery because it is not possible to visually identify the edges of the implant.

The pose of an object i.e. the implant is defined as the position and orientation of the object relative to a coordinate system such as but not limited to a Cartesian coordinate system in three dimensional 3 D space. One of ordinary skill in the art would understand that there are many algorithms for estimating the pose of an object relative to 3 D space using a two dimensional 2 D image of the object. In particular the pose of an object can be estimated based on an approximate 3 D model of the object and a 2 D image of the object. The 2 D image of the object may preferably include a number of points i.e. 2 D to 3 D correspondences of the approximate 3 D model of the object. Different algorithms may require different numbers of 2 D to 3 D correspondences in order to estimate the pose of the object. In addition the position of the image capturing device at the time of capturing the 2 D image is not critical to estimating the pose of the object.

As discussed above the implant may include a number of radio opaque internal markers that are adjacent to and define edges of the implant. The positions of the radio opaque markers in 3 D space are fixed. The positions of the radio opaque 3 D markers may be included in the 3 D implant data which may be stored in memory of the mobile computing device shown in . Because the internal markers are radio opaque the internal markers may be visible as fiducial markers within an image of the implant such as an image captured by a C arm x ray system for example. For example the radio opaque internal markers of the implant may be visible as the fiducial markers shown in the captured image of . The fiducial markers are 2 D positions of the radio opaque internal markers in a 2 D image plane i.e. the captured image . It is possible to map the 3 D positions of the radio opaque internal markers of the implant onto the 2 D image plane using a transformation. The transformation may be any function that maps one set of points to another set of points. For example the transformation may be the function that maps each point in 3 D space i.e. a radio opaque internal marker to its corresponding point i.e. a fiducial marker in the 2 D image plane. Example transformations include but are not limited to perspective and orthographic projections. The transformation may be used to define the pose of the object. Accordingly the pose of the implant or the transformation may be derived based on the relationships or correspondences between the 3 D positions of the radio opaque internal markers in 3 D space and the 2 D positions of the fiducial markers in the 2 D image plane.

One example algorithm is the POSIT algorithm which is capable of estimating the pose i.e. 3 D rotation and translation of the implant based only on a single 2 D image of the implant. The POSIT algorithm requires an approximate 3 D model of the implant i.e. 3 D implant data including 3 D positions of the radio opaque internal markers in 3 D space and 2 D to 3 D correspondences. The POSIT algorithm may require correspondences between at least four non coplanar 2 D and 3 D points in order to estimate the pose of the implant with sufficient accuracy. The POSIT algorithm first approximates the perspective projection using a scaled orthographic projection and finds the rotation matrix and translation vector. The POSIT algorithm then iteratively calculates scaled orthographic projections at each 2 D to 3 D correspondence and approximates the perspective projection using the iteratively corrected projections. The POSIT algorithm is discussed in detail in DeMenthon et al Model Based Object Pose in 25 Lines of Code 15 123 41 1995 . One of ordinary skill in the art would understand that the POSIT algorithm is only one example algorithm and that additional algorithms for estimating the pose of an object are available.

Referring to an example information input display screen of the mobile computing device is shown. Optionally additional information regarding the implant and or the surgical procedure may be obtained. This additional information may be used to refine the estimated pose of the implant. For example as shown in the additional information such as but not limited to a family type of the implant and an approach of a surgical procedure may allow certain positions and orientations to be ruled out. Alternatively or additionally the additional information may be requested in the event that the pose of the implant cannot be calculated based on the 2 D to 3 D correspondences. In some implementations the additional information may be needed to estimate the pose of the implant. In particular there may be cases where too many radio opaque internal markers are obscured such that some of the radio opaque internal markers are not visible as fiducial markers in the captured image which may result in too few 2 D to 3 D correspondences. Having too few 2 D to 3 D correspondences may lead to an inaccurate estimated pose of the implant. However by providing additional information regarding the implant and or the surgical procedure in addition to the 2 D to 3 D correspondences it may be possible to estimate the pose of the implant.

As shown in the information input display screen may be displayed on the mobile computing device shown in . The information input display screen may provide a mechanism for entering additional information regarding the implant and or the surgical procedure and an input section A and B. The mechanism may include entry fields corresponding to categories of requested information. The categories of requested information may include but are not limited to the implant family the size of the central body information regarding the endplates the surgical approach and the image view i.e. the medical imaging device image view . As discussed above the implant may be formed in a variety of shapes and sizes. Accordingly different implants may be grouped into different implant families based on structural differences i.e. posts rings endplates etc. and or sizes of the various implants. In addition different implants may be formed from various structural components having different sizes and or orientations. In for example the size of the central body is indicated as and the orientations of the cranial and caudal endplates relative to the central body are indicated as 0 degrees. The additional information regarding the implant shown in provides information regarding the position and orientation of the implant which may be used in refining the estimated the pose of the implant based on the 2 D to 3 D correspondences. Further additional information regarding the surgical procedure such as the surgical approach i.e. lateral and or the image view i.e. A P or lateral provides information regarding the position and orientation of the implant. Similarly to the additional information regarding the implant the additional information regarding the surgical procedure may be used in refining the estimated the pose of the implant based on the 2 D to 3 D correspondences.

The information input display screen may also provide an input section A and B. In the input section is a touch screen including the keyboard input section A and a scrolling input section B. The input section A and B may allow the user to enter the additional information regarding the implant and or the surgical procedure. Although the input section shown is a touch screen it may be possible to implement the input section in another manner such as using input keys buttons knobs etc. provided on the mobile computing device shown in .

After generating the 3 D model image A and B it may be possible to perform image processing on the generated 3 D model image A and B. One example image process to perform on the generated 3 D model image A and B is adjusting the transparency. For example it may be possible to increase and or decrease the transparency of the 3 D model image A and B. By increasing and or decreasing the transparency the 3 D model image A and B becomes more or less visible as compared to the captured image . The 3 D model image B shown in is shown as more transparent i.e. 50 than the 3 D model image A shown in i.e. 100 . The relative amount of transparency may also be provided over the captured image .

Referring to example operations for providing an overlay image of an implant during a surgical procedure using a mobile computing device are shown. At an image of an imaging display device screen may be captured. For example an imaging device such as a C arm x ray system shown in may include an imaging device display screen on which an image may be displayed. It may be possible to capture an image of the imaging device display screen using the mobile computing device shown in . The position of the image capturing device of the mobile computing device is not critical to estimating the pose of the implant. After capturing an image of the imaging display device screen it may be possible to estimate a pose i.e. the position and orientation of the implant included in the captured image. For example the pose of the implant may be estimated based on an approximate 3 D model of the implant and a 2 D image of the implant. The approximate 3 D model of the implant may be stored as 3 D implant data in memory of the mobile computing device for example. The 3 D implant data may preferably include the 3 D positions of the radio opaque internal markers in 3 D space. In addition the radio opaque internal markers may be visible as fiducial markers in the 2 D image. Accordingly it may be possible to derive the projection transformation based on correspondences between the 3 D positions of the radio opaque internal markers and the 2 D positions of the fiducial markers. As discussed above one of ordinary skill in the art would understand that there are many algorithms available for estimating the pose of the implant based on the 2 D to 3 D correspondences. After estimating a pose of the implant it may be possible to retrieve a 3 D model image from a database of images or generate a 3 D model image of the implant using the 3 D implant data at for example. The 3 D model image of the implant may be a 3 D representation of the implant at the estimated pose. At the 3 D model image may be provided as an overlay on the captured image. The 3 D model image may be provided in the same position and at the same orientation as the implant within the patient s body which allows the surgeon to visualize the position and orientation of the implant.

Referring to example operations for providing an overlay image of an implant during a surgical procedure using a mobile computing device are shown. Many of the operations shown in are similar to the operations shown in and are therefore not discussed in detail below. At it may be possible to request information regarding the implant and or the surgical procedure. The requested information may include but is not limited to the implant family the size of the implant the implant components the surgical approach and the image view. The requested information may be used to refine the estimated pose of the implant based on the 2 D to 3 D correspondences. For example as discussed above the additional information may be requested in the event that the pose of the implant cannot be calculated based on the 2 D to 3 D correspondences such as in the case where too many radio opaque internal markers are obstructed and not visible as fiducial markers in the captured image. This may result in too few 2 D to 3 D correspondences to accurately estimate the pose of the implant. At it may be possible to receive information regarding the implant and or the surgical procedure. As shown in the information may be requested and received using an information input display screen displayed on the mobile computing device.

At after estimating the pose of the implant and generating a 3 D model image of the implant an image process may be performed on the 3 D model image of the implant. For example it may be possible to adjust the relative transparency of the 3 D model image. By adjusting the relative transparency of the 3 D model image the 3 D model image may become more or less visible as compared to the captured image. Adjusting the transparency of the 3 D model image is only one example of an image process that may be performed on the 3 D model image and one of ordinary skill in the art would understand that additional image processes may be performed. It may also be possible to store the image of the implant along with the 3 D model image at . For example the captured image including the 3 D model image overlay may be stored in memory of the mobile computing device. By storing the captured image including the 3 D model image overlay it may be possible to share the captured image. For example the captured image including the 3 D model image overlay may be e mailed to a remote consultant stored in electronic medical record etc.

Referring to a block diagram of an example computing device is illustrated. The mobile computing device discussed above may be a computing device such as computing device shown in . In its most basic configuration computing device typically includes at least one processing unit and memory . Depending on the exact configuration and type of computing device memory may be volatile such as random access memory RAM non volatile such as read only memory ROM flash memory etc. or some combination of the two. This most basic configuration is illustrated in by dashed line . The processing unit may be a standard programmable processor that performs arithmetic and logic operations necessary for operation of the computing device . The computing device may also include an image capturing device such as a digital camera. The image capturing device may be capable of capturing images that may be stored in memory of the computing device .

The processing unit may be configured to execute program code encoded in tangible computer readable media. For example the processing unit may execute program code stored in the system memory .

Computing device may have additional features functionality. For example computing device may include additional storage such as removable storage and non removable storage including but not limited to magnetic or optical disks or tapes. Computing device may also contain network connection s that allow the device to communicate with other devices. Computing device may also have input device s such as a keyboard mouse touch screen etc. Output device s such as a display speakers printer etc. may also be included. All these devices are well known in the art and need not be discussed at length here.

Computing device typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by device and includes both volatile and non volatile media removable and non removable media. Computer storage media include volatile and non volatile and removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. System memory removable storage and non removable storage are all examples of computer storage media. Computer storage media include but are not limited to RAM ROM electrically erasable program read only memory EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by computing device . Any such computer storage media may be part of computing device .

It should be understood that the various techniques described herein may be implemented in connection with hardware firmware or software or where appropriate with a combination thereof. Thus the methods and apparatuses of the presently disclosed subject matter or certain aspects or portions thereof may take the form of program code i.e. instructions embodied in tangible media such as floppy diskettes CD ROMs hard drives or any other machine readable storage medium wherein when the program code is loaded into and executed by a machine such as a computing device the machine becomes an apparatus for practicing the presently disclosed subject matter. In the case of program code execution on programmable computers the computing device generally includes a processor a storage medium readable by the processor including volatile and non volatile memory and or storage elements at least one input device and at least one output device. One or more programs may implement or utilize the processes described in connection with the presently disclosed subject matter e.g. through the use of an application programming interface API reusable controls or the like. Such programs may be implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the program s can be implemented in assembly or machine language if desired. In any case the language may be a compiled or interpreted language and it may be combined with hardware implementations.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

