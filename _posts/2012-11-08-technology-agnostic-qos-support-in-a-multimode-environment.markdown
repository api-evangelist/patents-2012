---

title: Technology agnostic QoS support in a multi-mode environment
abstract: A generic quality of service (QoS) model that is not dependent on network technology is used to support QoS for communication networks utilizing different network technologies. The generic QoS model may include a superset of all QoS parameters for all network technologies being supported, e.g., 3GPP and 3GPP2. An application at a device may specify QoS for a traffic flow based on the generic QoS parameters in the superset. The generic QoS parameters may be converted to QoS parameters that are specific to a serving network. The converted QoS parameters are exchanged with the serving network and are used while exchanging traffic with the serving network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08879584&OS=08879584&RS=08879584
owner: QUALCOMM Incorporated
number: 08879584
owner_city: San Diego
owner_country: US
publication_date: 20121108
---
The present Application for Patent is a Divisional of U.S. patent application Ser. No. 11 197 003 entitled TECHNOLOGY AGNOSTIC QOS SUPPORT IN A MULTI MODE ENVIRONMENT filed Aug. 4 2005 which issued as U.S. Pat. No. 8 331 375 on Dec. 11 2012 and which is further assigned to the assignee hereof and hereby expressly incorporated by reference herein in its entirety.

The present disclosure relates generally to communication and more specifically to techniques for supporting quality of service QoS in communication networks.

Wireless communication networks are widely deployed to provide various communication services such as voice packet data and so on. These wireless networks may be multiple access networks capable of supporting multiple users by sharing the available resources. Examples of such multiple access networks include Code Division Multiple Access CDMA networks Time Division Multiple Access TDMA networks Frequency Division Multiple Access FDMA networks and Orthogonal Frequency Division Multiple Access OFDMA networks.

A user may utilize a wireless device to obtain various communication services. Each service may be satisfactorily provided to the user by ensuring that a specified quality of service QoS is achieved for that service. QoS may be quantified by different parameters for different services. For example a voice service may require a relatively stringent delay and a certain minimum guaranteed data rate whereas a packet data service may require a certain target packet error rate.

A wireless network typically provides the specified QoS for each service in a specific manner e.g. using specific QoS parameters. Different wireless networks may utilize different QoS parameters for the same or comparable service. The different manners in which different wireless networks provide QoS can be problematic. For example a wireless user may be roaming and may be handed off from one wireless network to another wireless network while receiving a packet data service. These wireless networks may provide QoS for the packet data service in different ways. The wireless device would then need to be aware of the difference in QoS support by the two wireless networks and request the appropriate QoS parameters from the new wireless network. This complicates the design of the wireless device and hinders roaming.

There is therefore a need in the art for techniques to more seamlessly support QoS across different wireless networks.

Techniques for supporting QoS in communication networks utilizing different network technologies are described herein. A network technology refers to a technology or a combination of technologies used to support communication with a wireless or wireline communication network. A network technology may comprise a radio access technology RAT a data network technology or a combination thereof. RAT refers to the technology used for over the air communication. Data network technology refers to the technology used for data transfer among network entities.

In an aspect a generic QoS model that is not dependent on network technology is used to support QoS. The generic QoS model may comprise a superset of all QoS parameters for all network technologies being supported by a device with redundant QoS parameters removed. An application at the device may specify QoS for a traffic flow based on the QoS parameters in the superset. The specified QoS parameters may be converted to QoS parameters that are specific to a serving network.

In an embodiment a first set of QoS parameters for a first QoS model is received from a first entity. The first set of QoS parameters is converted to a second set of QoS parameters for a second QoS model. One or more auxiliary parameters may be defined and used for the conversion between the first and second sets of QoS parameters. The second set of QoS parameters is sent to a second entity. The first entity may be an application at the device the second entity may be a base station e.g. in a 3GPP or 3GPP2 network the first QoS model may be the generic QoS model and the second QoS model may be a network specific QoS model e.g. for 3GPP or 3GPP2 . Alternatively the first entity may be a base station the second entity may be the application at the device the first QoS model may be a network specific QoS model and the second QoS model may be a generic QoS model.

In another aspect generic filter parameters that are not dependent on network technology are used for IP packet filtering. The generic filter parameters may be obtained from a superset of all filter parameters for all network technologies being supported. An application may utilize the generic filter parameters to form IP packet filters. The generic filter parameters may be converted to filter parameters that are specific to the serving network.

The word exemplary is used herein to mean serving as an example instance or illustration. Any embodiment or design described herein as exemplary is not necessarily to be construed as preferred or advantageous over other embodiments or designs.

Wireless network is a 3GPP network that may implement one or more technologies promulgated by a consortium named 3rd Generation Partnership Project 3GPP . 3GPP network may implement a RAT such as Wideband CDMA W CDMA Global System for Mobile Communications GSM Enhanced Data rates for Global Evolution EDGE and so on. 3GPP network may also implement a data network technology such as General Packet Radio Service GPRS and so on. For example 3GPP network may be a Universal Mobile Telecommunications System UMTS network that utilizes W CDMA and EDGE. The various technologies promulgated by 3GPP are described in publicly available documents from 3GPP.

3GPP network includes network entities described by 3GPP. Wireless device may communicate with a Node B via an air link connection. For packet data service Node B communicates with a Serving GPRS Support Node SGSN which further communicates with a Gateway GPRS Support Node GGSN . SGSN controls the transmission of data packets between Node B and GGSN . Node B and SGSN are parts of a 3GPP radio access network RAN . GGSN supports packet data service for the wireless devices in 3GPP network . GGSN may couple to the Internet and or other data networks e.g. data network and may communicate with other entities e.g. a remote host that couple to these data networks.

Wireless network is a 3GPP2 network that may implement one or more technologies promulgated by a consortium named 3rd Generation Partnership Project 2 3GPP2 . 3GPP2 network may implement a RAT such as IS 2000 Releases 0 and A commonly called CDMA 1x IS 2000 Release C commonly called CDMA 1x EV DV IS 856 commonly called CDMA 1x EV DO IS 95 and so on. The various technologies promulgated by 3GPP2 are commonly called cdma2000 and are described in publicly available documents from 3GPP2.

3GPP2 network includes network entities described by 3GPP2. Wireless device may communicate with a base transceiver station BTS via an air link connection. For packet data service BTS communicates with a Packet Control Function PCF which further communicates with a Packet Data Serving Node PDSN . PCF is a network entity that controls the transmission of packets between BTS and PDSN . Base station and PCF are parts of a 3GPP2 RAN. PDSN supports packet data service for wireless devices in the 3GPP2 network. For example PDSN is responsible for the establishment maintenance and termination of Point to Point Protocol PPP sessions for the wireless devices. PDSN may also assign dynamic Internet Protocol IP addresses to the wireless devices. PDSN may couple to the Internet and or other data networks e.g. a data network and may communicate with other entities that couple to these data networks.

In general wireless device may communicate with any number of wireless networks of any network technologies. Each wireless network may be a wireless wide area network WWAN e.g. a 3GPP or 3GPP2 network or a wireless local area network WLAN e.g. an IEEE 802.11 network or a Bluetooth personal area network BTPAN . The techniques described herein may be used for various network technologies. For clarity these techniques are specifically described for 3GPP and 3GPP2.

The QoS architecture for 3GPP is described in a document 3G TR 23.907 entitled QoS Concept and Architecture which is publicly available. The QoS architecture for 3GPP2 is described in a document TIA 835 D entitled cdma2000 Wireless IP Network Standard which is currently a ballot document that will also be publicly available.

Wireless device may exchange one or more traffic flows with remote host at the application layer. These traffic flows may be IP flows or some other types of flow. Each IP flow is a stream of IP packets that matches a set of one or more IP packet filters called a traffic filter template TFT as described below. The traffic flows are sent via end to end service and typically require certain QoS for satisfactory performance The 3GPP bearer service supports QoS via one set of QoS parameters. The 3GPP2 bearer service supports QoS via another set of QoS parameters. The QoS parameters may also be called QoS attributes flow specs and so on.

In an aspect a generic QoS model that is not dependent on network technology is used to support QoS for communication. This generic QoS model may also be called a common QoS model a universal QoS model and so on. In an embodiment the generic QoS model includes a superset or a union of all QoS parameters for all network technologies being supported. This superset may be refined by eliminating redundant QoS parameters as well as non essential QoS parameters that may be derived from other QoS parameters. The superset may also include without modification QoS parameters that are specific to a given wireless network and are meaningless to other wireless networks. Each network specific QoS parameter may be invoked and used only for the applicable wireless network.

An application may specify QoS for a traffic flow based on the QoS parameters in the superset which are called generic QoS parameters and are not technology dependent. The generic QoS parameters may be converted to QoS parameters that are specific to a serving wireless network which is the wireless network via which the traffic flow will be sent. The superset includes sufficient QoS parameters to allow the application to specify the desired QoS for each supported network. In general the generic QoS model may be defined for any number of network technologies and any given network technology. The generic QoS model may be used for wireless wide area networks WWANs wireless local area networks WLANs wireline wide area networks wireline local area networks and so on. For clarity the following description is for a generic QoS model for 3GPP and 3GPP2.

Table 1 lists key QoS parameters that are applicable for 3GPP and 3GPP2. Table 1 is not exhaustive and 3GPP and 3GPP2 may define other QoS parameters that are not listed in Table 1.

Table 2 lists the generic QoS parameters for the generic QoS model. For each generic QoS parameter an x in the 3GPP column indicates that this QoS parameter is applicable for 3GPP and an x in the 3GPP2 column indicates that this QoS parameter is applicable for 3GPP2. Each generic QoS parameter may be applicable for one or both network technologies.

The Traffic class TC parameter indicates the type of application for which the radio access bearer service is optimized. This parameter conveys certain characteristics of a traffic flow to a wireless network and helps the network set up appropriate physical channels to achieve the desired QoS for the traffic flow. 3GPP defines Conversational Streaming Interactive and Background classes. 3GPP2 defines Conversational Streaming Interactive Background and Unknown classes. The main distinguishing factor among the various QoS classes is how delay sensitive the traffic is.

The Conversation class is characterized by 1 stringent and low delay L because of the conversational nature of the traffic and 2 a limited delay variation low Lvar in the traffic flow in order to preserve time relation between information entities of the traffic flow. Some exemplary applications bearing such traffic are voice and video conferencing.

The Streaming class is characterized by a limited delay variation low Lvar in the traffic flow in order to preserve the time relation between information entities of the traffic flow. The highest acceptable delay variation is application dependent. An exemplary application bearing such traffic is video streaming.

The Interactive class is characterized by 1 a request response pattern of the end user 2 a low round trip delay low L and 3 preservation of payload contents low Eper so that packets are transparently transferred. An exemplary application bearing such traffic is web browsing.

The Background class is characterized by 1 a relatively insensitive delivery time no specific limit on L and 2 preservation of payload contents low Eper . An exemplary application bearing such traffic is background email download.

The data rate parameters define the rate at which data may be sent over the wireless network. Data rate may be specified using Option 1 with rate parameters used in 3GPP or Option 2 with token bucket parameters used in 3GPP2 . Option 1 includes two parameters Maximum bit rate Rmax and Guaranteed bit rate Rg . Maximum bit rate is the maximum number of bits delivered by the wireless network in a given period of time. Guaranteed bit rate is the guaranteed minimum number of bits that can be delivered by the wireless network in a given period of time. For Option 2 packets or tokens to be transmitted are placed in a buffer or token buffer as they are generated and packets in the buffer are sent via the wireless network. Option 2 includes three parameters Peak rate Rp Bucket size B and Token rate Rt . Peak rate is the maximum rate at which data may be sent when the token bucket is full. Token rate is the maximum rate at which tokens may be placed in the token bucket. Bucket size determines the maximum number of tokens that may be accumulated at any given moment. Bucket size determines the largest traffic burst size that can be handled. Option 1 more closely represents circuit switched behavior with a guaranteed fixed bandwidth over a certain time duration with no support for bursty traffic. Option 2 more closely represents packet switched behavior with support for bursty traffic.

An application may specify data rate using either Option 1 or Option 2. Regardless of which option is selected for use all of the parameters in the selected option are specified in order to fully specify data rate. Each wireless network may support one of the options. If the option used by the application is different from the option supported by the wireless network then the parameters for one option may be converted to the parameters for the other option as described below.

The Latency L parameter defines the maximum delay that can be tolerated by an IP packet during transfer through a wireless network. The delay is defined as the time when a request to transfer the IP packet is made by the wireless device to the time when the IP packet is received by the IP gateway at the wireless network which may be GGSN or PDSN . The Latency parameter corresponds to the Transfer delay parameter in 3GPP and the Maximum latency parameter in 3GPP2.

The Latency variation Lvar parameter defines the difference between the maximum and minimum delay that can be tolerated by an IP packet during transfer through a wireless network. This parameter is essentially the maximum tolerated delay jitter. This parameter is not supported by 3GPP and hence may be ignored if 3GPP network is the serving network.

The Maximum allowed packet size Smax parameter defines the maximum packet size allowed in a traffic flow. The Maximum allowed packet size parameter corresponds to the Maximum SDU size parameter in 3GPP.

The Minimum policed packet size 5 min parameter defines the minimum packet size that will be policed for QoS guarantees. This parameter is not supported by 3GPP and hence may be ignored if 3GPP network is the serving network.

The Packet error rate Eper parameter defines the maximum packet error rate that can be tolerated by a traffic flow. Packet error rate is the ratio of packets received in error to total packets transmitted. In an embodiment the Packet error rate is given by two parameters a multiplier m and a negative base 10 exponent p or Eper m 10. In general the Packet error rate may be defined using a format that allows for specification of any range of values permitted by the supported network technologies. The Packet error rate parameter corresponds to the SDU error ratio parameter in 3GPP and the Maximum loss rate parameter in 3GPP2.

The Residual bit error ratio Erber parameter defines the undetected bit error ratio for each traffic flow in delivered packets. This parameter may be specified for each subflow of the traffic flow. However for equal error protection only one value may be used for all subflows. If no error detection is requested for a subflow then the Residual bit error ratio indicates the bit error ratio for delivered packets in that subflow. This parameter is not supported by 3GPP2 and may be ignored for 3GPP2 network .

The Traffic handling priority Ptrf parameter defines the relative priority between various subflows of a traffic flow. Within 3GPP the Traffic handling priority parameter is used for the Interactive class to differentiate between bearer qualities and to allow the wireless network to schedule traffic accordingly. Since priority is an alternative to a guarantee these two parameter types are not used together for a single bearer. The Traffic handling priority parameter is ignored for the Conversation Streaming and Background classes in 3GPP. This parameter is not supported by 3GPP2 and may be ignored for 3GPP2 network .

3GPP defines standard sets of QoS parameter values for specific applications. Each standard set of QoS parameter values is associated with a unique Profile ID value that may be used to conveniently convey the entire set of QoS parameter values. The Profile ID parameter is supported by 3GPP2 but not 3GPP. If an application specifies a Profile ID parameter value and 3GPP2 network is the serving network then all other QoS parameters may be ignored and the Profile ID value may be sent to 3GPP2 network to request the associated standard set of QoS parameter values. To work seamlessly on networks other than 3GPP2 network the application may specify the Profile ID value as well as the QoS parameters associated with that Profile ID value. Otherwise if only the Profile ID value is specified and the serving network is not 3GPP2 network e.g. due to handoff to 3GPP network then it may not be possible to derive pertinent QoS parameter values for the 3GPP network based on the Profile ID value.

A QoS module provides a generic QoS interface for applications a 3GPP QoS interface for 3GPP network and a 3GPP2 QoS interface for 3GPP2 network . QoS module performs conversion 1 between the generic QoS interface and the 3GPP QoS interface and 2 between the generic QoS interface and the 3GPP2 QoS interface. QoS module also performs other functions to support QoS.

Within QoS module a generic QoS interface provides an interface via which applications can specify QoS for traffic flows using generic QoS parameters. If wireless device is communicating with 3GPP network then a 3GPP QoS conversion module performs conversion between the generic QoS parameters and the 3GPP QoS parameters. 3GPP interface exchanges the 3GPP QoS parameters with 3GPP network . Similarly if wireless device is communicating with 3GPP2 network then a 3GPP2 QoS conversion module performs conversion between the generic QoS parameters and the 3GPP2 QoS parameters. 3GPP2 interface exchanges the 3GPP2 QoS parameters with 3GPP2 network . For QoS requests conversion modules and convert generic QoS parameters to network specific QoS parameters for transmission to the wireless networks. Conversion modules and also convert the granted network specific QoS parameters back to the generic QoS parameters in the format used by the requesting applications.

As shown in applications can specify the desired QoS for traffic flows using the generic QoS parameters and do not need to be aware of the QoS parameters that are specific to 3GPP and 3GPP2. 3GPP network can exchange 3GPP QoS parameters with wireless device even though applications use generic QoS parameters. Similarly 3GPP2 network can exchange 3GPP2 QoS parameters with wireless device even though applications use generic QoS parameters.

Auxiliary parameters may be defined to facilitate the conversion between the generic 3GPP and 3GPP2 QoS parameters. These auxiliary parameters include Rate dependent latency Lr Constant latency factor K Minimum data rate Rt min and Maximum channel rate C which are described below.

For the transmit direction a packet sent from wireless device to an IP gateway e.g. GGSN or PDSN typically encounters the following delays 

The Rate dependent latency Lr parameter approximates the total delay resulting from buffering and sending packets at a specific data rate. For the transmit direction the Rate dependent latency may be given as 

If the data rate available at a given time instant in a given direction is the Token rate Rt then the Rate dependent latency Lr at that time instant for that direction may be given as Eq 2 where B is the bucket size for that direction. The Lr value for each direction is dependent on the Rt and B values for that direction. The Lr value for the transmit direction may be the same as or different from the Lr value for the receive direction.

The Constant latency factor K parameter approximates the constant delay for a traffic flow. The Constant latency factor K for each direction may be given as Propagation delay Queuing delay in Processing delay. Eq 3 Each type of delay in equation 3 may have different values for the transmit and receive directions.

The actual latency Lact for each direction may then be given as act Eq 4 The values of Lr and K may be different for the transmit and receive directions. Hence the actual latency may be different for the transmit and receive directions. K is network specific but is not dependent on the current data rate. If K

The Latency L parameter defines the maximum acceptable latency for an IP packet in a traffic flow. L may be derived based on one of the following 

If L is the maximum tolerable latency for a traffic flow then the maximum rate dependent latency Lr max which is the maximum value of Lr may be given as 

The Maximum channel rate C parameter defines the maximum channel rate for wireless device which is the maximum data rate that the wireless device can support in each direction e.g. based on hardware limitations . If an application requests a data rate that is higher than the Maximum channel rate then the wireless device should request the Maximum channel rate from the wireless network even if the wireless network can support higher data rates.

Table 3 shows an exemplary mapping of the generic QoS parameters to 3GPP QoS parameters. If an application specifies data rate using Option 1 then the smaller of the Maximum bit rate Rmax and the Maximum channel rate C is provided as the Maximum bit rate for 3GPP. If the application specifies data rate using Option 2 and also specifies latency or L 0 then the larger of the Minimum data rate Rt min and the Peak rate Rp constrained by the Maximum channel rate C is provided as the Maximum bit rate. If the application specifies data rate using Option 2 but does not specify latency then the smaller of the Peak rate Rp and the Maximum channel rate C is provided as the Maximum bit rate. For both Options 1 and 2 the Guaranteed bit rate Rg is provided as the Guaranteed bit rate for 3GPP if Rg C and an error indication is provided otherwise. The other generic QoS parameters may be mapped directly or after any necessary conversion to the corresponding 3GPP QoS parameters.

Table 4 shows an exemplary mapping of the generic QoS parameters to 3GPP2 QoS parameters. The Peak rate for 3GPP2 is set to 1 the smaller of the Maximum bit rate Rmax and the Maximum channel rate C if Option 1 is used or 2 the smaller of the Peak rate Rp and the Maximum channel rate C if Option 2 is used. The Guaranteed bit rate Rg is provided as the Token rate for 3GPP2 if Rg C and an error indication is provided otherwise. The Bucket size for 3GPP2 is set to 1 the smaller of the Maximum bit rate Rmax and the Maximum channel rate C times the Maximum rate dependent latency Lr max if Option 1 is used or 2 the Bucket size B if Option 2 is used. The other generic QoS parameters may be mapped directly or after any necessary conversion to the corresponding 3GPP2 QoS parameters. An application may specify a Profile ID as well as the parameters associated with this Profile ID in order to operate seamlessly on networks of different network technologies. The Profile ID may be used for a network that understands this parameter. The parameters associated with the Profile ID may be used for other networks that do not understand the Profile ID.

An application may query for the QoS parameters that are currently applied for a traffic flow. QoS module in receives the QoS parameters granted by a wireless network in the format used by that wireless network. The granted QoS parameters may be converted to the generic QoS parameters in the format used previously by the application. For example if the application has requested data rate using Option 1 then the granted QoS parameters may be converted to the generic QoS parameters for Option 1 even if the wireless network may grant data rate using Option 2. The converted generic QoS parameters in the desired format are then returned to the application.

Table 5 shows an exemplary mapping of the 3GPP QoS parameters column 1 to the generic QoS parameters column 3 . The generic Bucket size B is equal to the Maximum bit rate in 3GPP times the Maximum rate dependent latency Lr max . The other 3GPP QoS parameters may be mapped directly or after any necessary conversion to the corresponding generic QoS parameters. The generic QoS parameters that are not set by 3GPP QoS parameters are indicated as Not Set in column 1.

Table 5 also shows an exemplary mapping of the 3GPP2 QoS parameters column 2 to the generic QoS parameters column 3 . The generic Maximum bit rate Rmax is equal to the larger of the Peak rate in 3GPP2 and the Bucket size in 3GPP2 divided by the Maximum rate dependent latency Lr max . The other 3GPP2 QoS parameters may be mapped directly or after any necessary conversion to the corresponding generic QoS parameters. The generic QoS parameters that are not set by 3GPP2 QoS parameters are indicated as Not Set in column 2.

For a QoS request the generic QoS parameters requested by the application may be converted to network specific QoS parameters and the wireless network may grant these network specific QoS parameters without any modifications. In this case if the application queries for the granted QoS parameters then the generic QoS parameters originally requested by the application may be returned to the application without having to convert the granted network specific QoS parameters back to the generic QoS parameters.

The first entity may be an application at a wireless device the second entity may be a base station e.g. in a 3GPP or 3GPP2 network the first QoS model may be a generic QoS model and the second QoS model may be a network specific QoS model e.g. for 3GPP or 3GPP2 as indicated in . Alternatively the first entity may be a base station e.g. in a 3GPP or 3GPP2 network the second entity may be an application at a wireless device the first QoS model may be a network specific QoS model e.g. for 3GPP or 3GPP2 and the second QoS model may be a generic QoS model.

A revised second set of QoS parameters for the second QoS model may be received from the second entity block . The revised second set of QoS parameters may be converted to a revised first set of QoS parameters for the first QoS model block . The revised first set of QoS parameters may be provided to the first entity block . Blocks and may be performed for a QoS request. Blocks and may be performed to report a QoS grant.

The first set of QoS parameters may be converted to a third set of QoS parameters for a third QoS model block . The third set of QoS parameters may be sent to a third entity block . The second and third sets of QoS models may be network specific QoS models for different network technologies e.g. 3GPP and 3GPP2 and the second and third entities may be base stations in different wireless networks. Blocks and may be performed e.g. if the wireless device roams to another wireless network of different network technology.

One or more traffic flows may be exchanged between wireless device and wireless network or . The QoS for each traffic flow or each subflow of a traffic flow may be defined based on the generic QoS parameters as described above. Different levels of QoS may be applied to different traffic flows and or subflows to achieve the desired performance.

A traffic flow may carry one or more IP flows where each IP flow is a stream of IP packets. Each IP flow may be defined by and associated with a set of one or more IP packet filters that is called a traffic filter template TFT . An IP packet filter is formed by one or more filter parameters for one or more fields of an IP header and or one or more fields of a higher layer header e.g. a TCP or UDP header . An IP packet matches an IP packet filter if the applicable fields of that IP packet conform to the filter parameters for that IP packet filter. On the transmit direction outbound IP packets from higher layer applications are filtered with IP packet filters to segregate these IP packets into the appropriate IP flows which are thereafter sent at the specified QoS to the serving network. On the receive direction inbound IP packets from the serving network are filtered with IP packet filters to segregate the inbound IP packets into the appropriate IP flows which are thereafter sent at the specified QoS to the wireless device.

3GPP specifies a set of filter parameters that may be used for IP packet filtering. Similarly 3GPP2 specifies another set of filter parameters that may be used for IP packet filtering. The filter parameters for 3GPP are not exactly the same as the filter parameters for 3GPP2. Hence an application may need to be aware of the serving network in order to properly specify IP packet filters.

In another aspect generic filter parameters that are not dependent on network technology are used to support IP packet filtering. In an embodiment the generic filter parameters are obtained from a superset of all filter parameters for all network technologies being supported. This superset may be refined by eliminating redundant filter parameters. An application may utilize the generic filter parameters to form IP packet filters. The generic filter parameters used by the application may be converted if needed to filter parameters that are specific to the serving network e.g. 3GPP or 3GPP2 . The superset includes sufficient filter parameters to allow the application to specify the desired IP packet filters for each supported wireless network. In general the generic filter parameters may be defined for any number of network technologies and any given network technology. For clarity the following description is for generic filter parameters for 3GPP and 3GPP2.

Table 6 lists exemplary generic filter parameters 3GPP filter parameters and 3GPP2 filter parameters. Table 6 also shows the mapping 1 between the generic filter parameters and 3GPP filter parameters and 2 between the generic filter parameters and 3GPP2 filter parameters.

Referring back to an IP filter module includes a generic IP filter interface a 3GPP IP filter conversion module and a 3GPP2 IP filter conversion module . Generic IP filter interface provides an interface via which applications can specify the desired IP packet filters using generic filter parameters. If wireless device is communicating with 3GPP network then 3GPP IP filter conversion module performs conversion between the generic filter parameters and the 3GPP filter parameters to generate 3GPP IP packet filters which are applied on IP packets exchanged via 3GPP interface . Similarly if wireless device is communicating with 3GPP2 network then 3GPP2 IP filter conversion module performs conversion between the generic filter parameters and the 3GPP2 filter parameters to generate 3GPP2 IP packet filters which are applied on IP packets exchanged via 3GPP2 interface .

IP packets exchanged with a first network e.g. a 3GPP or 3GPP2 network are filtered based on the first and or second sets of at least one IP packet filter. The wireless device may send the second set of at least one IP packet filter to the first network which may apply the IP packet filter s on IP packets sent to the wireless device block . The wireless device may apply the first set of at least one IP packet filter on IP packets sent to the first network block .

The first set of at least one IP packet filter may be converted to a third set of at least one IP packet filter which is defined based on a third set of filter parameters for a second network technology block . IP packets exchanged with a second network are filtered based on the first and or third sets of at least one IP packet filter. The wireless device may send the third set of at least one IP packet filter to the second network which may apply the IP packet filter s on IP packets sent to the wireless device block . The wireless device may apply the first set of at least one IP packet filter on IP packets sent to the second network block .

The generic QoS parameters and the generic filter parameters described herein provide various advantages. An application may specify QoS and IP packet filters using the generic QoS parameters and the generic filter parameters respectively. The application does not need to be aware of the technology used by the serving network. This capability supports seamless roaming among networks of different technologies since the generic QoS and filter parameters specified by the application may be converted to network specific QoS and filter parameters if and as needed. This conversion may be transparent to the application. The use of generic QoS and filter parameters provides more intuitive stable and extensible application programming interface API and also allows for development of applications that are not network specific. Such applications may be advantageously used e.g. in a multi mode wireless device that supports multiple network technologies e.g. 3GPP and 3GPP2 .

A processor controller directs the operation of various units within wireless device . Processor controller may implement processes and or in and respectively. A memory unit stores program codes and data used by processor controller and other units. Memory unit may store the pertinent QoS parameters and IP packet filters.

The techniques described herein may be implemented by various means. For example these techniques may be implemented in hardware software or a combination thereof. For a hardware implementation the processing units used to support QoS and IP packet filtering may be implemented within one or more application specific integrated circuits ASICs digital signal processors DSPs digital signal processing devices DSPDs programmable logic devices PLDs field programmable gate arrays FPGAs processors controllers micro controllers microprocessors electronic devices other electronic units designed to perform the functions described herein or a combination thereof.

For a software implementation the techniques may be implemented with modules e.g. procedures functions and so on that perform the functions described herein. The software codes may be stored in a memory unit e.g. memory unit in and executed by a processor e.g. processor . The memory unit may be implemented within the processor or external to the processor.

The previous description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other embodiments without departing from the spirit or scope of the invention. Thus the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.

