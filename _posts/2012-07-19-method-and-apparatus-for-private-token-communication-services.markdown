---

title: Method and apparatus for private token communication services
abstract: Rather than forcing users to give personally identifying contact data to information providers, this disclosure teaches an apparatus and method enabling the use of “private tokens,” which allow information providers to send electronic communications to targeted users without having access to personally identifying contact information. These features are provided by an anonymous communication service that manages the private tokens and provides communication proxy services intermediating the electronic communications between the information providers and the users targeted by those communications.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09032033&OS=09032033&RS=09032033
owner: Telefonaktiebolaget L M Ericsson (Publ)
number: 09032033
owner_city: Stockholm
owner_country: SE
publication_date: 20120719
---
The present invention generally relates to communication services and particularly to the use of private tokens in a communications service.

Modern communication and computer networks provide users with ready access to rich sources of information. For example many vendors provide online product information discount coupons purchasing information etc. Accessing such information often requires no more effort than navigating to the vendor s web site or otherwise using an application web browser or other user agent to communicate with a vendor s server.

However vendors and other information providers frequently require users to leave email addresses postal addresses telephone numbers or other personally identifying information. Some companies use identifying information only to provide the information in which users have expressed an interest and they do not make such information available to third parties. Not all companies exercise such restraint. For example personally identifying contact information provided by a user to one company frequently ends up being shared or sold to other companies one or more of which may use the information to spam the user or to otherwise send unsolicited information of questionable interest to the user.

Rather than forcing users to give personally identifying contact data to information providers this disclosure teaches the use of private tokens which allow information providers to send electronic communications to targeted users without having access to personally identifying contact information. These features are provided by an anonymous communication service that manages the private tokens and provides communication proxy services intermediating the electronic communications between the information providers and the users targeted by those communications.

In some embodiments a method of providing an anonymous communication service between a first party and a second party comprises a number of operations performed by an anonymous communication service. In an example scenario the first party is a user e.g. represented by a web browser or other user agent running on the user s computer or smartphone and the second party is a merchant vendor or other organization represented by a web server or other computer system accessible by the user agent.

In an example configuration the method includes receiving a connection request at an anonymous services host from a user agent being redirected to the anonymous services host from a first external server. Here the user agent is associated with the first party and the first external server is associated with the second party. As non limiting examples the user agent is a web browser or other application running on a computer or smartphone associated with the first party and the external server is a web server or other network accessible computer system that is accessible by the user agent.

The method further includes identifying the second party and a proposed communication between the second party and the first party from information received in conjunction with the connection request. For example information received in or in conjunction with the redirection identifies the second party and indicates the type of electronic communication proposed e.g. an email video message etc.

The method further includes obtaining an indication that the first party consents to the proposed communication. The anonymous services host may receive the consent indication from the user agent e.g. in response to user input directed to the user agent or by accessing stored information from which consent can be determined e.g. default or preconfigured consent settings. If consent is indicated the method includes generating a private token for anonymously transacting the proposed communication. Here the private token is a data object that includes a token identifier that does not reveal actual contact information of the first party but is privately mapped by the anonymous services host to the actual contact information of the first party.

Correspondingly the method includes redirecting the user agent back to the first or a second external server associated with the second party in response to the indication of consent. The redirection includes sending a temporary token identifier for use by the second party in requesting the private token. The particular mechanism for redirecting and sending the temporary token identifier depends on the involved communication protocol. For example for HTTP based transactions redirection may involve returning a certain status code to the user agent.

The above operations result in the second party receiving the temporary token identifier and the method includes sending the private token to the second party in response to receiving a token request from the second party that indicates the temporary token identifier. Here the anonymous services host verifies the temporary token identifier and may further verify the identity of the second party to ensure that the private token being requested was generated for use by the second party. This feature prevents issuance of private tokens unless the temporary token identifier is valid and matches the expected requestor identity.

Assuming that the private token was issued the method includes at some later time receiving the previously issued private token from the second party in conjunction with the second party attempting an electronic communication and verifying that the private token is valid and that the electronic communication conforms to the proposed communication. In response to such verifications the method includes relaying the electronic communication through an intermediate communications proxy based on mapping the private token to the actual contact information of the first party.

An anonymous communication services system configured to perform the above method for example comprises an anonymous services host and an intermediate communications proxy. The anonymous services host includes one or more communication interfaces for communicating with the first and second parties e.g. computer network interfaces supporting Internet based connections. Further the anonymous services host includes processing circuits associated with the communication interface s and configured to perform the above described private token processing.

Further in at least some embodiments the anonymous communication services system includes the aforementioned intermediate communications proxy. The proxy acts as an intermediary that protects the first party s anonymity by relaying the electronic communication between the second party and the first party.

In an example configuration the intermediate communications proxy includes one or more communication interfaces and associated processing circuits which are configured to in response to verification of a private token and an associated electronic communication by the anonymous services host relay the electronic communication to the first party based on mapping the private token to the actual contact information of the first party. Depending upon its network connections and desired configuration the intermediate communications proxy may be configured to relay forward email addresses videos and other electronic messages and or may be configured to interconnect voice calls data connections or other streaming connections between the second and first parties.

Of course the present invention is not limited to the above features and advantages. Indeed those skilled in the art will recognize additional features and advantages upon reading the following detailed description and upon viewing the accompanying drawings.

For example the ACSS may be configured to receive and forward emails SMSs MMSs video clips electronic documents or essentially any type of electronic message. Additionally or alternatively it may be configured to provide voice data or other streaming connections and as such it may include interfaces to or connectivity with communication network nodes such as IP Multimedia Subsystem IMS connectivity to support interconnection of IP sessions or other connections between the first and second parties and .

Anonymous communication services as contemplated herein relies on the exchange of various data items in electronic form between the first party and the ACSS and or between the ACSS and the second party . One sees for example a temporary token identifier TTI going from the ACSS to the first party a private token corresponding to the temporary token identifier and sent from the ACSS to the second party and an electronic communication between the second party and the first party as intermediated by the intermediate communications proxy .

Referring to temporarily one sees an example embodiment of the ACSS . The anonymous services host includes one or more communication interfaces and associated processing circuits . The processing circuits are configured to receive a connection request at an anonymous services host from a user agent being redirected to the anonymous services host from a first external server. Here the user agent will be understood as being a web browser or other application running for example on a computer or smartphone and configured to act as the first party in this context. Similarly the first external server is one or more servers or computer systems that are accessible by the user agent. Thus the second party is represented by the external server s involved in the transactions at issue here.

The processing circuits are configured to identify the second party and a proposed communication between the second party and the first party from information received in conjunction with the connection request. For example the ACSS may identify the second party in terms of a company name or other unique identifier included in the redirect information and may also identify the type of communication proposed from such information. Communication types here may be email SMS MMS file e.g. PDF file voice call data call etc. It is not necessary that the intermediate communication proxy in a given ACSS support a particular set or range of communication types e.g. it may be of considerable value if the ACSS is configured simply to forward emails and email attachments in such a way that first parties can receive emails from second parties without having to expose their actual email addresses to the second parties .

In any case the processing circuits are configured to obtain an indication that the first party consents to the proposed communication and if there is consent generate a private token for anonymously transacting the proposed communication. The private token includes a token identifier that does not reveal actual contact information of the first party but is privately mapped by the anonymous services host to the actual contact information of the first party .

The processing circuits are further configured to redirect the user agent back to the first or a second external server associated with the second party in response to the indication of consent. Here redirecting includes sending a temporary token identifier for use by the second party in requesting the private token and the processing circuits are configured to send the private token to the second party in response to receiving a token request from the second party that indicates the temporary token identifier . Such processing includes in an example embodiment receiving the temporary token identifier from the second party along with a shared secret that is maintained between the anonymous services host and the second party .

The processing circuits are further configured to receive the private token from the second party in conjunction with the second party attempting an electronic communication . Here it will be understood that the attempted use of the private token by the second party may be immediately after it is issued by the ACSS or may be some indeterminate time later. It will also be appreciated that the private token can be generated with a finite validity period meaning that it is subject to expiration and further meaning that the second party must attempt the electronic communication within any applicable validity period of the private token .

The processing circuits are configured to verify that the private token is valid and that the electronic communication conforms to the proposed communication for which the private token was generated. In an example case a private token generated for use in sending an email would not be allowed for use in sending a SMS. Of course it is also contemplated that a given private token may be generated for use with more than one type of communication but records within the ACSS or data within the private token will control which type or types of communication are authorized by the private token .

To support the above operations and features in an example embodiment the anonymous services host further includes memory storage and the processing circuits include a web server a token generator and a token manager . These functions may be realized in separate nodes or in an integrated node and it will be understood that the anonymous services host may be a single processing system multiple co located processing systems or a collection of network processing systems. In any case the anonymous services host functionality may be implemented in whole or in part based on the execution of computer program instructions code which are stored in memory on disk or in one or more other computer readable mediums accessible to the anonymous services host .

The same or different storage may be used to hold a token database and or a contact database . In one example the token database holds records of issued private tokens along with usage and or validity parameters governing usage of those private tokens . The contact database in one example holds actual contact data for the first parties for whom private tokens have been issued or in a larger sense for those first parties that have submitted information to the ACSS or otherwise subscribed to anonymous communication services.

As noted the type and number of communication interface s in the anonymous services host will depend on the desired connectivity. The anonymous services host is a web server in one example and includes one or more network interfaces coupling the anonymous services host to an IP data network.

More generally the communication interface s couple the anonymous services host to one or more external communication networks e.g. the Internet the PSTN one or more IMS networks etc. The communication interface s of the intermediate communications proxy likewise couple it to one or more of the same external networks and or to different ones of them. The number and type of external networks to which the intermediate communications proxy attaches will depend on the different types of electronic communications it is intended to relay between second parties to first parties .

With the above arrangement the processing circuits of the intermediate communications proxy are configured to relay a given electronic communication to a given first party based on mapping a given private token to the actual contact information of the given first party . In this context it will be understood that a particular second party has attempted a particular electronic communication using a particular private token . Thus the relaying function provided by the intermediate communications proxy is contingent on the anonymous services host verifying the private token and the electronic communication .

A number of operational variations are contemplated herein. For example the anonymous services host may be configured to obtain the indication that a first party consents to a proposed communication based on being configured to interact with the first party through a connection with the user agent of the first party . Interaction in this case may comprise the anonymous services host prompting the user to input an affirmative indication of consent via the user agent. In another example the anonymous services host is configured to obtain the indication that the first party consents to the proposed communications based on being configured to evaluate consent information stored for the first party in a database in or accessible to the anonymous services host .

The anonymous services host also may be configured to receive the actual contact information of first parties either from stored contact information accessible to the anonymous services host . Additionally or alternatively the anonymous services host is configured to obtain the actual contact information from input received through the user agents of those first parties .

The anonymous services host also may be configured to provide revocation and other token management services. In an example the anonymous services host enables first parties to revoke previously issued private tokens and in this manner prevent given second parties from using or continuing to use private tokens in their possession. A token management interface e.g. accessible through a web browser or other user agent allows individual first parties to review and revoke private tokens issued on their behalf. Thus in some embodiments the anonymous services host is configured to receive a revocation request from the first party and in response mark the private token as revoked to thereby prevent verification of the private token in any later attempt by the second party to use the private token .

Additionally or alternatively the anonymous services host generates at least some of the private tokens that it issues as single use tokens or N use tokens where N is some integer number defining how many times a given private token can be used. The anonymous services host also may generate at least some private tokens as limited life tokens that have a built in expiration time.

Verification of a private token submitted by a second party therefore may include verification that the associated first party has not requested revocation of the private token . Verification may further include the anonymous services host checking all other applicable usage constraints such as time expiration usage count etc. Of course as already noted usage of any given private token as submitted by a given second party is also subject to the anonymous services host determining that the private token belongs to the second party that submitted it.

In more detail the anonymous services host is configured to generate private tokens so that each private token is uniquely keyed to identifying information for the involved first and second parties and to the proposed communication. Such generation restricts usage of any given private token only to correctly identified second party and only for the proposed communication.

Assuming that the correct second party has submitted a valid private token in conjunction with attempting an electronic communication and further assuming that the electronic communication conforms to the communication proposed in conjunction with generation and issuance of the private token the intermediate communications proxy relays the electronic communication to the first party .

In the case that the electronic communication is an electronic message email SMS MMS file etc. the intermediate communications proxy receives the electronic message at a first address that was specified by the private token and forwards the electronic message to a second address that is known for the first party from the actual contact information of the first party . This process can be understood as the second party sending the electronic message to an address that does not identify the first party but maps to an actual address of the first party according to information known within the ACSS .

In the case that the electronic communication is a voice call data call or other connection type communication e.g. a circuit switched or packet switched voice call a multimedia data session etc. the intermediate communications proxy is configured to initiate an electronic connection between the second and first parties via the intermediate communications proxy . Here the private token specifies a first contact number for use by the second party in initiating the electronic connection and the intermediate communications proxy is configured to map that first contact number to a second contact number that is known for the first party from the actual contact information of the first party .

With the above examples in mind it will be appreciated that the ACSS in one or more embodiments is a system configured to issue private tokens on demand to enable anonymous communications between individual first parties and respective second parties in conformance with and subject to all limitations imposed by the private tokens . The ACSS in such an embodiment is further configured to revoke particular ones of the issued private tokens responsive to one or more automatic revocation parameters being satisfied or responsive to explicitly received revocation requests from the involved first parties for whom the particular private tokens were issued. Further the ACSS is configured to enable the proposed communications via the intermediate communications proxy on an on demand basis in response to receiving and verifying individual ones of the private tokens in conjunction with attempted electronic communications by given ones of the second parties submitting those individual private tokens .

The method further includes identifying Block the second party and a proposed communication between the second party and the first party from information received in conjunction with the connection request obtaining Block an indication that the first party consents to the proposed communication and generating Block a private token for anonymously transacting the proposed communication. As before the private token includes a token identifier that does not reveal actual contact information of the first party but is privately mapped by the anonymous services host to the actual contact information of the first party .

Continuing the method further includes redirecting Block the user agent back to the first or a second external server associated with the second party in response to the indication of consent. Information sent as part of the redirection includes a temporary token identifier for use by the second party in requesting the private token . Accordingly the ACSS then receives immediately or at some later time a request from the second party for the private token Block .

The request includes the temporary token identifier . If the request is valid e.g. the ID of the second party is verified as being correct and the temporary token identifier is verified as being valid then the method continues YES from Block with the ACSS sending Block the private token to the second party for use by the second party . Note that the verification performed in some embodiments of the Block processing includes verification of a shared secret SS maintained between the anonymous services host and the second party and verification of the temporary token identifier TTI .

Then perhaps immediately or at some later time the ACSS receives Block the private token from the second party in conjunction with the second party attempting an electronic communication . In response the ACSS verifies Block that the private token is valid and that the electronic communication conforms to the proposed communication.

In response to such verifications processing continues with relaying Block the electronic communication through the intermediate communications proxy based on mapping the private token to the actual contact information of the first party . One of the advantages of such mapping is that the contact information of the first party may be changed or otherwise updated at the ACSS without voiding the private token . That is because the ACSS is the entity that maintains the associations between issued private tokens and corresponding contact information for first parties a previously issued private token remains usable even if the contact information for the corresponding first party changes as long as those changes are recorded at the ACSS .

Of course if the electronic communication does not match that proposed for initial issuance of the private token or if the private token is invalid as revoked or expired or if the identify of the second party submitting the private token does not match the identity of the second party to whom the private token was initially granted the ACSS does not relay the electronic communication .

In an example case the website of the second party offers an information request link or the like which triggers a redirection to the anonymous services host of the ACSS when the first party clicks the link. The redirection carries with it information identifying the second party and the proposed communication which will be used in private token generation if the ACSS obtains an indication of consent by the first party to the proposed communication. In one example the anonymous services host provides a web page through which the first party indicates consent.

If consent is obtained the ACSS generates a private token and redirects the first party back to the second party e.g. a redirection of the first party s web browser back to the second party s website or to another website associated with the second party . Redirection information carried back to the second party includes a temporary token identifier to be used by the second party in requesting the private token generated for the proposed communication between the first and second parties .

That is in a transaction conducted between the ACSS and the second party in which the transaction is separate from the first party the second party uses the temporary token identifier to obtain the private token needed for attempting an electronic communication intended for the first party . In an example of private token issuance a shared secret is maintained between the ACSS and the second party and this shared secret is used in a verification process that controls issuance of the private token .

More broadly the ACSS authenticates the second party before issuing the requested private token to the second party . As non limiting examples authentication may be based on evaluating a shared secret known to the ACSS and the second party and or based on Public Key Infrastructure PKI or other certificate authentication protocols such as are based on web SSL certificates where the second party has a private key and the ACSS has the corresponding public key that it uses for validation. In any case in some embodiments the request by a second party for a private token includes a temporary token identifier and authentication information e.g. shared secret public key etc. that the ACSS uses to authenticate the second party . In that manner issuance of the private token to the requesting second party is conditioned on validation of the temporary token identifier and on authentication of the authentication information.

Assuming that the private token was issued to the second party the second party subsequently attempts an electronic communication using the private token and the ACSS verifies the communication and the private token . If those verifications are successful the ACSS relays the electronic communication to the first party . Note too that the ACSS in one or more embodiments remembers prior transactions and adjusts its operations in response. For example if a given first party has previously approved similar communications from a given second party the ACSS may simply prompt the first user to confirm that one or more additional private tokens should be issued to the second party .

Of course the ACSS would still allow a first party to revoke individual ones of the private tokens held by a given second party or all tokens held by a given second party and in at least one embodiment the ACSS provides a token management web page or other interface to first users showing all outstanding private tokens their associated second parties communication types etc. First users can make selective or wholesale revocations or modifications to their outstanding private tokens using this interface.

Further the ACSS in some embodiments operates according to the OAuth 2.0 standards for providing its private token communication services. Developed by the Internet Engineering Task Force IETF OAuth Working Group WG OAuth 2.0 is an open standard for authorization. Additional information can be found at www.oauth.net.

An example use case begins with an end user i.e. a first party browsing the web and ending up on a merchant site i.e. a second party . The user wants to leave contact information since she is interested in the offering but is reluctant to leave her actual contact information. The merchant s website presents the option of using the private token communication service offered by an ACSS .

In this regard it is assumed that the merchant has an OAuth client id that will be used by the ACSS . Thus the merchant website redirects the end user to the ACSS where that redirection includes OAuth information for the merchant. Assuming the end user consents to the proposed communication the ACSS generates the private token so that it is keyed to the OAuth client id of the merchant.

In one example the ACSS connects a voice call between the two. Input parameters to the ACSS for the merchant are 1 a phone number to an available sales representative of the merchant and 2 a private token representing the end user that the merchant wants to contact. The intermediate communications proxy of the ACSS thus acts as a proxy for the end user connecting the merchant s sales associate to the end user without exposing the end user s phone number to the merchant.

In this man in the middle role the intermediate communications proxy may receive an authorized incoming call from a merchant and in response call the end user optionally including a pre announcement identifying the merchant and or purpose of the call . Assuming that the end user accepts the call e.g. via touchtone or voice affirmation the intermediate communications proxy connects the two calls.

The ACSS may also intelligently monitor the communications e.g. such as by recognizing that the end user refused its call or immediately hanging up upon being connected to the merchant. If the end user is still connected to the ACSS on a voice connection the ACSS may offer a voice prompt menu that gives the end user the option of revoking the private token to prevent further voice call attempts by the merchant. Additionally or alternatively the ACSS may send an email message text or the like inviting the end user to revoke the private token or to otherwise manage settings maintained by the ACSS for the end user.

In another example a merchant wants to reach out to a specific end user. The merchant may address a REST REpresentational State Transfer endpoint with 1 a source email address 2 an end user private token and 3 the message to be conveyed. Another alternative is that a communication provider providing or associated with the ACSS has an email service running where the merchant can use an addressing schema mailto token provider.com. However such a schema should be used only if there is an encrypted socket connection to provider.com.

In both examples the private token communication service provided by the ACSS insures that end users remain anonymous or at least insures that the ACSS does not reveal the actual contact information of its end users. Retailers as second parties also benefit in that the identities of their individual sales and support staff are not exposed to end users when communications are conducted on the anonymous basis provided by the ACSS . Such anonymization allows merchants and other organizations to contact customers and prospective customers using connected services such as VoIP SKYPE GOOGLE TALK APPLE FACETIME etc. without revealing the network address and contact information of the support and sales staff making such calls.

The ACSS also may be configured to collect valuable statistics for the token based services it provides such as for regulatory purposes auditing purposes resolving customer disputes etc. Of course such extensions are optional as compared to the underlying anonymization services provided by the ACSS . Other variations are contemplated too. For example the ACSS is not limited to REST based addressing schemas.

That is if the ACSS is based on OAuth REST usage is mandated by that standard. In such configurations the private tokens are used for communication setup via REST requests e.g. submitted by second parties in possession of respective ones of the private tokens issued by the ACSS . Alternatively individual first parties may issue or pre allocate private tokens . Tokens may be provided to endpoints other than REST endpoints e.g. for SIP XMPP and other such communications.

When a private token is used in other protocols the private token may be conveyed for example in header information used by that protocol. In an REST HTTP example a private token can be conveyed in the Authentication header portion. In an example configuration that shields the first party s real identity the user agent hardware software device or system may use the private token in the user field of such a protocol instead of a real user identity. For example a user field might be sip jkfdiri3874ksdhs8339 anonymous.communication.example.com for SIP or mailto jkfdiri3874ksdhs8339anonymous.communication.example.com for email.

In other variations contemplated herein the private tokens may carry certain personalization information that does not reveal first party identifying information and yet allows a second party to personalize in some sense a given electronic communication . For example the private token issued to a given second party may include a zip code of the targeted first party which can be used to calculate shipping costs compute taxes etc. for a contemplated transaction between the first and second parties .

In another example a first party conducts a transaction with a second party that will involve the shipping of product to the first party . The first party has a trusted relationship with a shipping company. The second party requests a code from the shipping company and uses that code to populate the address field of a shipping label prepared by the second party . When the package is to be routed by the shipping company the code can then be exchanged for private token . In turn the shipping company submits the private token to an anonymization REST service provided by the ACSS to get the shipping address in clear text. The exchange requires a secret that only the shipping company knows. In this way it is safe to print the code onto a shipment package or have it encoded in a QR code sticker. Advantageously the first party s actual postal address is not revealed to the second party and yet the second party can generate shipping labels and entrust packages with the shipping company because the shipping company will be able to map the address codes printed by the second party to actual addresses via the ACSS .

In another aspect of consumer friendliness the ACSS may be owned or operated by an entity that is already trusted in some sense by a plurality of first parties . For example a communications network operator ISP cable provider etc. may operate the ACSS or may have a service agreement in place with one or more ACSS operators. Such an arrangement means that users of such services can allow their subscriber contact information to be used by the ACSS . Subscriber profiles also may be extended to include identifications of second parties that are pre approved at least for certain kinds of communications or blocked etc.

Notably modifications and other embodiments of the disclosed invention s will come to mind to one skilled in the art having the benefit of the teachings presented in the foregoing descriptions and the associated drawings. Therefore it is to be understood that the invention s is are not to be limited to the specific embodiments disclosed and that modifications and other embodiments are intended to be included within the scope of this disclosure. Although specific terms may be employed herein they are used in a generic and descriptive sense only and not for purposes of limitation.

