---

title: Geocoded data detection and user interfaces for same
abstract: A system, method and computer-readable medium are disclosed that can detect an address, geographic coordinates or business name in text displayed on a device and geocode or reverse geocode, respectively, the address/business name or geographic coordinates to provide geocoded data. The detecting and geocoding/reverse geocoding can be performed automatically. The geocoded data can be displayed in-place with the text in a user interface of the device or be provided to another application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08965693&OS=08965693&RS=08965693
owner: Apple Inc.
number: 08965693
owner_city: Cupertino
owner_country: US
publication_date: 20120605
---
Modern mobile devices e.g. smart phones e tablet computers include in place text editing for a variety of text based applications such as e mail and text messages. Users can highlight or otherwise designate portions of text for editing including cutting copying pasting and replacing text. Many of these modern mobile devices are location aware and include geocoding and reverse geocoding capability that can be used with a mapping or navigation application. Geocoding is the process of finding associated geographic coordinates e.g. latitude longitude from other geographic data such as street addresses or postal codes. Reverse geocoding is the process of reverse coding a point location e.g. latitude longitude to a readable address or place name.

A system method and computer readable medium are disclosed that can detect an address geographic coordinates or business name e.g. latitude longitude in text displayed on a device and geocode or reverse geocode respectively the address business name or geographic coordinates to provide geocoded data. The detecting and geocoding reverse geocoding can be performed automatically. The geocoded data can be displayed in place with the text in a user interface of the device or be provided to another application.

In some implementations text input is received that includes an address that is detected automatically and then modified to display more or less granularity such as geographic coordinates city a commercial venue at the address or any other geocoded data that is available to the device e.g. census information social network information etc. 

In some implementations in place detection and modification of an address or geographic coordinates is incorporated into a spell check or dictionary user interface element e.g. a call out in place on text. The user interface element can suggest other geocoded information related to the address or geographic coordinates e.g. postal codes business names census information area codes administrative boundaries links to government or commercial resources e.g. links to websites points of interest etc. .

In some implementations an application developer can designate a text field in an application as inheriting the capability to detect addresses or geographic coordinates. The capability can be provided to an application by a system wide service for example by an operating system service of the device according to an Application Programming Interface API .

Particular implementations disclosed herein provide one or more of the following advantages. Addresses or geographic coordinates can be detected in place for any text in any application such as e mail text messages or notes. Upon detection the user can be provided with additional information related to the detected address or geographic coordinates without having to leave the current application.

The details of the disclosed implementations are set forth in the accompanying drawings and the description below. Other features objects and advantages will be apparent from the description and drawings and from the claims.

In the example shown a user Patrick has received geographic coordinates in a text message. Geographic coordinates can have a format based on International Organization for Standardization ISO 6709 standard representation of geographic point location by coordinates where for example a positive latitude indicates northern hemisphere a minus latitude indicates southern hemisphere a positive longitude indicates east longitude and a minus longitude indicates west longitude. Patrick touches e.g. a long press or taps on the coordinates to make call out appear. Call out includes several editing options including cut copy paste and replace.

Referring to Patrick selects the replace option resulting in call out displaying the street address city and state corresponding to the geographic coordinates 37.331684 122.030752 which is 1 Infinite Loop Cupertino Calif. When Patrick selected replace a reverse geocoding operation was performed resulting in geocoded data being generated. In this example the geocoded data included a street address city and state corresponding to the geographic coordinates in the text.

When Patrick selected replace a geocoding operation was performed resulting in geocoded data including geographic coordinates corresponding to the address 1 Infinite Loop Cupertino Calif. which in this example is . 

The reverse geocoding and geocoding described above can be implemented using a software geocoder that is embedded in an operating system of device . An example method of geocoding is address interpolation which makes use of data from a street geographic information system GIS which maps a street network within a geographic coordinate space. Each street segment is attributed with address ranges e.g. house numbers from one segment to the next . The geocoder takes an address matches it to a street and specific segment e.g. such as a block . The geocoder then interpolates the position of the address within the range along the segment.

Reverse geocoding can be carried out similarly to the geocoding process. For example when geographic coordinates are entered into the geocoder a corresponding street address is interpolated from a range assigned to a road segment in a reference dataset that is nearest to the geographic coordinates. For example if the geographic coordinates are near a midpoint of a segment that starts with address and ends with the returned street address will be somewhere near . Geographic coordinates for reverse geocoding also can be extracted from maps by geo referencing the coordinates in a GIS with predefined spatial layers to determine the geographic coordinates.

An address coordinate detection module in the device operating system can detect an address or geographic coordinates in text using known pattern recognition algorithms e.g. classification algorithms clustering algorithms regression algorithms . The address or geographic coordinates can then be extracted from the text and sent to the geocoder without any user intervention e.g. automatically . In addition to address and geographic coordinates a business name can be used as input into the geocoder which can be mapped to an address or geographic coordinates.

The output of the geocoder can be displayed in place with the text in the originating application e.g. e mail text messaging notes etc. or provided to another application for display or further processing.

In some implementations an address or partial address in the text can be refined expanded or diminished. The detection module can use a string matching algorithm to match a partial address in text to a complete address stored in a database or other related address data. For example the partial address 355 17St could be diminished to the corresponding city and state San Francisco Calif. Also an address could be refined to a business name. For example the address 333 Valencia St SF Calif. could be refined to Joe s Cafe or joescafe. 

In some implementations the address is first geocoded into geographic coordinates which are then used as an index into the map database such as a GIS. In some implementations a network based service can provide the geocoded data corresponding to geographic coordinates such as service shown in . Service can also provide access to a remote database storing geocoded data.

Other geocoded data that can be provided by the geocoder can include but is not limited to neighborhood identification data social network information e.g. link to launch a social network application on device icons or symbols oceans or other bodies of water points of interest e.g. parks military bases monuments etc.

In some implementations one option can be to navigate to the address or geographic coordinates. This option can use the current location of device taken from for example an onboard positioning system e.g. a global positioning system GPS a Wi Fi based positioning system or a positioning system based on a cellular network and compute a route from the current location of device to the address or geographic coordinates. A mapping application can be automatically invoked on device to display a map with the computed route on display . In some implementations a street view display of the address can be invoked automatically.

In some implementations process can begin by receiving text including an address geographic coordinates or a business name . Process can continue by detecting the address geographic coordinates or business name in the text . The address geographic coordinates or business name can be detected in the text using a suitable pattern matching algorithm. Process can continue by geocoding or reverse geocoding respectively the address business name or geographic coordinates to produce geocoded data . Process can continue by displaying the resulting geocoded data or reverse geocoded data in place with the text or providing the geocoded data or reverse geocoded data to an application . The geocoded data can be provided by an operating system service to another application running on device using for example an API. The geocoding reverse geocoding can be performed on the device or by a remote network based service.

Architecture can be implemented in any device including but not limited to portable or desktop computers smart phones and electronic tablets television systems game consoles kiosks and the like. Architecture can include memory interface data processor s image processor s or central processing unit s and peripherals interface . Memory interface processor s or peripherals interface can be separate components or can be integrated in one or more integrated circuits. The various components described above can be coupled by one or more communication buses or signal lines.

Sensors devices and subsystems can be coupled to peripherals interface to facilitate multiple functionalities. For example motion sensor light sensor and proximity sensor can be coupled to peripherals interface to facilitate orientation lighting and proximity functions of the device. For example in some implementations light sensor can be utilized to facilitate adjusting the brightness of touch surface . In some implementations motion sensor e.g. an accelerometer gyros can be utilized to detect movement and orientation of the device. Accordingly display objects or media can be presented according to a detected orientation e.g. portrait or landscape .

Other sensors can also be connected to peripherals interface such as a temperature sensor not shown a biometric sensor not shown or other sensing device not shown to facilitate related functionalities.

Location processor e.g. GPS receiver can be connected to peripherals interface to provide geo positioning. Electronic magnetometer e.g. an integrated circuit chip can also be connected to peripherals interface to provide data that can be used to determine the direction of magnetic North. Thus electronic magnetometer can be used as an electronic compass.

Camera subsystem and an optical sensor e.g. a charged coupled device CCD or a complementary metal oxide semiconductor CMOS optical sensor can be utilized to facilitate camera functions such as recording photographs and video clips.

Communication functions can be facilitated through one or more communication subsystems . The one or more communication subsystems can include one or more wireless communication subsystems. Wireless communication subsystems can include radio frequency receivers and transmitters and or optical e.g. infrared receivers and transmitters. Wired communication subsystems can include a port device e.g. a Universal Serial Bus USB port or some other wired port connection that can be used to establish a wired connection to other computing devices such as other communication devices network access devices a personal computer a printer a display screen or other processing devices capable of receiving or transmitting data. The specific design and implementation of the one or more communication subsystems can depend on the communication network s or medium s over which the device is intended to operate. For example a device may include wireless communication subsystems designed to operate over a global system for mobile communications GSM network a general packet radio service GPRS network an enhanced data GSM environment EDGE network 802.x communication networks e.g. Wi Fi worldwide interoperability for microwave access WiMAX or third generation 3G networks code division multiple access CDMA networks and a Bluetooth network. Communication subsystems may include hosting protocols such that the device may be configured as a base station for other wireless devices. As another example the communication subsystems can allow the device to synchronize with a host device using one or more protocols such as for example the transmission control protocol internet protocol TCP IP hypertext transfer protocol HTTP user datagram protocol UDP and any other known protocol.

Audio subsystem can be coupled to a speaker and one or more microphones to facilitate voice enabled functions such as voice recognition voice replication digital recording and telephony functions.

Input output I O subsystem can include touch controller and or other input controller s . Touch controller can be coupled to a touch surface . Touch surface and touch controller can for example detect contact and movement or break thereof using any of a number of touch sensitivity technologies including but not limited to capacitive resistive infrared and surface acoustic wave technologies as well as other proximity sensor arrays or other elements for determining one or more points of contact with touch surface . In one implementation touch surface can display virtual or soft buttons and a virtual keyboard which can be used as an I O device by the user.

Other input controller s can be coupled to other input control devices such as one or more buttons rocker switches thumb wheel infrared port USB port and or a pointer device such as a stylus. The one or more buttons not shown can include an up down button for volume control of speaker and or microphone .

In some implementations device can present recorded audio and or video files such as Moving Picture Experts Group MPEG MPEG 1 or MPEG 2 Layer III MP3 or advanced audio coding AAC files. In some implementations device can include the functionality of an MP3 player and may include a pin connector for tethering to other devices. Other input output and control devices can be used.

Memory interface can be coupled to memory . Memory can include high speed random access memory or non volatile memory such as one or more magnetic disk storage devices one or more optical storage devices or flash memory e.g. negated and NAND flash memory or negated or NOR flash memory . Memory can store operating system such as Darwin RTXC LINUX UNIX OS X WINDOWS Android iOS or an embedded operating system such as VxWorks Operating system may include instructions for handling basic system services and for performing hardware dependent tasks. In some implementations operating system can include a kernel e.g. UNIX kernel .

Memory may also store communication instructions to facilitate communicating with one or more additional devices one or more computers or servers. Communication instructions can also be used to select an operational mode or communication medium for use by the device based on a geographic location obtained by the GPS Navigation instructions of the device. Memory may include graphical user interface GUI instructions to facilitate graphic user interface processing such as generating and displaying the various user interfaces and user interface elements described in reference to sensor processing instructions to facilitate sensor related processing and functions phone instructions to facilitate phone related processes and functions electronic messaging instructions to facilitate electronic messaging related processes and functions including instructions for implementing an e mail application or text messaging application web browsing instructions to facilitate web browsing related processes and functions including facilitating communication with a services described in reference to media processing instructions to facilitate media processing related processes and functions GPS Navigation instructions to facilitate GPS and navigation related processes camera instructions to facilitate camera related processes and functions and other instructions such as instructions to implement a software geocoder and detection module as described in reference to . The memory may also store other software instructions for facilitating other processes features and applications such as applications related to navigation social networking location based services or map displays.

Each of the above identified instructions and applications can correspond to a set of instructions for performing one or more functions described above. These instructions need not be implemented as separate software programs procedures or modules. Memory can include additional instructions or fewer instructions. Furthermore various functions of the mobile device may be implemented in hardware and or in software including in one or more signal processing and or application specific integrated circuits.

In some implementations both voice and data communications can be established over wireless network and access device . For example device can place and receive phone calls e.g. using voice over Internet Protocol VoIP protocols send and receive e mail messages e.g. using simple mail transfer protocol SMTP or Post Office Protocol 3 POP3 and retrieve electronic documents and or streams such as web pages photographs and videos over wireless network gateway and WAN e.g. using TCP IP or UDP . Likewise in some implementations device can place and receive phone calls send and receive e mail messages and retrieve electronic documents over access device and wide area network WAN . In some implementations device or can be physically connected to access device using one or more cables and access device can be a personal computer. In this configuration device or can be referred to as a tethered device.

Devices and can also establish communications by other means. For example wireless device can communicate with other wireless devices e.g. other devices or cell phones over the wireless network . Likewise devices and can establish peer to peer communications e.g. a personal area network by use of one or more communication subsystems and protocols such as Bluetooth communication protocol. Other communication protocols and topologies can also be implemented.

Devices or can communicate with service over the one or more wired and or wireless networks . For example service can be any service that provides webpages using a web server including a social networking website blog or Twitter . Service can provide geocoding reverse geocoding services mapping services and or access to a database of geocoded data as described in reference to .

Device or can also access other data and content over one or more wired and or wireless networks . For example content publishers such as news sites Really Simple Syndication RSS feeds Web sites and developer networks can be accessed by device or . Such access can be provided by invocation of a web browsing function or application e.g. a browser running on the device or

Devices and can exchange files over one or more wireless or wired networks either directly or through service .

The features described can be implemented in digital electronic circuitry or in computer hardware firmware software or in combinations of them. The features can be implemented in a computer program product tangibly embodied in an information carrier e.g. in a machine readable storage device for execution by a programmable processor and method steps can be performed by a programmable processor executing a program of instructions to perform functions of the described implementations by operating on input data and generating output.

The described features can be implemented advantageously in one or more computer programs that are executable on a programmable system including at least one programmable processor coupled to receive data and instructions from and to transmit data and instructions to a data storage system at least one input device and at least one output device. A computer program is a set of instructions that can be used directly or indirectly in a computer to perform a certain activity or bring about a certain result. A computer program can be written in any form of programming language e.g. Objective C Java including compiled or interpreted languages and it can be deployed in any form including as a stand alone program or as a module component subroutine or other unit suitable for use in a computing environment.

Suitable processors for the execution of a program of instructions include by way of example both general and special purpose microprocessors and the sole processor or one of multiple processors or cores of any kind of computer. Generally a processor will receive instructions and data from a read only memory or a random access memory or both. The essential elements of a computer are a processor for executing instructions and one or more memories for storing instructions and data. Generally a computer can communicate with mass storage devices for storing data files. These mass storage devices can include magnetic disks such as internal hard disks and removable disks magneto optical disks and optical disks. Storage devices suitable for tangibly embodying computer program instructions and data include all forms of non volatile memory including by way of example semiconductor memory devices such as read only memory ROM erasable programmable ROM EPROM electrically erasable programmable ROM EEPROM and flash memory devices magnetic disks such as internal hard disks and removable disks magneto optical disks and compact disk ROM CD ROM and digital video disk ROM DVD ROM disks. The processor and the memory can be supplemented by or incorporated in ASICs application specific integrated circuits .

To provide for interaction with an author the features can be implemented on a computer having a display device such as a CRT cathode ray tube or LCD liquid crystal display monitor for displaying information to the author and a keyboard and a pointing device such as a mouse or a trackball by which the author can provide input to the computer.

The features can be implemented in a computer system that includes a back end component such as a data server or that includes a middleware component such as an application server or an Internet server or that includes a front end component such as a client computer having a graphical user interface or an Internet browser or any combination of them. The components of the system can be connected by any form or medium of digital data communication such as a communication network. Examples of communication networks include a local area network LAN a WAN and the computers and networks forming the Internet.

The computer system can include clients and servers. A client and server are generally remote from each other and typically interact through a network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client server relationship to each other.

One or more features or steps of the disclosed embodiments can be implemented using an Application Programming Interface API . An API can define on or more parameters that are passed between a calling application and other software code e.g. an operating system library routine function that provides a service that provides data or that performs an operation or a computation.

The API can be implemented as one or more calls in program code that send or receive one or more parameters through a parameter list or other structure based on a call convention defined in an API specification document. A parameter can be a constant a key a data structure an object an object class a variable a data type a pointer an array a list or another call. API calls and parameters can be implemented in any programming language. The programming language can define the vocabulary and calling convention that a programmer will employ to access functions supporting the API.

In some implementations an API call can report to an application the capabilities of a device running the application such as input capability output capability processing capability power capability communications capability etc.

A number of implementations have been described. Nevertheless it will be understood that various modifications may be made. Elements of one or more implementations may be combined deleted modified or supplemented to form further implementations. As yet another example the logic flows depicted in the figures do not require the particular order shown or sequential order to achieve desirable results. In addition other steps may be provided or steps may be eliminated from the described flows and other components may be added to or removed from the described systems. Accordingly other implementations are within the scope of the following claims.

