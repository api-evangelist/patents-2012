---

title: Integrating a router based web meter and a software based web meter
abstract: A method for associating a web event with a member of a group of users is implemented at a first computing device. The method includes: receiving a data access request from a second computing device; determining whether the user has previously provided personal information and authorization to the first computing device through the second computing device; if the user's personal information and authorization are found: generating a record for the data access request; if the user's personal information is found but the user's authorization is not found: generating a record for the data access request; and if neither of the user's personal information and authorization is found: identifying one or more user identifiers that are associated with the second computing device; and returning personal information associated with the one or more user identifiers to the second computing device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08984600&OS=08984600&RS=08984600
owner: Google Inc.
number: 08984600
owner_city: Mountain View
owner_country: US
publication_date: 20121025
---
The disclosed implementations relate generally to tracking web browsing activities from a household and in particular to system and method for associating the web browsing activities with the individual household members.

People spend time on the Internet at home for different purposes such as checking news and other information doing on line shopping exchanging information via email or social networking websites watching or listening video and or audio clips etc. Meanwhile users in an average household can usually access the Internet through multiple computing devices such as PC smartphone tablet game console smart TV TV set top box etc. Although it is possible to keep track of all the web browsing activities also known as web events originated from a particular household it is difficult to associate a particular web event e.g. a visit to a particular website with a particular member of the household in a less intrusive manner which is especially true if the household includes multiple household members that may use different devices accessing the Internet at the same time.

In accordance with some implementations described below a computer implemented method for associating a web event with a particular member of a group of users is implemented at a first computing device having one or more processors and memory. The computer implemented method includes receiving a data access request from a second computing device wherein the data access request is generated by a user of the second computing device for accessing data service at a remote server determining whether the user has previously provided personal information and authorization to the first computing device through the second computing device if the user s personal information and authorization are found generating a record for the data access request wherein the record includes the user s personal information and an identifier of the data access request if the user s personal information is found but the user s authorization is not found generating a record for the data access request wherein the record includes an identifier of the data access request and an identifier of the second computing device and if neither of the user s personal information and authorization is found identifying one or more user identifiers that are associated with the second computing device and returning personal information associated with the one or more user identifiers to the second computing device wherein the personal information associated with the one or more user identifiers is to be displayed on the second computing device so that the user of the second computing device can choose personal information associated with one of the one or more user identifiers.

In accordance with some implementations described below a first computing device for associating a web event with a particular member of a group of users is disclosed the first computing device including one or more processors and memory storing one or more programs to be executed by the one or more processors. The one or more programs include instructions for receiving a data access request from a second computing device wherein the data access request is generated by a user of the second computing device for accessing data service at a remote server determining whether the user has previously provided personal information and authorization to the first computing device through the second computing device if the user s personal information and authorization are found generating a record for the data access request wherein the record includes the user s personal information and an identifier of the data access request if the user s personal information is found but the user s authorization is not found generating a record for the data access request wherein the record includes an identifier of the data access request and an identifier of the second computing device and if neither of the user s personal information and authorization is found identifying one or more user identifiers that are associated with the second computing device and returning personal information associated with the one or more user identifiers to the second computing device wherein the personal information associated with the one or more user identifiers is to be displayed on the second computing device so that the user of the second computing device can choose personal information associated with one of the one or more user identifiers.

In accordance with some implementations described below a non transitory computer readable storage medium storing one or more programs to be performed by a first computing device for associating a web event with a particular member of a group of users is disclosed. The one or more programs include instructions for receiving a data access request from a second computing device wherein the data access request is generated by a user of the second computing device for accessing data service at a remote server determining whether the user has previously provided personal information and authorization to the first computing device through the second computing device if the user s personal information and authorization are found generating a record for the data access request wherein the record includes the user s personal information and an identifier of the data access request if the user s personal information is found but the user s authorization is not found generating a record for the data access request wherein the record includes an identifier of the data access request and an identifier of the second computing device and if neither of the user s personal information and authorization is found identifying one or more user identifiers that are associated with the second computing device and returning personal information associated with the one or more user identifiers to the second computing device wherein the personal information associated with the one or more user identifiers is to be displayed on the second computing device so that the user of the second computing device can choose personal information associated with one of the one or more user identifiers.

As noted above the relationship between different household members and the computing devices in the household is many to many. In other words one household member may send a search query to an on line shopping website from a computer while another household member may visit a social networking website from the smart TV at the same time. Similarly the same household member may be using the game console to play an on line game at one moment and sending an electronic message to a friend from his or her smartphone . Although these web events may be all captured by the router the many to many relationship between the household members and the computing devices makes it difficult to determine which household member is behind a particular data access request. In some implementations it is of interest to track the web events associated with individual members of a household who are sharing a single Internet connection and router. For example this is the case when multiple household members are participants in a panel that measures their web activity both individually and or as a household. In some implementations a household member who is a panel participant is often required to first log into his or her account from a computing device that he or she is going to use to browse the Internet. Terms of use between the household and or the individual members and an agency that is interested in collecting data associated with the household s web activities e.g. an organization that operates the web traffic logging server may provide that no individual level data will be collected for a web session unless that particular individual has logged into collection software or his or her account with the agency or otherwise consented to collection of information prior to that web session. In other words terms of use the agency needs to get a prior approval from the household members before collecting any data from the household or using their data for any other purpose. In some implementations the agreement specifies a protocol that the household members need to follow to make sure that the data collected from the household is not only legitimate but also meaningful so that a third party data analyst e.g. a sales person from an advertising company can derive useful results from the data. For example before starting browsing the Internet a household member also known as a panelist needs to log into his or her account to specify whether the subsequent web browsing activities should be logged or not.

In some implementations when a household agrees to have its web browsing activities logged the household provides demographic information for each household member and generates an account for each household member at the web traffic logging server using the demographic information. In addition the household may also provide a list of computing devices that the household members use to browse the Internet. Such information is stored at the household member at the web traffic logging server and maybe the router . Whenever the household purchases a new computing device or stops using an existing computing device it should update the household s associated device information accordingly. Note that the computing devices with Internet accessibility in a household can generally be divided into two distinct groups. A first group of computing devices such as the computer and the smartphone usually have more generic and or accessible user interfaces and operating systems such that it is relatively easy for a third party developer to develop an application for different household members to log into his or her account and provide instructions to the router and the web traffic logging server . A second group of computing devices such as the smart TV and the game console run on a more proprietary operating system that makes it more difficult for supporting a third party application e.g. an application for panelist registration . In order to capture the web browsing activities originating from both groups of computing devices multiple approaches are described herein each involving collaboration between one or more computing devices within a household a specially programmed router and a web traffic logging server .

In some implementations the memory includes high speed random access memory such as DRAM SRAM DDR RAM or other random access solid state memory devices. In some implementations memory includes non volatile memory such as one or more magnetic disk storage devices optical disk storage devices flash memory devices or other non volatile solid state storage devices. In some implementations memory includes one or more storage devices remotely located from the CPU s . Memory or alternately the non volatile memory device s within memory comprises a non transitory computer readable storage medium. In some implementations memory or the computer readable storage medium of memory stores the following elements or a subset of these elements and may also include additional elements 

As will be described below different components within the router work in concert by generating a data access record that associates a respective web browsing activity from a computing device with a particular household member if possible subject to consent by the particular household member and then submitting the data access record to the web traffic logging server .

In some implementations the memory includes high speed random access memory such as DRAM SRAM DDR RAM or other random access solid state memory devices. In some implementations memory includes non volatile memory such as one or more magnetic disk storage devices optical disk storage devices flash memory devices or other non volatile solid state storage devices. In some implementations memory includes one or more storage devices remotely located from the CPU s . Memory or alternately the non volatile memory device s within memory comprises a non transitory computer readable storage medium. In some implementations memory or the computer readable storage medium of memory stores the following elements or a subset of these elements and may also include additional elements 

As shown in the computing devices shown in the figure communicate with the web servers through the router . In other words each data access request from any of these computing devices goes through the router before reaching its destination which gives the router a unique opportunity to check whether this request is uniquely associated with a particular household member using a particular computing device. If so the router can generate a data access record accordingly. Otherwise the router can leverage the other information it has to lower the chance of reporting a data access request to the web traffic logging server without being able to identify who is responsible for the request. Below are three approaches of reducing the ambiguity based on the type of a computing device from which a data access request comes and information of a household member using the computing device and stored within the memory of the router .

Upon receipt of the data access request the router checks one or more parameters in the data access request and then takes appropriate actions accordingly. For example the router extracts a device ID from the data access request that indicates which second computing device in the household the data access request comes from. In some implementations the device ID is an IP address of the second computing device e.g. a laptop computer . In some other implementations the device ID is a MAC address of the second computing device e.g. a smartphone . Using the extracted device ID the router then looks up its own memory to determine whether the user of the second computing device has provided his or her personal information as well as authorization to associate the data access request with the user s personal information . As described above in connection with a computing device record associated with the device ID may include the user information indicating e.g. which household member is currently using the second computing device and if so whether the household member has granted any authorization for the router to associate the data access request with the household member.

If the router determines that a household member has previously logged into his or her account and also provided authorization of having his or her web browsing activity logged under his or her name the router then generates a data record e.g. a data access record for the request the record including at least an identifier of the data access request which is uniquely assigned to the data access request by the router or by the web traffic logging server the household member s personal information e.g. a user ID and maybe the device ID identifying the second computing device from which the request comes.

In some implementations the router may determine that there is no user information in the device record associated with the device ID which might happen if a household member starts browsing the web without logging into his or her account according the protocol. In this case the router may look up the user records to identify one or more user identifiers that are associated with the second computing device . As noted above each household member is supposed to provide a list of computing device that he or she often uses for browsing the Internet. After identifying the user IDs associated with the second computing device from which the data access request comes the router then returns the personal information associated with the user identifiers to the second computing device . For example the router may return the names of the household members that have registered using the second computing device.

Upon receipt of the personal information the second computing device then displays the personal information to the current user of the second computing device. As noted above a computing device like a tablet or a smartphone may have a pre installed application for a user of the device to log into his or her account at the router . Using the received personal information the second computing device may render a list of user icons on its screen each user icon representing one household member that has registered using this device. In response to a user selection of the one of the user icons the second computing device returns the personal information associated with the user selected user icon to the router . The router then generates a data access record accordingly as described above in connection with the step . By doing so the household member currently using the second computing device may retroactively provide his or her personal information and authorization for associating the data access request with the household member.

In some implementations the approach described above may be achieved by the router exposing a predefined application programming interface API to the second computing device through which the second computing device can exchange data with the router and instruct the router to perform user designated operations. For example before visiting any website a user of the second computing device may launch an application on the device and log into his or her account at the router by providing his or her user name and password if necessary to the router . The application is also used by the household to update their personal information and device information stored at the router as well as the web traffic logging server .

In some implementations a household member using the second computing device can refuse to authorize the router to associate data access requests from the second computing device with the household member after logging into his or her account. In this case the router does not generate any data access record or send anything about the household member s web browsing events to the web traffic logging server . In some other implementations a household member may log into his or her account at the beginning or during the middle of a web browsing session but without notifying the router whether it is authorized to log the web browsing session. In this case the router assumes that lack of authorization means a denial and therefore takes no further action of logging the web browsing session. Alternatively as shown in the router may generate a data record for the data access request the data record including an identifier of the data access request an identifier of the second computing device and optionally a type of the second computing device and then send the data record to the web traffic logging server for further processing.

In some implementations in order to determine whether the user has previously provided personal information and authorization to the first computing device the first computing device extracts an identifier of the second computing device from the data access request and identifies a computing device record using the identifier of the second computing device. Next the first computing device checks the computing device record to determine whether it includes personal information of the user of the second computing device and authorization to associate the user s personal information with the data access request.

Sometimes a household member may use a newly purchased computing device to browse the Internet before even registering the device and the router cannot identify a computing device record using the identifier of the second computing device. In this case the first computing device then determines a device type for the second computing device in accordance with the data access request e.g. whether the second computing device belongs to the first group or the second group as described above. The first computing device then generates a new computing device record using the identifier of the second computing device and the determined device type. Next the first computing device sends a registration message to the second computing device wherein the second computing device is configured to render a graphical user interface that prompts the user of the second computing device to provide personal information and authorization to the graphical user interface and forward the user provided personal information and authorization to the first computing device. Finally the first computing device updates the new computing device record using the user provided personal information and authorization.

Upon receipt of the data access request the router checks one or more parameters in the data access request and then takes appropriate actions accordingly. For example the router extracts a device ID from the data access request and then identifies a device record associated with the device ID. If there is no personal information or authorization associated with the second computing device the router cannot associate the data access request with a particular household member. However the router can determine whether the second computing device provides a user login service or not based on the information in the device record . For example as noted above in connection with some devices like the computer and the smartphone can provide a user login service associated with the router whereas other devices like the smart TV and the game console may not.

If the router finds out that the second computing device provides the user login service yes the router then notifies the second computing device to render its login service on its screen . Upon receipt of the notification the second computing device then renders the user login service by displaying the personal information of the household members to the current user of the second computing device. For example the personal information may be rendered in the form of a list of user icons on its screen each user icon representing one household member that has registered using this device. In response to a user input by e.g. selecting one of the user icons the second computing device returns the personal information associated with the user selected user icon to the router . The router then generates a data access record accordingly as described above in connection with the step . But if the router finds out that the second computing device does not provide the user login service no e.g. if the data access request is from the game console the router determines an identifier for the second computing device and generate a data record for the data access request . For example the data record may include an identifier of the data access request an identifier of the second computing device and optionally a type of the second computing device which may be processed by the web traffic logging server subsequently. In some implementations the router performs the operations associated with the steps and only if there is a prior approval from the household e.g. when the household signs the agreement with the agency that manages the web traffic logging server .

In some implementations in order to examine the data access request the first computing device extracts an identifier of the second computing device from the data access request and identifies a computing device record using the identifier of the second computing device. Next the first computing device checks a device type of the computing device record to determine whether the second computing device provides the user login service. For a computing device that has no corresponding device record the first computing device then determines a device type for the second computing device in accordance with the data access request e.g. whether the second computing device belongs to the first group or the second group as described above. The first computing device then generates a new computing device record using the identifier of the second computing device and the determined device type. If the second computing device has one of a plurality of predefined device types e.g. a computer or a smartphone the first computing device sends a registration message to the second computing device. In response the second computing device renders a graphical user interface that prompts the user of the second computing device to provide personal information and authorization to the graphical user interface and then forwards the user provided personal information and authorization to the first computing device. The first computing device then updates the new computing device record using the user provided personal information and authorization. But if the second computing device does not has any of the plurality of predefined device types e.g. the second computing device is a smart TV or a game console the first computing device then updates the new computing device record using the identifier of the second computing device.

Upon receipt of the data access request the router checks one or more parameters in the data access request and then takes appropriate actions accordingly. For example the router extracts a device ID from the data access request and then identifies a device record associated with the device ID. If there is no personal information or authorization associated with the second computing device the router cannot associate the data access request with a particular household member. However the router can determine whether the second computing device provides a user login service or not based on the information in the device record .

If the router finds out that the second computing device provides the user login service yes the router then notifies the second computing device to render its login service on its screen . Upon receipt of the notification the second computing device then renders the user login service by displaying the personal information of the household members to the current user of the second computing device. For example the personal information may be rendered in the form of a list of user icons on its screen each user icon representing one household member that has registered using this device. In response to a user input by e.g. selecting one of the user icons the second computing device returns the personal information associated with the user selected user icon to the router . The router then generates a data access record accordingly as described above in connection with the step .

But if the router finds out that the second computing device does not provide the user login service no e.g. if the data access request is from the game console the router then identifies a third computing device that is physically proximate the second computing device . As described above in connection with the router may store the location information of the computing devices. In some implementations a computing device e.g. a tablet or a smartphone may update its location information using the API offered by the router . In this case if the router finds out that the data access request is from a game console located in the family room and that there is a smartphone currently located in the same room the router may identify this smartphone as the third computing device and notifies the smartphone to render its user login service .

Upon receipt of the notification the third computing device then renders the user login service by displaying the personal information of the household members to the current user of the second computing device. For example the personal information may be rendered in the form of a list of user icons on its screen each user icon representing one household member that has registered using this device. In response to a user input by e.g. selecting one of the user icons the third computing device returns the personal information associated with the user selected user icon to the router . The router then generates a data access record accordingly by associating the data access request with the user s personal information provided by the third computing device .

In some implementations in order to determine whether the second computing device provides a user login service the first computing device extracts an identifier of the second computing device from the data access request and identifies a computing device record using the identifier of the second computing device. Next the first computing device checks a device type of the computing device record to determine whether the second computing device provides the user login service. For a new computing device that has no corresponding device record the first computing device determines a device type for the second computing device in accordance with the data access request e.g. whether the second computing device belongs to the first group or the second group as described above. The first computing device then generates a new computing device record using the identifier of the second computing device and the determined device type. If the second computing device has one of a plurality of predefined device types e.g. a computer or a smartphone the first computing device sends a registration message to the second computing device. In response the second computing device renders a graphical user interface that prompts the user of the second computing device to provide personal information and authorization to the graphical user interface and then forwards the user provided personal information and authorization to the first computing device. The first computing device then updates the new computing device record using the user provided personal information and authorization. But if the second computing device does not has any of the plurality of predefined device types e.g. the second computing device is a smart TV or a game console the first computing device selects one computing device record among a plurality of computing device records that has been identified as being physically proximate the second computing device and also providing the user login service. Next the first computing device sends an alert message to the third computing device. The third computing device in response outputs the alert signal prompting the user of the second computing device to respond by rendering a graphical user interface that prompts the user of the second computing device to provide personal information and authorization to the graphical user interface and then forwards the user provided personal information and authorization to the first computing device. The first computing device then generates a data record for the data access request the record including the user provided personal information and the identifier of the data access request.

While particular embodiments are described above it will be understood it is not intended to limit the invention to these particular embodiments. On the contrary the invention includes alternatives modifications and equivalents that are within the spirit and scope of the appended claims. Numerous specific details are set forth in order to provide a thorough understanding of the subject matter presented herein. But it will be apparent to one of ordinary skill in the art that the subject matter may be practiced without these specific details. In other instances well known methods procedures components and circuits have not been described in detail so as not to unnecessarily obscure aspects of the embodiments.

Although the terms first second etc. may be used herein to describe various elements these elements should not be limited by these terms. These terms are only used to distinguish one element from another. For example first ranking criteria could be termed second ranking criteria and similarly second ranking criteria could be termed first ranking criteria without departing from the scope of the present invention. First ranking criteria and second ranking criteria are both ranking criteria but they are not the same ranking criteria.

The terminology used in the description of the invention herein is for the purpose of describing particular embodiments only and is not intended to be limiting of the invention. As used in the description of the invention and the appended claims the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will also be understood that the term and or as used herein refers to and encompasses any and all possible combinations of one or more of the associated listed items. It will be further understood that the terms includes including comprises and or comprising when used in this specification specify the presence of stated features operations elements and or components but do not preclude the presence or addition of one or more other features operations elements components and or groups thereof.

As used herein the term if may be construed to mean when or upon or in response to determining or in accordance with a determination or in response to detecting that a stated condition precedent is true depending on the context. Similarly the phrase if it is determined that a stated condition precedent is true or if a stated condition precedent is true or when a stated condition precedent is true may be construed to mean upon determining or in response to determining or in accordance with a determination or upon detecting or in response to detecting that the stated condition precedent is true depending on the context.

Although some of the various drawings illustrate a number of logical stages in a particular order stages that are not order dependent may be reordered and other stages may be combined or broken out. While some reordering or other groupings are specifically mentioned others will be obvious to those of ordinary skill in the art and so do not present an exhaustive list of alternatives. Moreover it should be recognized that the stages could be implemented in hardware firmware software or any combination thereof.

The foregoing description for purpose of explanation has been described with reference to specific implementations. However the illustrative discussions above are not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations are possible in view of the above teachings. The implementations were chosen and described in order to best explain principles of the invention and its practical applications to thereby enable others skilled in the art to best utilize the invention and various implementations with various modifications as are suited to the particular use contemplated. Implementations include alternatives modifications and equivalents that are within the spirit and scope of the appended claims. Numerous specific details are set forth in order to provide a thorough understanding of the subject matter presented herein. But it will be apparent to one of ordinary skill in the art that the subject matter may be practiced without these specific details. In other instances well known methods procedures components and circuits have not been described in detail so as not to unnecessarily obscure aspects of the implementations.

