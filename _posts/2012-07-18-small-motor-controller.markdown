---

title: Small motor controller
abstract: A small motor controller (SMC) system includes a motor configured to control a position of a rotor, a sensor configured to detect position information of the rotor by detecting a feature on the rotor, the sensor including a detection zone having a first side and a second side, and a motor control unit. The motor control unit is configured to determine a position of the rotor corresponding to one of the first side of the detection zone and the second side of the detection zone based on whether the feature on the rotor is detected crossing the first side or the second side, respectively.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08836266&OS=08836266&RS=08836266
owner: The Johns Hopkins University
number: 08836266
owner_city: Baltimore
owner_country: US
publication_date: 20120718
---
This invention was made with government support under contract number N66001 06 C 8005 awarded by the Defense Advanced Research Projects Agency DARPA . The government has certain rights in the invention.

The present disclosure relates to a small motor controller and more specifically to a small motor controller and programs to control a small motor which determine position information of a rotor or motor and control a position of the rotor or motor.

Small motor controllers SMCs are used in various applications to control the operation of small motors. Motors may take many forms including a magnetizable element such as a coil and a magnetic element such as a permanent magnet connected to a rotor. An SMC may control rotation of the rotor by generating controls signals to energize the coil causing a magnetic field interaction between the coil and the permanent magnet and causing the rotor to rotate.

In some applications a user or program needs to know the position of a rotor and hardware may be provided such as a high resolution encoder to determine the rotor position. In addition an SMC may use a sensor output from a small motor to generate a motor control signal to control the small motor. However since processing the sensor output from the sensor takes time a motor control signal generated by the SMC based on the sensor output corresponds to outdated information about the small motor.

According to one embodiment of the present invention a small motor controller SMC system includes a motor configured to control a position of a rotor a sensor configured to detect position information of the rotor by detecting a feature on the rotor the sensor including a detection zone having a first side and a second side and a motor control unit. The motor control unit is configured to determine a position of the rotor corresponding to one of the first side of the detection zone and the second side of the detection zone based on whether the feature on the rotor is detected crossing the first side or the second side respectively.

According to another embodiment of the present invention a non transitory computer readable medium has stored thereon a computer program which when executed by a computer performs a method on the computer. The method comprises receiving a sensor output signal determining whether the sensor output signal corresponds to a feature of a rotor entering a sensing zone of a sensor from a first side or a second side opposite the first side and determining a position of the rotor corresponding to one of the first side of the sensing zone and the second side of the sensing zone based on whether the feature on the rotor is detected adjacent to the first side or the second side respectively.

According to yet another embodiment of the present invention a prosthetic limb includes a joint including a motor to bend the joint a sensor configured to detect position information of the motor by detecting a feature on a rotor of the motor the sensor including a detection zone having a first side and a second side and a motor control unit configured to a position of the rotor corresponding to one of the first side of the detection zone and the second side of the detection zone based on whether the feature on the rotor is detected crossing the first side or the second side respectively.

According to yet another embodiment of the present invention a method includes receiving a sensor output signal determining whether the sensor output signal corresponds to a feature of a rotor entering a sensing zone of a sensor from a first side or a second side opposite the first side and determining a position of the rotor corresponding to one of the first side of the sensing zone and the second side of the sensing zone based on whether the feature on the rotor is detected adjacent to the first side or the second side respectively.

According to yet another embodiment of the present invention a small motor controller system including a motor configured to control a position of a rotor a sensor configured to detect position information of the rotor and a motor control unit configured to receive from the sensor a sensor output signal to calculate a time for processing the sensor output signal and to adjust an output motor control signal to the motor based on the calculated time for processing the sensor output signal.

Additional features and advantages are realized through the techniques of exemplary embodiments of the present invention. Other embodiments and aspects of the invention are described in detail herein and are considered a part of the claimed invention. For a complete understanding of the exemplary embodiments of the invention with the advantages and the features described herein refer to the description and to the drawings.

Embodiments of the present disclosure relate to controlling a small motor and in particular a small motor in a prosthetic limb. The small motor may control bending of the limb such as at a joint in the limb. In some embodiments characteristics of a position detection sensor may be used to provide information regarding a position of a rotor or a rotation direction of a rotor without requiring additional sensors or encoders to determine the position or rotation direction. Increasing the precision of the position information of the rotor results in increasing the torque of the motor. In some embodiments a processing time of sensor signals may be calculated and output motor control signals may be adjusted based on the processing time. Accordingly a small motor may be monitored and controlled with precision and with a minimal number of components.

With reference now to a prosthetic limb control system includes a prosthetic part and a motor control unit such as a small motor controller SMC . The prosthetic part includes a sensor a rotor and a motor . The sensor detects a characteristic of the rotor such as a position of the rotor . In one embodiment the sensor detects features on the rotor . The features may correspond to predetermined locations on the rotor to provide location information from which position information of the rotor may be derived. In one embodiment the sensor is a Hall effect sensor and the features are magnets formed in or attached to the rotor . In other embodiments the features may be protrusions recesses portions of the rotor formed of different materials than the rest of the rotor circuits or electrical elements or any other type of distinctive feature detectable by a sensor to obtain characteristic information about position or movement of the rotor .

In one embodiment the rotor is part of the motor . For example the motor may be a brushless motor including magnetizable coils surrounding the rotor . A motor control signal may control a current supplied to the magnetizable coils to control a magnetic field around the coil and to thereby control a rotation speed and or direction of the rotor . In another embodiment the motor is separate from the rotor and drives the rotor mechanically magnetically or by any other force.

The motor control unit includes a processor a sensor input interface to receive a sensor output signal from the sensor and a motor control signal interface configured to output one or more motor control signals to the motor to control operation of the motor and the rotor . The motor control unit may further include memory for storing programs to control the motor and or data generated by the sensor . The motor control unit may also include a prosthetic part control I O configured to receive from a prosthetic part controller not shown a prosthetic part control signal and to output to the prosthetic part controller position information and or sensory information from the prosthetic part .

In one embodiment the prosthetic part is a prosthetic digit or limb such as a finger hand arm toe foot or leg. A user may interact with the prosthetic part controller by physical buttons or levers visual interface controls nerve interface controls or other controls to control the prosthetic part . For example a user may control the motor to rotate the rotor to bend a joint of the prosthetic part . The prosthetic part controller may provide the prosthetic part control signals to the prosthetic part control I O and to the processor . The processor may generate a motor control signal based on the prosthetic part control signal and may output the motor control signal to the motor via the motor control signal interface .

As the rotor rotates in response to the motor control signal or in response to external forces on the prosthetic part the sensor generates sensor output signals to the sensor input interface and the sensor input interface outputs the sensor output signal to the processor . The processor may adjust the motor control signal to the motor based on the sensor output signal to maintain the rotor at a predetermined position or to rotate the rotor at a predetermined rate or in a predetermined direction as indicated by the prosthetic part control signals from the prosthetic part controller.

The processor may output prosthetic part position information and or sensory signals to the prosthetic part controller via the prosthetic part control I O . The position information and or sensory signals may correspond to position information of the rotor of portions of the prosthetic part of sensations of movement temperature pressure pain or other position information or sensory signals.

In embodiments of the present disclosure the sensor senses a feature of the rotor within a sensing field . The sensing field may also be referred to as a detection zone a sensing zone or a detection field. The sensing field has a first side and a second side and the sensing field encompasses the area between the first side the second side the sensor and a portion of the rotor including one or more features . The sensing field is centered about a center axis A that is aligned along a length of the sensor and a center of the sensing field traversing both the sensor and the rotor .

When the rotor rotates in a clockwise direction a feature of the rotor may enter the sensory field from the first side and may exit from the second side . Conversely when the rotor rotates in a counter clockwise direction a feature of the rotor may enter the sensory field from the second side and may exit the sensing field from the first side . A precise position of the rotor may be determined by detecting when the feature crosses the first side a center axis A and the second side of the sensing field . In other words the first side and second side of the sensing field are used as additional sensing points without creating a need for additional circuitry to detect a position of the rotor . In addition a rotation direction of the rotor may be stored in memory or calculated based on the detection of subsequent features or the first side or second side may be used to determine a clock wise or counter clockwise rotation of the rotor .

FIGS. and A C illustrate a rotor and position detection according to an embodiment of the invention. Referring to and A C the rotor includes a plurality of features detectable by a sensor . The sensor generates a sensing field having a first side a second side and a center axis A located equidistant from the first side and the second side . Although and A C illustrate a sensing field having a conical shape that narrows towards the rotor the sensing field may include any shape.

The first side may cross the rotor surface at a point the second side may cross the rotor surface at a point and the center axis A may cross the rotor surface at a point . The first and second points and may each be an arc length al from the point . In one embodiment the arc length al is half of a length between the centers of two adjacent features such as features and . In such an embodiment the sensing capability of the sensor in determining a location of the rotor may be effectively doubled since a center of each feature may be detected and a point mid way between two features may also be detected. Embodiments of the present invention encompass any arc length al different than a distance between the centers of two adjacent features . In other words embodiments of the present invention encompass any arc length al which would cause the sensor to generate information about additional positions of the rotor other than the centers of the features based on the first side and the second side of the sensing field .

As illustrated in when the feature crosses or is adjacent to the first side a first signal or form may be generated by the sensor . Accordingly the processor may determine that the rotor is in a position having the feature located where the first side of the sensing field contacts the rotor . As illustrated in when the feature crosses or is adjacent to the first side center axis A a second signal or form may be generated by the sensor . Accordingly the processor may determine that the rotor is in a position having the feature located where the center axis A of the sensing field contacts the rotor . As illustrated in when the feature crosses or is adjacent to the second side a third signal or form may be generated by the sensor . Accordingly the processor may determine that the rotor is in a position having the feature located where the second side of the sensing field contacts the rotor .

When the position of is considered a center position or a position where the rotor is at a rotation angle of 0 degrees the processor may determine that the rotor is a position of 355 degrees when the rotor is in the position indicated in and an arc length al between the center axis A and the first side of the sensing field is 5 degrees. Similarly the processor may determine that the rotor is a position of 5 degrees when the rotor is in the position indicated in and an arc length al between the center axis A and the second side of the sensing field is 5 degrees.

The sensor may output signals having different forms based on whether the feature is located in line with or adjacent to the first side or from the second side or whether the feature is located along the center axis A. For example the sensor may output a signal having a first form when the feature enters the sensory field from the first side or is located in line with or adjacent to the first side . The first form may be for example a waveform. The sensor may output a signal having a second form when the feature is located along the center axis A. The second form may be different from the first form in shape magnitude frequency or any other detectable characteristic.

The sensor may further output a signal having a third form when the feature enters the sensory field from the second side or when the feature is located opposite the second side . In one embodiment the first form and the third form are waveforms and are mirror images of each other.

The processor may detect whether the first form second form or third form is generated and may determine a precise location or a rotation direction of the rotor based on whether the first form the second form or the third form is detected. The different forms generated by the sensor may correspond to different voltage levels different current levels different waveforms different frequencies or any other distinctive sensor output signal.

In embodiments of the present invention a position of the rotor may be determined at least within a range of a width w of a feature . For example if a first form is output by the sensor the processor may determine that at least some portion of the feature is opposite the sensor and that the position of the rotor corresponds to a range within the width w of the feature . However embodiments of the present invention encompass levels of accuracy greater than a width of a feature or less than a width of a feature according to sensor characteristics processor capabilities feature characteristics or any other design characteristics of the control system .

In embodiments in which the rotor and or the motor are small in size such as sufficiently small to fit within a human knuckle or joint or having a diameter of approximately 1 cm or less where space is limited detecting the precise location or the rotation direction of the rotor based on the sensing field may eliminate the need for additional hardware such as a high resolution encoder to determine the precise location or rotation direction of the rotor . In other words embodiments of the present invention include a processor and motor control unit configured to detect a precise location and or a rotation direction of a rotor and or motor without the use of a high resolution encoder.

Although illustrates the motor control unit as being outside the prosthetic part both the motor control unit may be within a same prosthetic part or prosthetic limb. For example in one embodiment the prosthetic part corresponds to a finger of a prosthetic hand or grasping mechanism and the motor control unit is located within a hand component of the prosthetic hand or grasping mechanism. In another embodiment the prosthetic part corresponds to a toe or other digit of a prosthetic foot and the motor control unit is located within the prosthetic foot.

In operation the precise position of the rotor is determined based on the determination whether a feature of the rotor is located opposite or adjacent to the first side the second side or the center axis of the sensing field. In addition it may be determined whether the rotor is rotating in a clockwise direction or in a counter clockwise direction based on the determination that the feature of the rotor first entered the sensing field from the first side or from the second side.

Embodiments of the present invention encompass a system including the rotor motor sensor and motor control unit of or any other system in which a sensor includes a sensing field and a precise position of an object or a rotation direction or movement direction of an object may be detected by determining a side of the sensing field by which a predetermined feature enters the sensing field. Embodiments of the present invention may be applied in an environment in which the motor and rotor are small components such as 1 cm or less in diameter such as in the joint of a prosthetic limb. The motor control unit may also be located within the prosthetic limb and may also be a small component such as a component having any length dimension of less than 10 cm.

In one embodiment of the present invention the processor may generate a motor control signal that compensates for a processing time of one or both of the sensor output signal and the motor control signal. In particular the processor may receive the sensor output signal to determine a characteristic of the rotor such as a position rotation direction or rotation speed of the rotor . The processor may compare the characteristic of the rotor to a desired characteristic such as a characteristic indicated by a prosthetic part control signal and or a previously generated motor control signal. The processor may calculate a necessary change needed to adjust the characteristic of the rotor to correspond to the desired characteristic and the processor may generate a motor control signal corresponding to the necessary change.

Since processing of the sensor output signal and generating a new motor control signal take time to perform an embodiment of the present invention takes into account the time necessary to process the sensor output signal and generate the new motor control signal when generating the new motor control signal. Processing the sensor output signal may include converting the sensor output signal from one form to another such as from an analog signal to a digital signal a signal having one waveform to a signal having another waveform computing a new motor velocity or any other conversion. Processing the sensor output signal may also include comparing the sensor output signal to a signal corresponding desired characteristic of the rotor and calculating a necessary change to the motor control signal based on any difference between the sensor output signal and the signal corresponding to the desired characteristic of the rotor . Processing the sensor output signal may also include generating a new or adjusted motor control signal based on calculations of the processor to correct the characteristic of the rotor .

For example the sensor output signal may indicate a first rotor position that is different from a desired second rotor position. The processor may calculate a desired change in the motor control signal to correspond to the desired second rotor position and may generate a motor control signal based on the desired second rotor position and the sensed first rotor position. Similarly the sensor output signal may indicate a first rotor rotation direction and the processor may calculate a desired change in the motor control signal to correspond to a desired rotor rotation direction.

In an embodiment of the present invention the processor may adjust the motor control signal to account for the time needed to process the sensor output signal. In one embodiment the processor receives as an input the sensor output signal converts the sensor output signal compares the sensor output signal to a desired signal and calculates the change necessary in the motor control signals to adjust a characteristic of the rotor. In addition the processor calculates the time necessary to perform the converting comparing and calculating and generates a modified or adjusted motor control signal that compensates for the calculated time necessary to perform the converting comparing and calculating as well as transmitting the sensor output signal and a motor control signal.

In one embodiment the modified or adjusted motor control signal comprises multiple components including an un modified motor control signal configured to change a characteristic of the rotor by a first amount and an adjustment portion such as an increase or decrease in voltage current frequency or modulation of the motor control signal that is applied to the un modified portion to account for the time necessary to perform the converting comparing and calculating operations including signal transmission time.

Accounting for the time needed to process the sensor output signal may include extrapolating a future rotor characteristic based on the sensed rotor characteristic. For example in an embodiment in which the rotor characteristic is a position of the rotor the presently sensed position may be compared to at least one previously sensed position and a future rotor position may be extrapolated to correspond to a time necessary for the processor to process the sensor output signal. The processor may then generate the motor control signal based on the extrapolated rotor position rather than the sensed rotor position.

In another embodiment in which the rotor characteristic is a rotation speed or rotation direction of the rotor a future rotation speed or rotation direction may be extrapolated based on the presently sensed rotation speed or direction and at least one previously sensed rotation speed or direction. Then a motor control signal may be generated based on the future rotation speed or direction instead of the presently sensed rotation speed or direction. Although a few examples of rotor characteristics have been provided by way of description embodiments of the present invention encompass any characteristic corresponding to a position or rotation of the rotor .

In one embodiment calculating the time necessary to perform the converting comparing and calculating operations based on the sensor output signal includes beginning the timer of the motor control unit upon receipt of the sensor output signal and stopping the timer upon completion of the calculating operation. In another embodiment the time necessary to perform one or more of the converting comparing and calculating is predetermined or averaged and a representative time is stored in memory and accessed by the processor to calculate the time necessary to perform these functions. In one embodiment part of the time necessary to perform the converting comparing and calculating is based on a time tracked by the timer and a part is based on a predetermined time stored in memory .

In operation an adjusted motor control signal is generated based on the calculated processing time. In other words embodiments of the present invention may take into account that by the time a motor control signal is generated in response to a sensor output signal a characteristic of a rotor detected by a sensor as indicated by the sensor output signal may have changed. For example if a sensor senses a position of a rotor the position may be different from the sensed position by the time a motor control signal is generated in response to the sensed position. Accordingly embodiments of the present invention adjust the motor control signal to correspond for an extrapolated characteristic of the rotor at a time of generating the motor control signal rather than at the time of sensing the rotor characteristic.

Accordingly embodiments of the present invention provide rotation direction information of a rotor by detecting a direction from which a rotor feature enters a sensing zone resulting in a motor control unit requiring less processing time or fewer hardware components than motor control units that require other means to detect the position of a rotor. In addition embodiments of the present invention provide for accurate control of a motor by adjusting output motor control signals to account for processing time of sensing signals on which the motor control signals are based.

Embodiments of the present invention may be directed particularly to small motors rotors and motor control units. Examples of small motors and rotors include motors and rotors of a size small enough to fit in a joint of a human prosthetic limb such as approximately 1 cm or less in diameter. In prosthetic limbs and other environments having limited space and a need for highly accurate motor control signals embodiments of the present invention provide for accurate measurements of motor or rotor position and accurate control of a motor while maintaining a small component volume.

The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of the invention. As used herein the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will be further understood that the terms comprises and or comprising when used in this specification specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one more other features integers steps operations element components and or groups thereof.

The description of the present invention has been presented for purposes of illustration and description but is not intended to be exhaustive or limited to the invention in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art without departing from the scope and spirit of the invention. The embodiments were chosen and described in order to best explain the principles of the invention and the practical application and to enable others of ordinary skill in the art to understand the invention for various embodiments with various modifications as are suited to the particular use contemplated

The flow diagrams depicted herein provide examples of processes of exemplary embodiments of the present invention. There may be many variations to the processes or the steps or operations described therein without departing from the scope of the invention. For instance the operations may be performed in a differing order or operations may be added deleted or modified. All of these variations are considered a part of the claimed invention.

While a preferred embodiment of the invention has been described it will be understood that those skilled in the art may make various improvements and enhancements which fall within the scope of the claims which follow.

