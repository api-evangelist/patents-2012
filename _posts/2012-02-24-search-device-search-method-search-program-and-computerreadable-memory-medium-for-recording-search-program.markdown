---

title: Search device, search method, search program, and computer-readable memory medium for recording search program
abstract: A search server includes an extracting unit that extracts a search target matching a search condition based on profile data, and a transmitting unit that transmits the search target to a user terminal. The search condition includes a first frequency of appearance for each of one or more specified topics specified by a user in a first specified period and a second frequency of appearance for each of the specified topics in a second specified period being later than the first specified period. The extracting unit extracts the search target where the frequency of appearance for each of the specified topics in a first search target period and a second search target period being later than the first search target period are identical or similar to the first frequency of appearance and the second frequency of appearance, respectively.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09058328&OS=09058328&RS=09058328
owner: Rakuten, Inc.
number: 09058328
owner_city: Tokyo
owner_country: JP
publication_date: 20120224
---
This application is a National Stage of International Application No. PCT JP2012 054663 filed Feb. 24 2012 claiming priority based on Japanese Patent Application No. 2011 040259 filed Feb. 25 2011 the contents of all of which are incorporated herein by reference in their entirety.

One aspect of the present invention relates to a search device a search method a search program and a computer readable memory medium for recording search program that perform search based on accumulated documents.

Dissemination of information through electronic documents such as blogs and microblogs has become common. Further there are various techniques for analyzing the electronic documents. One of document analysis techniques is a technique of using a document generation model called a topic model. For example the following Non Patent Literature 1 discloses a technique that introduces time series information into the topic model and thereby visually presents the transition of trends from documents with time information.

NPL1 Xuerui Wang and Andrew McCallum. Topics over time a non markov continuous time model of topical trends. In Proceedings of the 12th ACM SICKDD international conference on Knowledge discovery and data mining KDD 06 pp. 424 433. New York N.Y. USA 

On the other hand because the number of disseminated electronic documents is enormous it is not easy for individuals to encounter necessary information. The primary objective of the technique disclosed in the above Non Patent Literature 1 is finding highly influential writers extracting topics and extracting communities and it does not provide information on a change in circumstances desired by users.

A search device according to one embodiment of the present invention includes a search means for extracting a search target matching a search condition specified by a user based on profile data generated based on a document extracted from a specified database the profile data containing an identifier for identifying a search target creation time of the document and a frequency of appearance for each topic obtained by classifying words in the document into one or more topics and an output means for outputting the search target extracted by the search means for presentation to a user wherein the search condition includes a first frequency of appearance for each of one or more specified topics specified by the user in a first specified period and a second frequency of appearance for each of the specified topics in a second specified period being later than the first specified period and the search means extracts the search target where the frequency of appearance for each of the specified topics obtained from the profile data in a first search target period is identical or similar to the first frequency of appearance and the frequency of appearance for each of the specified topics obtained from the profile data in a second search target period being later than the first search target period is identical or similar to the second frequency of appearance.

A search method according to one embodiment of the present invention is a search method performed by a search device the method including a search step of extracting a search target matching a search condition specified by a user based on profile data generated based on a document extracted from a specified database the profile data containing an identifier for identifying a search target creation time of the document and a frequency of appearance for each topic obtained by classifying words in the document into one or more topics and an output step of outputting the search target extracted in the search step for presentation to a user wherein the search condition includes a first frequency of appearance for each of one or more specified topics specified by the user in a first specified period and a second frequency of appearance for each of the specified topics in a second specified period being later than the first specified period and the search step extracts the search target where the frequency of appearance for each of the specified topics obtained from the profile data in a first search target period is identical or similar to the first frequency of appearance and the frequency of appearance for each of the specified topics obtained from the profile data in a second search target period being later than the first search target period is identical or similar to the second frequency of appearance.

A search program according to one embodiment of the present invention causes a computer to function as a search means for extracting a search target matching a search condition specified by a user based on profile data generated based on a document extracted from a specified database the profile data containing an identifier for identifying a search target creation time of the document and a frequency of appearance for each topic obtained by classifying words in the document into one or more topics and an output means for outputting the search target extracted by the search means for presentation to a user wherein the search condition includes a first frequency of appearance for each of one or more specified topics specified by the user in a first specified period and a second frequency of appearance for each of the specified topics in a second specified period being later than the first specified period and the search means extracts the search target where the frequency of appearance for each of the specified topics obtained from the profile data in a first search target period is identical or similar to the first frequency of appearance and the frequency of appearance for each of the specified topics obtained from the profile data in a second search target period being later than the first search target period is identical or similar to the second frequency of appearance.

A computer readable memory medium according to one embodiment of the present invention stores a search program causing a computer to function as a search means for extracting a search target matching a search condition specified by a user based on profile data generated based on a document extracted from a specified database the profile data containing an identifier for identifying a search target creation time of the document and a frequency of appearance for each topic obtained by classifying words in the document into one or more topics and an output means for outputting the search target extracted by the search means for presentation to a user wherein the search condition includes a first frequency of appearance for each of one or more specified topics specified by the user in a first specified period and a second frequency of appearance for each of the specified topics in a second specified period being later than the first specified period and the search means extracts the search target where the frequency of appearance for each of the specified topics obtained from the profile data in a first search target period is identical or similar to the first frequency of appearance and the frequency of appearance for each of the specified topics obtained from the profile data in a second search target period being later than the first search target period is identical or similar to the second frequency of appearance.

According to the above embodiments a search target having two frequencies of appearance that are identical or similar to the frequencies of appearance for each specified topic in two periods the first and second frequencies of appearance is extracted. The search target is then output for presentation to a user. In this manner by extracting a search target whose change in the frequency of appearance for a specified topic is identical or similar to the search condition it is possible to present information corresponding to a desired change in circumstances to a user.

In the search device according to another embodiment the search condition may further include a third frequency of appearance for each of the specified topics in each of one or more third specified periods between the first specified period and the second specified period and the search means may extract the search target where the frequency of appearance in the first search target period is identical or similar to the first frequency of appearance the frequency of appearance in the second search target period is identical or similar to the second frequency of appearance and the frequency of appearance for each of the specified topics obtained from the profile data in each of one or more third search target periods corresponding to the one or more third specified periods in a before after relationship in time is identical or similar to the corresponding third frequency of appearance.

In this case a search target having a plurality of frequencies of appearance that are identical or similar to the frequencies of appearance for each specified topic in three or more periods is extracted and the search target is then output. It is thus possible to make a search in consideration of the process of a change in circumstances and it is thereby possible to present information corresponding to a desired change in circumstances to a user.

In the search device according to another embodiment the search condition may further include a time interval between the specified periods adjacent to each other and a time interval between the search target periods adjacent to each other may coincide with the corresponding time interval between the specified periods.

In this case because a time interval between the specified periods is further set as the search condition it is possible to present information corresponding to a desired change in circumstances and the speed of the change to a user.

In the search device according to another embodiment the one or more topics indicated by the profile data may be topics left after eliminating specified unnecessary topics from a group of topics obtained based on the document extracted from the specified database.

In this case because unnecessary topics are eliminated in advance it is possible to increase the accuracy of a search.

In the search device according to another embodiment the specified topics may be higher hierarchy topics including one or more topics indicated by the profile data.

In this case by representing topics in a hierarchical structure the topics of the profile data are integrated into higher hierarchy topics and a search using the higher hierarchy topics as the specified topics is performed. By using such specified topics the convenience of a search operation is enhanced.

In the search device according to another embodiment in a case where there are a plurality of specified topics when a percentage of a certain frequency of appearance for each specified topic with respect to a total of frequencies of appearance for each specified topic in one specified period is changed percentages of other frequencies of appearance for each specified topic in the specified period may be adjusted in accordance with the change.

In the search device according to another embodiment when the certain frequency of appearance for each specified topic in the one specified period is changed the search target where the certain frequency of appearance for each specified topic obtained from the profile data in one search period corresponding to the one specified period is identical or similar to the changed certain frequency of appearance for each specified topic and the frequency of appearance for each specified topic obtained from the profile data in another search period corresponding to another specified period is identical or similar to the frequency of appearance for each specified topic in the another specified period may be extracted and the percentages of the other frequencies of appearance for each specified topic may be adjusted based on the frequency of appearance for each specified topic of the search target in the one search period and a before after relationship between the one search period and the another search period may correspond to a before after relationship between the one specified period and the another specified period.

In the search device according to another embodiment the percentages of the other frequencies of appearance for each specified topic may be adjusted based on a weight indicating a strength of a relation between the specified topics the weight set based on a frequency the words appear across a plurality of different topics and an amount of change of the certain frequency of appearance for each specified topic.

In the above cases when a user changes the frequency of appearance of a certain specified topic the frequencies of appearance of the other specified topics are adjusted in accordance with the change and thereby the convenience of a search operation is enhanced.

In the search device according to another embodiment the search means may further extract additional information corresponding to the extracted search target or additional information corresponding to the frequency of appearance for each specified topic of the search target between the first search target period and the second search target period from an additional database and the output means may further output the additional information extracted by the search means for presentation to a user.

In this case because additional information corresponding to the extracted search target is also output it is possible to present not only information corresponding to a desired change in circumstances but also the additional information to a user.

According to one aspect of the present invention a search target with the transition of the frequency of appearance for a specified topic being identical or similar to a search condition is extracted and it is thereby possible to present information corresponding to a desired change in circumstances.

Embodiments of the present invention will be described with reference to the drawings. Note that in the description of the drawings the same elements will be denoted by the same reference symbols and redundant description will be omitted.

The function and configuration of a search server according to a first embodiment are described first with reference to . The search server is a search device that extracts a writer a person who has created a document that matches a search condition specified by a user and presents the extracted writer to the user. As shown in the search server are connected to be able to communicate with a plurality of document databases specified databases D and a plurality of user terminals T through a communication network N. The search server the document databases D and the user terminals T shown in constitute a search system.

Prior to describing the search server the document database D and the user terminal T are described. The document database D is a computer that stores documents electronic documents existing on the Internet. Examples of documents include blogs microblogs social network services SNS articles posted on online shopping sites and the like although the type and contents of documents are not particularly limited. Although two document databases D are shown in the number of document databases D is arbitrary. Further the places to install the document databases D are also arbitrary and they may be placed in a blog management system an SNS system an online shopping system and the like for example.

The user terminal T is a computer that receives input of a search condition and displays a search result matching the condition. Examples of the user terminal T include sophisticated mobile phones smartphones personal digital assistants PDA various personal computers tablet PC desktop PC notebook PC etc. and like though an example of the user terminal T is not limited thereto. Although three user terminals T are shown in the number of user terminals T is arbitrary.

Based on the above assumption the search server is described hereinafter. As shown in the search server includes as functional components a profile database an interface providing unit a first search unit a model adjustment unit and a second search unit .

The search server is composed of a CPU that executes an operating system an application program and the like a main storage unit such as ROM and RAM an auxiliary storage unit such as a hard disk or the like a communication control unit such as a network card or the like an input unit such as a keyboard and a mouse and an output unit such as a monitor as shown in . The functions of the search server are implemented by loading given software onto the CPU or the main storage unit making the communication control unit the input device the output device and the like operate under control of the CPU and performing reading and writing of data in the main storage unit or the auxiliary storage unit . The data and database required for processing are stored in the main storage unit or the auxiliary storage unit .

Note that although the search server is a single computer in the example of in the functions of the server may be distributed among a plurality of computers. For example the search server may be composed of a computer that includes the profile database and a computer that includes the other functional components.

Referring back to the profile database is a means of storing profile data generated based on documents extracted from the document database D.

The profile data is data indicating what topic subject the document handles or what topic a writer mentions and it is created for each document. As shown in the profile data contains a writer ID that uniquely identifies a writer of a document a document ID that uniquely identifies the document the creation time of the document and the number of words assigned to each of 100 specified topics topics to . The number of words assigned to each topic is also regarded as the frequency of appearance of the topic in one document.

The profile data is created by determining a plurality of topics by analyzing a set of documents and checking each document against those topics. This process is described in detail hereinbelow.

Specifically the process first determines 100 topics using LDA Latent Dirichlet Allocation and Gibbs sampling. To determine topics a sufficient number of documents created for a specified period of time are collected from the document database D. For example 500 million documents created during the last one week are collected. For the collection a specified application programming interface API may be used. For example Streaming API may be used when collecting articles in the Twitter registered trademark . Then as preprocessing user names hashtags and the like contained in the body text are removed and only nouns are extracted from the documents by the morphological analysis.

After that a correspondence table of frequent words and topics is generated by applying the LDA to a set of the extracted nouns thereby determining 100 topics. At this time for convergence of the LDA processing the processing is repeated a specified number of times. The number of repetitions is also regarded as the number of samplings and the number may be set to 1000 for example. shows an example of the generated correspondence table. In various nouns including proper nouns such as the item name A and team X are integrated in each topic. Note that in the example of the name like digital device is given to each topic for the sake of convenience.

Next the process collects a specified number of documents from the document database D for each of users required for providing a search service using a specified API in the same manner as above. For example 1000 documents per user are collected. A collection period in this process is an arbitrary period for example three months one year three years etc. required to provide a search service which is different from a period when determining topics the last one week in the above example . Then by applying the LDA and the Gibbs sampling to each document words in the document are classified by topics thereby calculating the frequency of appearance for each topic in each document. Note that at this time the number of samplings for each document is set to 50. Because there are random elements in the Gibbs sampling the total result obtained by repeating the processing of 50 times per set three times is used as the frequency of appearance for each topic.

Next unnecessary topics are eliminated according to the purpose of the search service. Because a writer having the interest specified by a terminal user searcher is shown to the user as a search result in this embodiment information not related to the hobbies and preferences of a writer can be ignored. Thus topics that are not the hobbies and preferences are eliminated. For example the topics as shown in may be eliminated. In the example of also the name like time is given to each topic for the sake of convenience. By this elimination 100 topics are narrowed down to 40 topics for example. In this manner by removing unnecessary topics in advance the accuracy of a writer search can be enhanced.

By the above described process the profile data having the data structure shown in is generated and stored into the profile database . Note that the frequency of appearance corresponding to the eliminated topics is initialized to 0.

The number of topics appearing in any document is relatively large for example 40 topics and therefore those topics are integrated into several groups to facilitate a user s search operation. For example as shown in the topics extracted by the above processing topics left after the elimination are associated with any of five parent topics IT life politics and economics entertainment games and animations and the correspondence is stored in the search server . Only parent topics are shown to users. The parent topics are the concept placed in the higher hierarchy of the corresponding extracted topics.

Note that a method of preparing the profile data is not limited to the above example and the following alternative example is also possible.

First a method of collecting documents is not particularly limited and documents may be collected by crawling or may be collected using manpower as well. Further the profile data may be made on a regular basis in a dynamic fashion .

The number and range the temporal range and the number of writers of documents collected in each processing the number of samplings the number of repetitions of processing that performs a specified number of samplings per set are not limited to the above described examples and may be set arbitrarily. Further the elimination of unnecessary topics and the integration of extracted topics setting of parent topics may be omitted. Further although the correspondence between words and topics is calculated in this embodiment the vocabulary is not limited to words and it may be a phrase composed of a plurality of words for example.

Referring back to the interface providing unit is a means of providing a user interface for search which is a search screen to the user terminals T. When a terminal user who intends to use a search service performs a specified operation the user terminal T transmits a signal requesting a search screen for example HTTP request to the search server . In response to the signal the interface providing unit transmits data of a search screen for example a web page to the user terminal T. A search screen is thereby displayed on the user terminal T. Note that a method of implementing a search screen is arbitrary and it may be implemented by a Java registered trademark application not a web application.

The input area includes a user input field a period input field a current model field a future model field a search button and a document display field .

The user input field is an interface for inputting a user reference user that serves as a reference for a writer search. A terminal user may set anyone as a reference user and for example may specify the oneself or another writer in the user input field .

The period input field is an interface for inputting a period of documents to be collected for generating a current model which is described later a period indicating how far back documents should be collected from the present . The period is described hereinafter as collection period .

The current model field is a region that displays the frequency of appearance first frequency of appearance for each of the parent topics obtained by compiling the profile data of documents created by the reference user during the specified collection period in a proportion such as a percentage. The frequency of appearance for each parent topic is also referred to as interest model or appearance frequency distribution . Hereinafter the frequency of appearance for each parent topic shown in this field is referred to as current model or current interest model . In this embodiment the current model is acquired by the first search unit which is described later and displayed in a histogram as shown in .

The future model field is an area that receives input of the frequency of appearance second frequency of appearance for each parent topic by a terminal user. Hereinafter the frequency of appearance for each parent topic shown in this field is referred to as future model or future interest model . In this embodiment the future model is also shown in a proportion and displayed in a histogram.

As an initial value of the future model the same value as the current model is set and displayed and a terminal user can change the future model the value of the frequency of appearance of each parent topic by raising or lowering the bars displayed in this field. Because the frequency of appearance of each parent topic is shown in percentage when a terminal user changes the value of the frequency of appearance of a certain parent topic the frequencies of appearance of the other topics are automatically adjusted. Specifically the user terminal T transmits to the search server data of the current model change information indicating a changed parent topic and an unadjusted future model future model before adjustment containing the frequency of appearance after changing the parent topic. After that the user terminal T receives data of the future model that has been adjusted in the model adjustment unit which is described later of the search server and displays the data in the future model field . In this manner when the frequency of appearance of a certain specified topic is changed the frequencies of appearance of the other topics are adjusted accordingly which enhances the convenience of a search operation.

The search button is an interface for giving the search server an instruction to make a search according to the search condition specified in the input area .

The document display field is a region to display documents used for obtaining the current model in response to an instruction from a terminal user. The documents displayed in this field are documents whose writer ID is the reference user ID and whose period of creation is included in the collection period which are read from the document database D.

The display area includes a writer selection field a pre change model field a post change model and a document display field .

The writer selection field is an interface for selecting one writer from one or more retrieved writers writers exhibiting the identical or similar change in the interest model as the search condition .

The pre change model field is a region to display the interest model that is identical or similar to the current model which is referred to hereinafter as pre change model or pre change interest model for the writer selected in the writer selection field.

The pre change model field is a region to display the interest model that is identical or similar to the future model which is referred to hereinafter as post change model or post change interest model for the writer selected in the writer selection field.

The document display field is a region to display documents of the writer selected in the writer selection field in response to an instruction from a terminal user. The documents displayed in this field are documents whose writer ID is that of the selected writer and whose period of creation is included in a period coinciding with the pre change model or the post change model which are read from the document database D.

A method of representing the interest model is not limited to a histogram and may be decided arbitrarily. For example the interest model may be represented using a pie chart.

Referring back to the first search unit is a means of generating the current model based on the profile data in the profile database . When a reference user and a collection period are input in the search screen the user terminal T transmits a search condition which is also referred to hereinafter as first search condition indicating the user ID of the reference user and the collection period to the search server . The first search unit receives the search condition and reads profile data whose writer ID is the user ID of the reference user and whose period of creation is included in the collection period from the profile database . The first search unit then compiles the frequency of appearance for each parent topic based on the frequencies of appearance of the topics to indicated by the extracted profile data and the correspondence table as shown in . Then the first search unit converts the compilation result of each parent topic into a proportion and transmits the converted result as the interest model to the user terminal T. The current model is thereby displayed in a histogram in the current model field .

The model adjustment unit is a means of adjusting each frequency of appearance in the future model according to an operation to change the future model on the search screen . The model adjustment unit adjusts each frequency of appearance in the future model based on the current model the change information and the unadjusted future model received from the user terminal T. Although a method of the adjustment may be decided arbitrarily two adjustment methods are described below.

A first method is a similar interest model reference method that sets the interest model most similar to a specified change as the future model after adjustment by reference to the transition of the interest model of another writer. This method is described hereinafter using .

If the frequency of appearance of the i th parent topic in the current model and the unadjusted future model is Tand T respectively the current model is represented as the vector T T T T T T and the unadjusted future model desired future model is represented by the vector T T T T T T where t indicates inversion. When the frequency of appearance is changed only for some parent topics the model adjustment unit searches the profile database based on the current interest model and the unadjusted future model Tfocusing only on the parent topics of which the frequency of appearance has been changed.

For example when only the frequencies of appearance for the third and fourth parent topics are changed by a user as indicated by the arrows A and A as shown in the model adjustment unit substitutes the unadjusted future model T T T T T Twith T T T where is wildcard. Then the model adjustment unit specifies a writer of which the first interest model during a given period another search period is identical or similar to the current model and the second interest model Tduring a period one search period later than the given period is identical or similar to the unadjusted future model after substitution. Note that T T T T T T. At the time of determining the identity and similarity the model adjustment unit uses the concept of Manhattan distance just like the second search unit described below.

At the time of searching for the second interest model Tthat is identical or similar to the unadjusted future model after substitution the model adjustment unit calculates the Manhattan distance only for the changed frequencies of appearance in the above example only for Tand T . Note that the total of the frequencies of appearance in each model needs to be fixed and it is represented as the following equation 1 .

Then the model adjustment unit transmits the second interest model Tof the writer with the highest similarity as the future model to the user terminal T. Thus on the search screen it is displayed so that the current model T T T T T Ttransitions to the future model T T T T T T T T.

In the above first method the model adjustment unit may set a model different from the most similar interest model Tas the future model. For example the model adjustment unit may transmit the average of a specified number of interest models extracted in the ascending order of the Manhattan distance as the future model to the user terminal T. Further the model adjustment unit may transmit the average of interest models whose Manhattan distance is a specified value or less as the future model to the user terminal T.

A second method is a topic propagation method that adjusts each frequency of appearance in the future model in consideration of the relation between parent topics. At the time of associating each word with a topic by the LDA there is a case where one word belongs to a plurality of topics. The frequency of overlap of words causes a relation to arise between topics and thereby a relation arises between parent topics as well. The topic propagation method uses a weight indicating the strength of each relation between parent topics. This method is described hereinafter using .

As shown in five parent topics are represented by nodes n to n and a weight between two topics is represented by w i and j are the number of nodes adjacent to each other . Note that the weight w is prestored in a specified storage means in the search server and referred to by the model adjustment unit .

Based on the above it is assumed that the frequency of appearance corresponding to the node n is changed by v by a user operation. Because the weights related to the node n are w w wand w it is necessary to determine the amount of the frequency of appearance to be transferred to or from each of the other nodes n n n and n in order to change the frequency of appearance of the node n. Assuming that w w w w w the model adjustment unit determines the amount of transfer between the node n and the other nodes as follows.

Note that however when v 0 which is when the frequency of appearance is increased for the node n there is a case where the frequency of appearance of another node becomes negative by the above calculation. In such a case the model adjustment unit transfers the frequency of appearance back from the node n to that node until the frequency of appearance of that node gets back to 0. Then the model adjustment unit performs the processing of transferring a shortfall amount v for the node n from anther node excluding the node whose frequency of appearance has been set back to 0 in the same manner as above. Note that when the frequencies of appearance of a plurality of topics are changed by a user operation the model adjustment unit may perform the above adjustment on the amount of change V k is a node number of each node each topic . The model adjustment unit transmits the future model after adjustment to the user terminal T. The adjusted future model is thereby displayed on the search screen .

Referring back to the second search unit is a means of searching for a writer matching a search condition specified in the input area of the search screen which is also referred to hereinafter as second search condition . The second search unit includes a receiving unit an extracting unit search means and a transmitting unit output means 

The receiving unit is a means of receiving a search condition from the user terminal T. When the search button on the search screen is clicked by a terminal user the user terminal T transmits a search condition to the search server and the receiving unit receives the search condition. The receiving unit outputs the received search condition to the extracting unit

This search condition second search condition contains the user ID of a terminal user the user ID of a reference user the collection period the current model corresponding to the collection period and the future model. The current model corresponding to the collection period is equal to a first frequency of appearance for each parent topic in the first specified period collection period . Further the future model is equal to a second frequency of appearance for each parent topic in the second specified period a certain point or period in the future . In this embodiment five parent topics are treated as the specified topics.

The extracting unit is a means of extracting a writer matching the input search condition based on the profile data in the profile database . The extracting unit sets a user different from the terminal user and the reference user as a writer as a search target. In other words the extracting unit makes a search for the profile data having a writer ID different from any of the input two user IDs. Thus an identifier that specifies a search target is a writer ID.

The extracting unit performs the following search for each search target writer. Specifically the extracting unit reads profile data corresponding to an arbitrary period that coincides with the input collection period which is also referred to hereinafter as start period and which equals to a first search target period from the profile database . Although the start and end points of the period is different between the start period and the collection period the length of the period is the same. The exact length however may be different. For example when the collection period is the last one month which is 30 days from April 1 to April 30 the start period may be 31 days from March 1 to March 31 or 28 days from February 1 to February 28.

Next the extracting unit compiles the frequencies of appearance indicated by the read one or more profile data with respect to each parent topic and thereby generates the interest model in the start period. The extracting unit then determines whether the generated interest model is identical or similar to the current model.

At the time of determining the identity and similarity of the interest model the extracting unit uses the Manhattan distance d x y represented by the following equation 1 .

In the above equation x in the left hand side is the vector of the interest model that is set as a search condition and y in the left hand side is the vector of the interest model for a search target writer. Further n is the number of parent topics which is n 5 in this embodiment. xin the right hand side is the frequency of appearance percentage of a parent topic k in the interest model that is set as a search condition and yin the right hand side is the frequency of appearance percentage of a parent topic k in the interest model for a writer as a search target. The vectors x and y are represented as x x x x x x and y y y y y y respectively.

The extracting unit determines that the interest model during the start period is identical or similar to the current model when the above described Manhattan distance is a specified threshold or less. Note that a method of deciding the threshold is arbitrary. If the Manhattan distance is 0 it means that the interest model identical to the current model is obtained.

Further the extracting unit reads profile data corresponding to an arbitrary period having the same length as the collection period and with the start point being later than the start period which is also referred to hereinafter as end period and which equals to a second search target period from the profile database . The relationship of the start and end points and the length of the period between the end period and the collection period is the same as that mentioned for the start period. Next the extracting unit compiles the frequencies of appearance shown in the read one or more profile data with respect to each parent topic and thereby generates the interest model in the end period. The extracting unit then determines whether the generated interest model is identical or similar to the future model. In the case of making this determination also the extracting unit determines the identity and similarity in the same manner as the case of the start period using the Manhattan distance d x y represented by the above equation 1 .

The extracting unit extracts a combination of interest models where the Manhattan distance is a specified threshold or less in the start period and the end period varying those two periods for one writer. Then the extracting unit stores two interest models corresponding to the start period and the end period in this combination as a pre change model and a post change model respectively. Further the extracting unit also stores the start period and the end period corresponding to the pre and post change interest models. Note that when a plurality of combinations of pre and post change interest models which are identical or similar to the search condition are obtained the extracting unit may select one combination by an arbitrary method. For example the extracting unit may select the combination with the smallest total or average of the Manhattan distance.

The extracting unit performs the above processing for each writer and acquires the writer ID the pre change model the post change model and the start period and the end period corresponding to those models for one or more writers that match the input search condition. The extracting unit then outputs those acquired data as a search result to the transmitting unit

The transmitting unit is a means of transmitting an input search result to the user terminal T to present the search result to a terminal user. The pre change model and the post change model are thereby displayed in the display area of the search screen which is displayed on the user terminal T.

The operation of the search system particularly the search server is described and a search method according to this embodiment is also described hereinafter with reference to .

The following description is based on the assumption that the search screen is displayed on the user terminal T Step S . When the first search condition for obtaining the current model which is the reference user and the collection period is specified by a terminal user Step S the user terminal T transmits the first search condition to the search server Step S . In the search server the first search unit extracts profile data from the profile database based on the search condition and generates the current model based on the profile data Step S . Then the first search unit transmits the current model to the user terminal T Step S . In the user terminal T the current model is displayed on the search screen Step S . At this time the same value as the current model is set and displayed as an initial value of the future model in this embodiment.

After that when the frequency of appearance in the future model is changed by a terminal user Step S the user terminal T transmits the unadjusted future model indicating the change to the search server Step S . In the search server the model adjustment unit adjusts the future model by applying a technique such as the similar interest model reference method or the topic propagation method to the unadjusted future model Step S and transmits the adjusted future model to the user terminal T Step S . In the user terminal T the future model after adjustment is displayed on the search screen Step S . The processing of Steps S to S can be performed repeatedly according to an operation by a terminal user.

After that when the terminal user instructs a search by clicking the search button Step S the user terminal T transmits a condition for searching for a writer which is the second search condition containing the current and future interest models to the search server Step S .

In the search server the receiving unit receives the search condition. Then the extracting unit extracts profile data from the profile database based on the search condition and searches for a writer based on the profile data Step S search step . Specifically the extracting unit extracts a writer of which the interest model in the start period is identical or similar to the current model and the interest model in the end period is identical or similar to the future model by using the concept of Manhattan distance. At this time the extracting unit stores the generated and determined interest models as the pre change model and the post change model. Then the transmitting unit transmits the extracted writer together with the pre and post change interest models as a search result to the user terminal T Step S transmitting step . In the user terminal T the search result is displayed on the search screen Step S . A terminal user can thereby obtain the search result.

A search program P for causing a computer to function as the search server is described hereinafter with reference to .

The search program P includes a main module P a profile storage module P an interface providing module P a first search module P a model adjustment module P and a second search module P. The second search module P includes a receiving module P an extracting module P and a transmitting module P

The main module P is a part that exercises control over the search function. The functions implemented by executing the profile storage module P the interface providing module P the first search module P the model adjustment module P and the second search module P are equal to the functions of the profile database the interface providing unit the first search unit the model adjustment unit and the second search unit described above respectively. The functions implemented by executing the receiving module P the extracting module P and the transmitting module Pare equal to the functions of the receiving unit the extracting unit and the transmitting unit described above respectively.

The search program P is provided in the form of being recorded in a static manner on a tangible recording medium such as CD ROM DVD ROM or semiconductor memory for example. Further the search program P may be provided as a data signal superimposed onto a carrier wave through a communication network.

As described above according to this embodiment a writer having the two frequencies of appearance the pre change and post change interest models that are identical or similar to the frequencies of appearance for each specified topic in two periods the current and future interest models is extracted. Then the extracted writer is transmitted as a search result to the user terminal T and displayed on the search screen . In this manner by extracting a writer whose change in the frequency of appearance for a specified topic is identical or similar to the search condition it is possible to present information of a writer whose interest has changed as designated by a user to the user. Note that a change in the interest of a writer is one kind of a change in circumstances.

The function and configuration of a search server A according to a second embodiment are described hereinafter with reference to . The search server A is different from the search server according to the first embodiment in that it provides information about an item purchased by a retrieved writer or an item corresponding to a change in the interest model of the writer to the user terminal not only making a writer search. The same or equivalent description as in the first embodiment is omitted below.

As shown in a search system according to this embodiment further includes an item database P and a purchase history database R which are additional databases. The item database P is a means of storing item data containing an item ID that identifies an item and arbitrary item attributes such as the name category price and image of the item. Further the purchase history database R is a means of storing purchase data containing a user ID that identifies a user who has purchased an item the item ID of the item and the date and time of purchase. The item database P and the purchase history database R may be placed in an online shopping system for example but those databases may be placed anywhere and not necessarily placed within one system. Further although one item database P and one purchase history database R are shown in the number of those databases is not particularly limited. The search server A can communicate also with the item database P and the purchase history database R through the communication network N.

As shown in the search server A includes as functional components a profile database an interface providing unit a first search unit a model adjustment unit and a second search unit A. The second search unit A which is a difference from the first embodiment is described hereinbelow.

The second search unit A includes a receiving unit an extracting unit a recommendation unit search means and a transmitting unit . The functions of the receiving unit and the transmitting unit are the same as those described in the first embodiment. Further although the extracting unit is different from the one in the first embodiment in that it outputs a search result to the recommendation unit the details of the function of obtaining the search result are the same as those described in the first embodiment. Thus the description on the receiving unit the extracting unit and the transmitting unit is omitted and only the recommendation unit is described hereinbelow.

The recommendation unit is a means of extracting a recommended item to be shown to a terminal user. Two extraction methods are described in this example.

A first method is a method that extracts an item related to a retrieved writer. The recommendation unit performs the following processing for each of writers shown in the input search result.

The recommendation unit refers to the start period and the end period corresponding to the pre change model and the post change model of one writer and acquires a time interval between those two periods as a transition period. Note that the start point of the transition period is the start or end point of the start period and the end point of the transition period is the start or end point of the end period.

Next the recommendation unit reads purchase data where a user ID is the user ID of the writer and the date and time of purchase is included in the transition period from the purchase history database and thereby acquires the item ID of an item purchased by the writer during the transition period.

When one or more item IDs are acquired the recommendation unit reads the item data corresponding to the item IDs from the item database P and generates recommendation information additional information containing an item name price item image and the like. Note that at this time the recommendation unit may compare the categories of items indicated by the item data with five parent topics and generate the recommendation information only for the item that belongs to the category corresponding to any of the parent topics.

For example the recommendation unit may extract only the item that belongs to the category corresponding to the parent topic whose frequency of appearance is the highest among the post change models. Further the recommendation unit may extract only the item that belongs to the category corresponding to the parent topic whose frequency of appearance is specified value or more among the post change models. Furthermore the recommendation unit may extract only the item that belongs to the category corresponding to the topic whose frequency of appearance has increased the most in the process of transition from the pre change model to the post change model. The correspondence between a topic and an item category may be set arbitrarily and the recommendation unit pre stores data indicating the correspondence inside.

After generating the recommendation information the recommendation unit adds the recommendation information to the input search result and transmits the search result to the transmitting unit

On the other hand when no item ID is acquired the recommendation unit transmits the input search result as it is to the transmitting unit

A second method is a method that based on a transition pattern indicating the way of transition from the pre change model to the post change model extracts an item in a category corresponding to a topic indicated by those models.

It is assumed that time s is needed to reach the post change model from the pre change model and the point of time of the pre change model is t 0 and the point of time of the post change model is t s. Then the pre change and post change interest models are K and K s respectively and a function indicating the interest model at time t is represented as K t K K K K K where T indicates inversion. At this time the value K t can be defined as the following equation 3 using an arbitrary function f t . 0 0 

The function f t may be a simple linear function t s or a function that transitions like an exponential function or a logarithmic function. For example when the function f t is a linear function the function K t indicates a transition model linear model that increases at a constant speed . Further when the function f t is an exponential function the function K t indicates a transition model exponential model that increases slowly at first and then increases exponentially . Further when the function f t is a logarithmic function the function K t indicates a transition model logarithmic model that increases rapidly at first and then increases slowly . Note that the recommendation unit may acquire a plurality of functions K t .

Then the recommendation unit reads an item corresponding to the acquired transition model from the item database P. It is assumed in this processing that the item data contains not only the category of an item but also the type of the corresponding transition model for example linear model exponential model logarithmic model etc. and data indicating which point of time of the transition model for example first half midpoint latter half etc. the item corresponds to. For example for each of the acquired transition model function K t the recommendation unit reads an item which has the category corresponding to the parent topic indicated by the transition model and for which the type of the transition model corresponding to the function K t is designated from the item database P. When one or more item data is acquired the recommendation unit generates recommendation information additional information for each transition model based on the item data. The recommendation unit then adds the generated recommendation information to the input search result and transmits the search result to the transmitting unit

The search result containing the recommended item information is received and displayed on the user terminal T. The way of displaying the recommended item information may be decided arbitrarily. For example a region for displaying the recommended items may be placed in the search screen or the recommended items may be displayed on another screen. In any case a terminal user can know what items a retrieved writer has purchased in the process that the interest of the writer has changed.

A search program P for causing a computer to function as the search server A is described hereinafter with reference to .

The search program P is different from the search program P according to the first embodiment in that it includes a second search module PA including a recommendation module Pin place of the second search module P. The functions implemented by executing the second search module PA are equal to the functions of the second search unit A. The functions implemented by executing the recommendation module Pare equal to the functions of the recommendation unit described above. The search program P is also provided in the same manner as the search program P.

In this embodiment also the same advantages as the first embodiment can be obtained. In addition in this embodiment the recommendation information corresponding to a writer or transition pattern is also transmitted as additional information to the user terminal T. Thus a user can obtain not only information of a writer whose interest model has changed as designated in the search condition but also information related to the writer or the transition pattern.

The embodiments of the present invention are described in detail above. However the present invention is not restricted to the above described embodiments and various changes and modifications may be made without departing from the scope of the invention.

Although the search condition contains two interest models i.e. the current model and the future model in each of the above described embodiments the number of interest models the frequency of appearance for each specified topic contained in the search condition may be three or more. Specifically not only the current model and the future model at the final reach point but also the interest model at one or more intermediate points between the present and the final reach point a third frequency of appearance for each specified topic in a third specified period may be contained in the search condition.

Although the collection period corresponding to the current model first specified period is a period from a specified point in the past to the present and the period corresponding to the future model second specified period is a certain point or period in the future in each of the above described embodiments those specified periods may be set arbitrarily. For example one month from the present to three to two months ago may be set as the first specified period and one month from the present to two to one month ago may be set as the second specified period. In other words both of the specified periods set as the search condition may be periods in the past. On the contrary both of the specified periods may be periods in the future. Further each specified period may be a certain point time not a period having a certain interval. Accordingly a period search target period corresponding to each interest model shown in the search result may be a certain point time not a period.

In this case the extracting unit extracts a combination of interest models where the Manhattan distance is a specified threshold or less in the start period the end period and one or more intermediate periods third search target period between those periods varying those periods for one writer. A method of determining the identity and similarity of the interest model in the intermediate period is the same as the above described method performed on the pre and post change interest models. Then the extracting unit stores a plurality of interest models for the start period the end period and one or more intermediate periods in the extracted combination as a pre change model a post change model and one or more intermediate result models respectively. The extracting unit then outputs the retrieved interest models together with the corresponding periods as a search result to the transmitting unit

For example it is assumed that three intermediate models Ma Mb and Mc corresponding to time points Ta Tb and Tc where Ta

In this manner by making a search using three or more interest models it is possible to make a search in consideration of the process of a change in circumstances and it is thereby possible to present information of a writer whose interest model has gradually changed as designated by a user to the user.

In each of the above described embodiments a period transition period from the current model to the future model may be contained in the search result. In this case the extracting unit extracts the pre change and post change interest models further on the condition that the time interval from the start period to the end period coincides with the transition period and determines the identity and similarity of the interest models using the Manhattan distance. It is thereby possible to present information of a writer whose interest has changed as designated by a user within a specified time range to the user.

Although the interest model including a plurality of topics is used in each of the above described embodiments a model including only the frequency of appearance of one topic may be used. In this case the transition of a model is represented not by a change in the percentage of each frequency of appearance but by the rate of increase or decrease of one frequency of appearance. For example a model including one topic related to an evaluation value for example score or class curve of a specific qualifying examination may be used. In the case of treating a model including one topic only although the above described model adjustment unit is not needed a technique of a writer search is the same as described in the above embodiments.

Although when some frequency of appearance is changed by a user operation in the future model field of the search screen the other frequencies of appearance are automatically adjusted in each of the above described embodiments such an adjustment function may be omitted to leave the adjustment to a user. In this case the model adjustment unit can be eliminated. Further the frequency of appearance in the current model field may be also changed by a user operation. In this case the model adjustment unit may adjust the current model by applying the above described similar interest model reference method to the unadjusted current model and the future model or may adjust the current model by applying the above described topic propagation method to the unadjusted current model. In the case of adding the intermediate model to the search condition also the model adjustment unit can adjust the intermediate model according to a user operation.

Although a writer of a document is a search target in each of the above described embodiments the search target is not particularly limited. For example an item service or the like may be the search target. In this case profile data having a topic suitable for the search target may be generated based on comments or item reviews collected from the document database. A user can thereby find an item that has gained popularity recently a hotel that has a better reputation than before and the like for example.

Although the purpose of a terminal user is to search for a writer who has experienced a desired change of interest in each of the above described embodiments the purpose of a search is arbitrary. In relation thereto a topic may be set arbitrarily. Further the frequency of appearance for each topic which is a model may indicate a factor other than interest . For example profile data having a topic suitable for grasping the transition of academic ability may be prepared and the above described search system may be used for the purpose that a teacher instructs a student to set a goal or the purpose that a certain individual sets a goal by oneself.

Although the identity and similarity of interest models is determined using the Manhattan distance in each of the above described embodiments the identity and similarity may be determined using another scale or index such as the Euclidean distance.

Although the profile database is placed in the search server A in each of the above described embodiments the profile database may be placed outside the search server or outside the system including the search server.

Although a so called client server search system is constructed by the user terminal T and the search server A in each of the above described embodiments the functions of the search server A described above may be incorporated into the user terminal. In this case a search result extracted in the user terminal is output displayed onto a specified monitor.

