---

title: Systems and methods for computer and voice conference audio transmission during conference call via VoIP device
abstract: A new approach is proposed that contemplates systems and methods to support canceling audio streams leaked from a speaker to a microphone so that a clean audio stream of a presenter or viewer speaking at a conference call is transmitted. Here, the audio streams being canceled includes the computer audio stream of an application being run or a material being presented online during a web conference and/or the audio stream received from the rest of the group of participants at the conference call. The computer audio stream is then transmitted in addition to the presenter or viewer audio stream, and separate from any other audio stream captured by the hosting device during the conference call.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08954505&OS=08954505&RS=08954505
owner: Citrix Systems, Inc.
number: 08954505
owner_city: Fort Lauderdale
owner_country: US
publication_date: 20120925
---
This application is a continuation of U.S. patent application Ser. No. 12 719 495 filed Mar. 8 2010 which is a continuation of U.S. application Ser. No. 12 423 451 filed Apr. 14 2009 both of which are incorporated herein by reference.

A conference call is a telephone call between two or more callers or users referred to herein as a group of participants at geographically distributed locations which allows each participant to be able to speak to and listen to other participant s simultaneously. A conference call among a plurality of participants can be conducted via a voice conference bridge or centralized server which connects numerous endpoint devices VoIP devices or PSTN telephones associated with the participants using appropriate communication protocols and mixes the various incoming voice streams from the plurality of participants either at the endpoint devices or at the conference bridge.

A Web conferencing tool enables the group of participants to organize and attend meetings online during a conference call by allowing a presenter in the group of the participants at the conference call to run a computer software application also referred to herein as the application or to present a material via a hosting device and share the application or material with the rest of the group the viewers to view in real time. For non limiting examples such Web conferencing tool enables the presenter to perform live demonstrations in real time collaborate documents with colleagues and provide training to customers and employees.

During the Web conferencing an outgoing audio stream of the material being presented and or the application being run via the hosting device also referred to herein as the computer audio may often need to be transmitted to the conference in addition to and in separation from an outgoing voice conference audio stream of the presenter or viewer speaking at the conference call also referred to herein as the presenter or viewer audio respectively . In the meantime an incoming voice audio stream needs to be received from the rest of the group speaking at the conference call also referred to herein as the voice conference audio . When there are more than one person need to listen to and or to speak at the conference call at the same location as the presenter or the viewer the presenter or viewer may have to open up the conference call by using a separate speaker and a microphone associated with the hosting device instead of an integrated headset w microphone attached his her head. Consequently the computer audio may leak from the speaker to the microphone together with the presenter or viewer audio causing deterioration in the audio quality of the conference call. Conversely it is important to make sure that the two outgoing audio streams the computer audio and the presenter or viewer audio are transmitted separately by the hosting device without interfering with one another.

The foregoing examples of the related art and limitations related therewith are intended to be illustrative and not exclusive. Other limitations of the related art will become apparent upon a reading of the specification and a study of the drawings.

The approach is illustrated by way of example and not by way of limitation in the figures of the accompanying drawings in which like references indicate similar elements. It should be noted that references to an or one or some embodiment s in this disclosure are not necessarily to the same embodiment and such references mean at least one.

A new approach is proposed that contemplates systems and methods to support canceling audio streams leaked from a speaker to a microphone so that a clean audio stream of a presenter or viewer speaking at a conference call presenter or viewer audio is transmitted. Here the audio streams being canceled includes the computer audio stream of an application being run or a material being presented computer audio during a web conference and or the audio stream received from the rest of the group of participants at the conference call voice conference audio . The computer audio stream is then transmitted in addition to the presenter or viewer audio stream and separate from any other audio stream captured by the hosting device during the conference call. Such an approach enables clean transmission of both the computer audio and the presenter viewer audio without mixing of echoes or feedbacks from other sources during the conference at which open speakers and microphones are used in place of an integrated headset and multiple audio streams are captured leaked into or mixed with one another.

As used herein canceling or cancellation means suppressing and removing with the best effort from one audio stream the echo and feedback of another. The resulting audio stream after such cancellation effort is considered as clean even if certain residue of the echo and feedback may possibly remain in the audio stream.

In the example of the system includes hosts hosting devices deployed for each of a presenter and a viewer at a conference call wherein various components running on each host include at least a voice audio engine an optional display component and a computer audio engine and a voice conference bridge running on a separate host.

As used herein the term engine component or bridge refers to a software firmware hardware or other component that is used to effectuate a purpose. The engine component or bridge will typically include software instructions that are stored in non volatile memory also referred to as secondary memory . When the software instructions are executed at least a subset of the software instructions is loaded into memory also referred to as primary memory by a processor. The processor then executes the software instructions in memory. The processor may be a shared processor a dedicated processor or a combination of shared or dedicated processors. A typical program will include calls to hardware components such as I O devices which typically requires the execution of drivers. The drivers may or may not be considered part of the engine but the distinction is not critical.

In the example of the host can be a computing device a communication device a storage device or any electronic device capable of running a software component. For non limiting examples a computing device can be but is not limited to a laptop PC a desktop PC a tablet PC an iPod a PDA or a server machine. A storage device can be but is not limited to a hard disk drive a flash memory drive or any portable storage device. A communication device can be but is not limited to a mobile phone.

In the example of the voice audio engine is a software subsystem for bidirectional communication of audio streams of data to simulate a PSTN telephone. The voice audio engine is typically used as an embedded system on the host using voice over internet protocol VoIP technology while handles voice processing on a standard processor of the host compared to systems which required dedicated math optimized digital signal processor chips. The voice audio engine can be an optimized software subsystems with mathematically complex signal processing required for voice filtering and speech coding as understood by one ordinarily skilled in the relevant art.

In the example of the optional display component enables the presenter to display manipulate and share an application he she runs or a material he she presents at the conference call and the viewer to hear or view the application run or material presented by the presenter. Here the display component can be a monitor a screen or any other displaying device associated with the host known to one skilled in the art. The application or material can be any type of digital document application or program that produces sound and or displayable on the display component of the host including the entire displayable desktop of the host .

In the example of the computer audio engine is a software component that utilizes one or more sound capturing devices of the host such as a sound card or on the host a separate physical device of a microphone and or a speaker to capture and or to playback audio streams by invoking Application Programming Interfaces APIs to the sound capturing devices such as the Window APIs.

In the example of the voice conference bridge is operable to provide conferencing services over a communication network by establishing a conference call among a group of participants including at least a presenter and one or more viewers receiving and mixing communication voice video and or data signals generated by each of the group of participants and providing the mixed signals to each of the group of participants. Here each of the group of participants is able to both simultaneously listen to and to speak to the rest of the participants in the group while listening and or watching the application run or material presented on the display component of the host during the conference call. Here each of the group of participants may represent a group of people gathering at a geographically distributed location such as a conference room or office where everyone in the group can listen to or speak to the conference call via a telephony endpoint device.

In the example of the hosts and the voice conference bridge can communicate and interact with each other via communication interfaces not shown following certain communication protocols such as TCP IP protocol over a network not shown . Here the network can be a communication network based on certain communication protocols such as TCP IP protocol. Such network can be but is not limited to internet intranet wide area network WAN local area network LAN wireless network Bluetooth WiFi and mobile communication network. The physical connections of the network and the communication protocols are well known to those of skill in the art.

While the system depicted in is in operation the first host is associated with a presenter during a conference call where the optional display component of the first host enables the presenter to display manipulate and share a presentation material or an application at the conference call. While the application is being run and or the material is being presented a computer audio engine of the first host provides an audio stream of the application or material to one or more speakers and transmits a clean computer audio stream to a viewer at the conference call with all other audio streams e.g. echoes and feedback noises canceled. During the conference call a voice audio engine running on the first host enables the presenter to listen to an voice audio stream from the rest of the conference by feeding the incoming voice conference audio to the speakers and to speak an audio stream of him herself at the conference call via a microphone associated with the first host . More importantly the voice audio engine transmits a clean outgoing presenter audio to the voice conference bridge hosting the conference call with all other audio streams e.g. echoes and noises leaked through the microphone canceled. Correspondingly the second host is associated with a viewer during the conference call where an optional display component of the second host receives and displays the presentation material or application originated by the presenter to the viewer at the conference call. While the application is being run or the material is being presented to the viewer a computer audio engine of the second host accepts the incoming computer audio for the viewer to listen to and feeds the computer audio to one or more speakers at the second host . In the meantime a voice audio engine running on the second host enables the viewer to listen to the presenter audio by feeding the audio stream to the speakers and to speak a voice audio stream of him herself at the conference call via a microphone associated with the second host . As does the voice audio engine on the first host the voice audio engine on the second host also transmits a clean outgoing viewer audio to the voice conference bridge hosting the conference call with all other audio streams e.g. echoes and noises leaked through the microphone canceled. During the conference call the voice conference bridge accepts processes and transmits the voice audio streams between the presenter and the viewer.

In the example of the flowchart starts at block where a presenter is enabled to display manipulate and share a presentation material or application at a conference call. The flowchart continues to block where a clean outgoing computer audio stream of the application or presentation material is transmitted to a viewer at the conference call. The flowchart continues to block where the presenter is enabled to listen to a voice audio stream from the viewer and speak a voice audio stream of him herself at the conference call. The flowchart continues to block where a clean outgoing presenter audio is transmitted to the viewer via a voice conference bridge hosting the conference call. The flowchart continues to block where the application or the presentation material originated by the presenter is received and optionally displayed to the viewer at the conference call. The flowchart continues to block where the incoming computer audio stream of the application or presentation material from the presenter is accepted by the viewer. The flowchart continues to block where the viewer is enabled to listen to the presenter audio and speak the voice audio stream of him herself at the conference call. The flowchart ends at block where a clean outgoing viewer audio is transmitted to the presenter via the voice conference bridge hosting the conference call.

In the example of the transmitting component of the voice audio engine accepts receives collects or captures one or more voice audio streams of the presenter presenter audio speaking from an audio input device such as a microphone as well as from other components running on the host such as the sound mixing component . It then processes and transmits the presenter audio to the voice conference bridge . Conversely the receiving component of the voice audio engine accepts one or more voice audio streams of the conference call conference audio from the voice conference bridge . It then processes and provides the conference audio to other components running on the host such as the sound mixing component and or the computer audio capturing component of the computer audio engine .

In the example of the sound mixing component is a software component that utilizes one or more sound capturing devices of the host such as a sound card of the host by invoking interfaces to the sound capturing devices. More specifically the sound mixing component mixes all audio streams that have been either originated or accepted by an application program or interface running on the host such as the computer audio and or the conference audio and outputs the mixed audio streams to an audio output device such as a headphone or a speaker as shown in . In addition it may also provide the mixed audio streams to other components such as the transmitting component of the voice audio engine and or the computer audio capturing component of the computer audio engine via respective APIs.

In the example of the computer audio capturing component of the computer audio engine is a software component that captures audio streams from the output of the sound mixing component and or from another audio generating source running on the host such as the receiving component of the voice audio engine . In addition the computer audio capturing component process the audio streams it captures and outputs the processed audio stream to an output channel device or alternatively to the same voice conference bridge as shown by the dotted arrow in .

While the system depicted in is in operation the voice audio engine running on the host enables a presenter to listen to a conference call hosted by a voice conference bridge via a speaker so that other people at the same location can listen in and speaks to the conference call via a microphone. The display component of the host enables the presenter to display manipulate and share an application or presentation material which can be but is not limited to a video a slide a graph a piece of data and a document at a conference call. During the conference call the sound mixing component of the host captures and mixes both the computer audio such as a sound of the video played by the host and a conference audio from rest of the group of the participants at the conference call from the receiving component of the voice audio engine which accepts and outputs the audio stream from a voice conference bridge hosting the conference call. The sound mixing component then outputs the mix of the conference audio and the computer audio to the speaker so that the presenter can hear the rest of the group of the participants at the conference call. In addition the sound mixing component also provides the mix of the conference audio and the computer audio to the transmitting component of the voice audio engine via for a non limiting example APIs for processing of the voice audio streams captured from the microphone. The transmitting component of the voice audio engine captures via the microphone not only the presenter audio but also the mix of the conference audio and the computer audio leaked from the speaker through the microphone which is undesirable. The transmitting component then captures from output of the sound mixing component the mix of the conference audio and the computer audio and cancels the mix from the one or more audio streams captured by the microphone so that only the presenter audio will be transmitted to the voice conference bridge hosting the conference call without the feedback noise of the leaked conference audio and or the computer audio. Alternatively the transmitting component can transmit the captured mix of the presenter audio and the computer audio to the voice conference bridge which will then cancel the computer audio it received from computer audio capturing component from the mix of the presenter audio and the computer audio before transmitting the presenter audio to the viewer.

In the example of the system also supports canceling conference audio from computer audio. While the system depicted in is in operation the computer audio capturing component of the computer audio engine captures separately both the mix of the computer audio and the conference audio of rest of the group of the participants at the conference call from output of the sound mixing component as well as the conference audio alone from the receiving component of the voice audio engine . The computer audio capturing component then cancels the conference audio from the mix of the conference audio and the computer audio so that a clean computer audio stream is transmitted to the conference call. Here the computer audio stream can be transmitted either via a separate conference channel to the viewer or alternatively through the same voice conference bridge shown by the dotted arrow in together with the presenter audio.

In the example of the computer audio playback component of the computer audio engine is a software component that accepts audio streams from input to the host process the accepted audio streams and provides them to other components running on the host such as the receiving component of the voice audio engine and or the sound mixing component for further processing or output to speakers associated with the host .

While the system depicted in is in operation the voice audio engine running on the host enables a viewer to listen to a conference call hosted by a voice conference bridge via one or more speakers so that other people at the same location can listen in and speaks to the conference call via a microphone. The display component of the host optionally receives and displays a presentation material or an application originated by a presenter at the conference call to the viewer. During the conference call the computer audio playback component of the computer audio engine accepts a computer audio stream of the presentation material or application transmitted from another host such as the host associated with the presenter and provides it to the sound mixing component of the host . The sound mixing component captures and mixes both the computer audio and the conference audio received from the receiving component of the voice audio engine which accepts and outputs the conference audio stream from the voice conference bridge hosting the conference call. The sound mixing component then outputs the mix of the conference audio and the computer audio to the speaker s so that the viewer can listen to the rest of the group of the participants at the conference call. In addition the sound mixing component also provides the mix of conference audio and the computer audio to the transmitting component of the voice audio engine for processing of the audio streams captured from the microphone. The transmitting component captures via the microphone not only a voice audio stream of the viewer but also the mix of the conference audio and the computer audio leaked through the microphone from the speaker. The transmitting component then captures from output of the sound mixing component the mix of the conference audio and the computer audio and cancels the mix from the one or more audio streams captured by the microphone so that a clean viewer audio will be transmitted to the voice conference bridge hosting the conference call without the feedback noise of the leaked conference audio and or the computer audio.

In an alternative embodiment while the system depicted in is in operation the computer audio playback component of the computer audio engine receives the computer audio transmitted from another host. Instead of providing the captured computer audio stream to the sound mixing component of the host as in however the computer audio playback component provides the captured computer audio stream to the receiving component of the voice audio engine instead. The receiving component of the voice audio engine then accepts and mixes both the computer audio and the voice conference audio and outputs the mix of the two audio streams to the sound mixing component . The sound mixing component then captures and outputs the mix of the conference audio and the computer audio to the speaker for the viewer to listen to. The remaining part of the functions analogously to .

In another alternative embodiment the system depicted in functions when the computer audio from the host associated with the presenter is transmitted through the voice conference engine as shown by the dotted arrow from to in . Accordingly while the system depicted in is in operation the computer audio stream is transmitted through the voice conference bridge to the receiving component of the voice audio engine together with the audio stream of the conference call instead of being transmitted and captured separately by the computer audio playback component as in and . The receiving component then accepts and outputs the mix of the two audio streams to the sound mixing component . The sound mixing component then captures and outputs the mix of the conference audio and the computer audio to the speaker for the viewer to listen to. The remaining part of the functions analogously to and .

One embodiment may be implemented using a conventional general purpose or a specialized digital computer or microprocessor s programmed according to the teachings of the present disclosure as will be apparent to those skilled in the computer art. Appropriate software coding can readily be prepared by skilled programmers based on the teachings of the present disclosure as will be apparent to those skilled in the software art. The invention may also be implemented by the preparation of integrated circuits or by interconnecting an appropriate network of conventional component circuits as will be readily apparent to those skilled in the art.

One embodiment includes a computer program product which is a machine readable medium media having instructions stored thereon in which can be used to program one or more hosts to perform any of the features presented herein. The machine readable medium can include but is not limited to one or more types of disks including floppy disks optical discs DVD CD ROMs micro drive and magneto optical disks ROMs RAMs EPROMs EEPROMs DRAMs VRAMs flash memory devices magnetic or optical cards nanosystems including molecular memory ICs or any type of media or device suitable for storing instructions and or data. Stored on any one of the computer readable medium media the present invention includes software for controlling both the hardware of the general purpose specialized computer or microprocessor and for enabling the computer or microprocessor to interact with a human viewer or other mechanism utilizing the results of the present invention. Such software may include but is not limited to device drivers operating systems execution environments containers and applications.

The foregoing description of various embodiments of the claimed subject matter has been provided for the purposes of illustration and description. It is not intended to be exhaustive or to limit the claimed subject matter to the precise forms disclosed. Many modifications and variations will be apparent to the practitioner skilled in the art. Particularly while the concept component is used in the embodiments of the systems and methods described above it will be evident that such concept can be interchangeably used with equivalent concepts such as class method type interface module object model and other suitable concepts. Embodiments were chosen and described in order to best describe the principles of the invention and its practical application thereby enabling others skilled in the relevant art to understand the claimed subject matter the various embodiments and with various modifications that are suited to the particular use contemplated.

