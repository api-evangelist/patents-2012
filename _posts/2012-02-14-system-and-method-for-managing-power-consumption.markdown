---

title: System and method for managing power consumption
abstract: In accordance with a particular embodiment, a method for managing power consumption includes receiving power rate information and receiving power usage information. The method also includes receiving a plurality of personal preference profiles. Each personal preference profile of the plurality of personal preference profiles is associated with a different user of a plurality of users and includes at least one preferred state associated with a respective user. The method further includes detecting a presence of at least one user within a room. The method additionally includes adjusting at least one state associated with the room based on the at least one preferred state associated with the at least one user within the room, the power rate information, and the power usage information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08996186&OS=08996186&RS=08996186
owner: Fujitsu Limited
number: 08996186
owner_city: Kawasaki-shi
owner_country: JP
publication_date: 20120214
---
This application claims priority under 35 U.S.C. 119 e to U.S. Provisional Application Ser. No. 61 494 069 filed Jun. 7 2011 which is hereby incorporated by reference in its entirety.

Various industries are striving to find solutions to reduce energy bills despite increasing electricity rates. Demand Response DR is one such method. DR works to reduce the amount of power consumed during peak load times when power is most expensive. DR systems help utility companies avoid blackouts defer construction of new generation transmission facilities and reduce costs. For consumers DR systems help reduce electricity bills by reducing the amount of power consumed during the more costly peak time periods.

In many cases office buildings are considered as a single consumer from the perspective of the utility company. The building owners typically provide a comprehensive electricity service to their tenants who pay a fixed fee for the administration and energy service. The electricity programs for office buildings may often include both energy consumption charges e.g. the energy rate cost per kilowatt hour power consumption and demand charges e.g. based on the peak load in unit of kW within a billing period . Thus the more energy that is used during the peak hours the greater the electricity bill is for the building.

In accordance with a particular embodiment a method for managing power consumption includes receiving power rate information and receiving power usage information. The method also includes receiving a plurality of personal preference profiles. Each personal preference profile of the plurality of personal preference profiles is associated with a different user of a plurality of users and includes at least one preferred state associated with a respective user. The method further includes detecting a presence of at least one user within a room. The method additionally includes adjusting at least one state associated with the room based on the at least one preferred state associated with the at least one user within the room the power rate information and the power usage information.

Technical advantages of particular embodiments may include providing power management based on the presence and or preferred states of one or more users within a room of a building. The preferred states may be based on temperature or illumination preferences for individual users. Managing power consumption based on the presence and or preferred states of one or more users within a room may allow a business entity to reduce their power bill and decrease their environmental impact. Other technical advantages will be readily apparent to one skilled in the art from the following figures descriptions and claims. Moreover while specific advantages have been enumerated above various embodiments may include all some or none of the enumerated advantages.

Building may be an office building a commercial building an industrial building a warehouse building a residential building a factory multiple buildings within a single campus or any other configuration in which it may be suitable to have one or more environment stations manage the power consumption associated with one or more rooms within building . Regardless of the configuration of building it may comprise a number of rooms that each may have one or more states that environment station may be able to control e.g. via one or more electricity relays . This may allow environment station to manage the power consumption associated with the rooms. For example environment station may adjust the illumination of one or more lights within a room. As another example environment station may adjust the temperature associated with a room. As another example environment station may turn off one or more devices associated with an empty room.

Environment station may include any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware to implement any number of functions to manage the consumption of power by various rooms within building . In certain embodiments environment station may implement its power consumption management so as to minimize the impact on normal office operations and or set one or more room states to be consistent with as many preferred states as reasonably feasible. For example environment station may average the preferred states of any users within the respective room.

In building is connected to network . Network may be any network or combination of networks capable of transmitting signals data and or messages including signals data or messages transmitted through WebPages e mail text chat voice over IP VoIP and instant messaging. Network may include one or more LANs WANs MANs PSTNs WiMAX networks global distributed networks such as the Internet Intranet Extranet or any other form of wireless or wired networking. Network may use any of a variety of protocols for either wired or wireless communication.

In certain embodiments network may connect environment station with power company and weather information provider . Information provided by power company and weather information provider may be collected processed and or distributed e.g. distributed among electricity relays in order to provide power management for devices . Depending on the embodiment and or scenario power company may provide environment station with information such as the current energy rate the current demand rate any special or given circumstances e.g. special demand response rates or any other information e.g. prior peak loads current power consumption etc. which may be helpful to environment station in managing the power consumption of building .

As used herein the power rate may be used to generally refer to the information provided by the power company regarding the cost of power. Depending on the power company the power rate may include an energy rate e.g. the cost per kilowatt hour a demand rate e.g. the cost per kilowatt based on the peak load within a given period such as a billing period and or any other rates or information that may impact the cost of power. Depending on the embodiment and or scenario weather information provider may provide environment station with information such as the current temperature forecasted temperature or any other information e.g. historical weather information for the same day or substantially the same time etc. which may be helpful to environment station in managing the power consumption of building .

Depending on the configuration of the power management system environment station may provide power management in a centralized distributed or hybrid configuration. The type of configuration may be a balance between communication overhead between environment station and electricity relays and the amount of control that is desired.

In a centralized configuration environment station may receive information from power company e.g. energy rate demand rate etc. and from weather information provider e.g. current temperature forecasted temperature etc. . Environment station may also receive information from electricity relays . The information from electricity relays may comprise the amount of power consumed by the associated device e.g. electricity relay may provide information regarding the power consumed by device the current state of the associated device e.g. whether a light is on or off the temperature of the water of a water heater or the state of charge of a battery of a laptop etc. the number and or identity of any users within a room commands or requests provided by the users in the room or any other information which may be helpful to environment station in managing the power consumption of devices . Environment station may also receive information regarding power consumed by other devices or components within building . Environment station may also receive one or more personal preference profiles. Each personal preference profile may include one or more preferred states associated with a particular user. Based on the received information environment station may adjust one or more states associated with one or more devices within one or more rooms. Environment station may then send messages to the individual electricity relays indicating how the state associated with the room is to be changed or modified. This configuration may provide a higher level of control and thus may provide better power reductions but may require more signaling overhead between components.

In a distributed configuration environment station may provide electricity relays with information regarding the amount of power being used by building e.g. based on devices and or other devices within building . Environment station may also provide electricity relays with a power rate associated with a cost of power. The power rate may be provided directly or indirectly by power company and may vary over time. In some embodiments environment station may also provide electricity relays with weather information. Electricity relays may also receive a message regarding or may otherwise determine a state associated with a corresponding device and or a corresponding room e.g. a temperature an illumination level etc. . Electricity relays may also be able to determine the identity and or preferred states e.g. via the users personal preference profiles of any users within the corresponding room. Based on at least the above information each electricity relay may make its own determination independent of the other electricity relays as to how to adjust one or more states of the respective room. In this configuration there is a relatively low amount of overhead because environment station only provides the power usage and power rate information and in some embodiments weather information . In some scenarios the electricity relays send very little or no information to the environment station . On the other hand because each electricity relay is independently making its own decision environment station may have relatively little control over how building consumes power.

In a hybrid configuration environment station may receive power rate information from power company and weather information from weather information provider . Environment station may use the information along with one or more control parameters received from an operator e.g. a system or building administrator responsible for managing the energy consumption of building to generate one or more threshold values. Environment station may transmit the one or more thresholds to electricity relays . Electricity relays may assess a state associated with the corresponding device and or a state associated with the room and compare one or both states with the received thresholds to determine if when and or how to adjust the state associated with the room and or device e.g. adjusting the amount of power flowing to the device . For example in some embodiments environment station may determine two thresholds related to the temperature of room. If the state of the corresponding room is above an upper threshold electricity relay may allow power to flow to the corresponding device to cool down the room if the state is below a lower threshold electricity relay may stop the flow of power to the corresponding device to allow the room to heat up and if the state is between the two thresholds electricity relay may stop the flow of power to the corresponding device and or may start a back off timer before resuming the flow of power to the corresponding device . Each electricity relay may use a different or random length back off timer to help reduce the number of devices that begin receiving power at the same time.

In a hybrid configuration environment station may have greater control over the power consumption of devices than in the distributed configuration because the environment station may adjust the various thresholds to affect the power consumption of building . However it may not have the same level of control as the centralized configuration because environment station may not send individual commands to individual electricity relays. The hybrid configuration may also have a lower overhead than the centralized configuration because individual electricity relays may not send information to environment station nor may environment station individually signal each electricity relay when to stop and when to allow the flow of power to the corresponding device . However as discussed above the hybrid configuration may not provide the same level of control as the centralized configuration.

Depending on the type of device and or the control scheme used by environment station and or electricity relays the management of power consumption may include for example lowering the brightness of lights signs or display devices turning off lights signs or display devices allowing the temperature of a room to rise reducing the amount of power provided to an HVAC unit to allow the HVAC unit to provide cool air that is not quite as cool as if the HVAC unit was able to receive full power or any other suitable action which may adjust a state associated with a room.

In certain embodiments an operator responsible for managing the power consumption of building may adjust one or more control parameters to modify the various thresholds. This may provide the operator with the ability to control the level of conservation with which environment station manages power consumption for building . The control parameters may be adjusted in any of the configurations. In the distributed configuration environment station may distribute any adjustments to the control parameter to electricity relays .

In certain embodiments the threshold values used in any of the configurations may also be adjusted in a dynamic manner based on the peak load and or the current load. For example in some instances power company may base the power rate on the time that the power is consumed as well as the peak load consumed by building during a particular cycle such as a billing cycle. An increase in the peak load of power consumed by the building may cause an increase in the demand rate. In some embodiments the demand rate may be divided into different levels each level associated with a range of peak load consumption and having a corresponding charge. In such an instance environment station may attempt to control power consumption to avoid rising into the next higher level. In some embodiments environment station and or electricity relays may attempt to limit the power consumption by adjusting one or more thresholds so as to limit the amount of power that is consumed at a particular time. In certain embodiments the threshold may be reduced quickly as the power consumption reaches a peak load e.g. a previous peak load within the same current cycle . Then as the current load decreases power station may gradually increase the threshold back up.

Devices may comprise any of a variety of different types of devices that have controllable power consumption. The depicted devices include HVAC device lights and and water heater . The energy may be controlled in any of a variety of different ways. For example lights may be turned off or dimmed. As another example the temperature of HVAC units may be turned up or down or a cycle may be delayed. Because the power consumption of devices is controllable building may continue to function within acceptable parameters even though full power may not be flowing to some of the corresponding devices . For example based on the preferred states of any users in a room environment station may dim one or more lights within the room. The dimmed light may consume less power than a light that is turned on at full brightness.

Although particular devices have been depicted in particular embodiments environment station may control the flow of power to any of a variety of different devices. For example environment station may based on one or more preferred profiles control the flow of power to ceiling fans signs fountains music sound systems computers or any other device which may receive a variable amount of power or which may be turned off without negatively impacting the operations of the building. In some embodiments devices may include the logic used to control the flow of power. For example electricity relay may be integrated into a light socket of a fixture for light

Electricity relays may include any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware to implement any number of functions that allow electricity relays to control the flow of power to their associated devices . Electrify relays may in some embodiments be controllers able to provide varying levels of power to their associated devices . Electricity relays may be able to communicate with environment station and a corresponding device . The flow of power may be based on information or requests provided by environment station . The information provided may vary depending upon the configuration of environment station and electricity relays . In some embodiments electricity relays may also receive one or more personal preference profiles or preferred states. The preferred states may be used locally by the appropriate electricity relay and or it may be communicated to environment station .

Depending upon device electricity relay may be an external component or an internal component to the corresponding device . For example electricity relay may be an external component to HVAC such as a standalone device functionally located between a power source and HVAC . Alternatively electricity relay may be integrated into a thermostat associated with HVAC . As another example electricity relay may be a standalone device integrated into an outlet light socket powerstrip or otherwise electrically positioned between a power source and lights

In some embodiments electricity relay may control the flow of power based on information provided by the corresponding device . For example the corresponding device may provide electricity relay with information regarding the state of the device. For example a water heater may provide a corresponding electricity relay with the state of the temperature of the water within the water heater. In some embodiments electricity relay may control the flow of power based on information provided by one or more sensors such as thermometers light meters or any other sensor capable of measuring a state associated within a room. Electricity relays may also control the flow of power based on one or more preferred states. For example if the only users in the building at a particular time prefer cooler hot water when it is warm outside and warmer hot water when it is cool outside then electricity relay may adjust the temperature of the water heater accordingly.

Power company may be a utility company responsible for providing electrical power for one or more buildings such as building . Power company may charge building for the power it consumes on a dynamic basis. For example depending on the time of day the energy rate e.g. the cost per kilowatt hour may vary. The power rate charged to building may also vary depending on the demand rate e.g. the cost per kilowatt during peak demand . For example the higher the highest peak is within a billing cycle the higher the demand rate is for that billing cycle. In some instances the power rate may vary depending on the demand placed on the utility company by multiple buildings. That is as more electricity is being consumed the rate for electricity may increase. As another example the rate may increase as the amount of power being produced decreases. For example where a power company uses windmills to generate power the power may be more expensive on a non windy day than on a windy day. Power company may be able to communicate the power rate energy rate and or the demand rate to environment station . The information may be communicated through for example network .

Weather information provider may be able to provide environment station with a variety of different types of weather information. For example weather information provider may provide current temperature forecasted temperature cloud cover rain or any other weather indicator which may be suitable for environment station to consider in determining or predicting how to manage power consumption and or when there might be a spike in load. For example if the forecast is for a high temperature environment station may predict an increased HVAC load as building runs the air conditioning to cool down building . Based on this determination environment station may for example lower one or more thresholds to decrease the brightness of lights and . Environment station may also pre heat or pre cool building in anticipation of a predicted spike in power consumption by building .

Although the embodiment depicted in illustrates a particular number type and configuration of electricity relays and devices other embodiments contemplate any number or arrangement of such components. For example in some embodiments a single electricity relay may control the power for several lights within a room. In addition the elements may include components centrally located local with respect to one another or distributed throughout building and or outside building .

Electricity relays and environment station may each include one or more portions of one or more computer systems. In particular embodiments one or more of these computer systems may perform one or more steps of one or more methods described or illustrated herein. In particular embodiments one or more computer systems may provide functionality described or illustrated herein. In particular embodiments encoded software running on one or more computer systems may perform one or more steps of one or more methods described or illustrated herein or provide functionality described or illustrated herein.

The components of electricity relays and environment station may comprise any suitable physical form configuration number type and or layout. As an example and not by way of limitation electricity relays and or environment station may comprise an embedded computer system a system on chip SOC a single board computer system SBC such as for example a computer on module COM or system on module SOM a desktop computer system a laptop or notebook computer system an interactive kiosk a mainframe a mesh of computer systems a mobile telephone a personal digital assistant PDA a server or a combination of two or more of these. Where appropriate electricity relays and or environment station may include one or more computer systems be unitary or distributed span multiple locations span multiple machines or reside in a cloud which may include one or more cloud components in one or more networks.

Where appropriate one or more components of power consumption management system may perform without substantial spatial or temporal limitation one or more steps of one or more methods described or illustrated herein. As an example and not by way of limitation power consumption management system may perform in real time or in batch mode one or more steps of one or more methods described or illustrated herein. One or more power consumption management systems may perform at different times or at different locations one or more steps of one or more methods described or illustrated herein where appropriate.

In the depicted embodiment electricity relay and environment station each include their own respective processors and memory and storage and interfaces and and buses and . These components may work together to manage a building s power consumption by managing the flow of power to one or more devices such as devices based on one or more preferred states associated with one more users. Although a particular power consumption management system is depicted having a particular number of particular components in a particular arrangement this disclosure contemplates any suitable power consumption management system having any suitable number of any suitable components in any suitable arrangement. For simplicity similar components of electricity relay and environment station will be discussed together wherein the components of environment station will be identified in parenthesis. However it is not necessary for both devices to have the same components or the same type of components. For example processor may be a general purpose microprocessor and processor may be an application specific integrated circuit ASIC .

Processor and or may be a microprocessor controller or any other suitable computing device resource or combination of hardware software and or encoded logic operable to provide either alone or in conjunction with other components e.g. memory or respectively power consumption management functionality. Such functionality may include resolving difference between the preferred states from different personal preference profiles for different users within the same room. The functions performed by the components of electricity relay and environment station may vary depending on the configuration of power consumption management system . For example in a centralized configuration processor may determine how to adjust one or more states associated with a room based on the preferred states of the users therein. As another example in a distributed configuration processor may determine how to adjust one or more states associated with a room based on the preferred states of the users therein. Additional examples and functionality provided at least in part by processor and or will be discussed below.

In particular embodiments processor and or may include hardware for executing instructions such as those making up a computer program. As an example and not by way of limitation to execute instructions processor and or may retrieve or fetch instructions from an internal register an internal cache memory and or or storage and or decode and execute them and then write one or more results to an internal register an internal cache memory and or or storage and or .

In particular embodiments processor and or may include one or more internal caches for data instructions or addresses. This disclosure contemplates processor and or including any suitable number of any suitable internal caches where appropriate. As an example and not by way of limitation processor and or may include one or more instruction caches one or more data caches and one or more translation lookaside buffers TLBs . Instructions in the instruction caches may be copies of instructions in memory and or or storage and or and the instruction caches may speed up retrieval of those instructions by processor and or . Data in the data caches may be copies of data in memory and or or storage and or for instructions executing at processor and or to operate on the results of previous instructions executed at processor and or for access by subsequent instructions executing at processor and or or for writing to memory and or or storage and or or other suitable data. The data caches may speed up read or write operations by processor and or . The TLBs may speed up virtual address translations for processor and or . In particular embodiments processor and or may include one or more internal registers for data instructions or addresses. Depending on the embodiment processor and or may include any suitable number of any suitable internal registers where appropriate. Where appropriate processor and or may include one or more arithmetic logic units ALUs be a multi core processor include one or more processors and or or any other suitable processor.

Memory and or may be any form of volatile or non volatile memory including without limitation magnetic media optical media random access memory RAM read only memory ROM flash memory removable media or any other suitable local or remote memory component or components. In particular embodiments memory and or may include random access memory RAM . This RAM may be volatile memory where appropriate. Where appropriate this RAM may be dynamic RAM DRAM or static RAM SRAM . Moreover where appropriate this RAM may be single ported or multi ported RAM or any other suitable type of RAM or memory. Memory and or may include one or more memories and or where appropriate. Memory and or may store any suitable data or information utilized by electricity relay and or environment station including software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware . In particular embodiments memory and or may include main memory for storing instructions for processor and or to execute or data for processor and or to operate on. In particular embodiments one or more memory management units MMUs may reside between processor and or and memory and or and facilitate accesses to memory and or requested by processor and or .

As an example and not by way of limitation electricity relay may load instructions from storage and or or another source such as for example another computer system to memory and or . Processor and or may then load the instructions from memory and or to an internal register or internal cache. To execute the instructions processor and or may retrieve the instructions from the internal register or internal cache and decode them. During or after execution of the instructions processor and or may write one or more results which may be intermediate or final results to the internal register or internal cache. Processor and or may then write one or more of those results to memory and or . In particular embodiments processor and or may execute instructions in one or more internal registers or internal caches or in memory and or as opposed to storage and or or elsewhere and may operate on data in one or more internal registers or internal caches or in memory and or as opposed to storage and or or elsewhere .

In particular embodiments storage and or may include mass storage for data or instructions. As an example and not by way of limitation storage and or may include a hard disk drive HDD a floppy disk drive flash memory an optical disc a magneto optical disc magnetic tape or a Universal Serial Bus USB drive or a combination of two or more of these. Storage and or may include removable or non removable or fixed media where appropriate. Storage and or may be internal or external to electricity relay and or environment station where appropriate. In particular embodiments storage and or may be non volatile solid state memory. In particular embodiments storage and or may include read only memory ROM . Where appropriate this ROM may be mask programmed ROM programmable ROM PROM erasable PROM EPROM electrically erasable PROM EEPROM electrically alterable ROM EAROM or flash memory or a combination of two or more of these. Storage and or may take any suitable physical form and may comprise any suitable number or type of storage. Storage and or may include one or more storage control units facilitating communication between processor and or and storage and or where appropriate.

In particular embodiments interface and or may include hardware encoded software or both providing one or more interfaces for communication such as for example packet based communication between electricity relay environment station device any networks any network devices and or any other computer systems. As an example and not by way of limitation communication interface and or may include a network interface controller NIC or network adapter for communicating with an Ethernet or other wire based network and or a wireless NIC WNIC or wireless adapter for communicating with a wireless network.

Depending on the embodiment interface and or may be any type of interface suitable for any type of network in which the components of power consumption management system may be used. As an example and not by way of limitation the components of power consumption management system may communicate with one another in an ad hoc network a personal area network PAN a local area network LAN a wide area network WAN a metropolitan area network MAN or through one or more portions of the Internet or a combination of two or more of these. One or more portions of one or more of these networks may be wired or wireless. One or more portions of one or more of these networks may use a proprietary protocol. For example electricity relays and environment station may use a proprietary and or ad hoc protocol to communicate information amongst one another. The components of power consumption management system may communicate with a wireless PAN WPAN such as for example a BLUETOOTH WPAN or a ZIGBEE WPAN a Wi Fi network a WI MAX network an LTE network an LTE A network a cellular telephone network such as for example a Global System for Mobile Communications GSM network or any other suitable wireless network or a combination of two or more of these. Electricity relay and or environment station may include any suitable interface and or for any one or more of these networks where appropriate.

In some embodiments interface and or may include one or more interfaces for one or more I O devices. One or more of these I O devices may enable communication between a person and electricity relay and or environment station . As an example and not by way of limitation an I O device may include a keyboard keypad microphone monitor mouse printer scanner speaker still camera stylus tablet touchscreen trackball video camera another suitable I O device or a combination of two or more of these. An I O device may include one or more sensors. Particular embodiments may include any suitable type and or number of I O devices and any suitable type and or number of interfaces and or for them. Where appropriate interface and or may include one or more drivers enabling processor and or to drive one or more of these I O devices. Interface and or may include one or more interfaces and or where appropriate.

Bus and or may include any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware to couple components of electricity relay and or environment station to each other. As an example and not by way of limitation bus and or may include an Accelerated Graphics Port AGP or other graphics bus an Enhanced Industry Standard Architecture EISA bus a front side bus FSB a HYPERTRANSPORT HT interconnect an Industry Standard Architecture ISA bus an INFINIBAND interconnect a low pin count LPC bus a memory bus a Micro Channel Architecture MCA bus a Peripheral Component Interconnect PCI bus a PCI Express PCI X bus a serial advanced technology attachment SATA bus a Video Electronics Standards Association local VLB bus or any other suitable bus or a combination of two or more of these. Bus and or may include any number type and or configuration of buses and or where appropriate. In particular embodiments one or more buses which may each include an address bus and a data bus may couple processor and or to memory and or . Bus and or may include one or more memory buses.

Herein reference to a computer readable storage medium encompasses one or more tangible and non transitory computer readable storage media possessing structures. As an example and not by way of limitation a computer readable storage medium may include a semiconductor based or other integrated circuit IC such as for example a field programmable gate array FPGA or an application specific IC ASIC a hard disk an HDD a hybrid hard drive HHD an optical disc an optical disc drive ODD a magneto optical disc a magneto optical drive a floppy disk a floppy disk drive FDD magnetic tape a holographic storage medium a solid state drive SSD a RAM drive a SECURE DIGITAL card a SECURE DIGITAL drive a flash memory card a flash memory drive or any other suitable tangible computer readable storage medium or a combination of two or more of these where appropriate. Herein reference to a computer readable storage medium excludes any medium that is not eligible for patent protection under 35 U.S.C. 101. Herein reference to a computer readable storage medium excludes transitory forms of signal transmission such as a propagating electrical or electromagnetic signal per se to the extent that they are not eligible for patent protection under 35 U.S.C. 101.

Particular embodiments may include one or more computer readable storage media implementing any suitable storage. In particular embodiments a computer readable storage medium implements one or more portions of processor and or such as for example one or more internal registers or caches one or more portions of memory and or one or more portions of storage and or or a combination of these where appropriate. In particular embodiments a computer readable storage medium implements RAM or ROM. In particular embodiments a computer readable storage medium implements volatile or persistent memory. In particular embodiments one or more computer readable storage media embody encoded software.

Herein reference to encoded software may encompass one or more applications bytecode one or more computer programs one or more executables one or more instructions logic machine code one or more scripts or source code and vice versa where appropriate that have been stored or encoded in a computer readable storage medium. In particular embodiments encoded software includes one or more application programming interfaces APIs stored or encoded in a computer readable storage medium. Particular embodiments may use any suitable encoded software written or otherwise expressed in any suitable programming language or combination of programming languages stored or encoded in any suitable type or number of computer readable storage media. In particular embodiments encoded software may be expressed as source code or object code. In particular embodiments encoded software is expressed in a higher level programming language such as for example C Perl or a suitable extension thereof. In particular embodiments encoded software is expressed in a lower level programming language such as assembly language or machine code . In particular embodiments encoded software is expressed in JAVA. In particular embodiments encoded software is expressed in Hyper Text Markup Language HTML Extensible Markup Language XML or other suitable markup language.

The following explanation may provide additional detail as to some of the components and features of power consumption management system . The illustrated components of power consumption management system may allow an owner or manager of a building campus or business generally referred to as a building to build and or operate their own power consumption management system within their building. The system may be built to take advantage of infrastructure such as any wireless or wired networking infrastructure existing prior to the building of power consumption management system . In particular embodiments the power demand of devices may be considered as a value which may be controlled by environment station and or electricity relay based on information from one or more personal preference profiles associated with one or more users within a particular room e.g. a room controlled by electricity relay .

The control may be implemented through environment station and electricity relays located within the building. The flow of power may be controlled to limit the power used by the controlled devices when other heavy loads e.g. the air conditioning are consuming power or during peak hours when the power rate is high. In some embodiments the management may involve increasing or decreasing the brightness of a room lowering or raising a temperature selectively allowing power to flow to devices to avoid having power flow to all the devices simultaneously deferring the flow of power until after peak hours reducing the amount of power that flows to devices or a combination of any of the above.

Power consumption management system may be arranged in a variety of configurations including a distributed configuration a centralized configuration and a hybrid configuration. The different configurations may represent a balance between the amount of control over the devices and the amount of signaling overhead.

In a distributed configuration interface of environment station may periodically announce e.g. broadcast over a LAN overall building power usage e.g. in kW and the aggregated power usage of devices e.g. via sub meters associated with devices . Interface of electricity relay may receive the announcement from environment station and pass this information to memory or storage . Interface may also receive power rate information and store it in memory or storage . The power rate information may be received from a utility company via network or it may be received from environment station . Also stored in memory or storage may be the state e.g. the brightness or temperature associated with a room in which device is located. Interface may also receive one or more preferred states associated with one or more users that may be in the room. The preferred states may be maintained in a personal preference profile associated with each respective user. The personal preference profiles may also be stored in memory or storage . In some embodiments interface may receive presence information for different users. The presence information may be used to determine whether a user is in a particular room. Processor may then use the information stored in memory or storage to decide whether to stop reduce or allow power to flow to device . A distributed configuration provides a simple configuration with low communication overheads but provides limited control over the actual consumption of power.

In one embodiment of a centralized configuration interface may periodically receive information regarding which users are in which rooms and the state associated with the rooms. This information may be received from devices from sensors in the room or from electricity relays . The state information may be stored in memory or storage . Processor may then use the state information along with other information regarding the cost and usage of power to determine how electricity relays are to control the flow of power to devices . For example processor may determine which devices are to receive more power and or which devices are to receive less power. Interface may then transmit instructions to electricity relays via interface . In some embodiments interface may send individual instructions to specific electricity relays requesting that they allow or stop the flow of power. In some embodiments interface may broadcast a single message containing instructions for several or all electricity relays .

In certain embodiments different operators or managers of different buildings may specify the aggressiveness with which power consumption management system controls the states associated with the various rooms of a building. For example some operators may wish that the state of a room be changed to use less power if the power rate e.g. energy rate and or demand rate is above a certain threshold or if the power usage is above a certain threshold.

In a hybrid configuration interface of environment station may receive the power rate information and power usage information. This information may be communicated to electricity relays . Processor may use this information along with any personal preference profiles for any users within the room associated with electricity relay to determine if and or how to adjust the state of the room. In some embodiments memory and or storage may store several personal preference profiles. For example the personal preference profile of each occupant of a building e.g. that may have access to a relevant room may be stored in the memory of each electricity relay . In other embodiments electricity relay may retrieve and store in memory the personal preference profiles for any users that are in the relevant room. In particular embodiments the personal preference profiles may be stored in memory and or storage of environment station . Presence information may then be sent by electricity relays to environment station . Environment station may then provide electricity relays with the relevant personal preference profiles. A hybrid configuration may include a lower communication overhead than a centralized configuration but may result in less control.

In some embodiments to avoid synchronized action among electricity relays processor may initiate a back off timer before electricity relay may stop and or allow power to flow to device . In some embodiments the back off time may comprise a random component to vary the amount of time.

In some embodiments environment station may try to limit the peak value of power consumed by the building within a control interval. This additional layer of control may be done in light of the preferred states of any users within the corresponding rooms. As the power consumed by the building approaches or surpasses a peak load e.g. when air conditioning is turned on environment station may instruct one or more electricity relays to constrict or stop the flow of power to the corresponding devices. As the power consumed by the building drops below the peak value environment station may gradually instruct one or more electricity relays to increase the flow of power to the corresponding devices. In some embodiments the decrease may be more dramatic than the increases. In such an embodiment memory or storage may store a previously recorded peak load value e.g. the highest peak of a previous interval or the highest peak so far within the current interval . Processor may load this stored value and use it as an initial target peak load during the control interval. If the current power load consumed by the building exceeds the stored peak value the stored peak value may be updated to reflect the current power load.

Environment station may communicate with electricity relays over any of a variety of different wired or wireless communication technologies and or protocols. For example the components may use a local area network a fiber optic network an Ethernet network a Wi Fi network a proprietary network used specifically by environment station and electricity relays or any other wired or wireless network or protocol.

The method begins at step with the receipt of power rate information. The power rate information may be indicative of the cost associated with consuming power. The power rate information may be received from any of a variety of sources. For example the power rate information may be received from a utility provider supplying a building with power a third party service provider a utility billing entity a component within a building such as an environment station or any source which may be able to determine or retrieve a power rate associated with the consumption of power. Power rate information may be received through any of a variety of different communication networks and or protocols. For example in some embodiments the power rate information may be received via the Internet. The power rate may be associated with a cost of power from a power company. Depending an the power company the power rate may comprise two different values. One value may be the energy rate which may comprise the monetary cost per kilowatt hour of power consumed by the devices within the building. A second value may be a demand rate which may be the monetary cost per kilowatt based on the peak amount of power consumed during a control interval billing cycle or some other period of time. That is power may be more expensive for a building that consumed ten thousand kilowatts at its peak versus a building that consumed one thousand kilowatts at its peak. The power rate may vary over time based on any of a number of factors. For example the power rate may increase as the power company experiences an increase in overall power consumption by its customers. As another example the power company may increase the power rate when its source of energy is reduced e.g. if the power company relies on wind power on a non windy day the power rate may be higher . As another example the power rate may vary depending on the time of day and the amount of power consumed by the building. In some embodiments the environment station may attempt to reduce the amount of power being used by the controlled devices so as to keep the peak demand usage low to avoid increasing the demand rate. In some embodiments prior data stored in memory and or storage may be used to determine or predict the power rate information.

At step power usage information is received. The power usage information may be indicative of one or more amounts of power consumed by one or more devices and or groups of devices e.g. the lights in a room . The power usage information may be received from individual sub meters associated with each of a plurality of different devices from electricity relays from a main meter associated with monitoring power consumption for the building or any other source or device capable of determining the amount of power being consumed. In some embodiments the power usage information may comprise a single amount of power being used by the building. In particular embodiments the power usage information may include a plurality of different values e.g. a different value for each of a plurality of different devices or groups of devices . In certain embodiments the power usage information may be received from a number of electricity relays distributed throughout a building e.g. a single building multiple buildings a campus one or more offices of a business etc. for which the system may be controlling or managing the power consumption. In some embodiments the electricity relays may also be able to adjust the amount of power that flows to the respective devices. In some embodiments the power usage information may be used to determine whether the building is approaching or has surpassed a previous peak in power consumption. In some embodiments the environment station may predict the power usage based on the usage information. For example if the environment station receives a load message indicating that the air conditioning is about to turn on the environment station may determine that a new peak value may be expected. In some embodiments the environment station may receive weather information from a weather information provider such as weather information provider . The information may forecast hot weather for the day. Based on this information the environment station may determine that it is going to be using an increased amount of power to run the HVAC unit and thus may be more aggressive in reducing the power used by the building lighting.

At step personal preference profiles are received. The personal preference profiles may be received by the environment station and or by the electricity relays. In some embodiments the received personal preference profiles may be associated with the employees of one or more companies within a building.

Each personal preference profile may comprise at least one preferred state associated with a corresponding user. The preferred state within each personal preference profile may be associated with a preferred temperature a preferred level of illumination or any other parameter that may be used in managing power consumption and which is associated with a particular user. Any number of personal preference profiles may be received. In some embodiments each user may have a single personal preference profile that may comprise multiple different preferred states e.g. one personal preference profile having a preferred temperature state and a preferred light state . In certain embodiments a single user may have multiple different personal preference profiles each personal preference profile associated with the same user may be based on a different preferred state. In some embodiments the preferred state may vary over time. For example a user may specify that they prefer the room at a first temperature in the morning and in the afternoon they prefer a different temperature. In addition to one or more preferred states each personal preference profile may also contain other information that may be useful in managing power consumption. For example the personal preference profiles may include priority information associated with the user. The priority information may be used provide more or less weight to a particular user s preferred state.

In some embodiments a user s personal preference profile may change as the environment station learns the habits and pretences of the user. For example if a user repeatedly increases the brightness of a particular room the environment station may learn that the user s default preferred state of illumination for the room is too dark and may adjust the default state for that room. This may allow the user s personal preference profile to adapt overtime without requiring the user to have to explicitly make changes to their personal preference profile.

At step the presence of a user within a room is detected. The user s presence may be detected through any of a variety of different means. For example in some embodiments the user may have a device on their person that allows their presence to be detected. Such a device may include for example a radio frequency identification RFID tag. The RFID tag may be a part of a security key or security card used by the user to gain access to different rooms within the building. The presence of the user may also be detected from information provided by for example the user s smart phone. The system may also be able to detect the presence of the user based on the location of the computer at which the user is logged in or based on keypad security entries made by the user.

At step a state input provided by the user is monitored. A state input may include changes to the current state of a room and or changes to a preferred state associated with the user. For example the system may monitor when the user increases or decreases the temperature of a room. As another example the system may monitor when the user increases or decreases the illumination level of a room. This state input information may be monitored collected and processed in order to better determine or modify a preferred state associated with a user. For example the monitored state input may be used in order to update the preferred state associated with the user according to any of a variety of learning algorithms or techniques e.g. via machine learning a neural network supervised learning clustering autoregression support vector machine Bayesian estimation hidden markov model reinforced learning etc. . In some embodiments the state information may be monitored to provide the building owner or person responsible for the building s power consumption with more detailed information about the energy consumption of individual users or groups of users within the building. In certain embodiments when the system detects a state input provided by a user the system may ask the user if the user wishes to update the preferred state based on the state input e.g. change the preferred state to the state input . In some embodiments over time the environment station may learn the preferences of the users and may adjust each users default preferred states. The environment station may then select the users default preferred state without the user having to provide input.

At step the system may detect the presence of additional users within the room. These additional users may be detected through similar means as those used to detect the presence of first user described with respect to step . Although in the depicted embodiment step follows step the additional users may already be within the room when the user detected at step enters the room.

At step differences between the preferred states of the additional users within the room are resolved. The differences may be resolved to determine a single preferred state for the room based on the users within the room. The differences may be resolved in any of a variety of different ways. For example the average or median preferred state of the users within the room may be determined. As another example the system may determine a weighted average for the user within the room. The weighted average may be based on the relative rank or seniority of the users within the room. As another example the differences may be resolved by using a value which is closest to the greatest number of users. For example if three users within a room prefer that the room be 72 degrees and one users prefers that the room be 78 degrees the system may set the room to be 72 degrees. In some embodiments the system may query the users within the room to take a vote of what the preferred state of the room should be Particular embodiments may use a combination of two or more of the above techniques to resolve differences between the preferred states.

At step one or more states of the different rooms within the building are monitored. The monitored states of the different rooms may be tracked recorded and processed in order to determine how to adjust the current state of the respective room. This may be done in coordination with the power rate and usage information received at steps and as well as the preferred state resolved for the room step . Monitoring the states of different rooms may allow the power consumption management system to limit the use of power in a more equitable fashion. For example if one room within the building is several degrees warmer than the set temperature then the system may be less likely to begin cooling a different room if the different room is a degree or two warmer than the current temperature. The system may also keep track of when the last time the state of the rooms has been adjusted. This may allow the system to rotate the activation of for example HVAC units to minimize the peak demand from the building. In some embodiments monitoring the state associated with the rooms may include monitoring things such as the amount of natural light entering the room the number of light sources that are receiving power the temperature of the outside air entering the room or any other factor that may impact the state of the room.

At step the state associated with the room is adjusted. The adjustment may be based on a combination of the power rate information received at step the power usage information received at step the presence of users within a room detected at step the resolved differences between the preferred states at step and the state of the various rooms within the building monitored at step . Based on this information the system may adjust for example the temperature or lighting within the room. In adjusting the state the system may consider the difference between the current state and the resolved preferred state of the users within the room. The system may also consider how close the system is to approaching a peak load value when determining how to adjust the state of the room. For example if the system or building is approaching a new peak load of power consumption the system may decide not to brighten the room or cool the room at that particular time so as to reduce the amount by which or likelihood that the peak load of the building exceeds the peak load value. Similarly the system may reduce the power consumption during times when the energy rate is at its highest.

At step an override command is received. The override command may be received to override an adjustment made by the system to the state associated with the room. The override request may be received automatically e.g. based on an operation mode of the device or manually e.g. based on a command entered by a user . For example if the user wishes to darken the room to view a movie or a presentation the user may enter an override command requesting that the lights be dimmed. As another example if the system dims the lights to conserve energy and a user within the room needs bright light to examine a particular object the user may enter an override command. As may be apparent in many scenarios the power consumption management system may operate without receiving any override commands. In some embodiments the override command may be received from a user in response to a message sent by the power consumption management system alerting the user that the system is about to adjust the state of the room.

In some instances at step the preferred state associated with a user may be updated based on the received override command. As discussed above with respect to step in which the input state provided by the user is monitored the preferred state associated with the user may be updated over time as the system learns how the user adjusts the preferred state of a room.

Some of the steps illustrated in may be combined modified or deleted where appropriate and additional steps may also be added to any of the flowcharts. For example the override command received at step may be received before the state associated with the room is adjusted at step . As another example the state of the room may be monitored on a continual basis. As another example in some scenarios the user may be the only person within the room. In such a scenario the method may skip from step to step . As another example the personal preference profile received at step may in some instances be received prior to receiving power rate information at step or power usage information at step . As yet another example the state associated with the room may be adjusted more often than only after step . For example when the system first detects the presence of a user within the room the system may make an adjustment to the room. As additional users enter or leave the room the system may further adjust the state associated with the room based on the presence of the additional users. The depicted method is a single iteration. In practice the steps in may be repeated in a continuous loop. Each loop that is repeated may comprise all or a subset of the steps illustrated in . Additionally steps may be performed in any suitable order without departing from the scope of particular embodiments.

While various implementations and features are discussed with respect to multiple embodiments it should be understood that such implementations and features may be combined in various embodiments. For example features and functionality discussed with respect to a particular figure such as may be used in connection with features and functionality discussed with respect to another such figure such as or according to operational needs or desires.

Although particular embodiments have been described in detail it should be understood that various other changes substitutions and alterations may be made hereto without departing from the spirit and scope of particular embodiments. For example although an embodiment has been described with reference to a number of elements included within electricity relay and environment station such as a processor memory storage an interface and a bus these elements may be combined rearranged or positioned in order to accommodate particular power consumption management architectures or needs. In addition any of these elements may be provided as separate external components to electricity relay environment station or each other where appropriate. Particular embodiments contemplate great flexibility in the arrangement of these elements as well as their internal components.

Numerous other changes substitutions variations alterations and modifications may be ascertained by those skilled in the art and it is intended that particular embodiments encompass all such changes substitutions variations alterations and modifications as falling within the spirit and scope of the appended claims.

