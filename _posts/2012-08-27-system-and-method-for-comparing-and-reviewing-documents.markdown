---

title: System and method for comparing and reviewing documents
abstract: A document processing system for accurately and efficiently analyzing documents and methods for making and using same. Each incoming document includes at least one section of textual content and is provided in an electronic form or as a paper-based document that is converted into an electronic form. Since many categories of documents, such as legal and accounting documents, often include one or more common text sections with similar textual content, the document processing system compares the documents to identify and classify the common text sections. The document comparison can be further enhanced by dividing the document into document segments and comparing the document segments; whereas, the conversion of paper-based documents likewise can be improved by comparing the resultant electronic document with a library of standard phrases, sentences, and paragraphs. The document processing system thereby enables an image of the document to be manipulated, as desired, to facilitate its review.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08587613&OS=08587613&RS=08587613
owner: Pricewaterhousecoopers LLP
number: 08587613
owner_city: New York
owner_country: US
publication_date: 20120827
---
This application is a continuation of U.S. application Ser. No. 13 301 982 filed Nov. 22 2011 now U.S. Pat. No. 8 264 502 which is a divisional of U.S. application Ser. No. 12 271 159 filed Nov. 14 2008 which issued as U.S. Pat. No. 8 196 030 on Jun. 5 2012 which is a continuation of U.S. application Ser. No. 12 240 793 filed Sep. 29 2008 now abandoned and claims the benefit of U.S. Provisional Application No. 61 092 202 filed Aug. 27 2008 and claims the benefit of U.S. Provisional Application No. 61 057 955 filed Jun. 2 2008 which applications are hereby incorporated herein by reference.

The present disclosure relates generally to document processing systems and more particularly but not exclusively to computer aided systems and methods for facilitating document review.

Many business and legal practitioners have a requirement to review paper copies of documents to find important information. Many of those paper based documents have an electric correlate but some do not. In many cases tens or hundreds of similar paper documents must be reviewed. One common type of document set contains sections of redundant text from one document to the next with important information buried in this boilerplate text. People have difficulty recognizing both boilerplate and important text the process is tedious time consuming and error prone. Reviewers also often need to gain an understanding of the types of issues mentioned in each document. Technology to support the full range of required functionality does not currently exist.

There are two major categories of current approaches to attempt to address these problems both making simplifying assumptions. First to process paper documents into readable text Optical Character Recognition OCR software is typically used. However the accuracy of existing OCR software suffers on the types of documents typical for the application environments we have studied. In these cases documents have been faxed copied mutilated or written on. On these documents the word level accuracy of state of the art OCR software can be 20 or worse. This low accuracy level makes the document unreadable when displayed as recognized text words.

The second approach to address these problems is to use text processing change tracking document management search indexing and summarization tools. There are several deficiencies in these tools. Some of them work only with electronically produced documents while the example embodiments described herein address both paper and electronic documents. Others support only a single file format. Text analysis tools cannot read images and even applying them to the result of OCR would reduce their accuracy and usefulness dramatically. Finally tools that find differences between text segments in documents usually limit the extent of their search e.g. they do not search in pages far away from the current page when looking for matching segments of text. They also do not typically support the recognition of repeated text as needed or the comparison of tabular and multi dimensional information.

There has been much related work in computational linguistics and related fields applying statistical and machine learning techniques to natural language processing tasks. Some of this work is reported in Manning C. et al. Foundations of Statistical Natural Language Processing The MIT Press 1999 the disclosure of which is hereby incorporated herein by reference in its entirety. Many approaches from machine learning involve building or training some sort of classifier to help make decisions about documents and the words or sentences they contain. Classifiers are statistical or symbolic models for dividing items also called examples into classes also called labels and are standard tools in artificial intelligence and machine learning.

To address the deficiencies discussed above it would be desirable to provide a system and method for comparing and viewing electronic and paper based text documents that is both accurate and efficient that supports multiple file formats including scanned paper documents that searches for similar text liberally within two documents and that aids the user in analyzing each respective text document.

It should be noted that the figures are not drawn to scale and that elements of similar structures or functions are generally represented by like reference numerals for illustrative purposes throughout the figures. It also should be noted that the figures are only intended to facilitate the description of the preferred embodiments of the present disclosure. The figures do not illustrate every aspect of the disclosed embodiments and do not limit the scope of the disclosure.

Since currently available OCR software provides limited accuracy and usefulness with paper based text documents and since current electronic text comparison tools are limited in scope and applicability a document processing system and method for accurately and efficiently comparing and analyzing documents can prove desirable and provide a basis for a wide range of data applications. This result can be achieved according to one embodiment disclosed herein by a document processing system as illustrated in .

Turning to the document processing system is shown as receiving one or more incoming documents and provides corresponding processed documents . The incoming documents can be provided from any conventional document source. Exemplary incoming documents can include documents that are received an electronically generated document as a printed document a facsimile document an emailed document and or a mailed document. The document processing system can comprise any conventional type of processing system such as a computer system and can be provided in the manner set forth in co pending United States patent applications entitled SYSTEMS AND METHODS FOR GENERATING AND MATCHING USER MODELS AND PROFILES Ser. No. 11 277 028 filed on Mar. 20 2006 and entitled SYSTEMS AND METHODS FOR ANALYZING FINANCIAL STATEMENT INFORMATION Ser. No. 11 678 010 filed on Feb. 22 2007 which are assigned to the assignee of the present application and the respective disclosures of which are hereby incorporated herein by reference in their entireties.

Each incoming document includes at least one section of textual content and can be received in any conventional manner including in a paper form and or an electronic form. If provided as a paper based document the incoming document preferably is imaged to convert the paper based document into an imaged document having a suitable electronic form. The paper based document can be converted into the imaged document in any conventional manner such as via commercially available scanning software. An electronic document shown in therefore can comprise a document that is provided in an electronic form and or a paper based document that is converted into an electronic form.

The document processing system processes the electronic document to add cues for facilitating review of the associated incoming document . Many categories of documents such as legal accounting and or tax documents often include one or more common passages with the same or similar textual content. For example standard form contracts often include a plurality of boilerplate or miscellaneous provisions. The boilerplate provisions can be set forth at different locations and or in different orders in the different contracts. The document processing system therefore can facilitate the review of the incoming document by identifying and classifying common text content between the incoming document and at least one reference document such as a second incoming document.

An image of an exemplary electronic document is illustrated in . More particularly illustrates a selected page of an electronic document that includes one or more pages . The electronic document includes content derived from the associated incoming document shown in and is provided in an electronic form. Although only one page is shown in for purposes of illustration the electronic document can include any suitable number of document pages . The electronic document can comprise a document associated with one or more conventional document categories. Stated somewhat differently each page of the electronic document can be conceptually associated with a selected document category and the document categories can be uniform and or different among the pages of the electronic document . The selected page of the electronic document of for example has characteristics consistent with a contract document and therefore can be associated with a contract document category whereas the selected page of the electronic document illustrated in has characteristics consistent with a table document and can be associated with a table document category.

Each document page can include text content . As illustrated in the text content can vary in amount or quantity for each document page and can include one or more words phrases sentences paragraphs and or document sections . The electronic document therefore can have several logical parts or sections . Since textual content often includes a textual hierarchy the words phrases sentences and or paragraphs of the electronic document likewise can be further divided into logical sub parts. The logical sub parts in turn may be still further divided into logical sub sub parts and so on. If the electronic document has a conventional word processing format the textual hierarchy can be identified from selected indicia or other information included within the electronic document such as section headings section numberings and or format changes provided at a beginning region of each text section.

If the document processing system shown in is provided as a computer system in the manner set forth above the document processing method can comprise a set of executable instructions or program code that is stored in a memory system not shown of the computer system. Stated somewhat differently the document processing method can be implemented as a computer program product for use in conjunction with the computer system. The memory system can comprise any conventional type of volatile and or nonvolatile memory system such as any suitable electronic magnetic and or optical storage media without limitation. Exemplary storage media can include one or more static random access memories SRAMs dynamic random access memories DRAMs electrically erasable programmable read only memories EEPROMs FLASH memories hard drives HDDs compact disks CDs and or digital video disks DVDs of any kind. For example the set of executable instructions can be stored in nonvolatile computer memory such as a hard drive or a compact disk and when needed by the computer system can be transferred into random access memory of the computer system. Although shown and described as being implemented in a general purpose computer that can be selectively activated and or reconfigured by software the document processing method can be carried out in hardware in firmware or in more specialized apparatus.

As set forth above the document processing method can include at segmenting the selected electronic document . Advantageously segmenting the selected electronic document can provide the document segments shown in D B . In addition this segmentation can include a segment hierarchy that reflects the textual hierarchy of the incoming electronic document . The logical parts or sections as identified by the document processing method can correspond to any predetermined sequence of words shown in C within the textual content of the electronic document . For instance exemplary logical parts can include a section a paragraph shown in C and or a sentence shown in C . If the electronic document is originally received by the document processing method as an electronic document having a conventional word processing format the document processing method can employ a computational operation or process that can readily recognize the segment hierarchy from section headings and or format changes provided at a beginning region of each text section .

For other documents such as paper based documents that are not originally received in an electronic form and or with a conventional word processing format identification of a segment hierarchy within the associated electronic document can be more involved. The document processing method can infer whether a textual hierarchy exists for the electronic document and if so can generate the associated segment hierarchy of the segment hierarchy. If a textual hierarchy is found to exist within the electronic document the document processing method can associate each relevant document segment shown in D B with a hierarchical level. The various hierarchical levels can be designated via predetermined hierarchy level numbers which identify a top level and one or more deeper levels of nesting within the segment hierarchy. In a preferred embodiment the hierarchy level number for the top level can be assigned a value of zero whereas the hierarchy level numbers for the deeper levels can increase for each incremental level of nesting.

To facilitate the identification of the segment hierarchy within the electronic document the document processing method advantageously can apply classifiers to determine the segmentation of the electronic document . Any conventional type of classifier may be used to determine the segmentation of the electronic document . Exemplary classifiers can include Na ve Bayes NB decision tree neural networks K nearest neighbor and or support vector machine classifiers. The classifiers can be built by hand and or augmented with classifiers trained on labeled text in the manner set forth below with reference to concept classification. The classifiers can comprise statistical and or symbolic models for dividing items also called examples into classes and are standard tools in artificial intelligence and machine learning. Stated somewhat differently the document processing method can apply any classifier from the machine learning toolbox such as probabilistic latent semantic analysis also known as probabilistic latent semantic indexing support vector machines or non graphical models such as decision trees in the manner disclosed by Mitchell T. Machine Learning McGraw Hill 1997 the disclosure of which is hereby incorporated herein by reference in its entirety.

When designing a classifier one determines which features to use as input to represent items and also what label or class to associate with its output. Classifiers can be binary and or multi class. Binary classifiers indicate that each input to the classifier is or is not a member of the class whereas multi class classifiers choose one of several classes for examples. Multi class classifiers likewise can be constructed by using a set of binary classifiers that vote to determine with which class an example should be labeled. For example a text classifier might use some or all of the words in a document as its features and Business Sports Other as its output labels.

The classifiers preferably utilize at least one image based feature and or at least one text based feature in determining whether a new document segment shown in D B has started in the electronic document . Commercially available imaging application programming interfaces APIs such as an Optical Character Recognition OCR software can provide one or more of the image based features. Other image based features can be derived from the output of the imaging software and or the image data itself. Table 1 illustrates selected exemplary image based features suitable for use in classifiers. It will be appreciated that the image based features included in Table 1 below are merely exemplary and not exhaustive.

Selected exemplary text based features suitable for use in classifiers are shown in Table 2 below. The text based features included in Table 2 below are merely exemplary and not exhaustive.

The classifiers likewise can use one or more semantic features in determining whether a new document segment shown in D B has started in the electronic document . The semantic features can comprise non image features beyond ordinary words in the electronic document . Examples of semantic features can include the font type and or the presence of a number. As desired the document processing method can use trained classifiers and or hand built classifiers wherein each classifier comprises a selected combination of one or more image based features text based features and or semantic features in accordance with the goal s of the classifier.

A flow chart illustrating one exemplary manner by which the document processing method can segment the selected electronic document is illustrated in . Turning to segmenting the selected electronic document shown in C can include at recognizing the electronic document at classifying a page type for the electronic document and or at segmenting the text content shown in C of the electronic document .

If the electronic document is originally received by the document processing method as an electronic document having a conventional word processing format the document processing method at can readily recognize the electronic document . Recognizing the electronic document also can include correlating and or indexing an image of the electronic document with the text content of the electronic document in the manner shown at in . To correlate and or index the image and the text content of the electronic document the document processing method preferably groups characters within the text content into words shown in C . Recognizing the electronic document likewise can include storing selected information such as location font size and or font type for the words as desired. Thereby the document processing method advantageously can support document processing functions such as copying word finding and or display comparison.

For other document types such as paper based documents that are not originally received in an electronic form with a conventional word processing format recognizing the electronic document at can be more involved. Recognizing the electronic document at for example can include imaging these other documents to provide the electronic document in the manner set forth above. Turning to the document processing method is shown at D as comprising recognizing the text content of the electronic document . Recognizing the text content of the electronic document at D preferably enables individual characters and or words within the electronic document to be identified.

As desired the document processing method can include one or more additional operations for facilitating the recognition of the electronic document . Recognizing the electronic document of includes performing at A an imaging operation on the incoming document to create the electronic document . For example the electronic document can be created by performing a scanning operation on an incoming document shown in . Likewise recognizing the electronic document is shown in as having at least one pre recognition operation such as a pre recognition process at B in conjunction with the imaging or conversion at A of the incoming document . The document processing method for example can include performing such processes as de noising de skewing and the like. The pre recognition operations preferably facilitate the recognition of the incoming document and or improve the image quality of the resultant electronic document .

In addition and or alternatively recognizing the electronic document can include correlating image to text at D. Correlating image to text at D permits the individual characters identified during recognition of the electronic document at to be grouped into words . For example the text content can be a logical part of the incoming electronic document and preferably comprises a sequence of contiguous character strings derived from the incoming document . Each character string in turn can include a contiguous sequence of characters with no intervening spaces. Other information such as font type font size and location within the electronic document can be stored for each word . By correlating image to text at D the document processing method can support enhanced document operations. Exemplary enhanced document operations can include copying word finding and compare display.

Segmenting the text content of the electronic document shown at in can include dividing the electronic document into document segments shown in D B . The document segments preferably correspond with the logical parts or sections such as the words phrases sentences and or paragraphs collectively shown in as if the document processing method had direct access to the incoming document shown in associated with the electronic document . Alternatively user could provide labels of ground truth which establish where segment boundaries actually occur as well as hierarchy level. To divide the electronic document into document segments a segmentation classifier not shown is applied to the electronic document . The segmentation classifier preferably differs from the page type or classifier and can include one or more of the image based features text based features and or semantic features discussed in more detail above.

In addition the segmentation classifier likewise can include as a feature the class of the page containing the word as determined by the page categorization classifier. Blocks of text content thereby can be identified via the segmentation classifier. Advantageously segmenting the text content of the electronic document facilitates further processing of the electronic document by the document processing method . Segmenting the text content for example can save time during a subsequent comparison of the electronic document with an electronic reference document such as a reference electronic document R shown in associated with a second incoming document and or can improve a quality of the comparison by comparing document segments from the selected electronic document and the electronic reference document.

The segmentation classifier advantageously can create a segment hierarchy among the document segments . The number of hierarchical levels within the segment hierarchy can be set to any suitable value as desired. The various hierarchical levels of the segment hierarchy can be designated via predetermined hierarchy level numbers which identify a top level and one or more deeper levels of nesting within the segment hierarchy. In a preferred embodiment the hierarchy level number for the top level can be assigned a value of zero whereas the hierarchy level numbers for the deeper levels can increase for each incremental level of nesting. For example a first word A shown in C of the first page of the electronic document can be defined by default to start a new document segment at the top level or level 0 of the segment hierarchy. Each subsequent word in the electronic document thereby can be classified as continuing the document segment starting a new document segment at the same hierarchical level starting a new document segment at a lower hierarchical level or starting a new document segment at a higher hierarchical level if any.

Returning to the process of segmenting the selected electronic document can be illustrated with reference to the image of the page of the electronic document . As set forth above the electronic document includes text content that is derived from the associated incoming document shown in and is provided in an electronic form. The text content of the selected page is shown as including a plurality of words phrases sentences and paragraphs and therefore has several logical parts or sections with a textual hierarchy. As shown in the selected page has a large number of words and includes section formatting such as section heading and section numberings . Based upon the large number of words the section formatting and the other features from Tables 1 and 2 the document processing method shown in while classifying a page type for the selected page of the electronic document would associate a page type of Contract with the selected page .

Upon associating the page type of Contract with the selected page the document processing method can segment the text content of the electronic document in the manner shown in . The document processing method thereby can divide the text content of the selected page into document segments identifying blocks of text content and if appropriate creating a segment hierarchy among the document segments in the manner set forth above. As a result each document segment can comprise any suitable portion of the electronic document and can include for example one or more words phrases sentences paragraphs pages and or larger or smaller document portions as desired.

The paragraphs that form the document segments likewise are illustrated in as being associated with the section heading and the section numberings . Accordingly the document processing method can determine that creating a segment hierarchy among the document segments is appropriate for the selected page . The document processing method can initially identify the section heading and associate the section heading with the top level or level 0 of the segment hierarchy. The document processing method likewise can determine that section numbering D corresponds with section heading .

As shown in the section numbering D has a format of C.2 indicating that the section heading corresponds to Section C Part 2 of the electronic document . The format of the section numbering D indicates that the section numberings with the format of C.x such as C.1 C.2 C.3 . . . C.n each would be associated with the same top level or level 0 of the segment hierarchy as the section numbering D. Similarly the format of the section numbering likewise indicates that section numberings A B C E and F with a format of C.x.y such as C.1.1 C.1.2 C.1.3 . . . C.1.n C.2.1 C.2.2 C.1.3 . . . C.1.m each can be associated with the next level or level 1 of the segment hierarchy. Stated somewhat differently section numberings with the format of C.x.y comprise one level of nesting deeper than the section numbering D within the segment hierarchy. Accordingly the section numbering A B C E and F as illustrated in each are associated with that level or level 1 of the segment hierarchy and are one level of nesting deeper than the section numbering D. In the manner set forth above the section numbering G with a format of C.x.y.z such as C.2.2.1 are two levels of nesting deeper than the section numbering D and are associated with the same level or level 2 of the segment hierarchy.

Based upon the format of section numberings the document processing method can create a segment hierarchy wherein the section heading is associated with the top level or level 0 of the segment hierarchy. The document segments A B C E and F correspond with the section numberings A B C E and F respectively and are associated with that level or level 1 of the segment hierarchy. Within the segment hierarchy level 1 is one level of nesting deeper than level 0. Similarly the document segment G corresponds with the section numbering G and is two levels of nesting deeper than the section numbering D. The document processing method thereby can create a segment hierarchy for the document segments provided on each page of the electronic document .

Upon associating the page type of Contract with the selected page the document processing method can segment the text content of the electronic document in the manner shown in . The document processing method thereby can divide the text content of the selected page into document segments identifying blocks of text content and if appropriate creating a segment hierarchy among the document segments in the manner set forth above. Each document segment can comprise any suitable portion of the electronic document and can include for example one or more words phrases sentences paragraphs pages and or larger or smaller document portions as desired. Since the large number of words of the selected page are grouped into the plurality of paragraphs the document processing method can divide the text content of the selected page into document segments A C E F H based upon the paragraphs of the selected page . Stated somewhat differently the paragraphs can form the document segments A C E F H.

The paragraphs that form the document segments likewise are illustrated in as being associated with the section heading and the section subheadings . The bold and large font formatting of the Peripheral Products section heading A and Software Products and Computer Technologies section heading B in addition to the spacing and the short phrase indicate that a new high level segment level 0 is beginning Likewise italic short headings A B indicate a segment at the next level down level 1 is beginning Accordingly the document processing method can determine that creating a segment hierarchy among the document segments is appropriate for the selected page . The document processing method can initially identify the section heading and associate the section heading A with the top level or level 0 of the segment hierarchy. The document processing method likewise can determine that subsection headings A B corresponds with section heading A.

The document processing method segments the selected page by classifying a page type for the selected page and then segmenting the text content . Here the document processing method can classify a page type by generating the features of Table 1 and Table 2. This would include a pixel histogram not shown of the selected page via the pixel histogram feature set forth above in Table 1. The pixel histogram would show that the selected page has a high concentration of the text content in several narrow vertical columns of the selected page . For example a high concentration of the text content appears in the vertical columns associated with section sub heading A entitled Supplies Services of . The document processing method likewise can consider the large number of horizontal and vertical lines presented on the selected page to classify the page type for the selected page . Based upon the large number of horizontal and vertical lines in conjunction with the pixel histogram and the other features the document processing method while classifying a page type for the selected page of the electronic document therefore would associate a page type of Table with the selected page .

Upon associating the page type of Table with the selected page the document processing method can segment the text content of the electronic document in the manner shown in . The document processing method thereby can divide the text content of the selected page into document segments identifying blocks of text content and if appropriate creating a segment hierarchy among the document segments in the manner set forth above. As set forth above the text content of the selected page is grouped into the section heading section sub headings and column entries and . The document processing method therefore can divide the text content of the selected page into document segments based upon the section heading section sub headings and column entries and . Stated somewhat differently the section heading section sub headings and column entries and can respectively form document segments and .

As discussed above with reference to the format of the text content shown in includes a section heading a plurality of section sub headings being associated with the section heading and a plurality of column entries and in turn being associated with the respective section sub headings . Accordingly the document processing method can determine that creating a segment hierarchy among the document segments is appropriate for the selected page . Based upon the format of the text content the document processing method can initially identify the document segment that is associated with the section heading as corresponding with the top level or level 0 within the segment hierarchy. The document segment thereby corresponds with the top level or level 0 within the segment hierarchy.

The document processing method likewise can identify the section sub headings as being inferior in the segment hierarchy to the section heading based upon the format of the text content . The column entries and correspond with the section sub headings and are associated with the same level or level 2 of the segment hierarchy. Within the segment hierarchy level 2 is two level of nesting deeper than level 0. The column entries and can form document segments and are associated with the same level or level 2 within the segment hierarchy. The document processing method thereby can create a segment hierarchy for the document segments provided on each page of the electronic document . Therefore the document processing method when segmenting the selected page of the electronic document advantageously provides a label for each page of the electronic document as determined by the one or more page classifiers as well as a set of document segments as determined by the segment classifiers.

Segmentation of the incoming electronic document can provide several advantages. For example segmentation can facilitate subsequent processing of the incoming electronic document by the document processing system . If the document processing method includes comparing the incoming electronic document with an electronic reference document the incoming electronic document can be divided into document segments which can be compared with document segments from the electronic reference document. By comparing document segments rather than the electronic documents in their entireties the complexity of the comparison operation or process advantageously can be reduced.

Segmentation likewise can support generation and presentation of a table of contents for the incoming electronic document during review. The classification of the pages can facilitate production of a table of contents or other type of indexing guide for use with the electronic document . For example an entry in the table of contents can be created for the start of each document segment and the entry can be indented in an appropriate matter for corresponding with the associated hierarchical level within the segment hierarchy. The first few words shown in of the document segment likewise can be used to provide a textual entry in the table of contents. The table of contents can include textual entries associated with any desired hierarchical level within the segment hierarchy. The document processing system thereby can facilitate document review by enabling presentation of tables of contents for paper based and other documents for which physical and or more traditional tables of contents are unavailable.

Returning briefly to the document processing method can include at step comparing the selected electronic document with at least one electronic reference document such as a reference electronic document R shown in associated with a second incoming document. One goal of the document processing method includes comparing pairs of incoming documents shown in such that the similarities and or differences between the incoming documents can be presented to a document reviewer or other user. One skilled in the art would readily recognize that segmenting at step is not necessary in order to compare the selected electronic document and also that segmenting at step could result in the entire document being considered to be a single segment.

In a preferred embodiment this goal can be framed as comprising identifying one or more logical parts or sections such as the words phrases sentences and or paragraphs collectively shown in from an original incoming document that are similar to and or different for a given span of words and or symbols as compared to the logical parts or sections of a reference incoming document. The original and reference incoming documents can be converted as necessary in the manner set forth in more detail above to provide an original electronic document O shown in and a reference electronic document R shown in . In the manner set forth with reference to the incoming documents of the original and reference incoming documents each can be provided from any conventional document source and can be received for example as a printed document a facsimile document an emailed document and or a mailed document.

By comparing the text content shown in of the original electronic document O with the text content of the reference electronic reference document R the document processing method can detect identify and or present textual similarities and or differences between the original and reference electronic documents O R. While each of the associated incoming documents can include multiple logical portions some of which are unique many parts of the incoming documents can comprise a filled in template of a master document and or can include standard sections that exactly or closely match document sections shown in D B of a second document. For example several different versions of a selected incoming document can be produced and or edited by one or more different people. It could prove advantageous to compare the different versions of the incoming document even if the different versions are provided in different formats and or originate from different word processing applications. The different versions of the selected incoming document to be compared likewise can originate in a variety of conventional forms including in a paper form and or an electronic form.

In contrast with conventional document comparison techniques the document comparison of the document processing method can examine a larger span of the text content of the original and reference electronic documents O R when performing the document comparison. It can also examine a wider number of candidate sections even if those segments are in multiple document locations which can then be combined in various ways in order to find matching segments in R for a given section of O. Further the document processing method advantageously can identify the same or similar textual content within the text content of the original and reference electronic documents O R even if the occurrences of the same or similar textual content occur in different contexts in the original and reference electronic documents O R. The original and reference electronic documents O R preferably are segmented in the manner set forth in more detail above to facilitate identification of the same or similar textual content within the text content of the original and reference electronic documents O R and to reduce the complexity of the comparison process.

The results of the comparison can be presented in any conventional manner. For example each of the incoming documents can be presented simultaneously such as on a video display and or on a printed page. The results of the comparison typically are presented from the perspective of one of the incoming documents . Although shown and described with reference to original and reference incoming documents for purposes of illustration only the incoming documents do not need to be related in terms of having a common origin. The original and reference incoming documents in other words can comprise any arbitrary pair of incoming documents that can originate from the same person and or different persons and that are to be compared. In addition the comparison of the original and reference incoming documents likewise is shown and described in terms of pairs of incoming documents for purposes of illustration only. The document processing method can compare any suitable number of incoming documents without limitation.

As desired the results of the comparison of the original electronic document O and the reference document R likewise can be stored as in step of . The stored comparison results can subsequently be used to support navigation of the original electronic document O and or the reference document R. For example the stored comparison results can facilitate locating matching text within the original electronic document O and the reference document R during document review.

A flow chart illustrating one exemplary manner by which the document processing method can compare an original electronic document O with a reference electronic reference document R is illustrated in . The original electronic document O and the reference electronic reference document R each have been recognized and segmented in the manner set forth in more detail above with reference to . Thereby the original electronic document O includes one or more original document segments O whereas the reference electronic document R includes one or more reference document segments R. The comparison of the original electronic document O and the reference electronic reference document R can be performed by comparing the original document segments O with the reference document segments R. The comparison identifies matches and preferably the best matches between the original document segments O with the reference document segments R. In the manner set forth in more detail above with reference to the original and reference document segments O R each preferably correspond with the logical parts or sections such as the words phrases sentences and or paragraphs collectively shown in of the original and reference electronic documents O R.

Turning to comparing at the original electronic document O with the reference electronic reference document R can include at calculating an amount by which the selected original document segment O and the selected reference document segment R differ. shows that comparing the original electronic document O with the reference electronic reference document R likewise can include at determining whether a selected original document segment O within the original electronic document O and a selected reference document segment R within the reference electronic document R include an amount of common textual content that is greater than a predetermined minimum threshold value also called text hashing text .

The determination at of whether the document segments O R include an amount of common textual content that is greater than the predetermined minimum threshold value can include a comparison of the words shown in in each original document segment O within the original electronic document O with the words in each reference document segment R within the reference electronic document R. The comparison of the original and reference electronic documents O R therefore can include identifying locations within the original and reference electronic documents O R wherein the text content shown in of the original and reference electronic documents O R include the same or similar textual content. As desired comparing at the original electronic document O with the reference electronic reference document R is illustrated in as including at creating an index from the original document segments O within the original electronic document O to the reference document segments R in the reference electronic document R.

The words of the original and reference electronic documents O R preferably are compared by performing a fast text hashing operation or process on the selected original and reference document segments O R. The fast text hashing operation can determine whether the selected document segments O R have more than N occurrences of at least K identical words wherein N and K represent preselected positive integers and can be adjusted as desired. The document processing method thereby can determine whether the selected original document segment O and the selected reference document segment R have minimum threshold level of common text.

The hash comparison can eliminate very different selected document segments O R from the comparison . As shown in the amount of common textual content within the selected document segments O R can be compared at B with the predetermined minimum threshold value. If the amount of common textual content is not greater than the predetermined minimum threshold value the selected document segments O R are deemed to be very different such that further processing of very different document segments O R can be omitted at C to reduce document processing time. Thereby the comparison of the original electronic document O and the reference electronic document R advantageously can focus upon the remaining original and reference document segments O R which are the most relevant to the comparison.

If the selected original and reference document segments O R achieves or is greater than the minimum threshold level of common text the document processing method then at determines or calculates an amount by which the selected document segments O R differ. This calculation at sometimes is referred to as a word level distance between the selected original document segment O and the selected reference document segment R. In other words in a preferred approach the document processing method then determines an amount of work needed to transform the selected original document segment O within the original electronic document O into the selected reference document segment R within the reference electronic document R and or vice versa for the remaining original and reference document segments O R. The amount by which the selected document segments O R differ can be determined in any conventional manner. An exemplary edit distance operation or process includes a Levenshtein based N N comparison technique in the manner set forth in Levenshtein Vladimir Binary codes capable of correcting deletions insertions and reversals Doklady Akademii Nauk SSSR 163 4 845 848 1965 with an English translation available in Soviet Physics Doklady 10 8 707 710 1966 the disclosure of which is hereby incorporated herein by reference in its entirety.

The edit distance operation or process is suitable for providing one measure of the amount by which the selected original and reference document segments O R differ and provides the measure in terms of inserting deleting and replacing words . For every word that is inserted deleted and or replaced from one selected document segment O R to the other selected document segment O R the edit distance operation assigns a word insertion cost a word deletion cost and a word replacement cost. Although a typical application assigns an equal cost for word insertion word deletion and word replacement the word insertion cost the word deletion cost and or the word replacement cost can comprise different costs as desired.

The edit distance operation can automatically compute a minimal total cost for the best match between the two selected document segments using dynamic programming to search for changes. Thereby the edit distance operation can find the smallest edit cost or the best match between the selected document segments given a selected combination of values for the word insertion cost the word deletion cost and or the word replacement cost. As illustrated in a segment distance between the selected original document segment O and the selected reference document segment R can be measured at . The segment distance can be calculated in any conventional manner. For example the segment distance can be calculated by dividing the edit distance of one of the selected document segment by the number of words shown in in that selected document segment O R. Although shown in as being separate from the determination at of the amount by which the selected original and reference document segments O R differ for purposes of illustration only the measurement of the segment distance at can be at least partially incorporated into the determination at of the amount by which the selected document segments O R differ as desired.

Turning now to comparing the selected electronic document with at least one electronic reference document R at is illustrated as further including at increasing the chance of detecting additional similar original and reference document segments O R within the original electronic document O and the reference electronic document R. In other words the source electronic document O can be searched for additional original document segments O that are similar to reference document segments R within the reference electronic document R. Further similarities between the original electronic document O and the reference electronic document R thereby are examined. Being mindful of the overall goal of detecting any similar original and reference document segments O R the similarities between the original and reference electronic documents O R can be examined to determine whether the similarities are farther reaching than so far detected including in a far away location and or in more that one location.

Exemplary manners for increasing at the chances of detecting additional similar original and reference document segments O R are illustrated in . As shown in the remaining document segments can be reorganized at A to determine whether any similar text has been overlooked during the comparison of the remaining document segments at . For example each original document segment O within the original electronic document O can be aligned at A with its most similar reference document segment R within the reference electronic document R as illustrated in . The alignment of the original document segments O can be achieved by moving the original document segments O within the original electronic document O by moving the reference document segments R within the reference electronic document R or both. As desired each original document segment O within the original electronic document O that is similar to a selected reference document segment R within the reference electronic document R can be identified at A.

The movement of the document segments O R within the relevant electronic document O R can comprise actual movement and or virtual movement of the document segments O R as desired. Thereby the resultant original and reference electronic documents O R can have substantially the same logical flow among the document segments . Any document segments O R that appear in only one electronic document O R and have no counterpart in the other electronic document O R preferably are not moved. Stated somewhat differently a selected document segment O R in one electronic document O R is not moved if the other electronic document O R has no document segment O R that surpasses a similarity threshold with respect to the selected document segment O R.

When determining the possibility of merging two or more document segments O R into a single document segment shown in D B the document processing method can identify the document segments O R that are potential candidates for being merged into the single document segment . The document processing method identifies a word level distance between the document segments O R within the original and reference electronic documents O R in the manner set forth above. Returning to the original electronic document O is examined at B to determine whether any original document segments O within the original electronic document O remain untested.

If one or more original document segments O within the original electronic document O remain untested against the selected reference document segment R the untested original document segments O are compared with the selected reference document segment R. The two or more untested original document segments O that are most similar to the selected reference document segment R are identified at B and are merged at B to form a resultant original document segments O . Once the two untested original document segments O have been merged to form the resultant original document segments O a new edit distance and a new segment distance can be calculated at B based upon the original electronic document O with the resultant original document segment O . The new edit distance at B can be calculated in the manner set forth in more detail above with reference to determining the amount by which the selected document segments O R differ at shown in . Similarly the new segment distance at B can be calculated as discussed in more detail above with reference to measuring the segment distance between the selected original document segment O and the selected reference document segment R at shown in . The new edit distance and the new segment distance between the resultant original document segment O and the associated reference document segment R thereafter can be stored as desired.

After the new edit distance and the new segment distance have been stored the resultant original document segment O can be split or divided at B to restore the two original document segments O. The original electronic document O again is examined at B to determine whether any additional original document segments O within the original electronic document O remain untested and if so two untested original document segments O can be identified and processed in the manner set forth above until each original document segment O has been tested. The document processing method thereby merges each plurality of original document segments O that are potential candidates for being merged. Although shown and described with reference to merging two untested original document segments O within the original electronic document O for purposes of illustration only two or more reference document segments R within the reference electronic document R likewise can be merged in the above manner. Accordingly for each plurality of document segments O R that are potential candidates for being merged the document processing method merges each plurality of document segments O R to provide sets of merged document segments O R in the manner set forth above.

If no original document segments O remain untested the document processing method determines at B whether the merger of any of the two original document segments O provides an increase to the segment similarity that is greater than a predetermined increase value for the segment similarity. In other words the document processing method determines whether any of the resultant original document segments O provides an increase to the segment similarity that is greater than the predetermined threshold increase value for the segment similarity. If none of the mergers of two original document segments O provides an increase to the segment similarity that is greater than the predetermined threshold increase value the original document segments O within the original electronic document O again are aligned at A with a different similar reference document segment R within the reference electronic document R and are further processed in the manner set forth above.

The processing method of likewise includes at B forming a resultant original document segment O from the two untested original document segments O that form the largest increase to the segment similarity if any of the resultant original document segments O provides an increase to the segment similarity that is greater than the predetermined increase value for the segment similarity. Once the resultant original document segment O has been formed the original document segments O within the original electronic document O again are aligned at A with a different similar reference document segment R within the reference electronic document R and are further processed in the manner set forth above. This resultant segment a segment that results from the merger of two segments O can now be considered to be a segment just like any other segment O in the original document once the algorithm progresses back to step A. So maybe a way to reword this sentence Once the resultant original document segment O has been formed it can be considered at step A as an original segment O and can be aligned with the most similar reference segment R. Thereafter the document processing method continues to identify and process the document segments O R that are potential candidates for being merged in the manner set forth above until no merge results in an incremental improvement in the segment similarity that is greater than a predetermined minimum incremental increase value for the segment similarity.

Although shown and described with reference to merging original document segments O and to subsequent processing the resultant merged original document segments O for purposes of illustration only two or more reference document segments R within the reference electronic document R likewise can be merged to form resultant reference document segments not shown that are subsequently processed to improve the longest common subsequence in the manner set forth above with regard to the resultant original document segments O . In other words the original document segments O and or the reference document segments R each can be merged and provide incremental improvements to the longest common subsequence in the above manner.

By processing the original and reference document segments O R in the above manner the document processing method can generate similarity information between the original electronic document O and the reference electronic document R. The similarity information then can be used to present changes and similarities in the original and reference electronic documents O R. The similarity information can be presented in any conventional or nonconventional manner. For example the presented similarity information can include a set of matched added deleted merged and or moved original document segments O from the original electronic document O to the reference electronic document R. Each document segment O R likewise can include a set of added deleted and or replaced words shown in .

The resulting document segments O R can be used as the input to the comparison function. In the manner discussed in more detail above with reference to at determining whether the document segments O R include an amount of common textual content that is greater than the predetermined minimum threshold a matched document segment in one electronic document O R is a document segment that achieves the minimum common text with a document segment O R in the other electronic document O R. Similarly an added document segment is a document segment in the original electronic document O that does not achieve the minimum common text with a reference document segment R in the reference electronic document R whereas a deleted document segment is a reference document segment R in the reference electronic document R that does not achieve the minimum common text with an original document segment O in the original electronic document O. A merged segment is the set of merged document segments that provides the greatest increase to the longest common subsequence as set forth above with reference to at B performing a merge of the original and reference document segments O R that provides the greatest increase to the longest common subsequence.

As desired the document processing method can in addition calculate a segment level edit distance between the original electronic document O and the reference electronic document R. To calculate the segment level edit distance the document processing method can apply the edit distance operation or process as discussed in more detail above at with reference to identifying the word level distance between document segments O R but in this case using segments as the unit of comparison instead of words. In the manner set forth above the edit distance process can compare the original document segments O in the original electronic document O to the reference document segments R in the reference electronic document R. Each document segment O R thereby can be inserted deleted and or replaced from one of the electronic documents O R to the other electronic document O R. The edit distance process thereby can find the smallest edit cost or the best match between the original and reference electronic documents O R given a selected combination of values for the segment insertion cost the segment deletion cost and or the segment replacement cost.

Calculating segment level edit distance between the original electronic document O and the reference electronic document R can include calculating word level edit distance as a subroutine or any other word level similarity metric. In addition segment level edit distance can include detecting similar segment context. The similar segment context detection preferably includes a straight forward comparison of words within selected document segments O R in the electronic documents O R. If the words within the selected document segments O R are the same for example the context can be determined to be identical.

Detecting similar context in the segment level edit distance calculation however can be more complex because document segments O R rarely are completely identical. Advantageously the document processing method can determine whether a pair of selected document segments O R are close enough matches to consider the selected document segments O R to be identical. To determine whether the selected document segments O R are sufficiently close to be considered identical the document processing method can apply a combination of the word level edit distance cost and the longest common subsequence of the selected document segments O R. If a combination of the word level edit distance cost and the inverse of the longest common subsequence of the selected document segments O R is less than a predetermined threshold cost the selected document segments O R can be determined to be identical otherwise the selected document segments O R can be considered to not be identical.

The segment level edit distance calculation can be used as an input to a document clustering approach and or to assist in a document reviewer or other user in organizing his reading approach. In addition and or alternatively the segment level edit distance calculation likewise can be used as a heuristic to facilitate the determination regarding when to move document segments O R within a selected electronic document O R and or when to re segment and or merge an electronic document O R. For example moving the document segments O R within an electronic document O R and or re segmenting the electronic document O R can be performed if the resultant document O R has a reduced segment level edit distance.

The document processing method likewise can enable a reviewer or other user to upon request view the similarities and or differences between the original electronic document O and the reference electronic document R. As discussed in greater detail with regard to and A E upon receiving such a request the document processing method can present for example an image of one of the documents O R such as the reference electronic document R with some of the presented words emphasized and other presented words de emphasized. The emphasized words can include the words found to have been added to and or replaced within the reference electronic document R. Moved and merged document segments O R likewise can be emphasized as desired. Deleted document segments O R and words can be presented by reversing the direction of comparison. The deleted document segments O R can be presented in any conventional manner such as via striked out text text with vertical bars and or with a caret plus tool tip manner.

The position of the areas to emphasize and or deemphasize can be determined via the imaging software that identifies an image position for each character on each document page shown in . The document processing method likewise can present selected statistics pertaining to the comparison of the electronic documents O R. For example the selected statistics can include an estimate of a percentage of similar text between the two electronic documents R O. The percentage estimate could be the percentage of words having any matching document segment O R within one of the documents R O. Similarly the percentage estimate can include a percentage of document segments O R that have good matches.

From a workflow perspective the comparison process can be applied to pairs of user selectable electronic documents shown in . The document processing method preferably includes a software tool shown in such as a desktop tool that facilitates organization of the electronic documents . As illustrated in the electronic documents can be organized by folder or directory for storing document files for storing the electronic documents O R and pairs of electronic documents O R within a selected folder can be compared. The software tool likewise supports automated search for matching text of user selected document segments shown in . As desired the software tool can enable an electronic document O R associated with a selected document file to be previewed. For example the software tool can include a preview window for previewing the electronic document O R. Given a pair wise document comparison the document processing method can identify for each words phrases sentences and or paragraphs collectively shown in in a selected original electronic document O each occurrence of matching reference document segments R in the reference electronic document R.

For each word phrase sentence and or paragraph in the selected original electronic document O for example the document processing method can store a location of the words phrases sentences and or paragraphs and or locations in the reference electronic document R of all matching text as calculated by the word level and segment level edit distances discussed above. An index thereby can be built as in step of during the document comparison which index can be referenced during a subsequent document review. For a selected document segment the document processing method likewise can locate each similar document segment in all electronic documents that are associated with the same folder. The document processing method can apply the index to compute the similar document segments . For example a user interface shown in for the document processing method can support selection of an area within an electronic document . If the user interface includes a pointing device such as a mouse the pointing device can be applied to select the area within the electronic document . Once the document area has been selected the document processing method can locate the electronic document within the folder that has a document segment that is most similar to the selected area. The document processing method likewise can search the reference electronic document R for the best matching document segment when simultaneously presenting the original electronic document O and the reference electronic document R.

The word level distance identifies words as being equal if the words comprise the same characters. Segment level distance in contrast can provide a heuristic or inexact match as described above. As desired word level comparison can be extended to permit inexact word matches such as conceptually equal words words that are equal after a stemming operation has been applied to the words words that when converted into lower case are the same words that can comprise proper nouns such as names addresses or cities and or other user selectable matching criteria. For example conceptually equal words can be found via use of concept classifiers in the manner set forth in more detail below. Although shown and described above with reference to performing a text comparison between electronic documents the document processing method is not limited to text comparisons and can be readily applied to any conventional type of sequential or structural data. For example the document processing method can readily be applied to perform comparisons of two symbol sequences such as deoxyribonucleic acid DNA sequences.

Advantageously the document processing method likewise can perform multi dimensional comparisons on electronic documents . Electronic documents often include embedded formatting commands that include segmentation information. For example segmentation information can be embedded in section headings and or table objects. The document processing method can apply the segmentation information from the embedded formatting commands to the process for segmenting the selected electronic document at shown in .

The process for segmenting and comparing the selected electronic document at likewise can apply to multi dimensional tables not shown with a few extensions. Each table object in an electronic document under comparison via the document processing method preferably is treated as its own document and be compared to each table object in other electronic documents . Exemplary electronic documents that can include table objects can include documents in conventional electronic formats such as Excel Word tables or PDF tables. Each column row or column row embedded within another one is treated as a document segment within the comparison operation or process as set forth above. In most cases tabular data is not compared with text data and any table or row and or column document segment thereby can be compared with any other table document segment . Thereby the table document segments can be split and or rearranged in the manner set forth above with reference to text document segments . For example the document processing method can include identify similarities among the table documents even when the columns and or the rows have been shifted. The capability of processing table document segments illustrates the extended utility of the document comparison processes at of the document processing method .

Exactly matching segments and or documents O and R In this example the documents O and R each have three sections A B and C that all differ by at least one word from each other. However all text in the two documents is identical so any choice of N and K would allow the documents to pass the text hashing test at step . The edit distances step between the sections are 

At step A each segment is aligned with the segment in the same position in the other document. Merging any two segments step B would not increase or decrease the segment distance overall

Same as Example 1 except with a few words different between the two documents O and R and the sections of each of the two documents O and R are reversed as follows A B C in O and C B A in R. There are more words different between A and B or A and C than between A and A .

At step the majority of the words in the two documents O and R are determined to be the same so most choices of N and K would allow the documents to pass the test. The edit distances between the sections of the documents O and R are 

At step each of the segments are aligned step A in reverse order so A is aligned with A even though A is the first segment in O and A is the last segment in R. Merging segments step B will likely not affect the segment distance overall.

In this example there are more significant differences between the documents O and R and there is also a split paragraph. The documents include the following paragraphs 

For many choices of N and K the documents would pass the text hashing test at step . The edit distances step between the paragraphs of the documents O and R are as follows 

i. A A 2 and A A 1 about half the words are deleted and some other words are changed. Choose N2 and N1 to represent the edit distances

iii. A B the two segments are almost completely different a few words like and of in overlap so edit distance would be close to the number of words in A which is greater than N1 or N2

In this example although there are paragraphs with one phrase that match there are but many other differences between the documents O and R. The documents include the following paragraphs 

In this example there are completely different original and reference documents O and R assuming zero words in common between the two documents for any choice of N and K the documents would not pass the text hashing test step .

Turning to the document processing method is shown as including at a process for improving the accuracy of document recognition processes. For example conventional OCR engines while often using reference document repositories to improve recognition results do not typically adapt as they encounter new types of documents. Accordingly currently available recognition techniques can be improved by using the results of the comparison process described above as input to an improved recognition repository. In addition this approach can compare the possible recognitions of words phrases sentences and or paragraphs collectively shown in with at least one set or reference library comprising previously encountered highly confident and or standard words phrases sentences and or paragraphs . Such a comparison can improve the accuracy of the text recognized by the document processing method .

The process of improving of document recognition accuracy at can be applied to the document processing method during examination of the similarities between the original electronic document O and the reference electronic document R at shown in . In particular the process of improving of document recognition accuracy at preferably is applied during or after the search for the possibility of merging two or more document segments shown in B into a single document segment and or splitting a document segment into two or more separate document segments to increase the longest common subsequence between pairs of document segments in the two electronic documents O R shown in in the manner set forth above.

Thereby the process of improving of document imaging accuracy at can identify and repair errors in the words as recognized by the conventional recognition processes. The process of improving of document recognition accuracy at advantageously can make use of the presence of highly matching document segments . For example the process of improving of document recognition accuracy at can receive as input two document segments that are at least within a predetermined threshold similar to each other. The process of improving of document recognition accuracy at can examine the words that are replaced and or inserted in one of the document segments when compared to the other document segment .

As shown in the improvement at of the selected electronic document can be applied in conjunction with the increase at in the chances of detecting additional similar original and reference document segments O R within the original electronic document O and the reference electronic document R. The improvement at of the selected electronic document thereby can be used to correct errors in the words shown in recognized via the currently available imaging techniques. For example the accuracy of the selected electronic document can be improved by reducing recognition errors such as OCR errors in the selected electronic document . Recognition errors can be reduced according to one embodiment by comparing images of individual words that were identified as being different words during the initial recognition of the associated incoming document shown in and that are embedded in matching text within the remaining document segments shown in . Thereby the document processing method can take advantage of the presence the text content within highly matching document segments to improve the accuracy of the selected electronic document . In another embodiment the document processing method can take advantage of user provided images of recognized words to improve the accuracy of the selected electronic document as well as use the user provided images of recognized words to train a classifier that is combined with the other image comparison techniques described herein.

Turning to the document processing method is shown as considering the original electronic document O and the reference electronic document R in the manner set forth above. The improvement at of the selected electronic document can select at A an original document segment O within the original electronic document O and a reference document segment R within the reference electronic document R. The original document segment O preferably is similar to the reference document segment R within a predetermined threshold value. The document processing method then can examine the words that have been replaced and or inserted in the original document segment O during the comparison with the reference document segment R and determines whether to apply the improvement to a particular word in the original document segment O or in the reference document segment R depending on which word has the lower confidence in recognition result thereby changing the text content recognized by the combined process.

The document processing method at B determines a confidence measure for the selected document segments O R. Recognition improvement preferably is attempted for the less confident recognition result of the selected document segments O R or for the less confident recognition result of an individual word in the document s . The confidence measure is the average confidence rate on the character recognition provided by the document imaging system when the original and reference electronic documents O R are recognized at shown in . Incoming documents shown in that are received in an electronic form such as electronic documents produced via processing applications have the highest confidence rate because such incoming documents do not require recognition. In other words incoming documents that are received in an electronic form are not imaged and no text recognition improvement needs to be applied to such documents.

The confidence measure for at least one of the selected document segments O R is shown as being compared with a predetermined threshold level at C. If the confidence measure for at least one of the selected document segments O R is greater than a predetermined threshold level the improved accuracy process stops at M. Otherwise a potential increase in the segment similarity is calculated at E for the selected document segments O R if a change in recognition result were to be made. The segment similarity increase preferably is calculated to measure the effect that the recognition improvement would have on the comparison at shown in of the original electronic document O and the reference electronic document R. Stated somewhat differently the word with the lower confidence measure can be temporarily replaced by the word with the higher confidence measure at D and the resultant effect of the temporary replacement on the segment similarity is calculated. At F the increase in the segment similarity is compared with a predetermined incremental increase threshold value for the segment similarity. If the increase in the segment similarity is not greater than the predetermined incremental increase threshold value the improved accuracy process stops at M. Otherwise the character images of the words in the selected document segments O R can be compared at G if the increase in the segment similarity is less than the predetermined incremental increase threshold value.

The comparison at G between the character images of the words in the selected document segments O R can be performed in any conventional manner. For example the character images between the words in the selected document segments O R can be compared via a tangent distance in the manner disclosed by Simard et al. Efficient Pattern Recognition Using a New Transformation Distance Advances in Neural Information Processing Systems No. 5 pp. 50 58 Morgan Kaufmann 1993 the disclosure of which is hereby incorporated herein by reference in its entirety. Tangent distance is a mathematical approach to measuring distances between images that attempts to be invariant with respect to small changes such as scaling translation rotation and or axis deformation. The tangent distance between two patterns can be defined as the minimum distance between their respective manifolds as defined by parameters such as scaling angle.

The similarity among the character images then can be compared with a predetermined character image similarity threshold at H. If the similarity among the character images is not greater than the predetermined character image similarity threshold the improved accuracy process stops at M. Otherwise the less confident word is replaced with the originally recognized word at I if the similarity among the character images is greater than the predetermined character image similarity threshold.

In addition and or alternatively the images of selected entire words in the document segments O R can be compared at J as illustrated in if the increase in the similarity is greater than a predetermined incremental increase threshold value at F. The comparison at J of the images of the selected words in the document segments O R likewise can be performed in any conventional manner and in one embodiment is performed via a tangent distance calculation in the manner set forth above. Since the tangent distance can be sensitive to global changes versus local changes the tangent distance calculation preferably is performed in an alternative embodiment as a series of discrete processes. The similarity among the images of selected entire words then can be compared with a predetermined word image similarity threshold at K. If the similarity among the images of selected entire words is not greater than the predetermined word image similarity threshold the improved accuracy process stops at M. Otherwise the less confident word is replaced with the originally recognized word at L if the similarity among the character images is greater than the predetermined word image similarity threshold.

Another alternative to improve the recognitions of the words to the character image comparison method includes the user or system adding new words in the known text to the OCR recognition dictionary and or considering multiple recognition candidates based on similar documents. OCR engines typically return multiple recognition candidates for a word or segment. Instead of only keeping the best the process temporarily stores all recognitions and runs the comparison as noted above for segments with high similarity to reference segments. As illustrated in the process at step N identifies words with either low OCR confidence or words that differ between the two segments and goes back to the recognition candidates stored as noted above to test whether alternative recognitions match the word in the known segment or higher confidence recognized words. If a match is found at step O a correction is applied by replacing at step L the identified words with their alternative based on matching text. Optionally the process would include a step step P to evaluate the product of the probabilities given by the OCR algorithm for a match and only apply the correction if it exceeds a threshold.

For example the words see sea and pea are all assumed to be in the OCR dictionary. The OCR is decoding a piece of paper which says I see the shore . This is determined at step O to match a known text phrase from a reference document or library. Next with regard to the second word see the OCR process returns a 45 chance a given word is sea but a 35 chance that the word is see and a 20 chance that the word is pea . For convenience of exposition the OCR process is assumed to have given a 100 score to the words I the and shore . Next OCR process notices that the phrase with the highest word by word OCR probability I sea the shore is not in the known text store or reference document but that I see the shore is. The OCR process then computes at step P the word by word probability product of 100 35 100 100 35 and concludes that this is a high enough probability that the text being OCR processed really was I see the shore and therefore so recognizes it as such.

Existing OCR systems attempt to minimize recognition errors by comparing the results against dictionaries of words in the language of the document or by applying grammar rules or other language based heuristics. The OCR software adjusts and can pick lower probability characters if that will help create a word known to be in the dictionary or better fit grammar or heuristics. However in an application where the OCR is being used to compare paper against known text for example in electronic documents the method can just described can perform more effectively.

An exemplary process G for comparing the images of the selected words in the document segments O R in accordance with the tangent distance calculation is shown in . The goal of this process is to more accurately compare images at the character level rather than at the word level even when errors in OCR character segmentation are present. Turning to the exemplary process G for comparing the images of the selected words in the document segments O R is shown as including at G adjusting the images of the selected words . The adjustment of the images of the selected words can include scaling and or distorting the images of the selected words . The images of the selected words thereby can be adjusted such that the images of the selected words are approximately the same size. The exemplary process G likewise can include at G estimating an average width of at least one selected character in the images of the selected words . The images of the selected words can be divided at G into one or more image portions not shown . Preferably each of the one or more image portions comprises approximately one character of the selected words .

At G the exemplary process G for comparing the images of the selected words includes comparing the image portions of the selected words . The image portions of the selected words can be compared in any conventional manner preferably via the tangent distance calculation set forth above resulting in a distance measure. For example each aligned image portion of the selected words can be compared in one or more preselected directions across the page shown in . The image portion of the selected words can be compared from a left edge region of the page to a right edge region of the page from the right edge region to the left edge region of the page and or from a central region of the page to the right edge region and or the left edge region of the page . If the comparison at G includes the tangent distance calculation combining the distance measures of the individual image portions of the selected words can include normalizing the tangent distance calculations of the image portions of the selected words . The image portion of the selected words are recombined at G.

Returning to the comparison at G of the images of selected words in the document segments O R can include a calculation of a partial Hausdorff distance in the manner set forth in Huttenlocker et al. Comparing Images Using the Hausdorff Distance IEEE Transactions on Pattern Analysis and Machine Intelligence Vol. 15 No. 9 September 1993 the disclosure of which is hereby incorporated herein by reference in its entirety. The irrelevant pixels can be excluded by drawing a bounding box not shown close to a boundary around each selected word and excluding the pixels outside the boundary from the distance comparison.

The document processing method can normalize and sum a combination of one or more of the calculations set forth above with reference to improving the accuracy of document recognition processes at to determine whether any recognition improvement should be made between the document segments O R. In other words the above calculations can be scaled to conform to the same range so that they have equal influence on the input function used to decide whether to apply recognition improvement. To determine whether any recognition improvement should be made between the document segments O R the document processing method can apply for example a minimum incremental increase threshold in the manner set forth above with reference to predetermined minimum incremental increase value for the longest common subsequence or other similarity metric as discussed above with reference to .

The recognition improvement can be performed by replacing one or more words in the less confident document segment O R by the very similar according to the metrics discussed above or their combination word in the more confident document segment O R. A plurality of threshold levels such as the predetermined threshold level at C the predetermined incremental increase threshold value at E and the minimum incremental increase threshold are used during the recognition improvement process. To decide whether to replace the recognized word the document processing method can employ these threshold levels can be used in conjunction with the bounding box set forth above with reference to the comparison at G of the images of selected words in the document segments O R. These threshold levels and or the bounding box can be tuned to minimize the false positive rate.

As illustrated in the document processing method can enable the reviewer or other user to search for selected or user chosen text content within an electronic document and or to provide one or more summary views of the electronic document . The search for the selected text content within the electronic document can include conventional plain text searching that can be supported from the recognition process at shown in of the incoming documents shown in and or the improved accuracy process at shown in of document recognition processes.

Since some text content has alternative phrasing or wording in different documents the document processing method advantageously can include concept searching for the selected text content within the electronic document . Concept searching enables the electronic document to be searched for text content belonging to a predetermined or ad hoc concept category. Once a concept category has been selected during a concept search the document processing method can identify and emphasize each document segment shown in D B within the electronic document that matches the concept category. In other words each document segment within the electronic document can be associated with one or more relevant concept categories.

One or more concept classifiers can be applied to determine whether a selected document segment is associated with a particular concept category. The concept classifiers are classifiers such as binary classifiers and or multi class classifiers for identifying concepts and can be provided in the manner set forth in more detail above with reference to segmenting the selected electronic document at shown in . Although the concept classifiers can comprise hand built classifiers the concept classifiers preferably are learned from examples provided by domain experts. In other words the concept classifiers preferably are associated with the concept classes that are of most interest to reviewers and other users and therefore are chosen in consultation with domain experts. Thereby a suitable set of concept classifiers can be identified and or trained for application to any document segment within the electronic document .

Turning to an image of a selected page of an exemplary electronic document upon which concept classification has been performed is shown. In the manner discussed in more details above with reference to and A B the electronic document includes content derived from the associated incoming document shown in and is provided in an electronic form. Each document page can include text content that has been divided into a plurality of document segments X Y Z. As illustrated in the document segment Y has been associated with a Payment Terms concept as indicated by a label . Thereby if a concept search is performed for the Payment Terms concept the document segment Y within the electronic document will be identified.

Once the set of concept classifications has been identified training data can be created for the concept classifiers. In one embodiment the reviewer or other user can create the training data for the concept classifiers. The reviewer thereby can select a portion such as a document segment of the image of a selected electronic document and associate or label the selected document segment with an appropriate concept from a predetermined list of concepts. After a particular concept has been associated with a sufficient number of document segments in this manner a concept classifier can be trained to propose additional document segments as being associated with the concept. The additional document segments can be provided within the selected electronic document and or within other electronic documents as desired. Training of the concept classifier can include positive training examples and or negative training examples. For example a positive training example for a selected concept classifier can include the document segments that have been labeled with the concept related to the selected concept classifier whereas negative training examples for the selected concept classifier can include the document segments that have been labeled with different concept classifiers.

In the manner discussed in more detail above with reference to segmenting the electronic document at shown in the concept classifiers likewise can include one or more features. A combination of text features and or image based features from the labeled sections can be applied for the concept classifiers as exemplified in Tables 1 and 2 above. Word features for example can leverage recognizing the electronic document at shown in and or improving the accuracy of the selected electronic document at shown in for document match. Feature selection approaches can optionally be included. In addition and or alternatively as desired the experts likewise can provide one or more tips about what features might be useful for a given concept. For example some features such as a number features might be more useful for some concepts than for other concepts.

The concept classifiers can be created in any conventional manner. Preferably the concept classifiers are created via modeling techniques such as the Na ve Bayes modeling technique and or the Tree Augmented Na ve Bayes TAN modeling technique in the manner disclosed by Friedman et al. Bayesian Network Classifiers Machine Learning No. 29 pp. 131 163 1997 the disclosure of which is hereby incorporated herein by reference in its entirety. The Tree Augmented Na ve Bayes modeling technique for example can be used to find pairs of words shown in or other features that are closely related given the concept or class being examined or learned . Concept classifiers created via the Na ve Bayes modeling technique likewise can apply these feature pairs and as desired regular word features and or image features.

As noted above many intellectual tasks involve reviewing documents. Auditors must review contracts to determine appropriate revenue recognition. Lawyers may wish to see how a document impacts the party they represent. Teachers may wish to review term papers with an eye to sections that have been plagiarized. Venture capitalists need to quickly and efficiently review dozens or hundreds of proposals.

In these cases computer analysis of the documents may aid the reviewer. Portions of contracts that use standardized and well understood paragraphs may bear less scrutiny than the portions with newly written paragraphs. Nevertheless it is important to review the newly written paragraphs in the context of the entire document and not separately. Lawyers may analyze a document based on key phrases or sections. Teachers may want possibly plagiarized sections to be noted in context. Venture capitalists may wish to cross reference the current proposal with other proposals received previously based on commonality of topic.

Sometimes there is specific interest in reviewing the impact of changes between different versions of documents. Editors may wish to review an author s latest edits. Patent examiners may want to see how the new application compares to the previous one. Consumers may want to examine changes in terms and conditions in consumer disclosures. In these cases there are one or more comparison documents in addition to a distinguished or so called original document.

In each example case the documents should be reviewed as they were presented and without any alterations i.e. the document s visual integrity should be maintained.

Conventional methods for distinguishing portions of a document rely heavily on altering the visual integrity of the document. For example search engines may render the search term where it appears in the document in a bold faced font. It might be underlined. Both typographic alterations run several risks for the reviewer a the reviewer can t determine if the term was originally bold or underlined b the document layout can change in order to make room for the wider bolded characters or for the extra interline spacing needed to accommodate underlining c if the document layout is not altered the wider bolded phrase and or the underlining may encroach on other parts of the document nearby.

Another conventional technique for distinguishing portions of a document relies on inserting carets or other symbols into the document and running lines to marginal comments. This style of markup requires extra screen or paper area to accommodate the marginal comments and are ineffective on documents without adequate marginal white space.

Another conventional technique changes the color of a displayed or printed portion of a document. For example the track changes feature in Microsoft Word displays edits in different colors to show their authors. This method does not work well for the 1 in 6 males who have functional color blindness and in Microsoft Word is combined with document altering markup symbols lines and marginal notes.

Research has shown that none of these or other prior art techniques were best in class in optimizing the critical review of documents.

In many conventional document review applications there is great important in reviewing the original document. When dealing with a displayed image of the original document the image should have visual integrity with the original document. For example an unaltered scan of the original document could be displayed with visual integrity. A print image of an electronic document could be displayed with visual integrity.

The example embodiments provided herein are directed to a method that facilitates rapid and accurate document review by making such unobtrusive changes to the image that the reviewer knows what was on the original document and so that there are no distracting editing marks added to the document. This method allows review to proceed more quickly and more accurately. Most of these techniques for this method can be applied to both displayed and printed copies of a document. Some of the techniques require dynamic changes and are only applicable to displays of the document.

In example embodiments provided herein the document processing method advantageously enables a reviewer or other user to review images of the electronic documents . To avoid being misleading an image of the selected electronic document typically is displayed and or printed in a manner that is faithful to the original incoming document shown in . For example text content that was not in bold text in the original incoming document is preferably not presented in bold text.

As desired the document processing method can enable the image of the selected electronic document to be manipulated as desired to facilitate review of the associated incoming document . One or more portions of the image of the electronic document for example can be selected and or hyperlinked regardless of whether the portions are displayed and or printed in a manner that preserves the fidelity of the incoming document . The selected portions of the image of the electronic document likewise can be displayed and or printed for example by coloring or otherwise altering the text fonts according to the source of an associated text change. The document processing method thereby can facilitate the review of the images of electronic documents that might be obtained by receiving and imaging incoming documents that can be provided as paper based documents and or that include signatures or other handwritten changes.

The example embodiments provided herein illustrate different alternative techniques employable to carry out the subject method. Turning to for example the software tool can permit an image of a selected electronic document to be altered to facilitate document review. shows an image of a selected page of the electronic document wherein a portion B of the textual content has been emphasized by tinting adding white to complementary text. The portion B of the textual content is associated with textual content that has been changed B is presented exactly as scanned but it appears to stand out because textual content has been tinted. As illustrated in the software tool likewise can provide a side by side presentation of images of pairs of electronic documents O R in the manner set forth above. The images of electronic documents O R respectively include textual content O R. The portion B of the original textual content O of the original electronic document O that differs from the reference textual content R of the reference electronic document R is shown exactly as scanned while unchanged text is shown in a lighter tint. Similarly the portion B of the reference textual content R that differs from the original textual content O is presented exactly as scanned.

Other alternative techniques are illustrated in . For example as depicted in the contrast can be altered for a portion of the text of the document. The entire original document can still be read but changing the contrast allows certain portions A of the document to be de emphasized which effectively emphasizes other portions B of the document. For example in comparing two filings with the Securities and Exchange Commission portions A of the document which are identical to the previous year s filing are de emphasized.

Note that in this example the contrast has been reduced for information portion A that was present in the previous year s filing but that the document still has visual integrity and all of the text can be read. In the most recent filing a sentence has been added to note whether or not the registrant is a so called shell company and the dates numbers of shares outstanding and aggregate market value have changed.

Alternatively instead of reducing the contrast of certain portions A of the document those portions A can be slightly blurred as if viewed through a slightly de focused lens. Blurring serves a similar purpose to changing contrast to de emphasize the text.

another technique of this method background color or texture is slightly altered. Turning to an example of background texture C being altered is depicted. Altering texture is preferred for those who are color blind but color can be used if colors are chosen carefully to be seen as distinguishable shades of gray.

The previous techniques could be used on both displays and re printed documents. The remaining techniques for the method of aiding review while preserving visual integrity of the original document use dynamic techniques that are only possible on display screens.

Where documents are compared one against others it may be useful to see the comparison information. The example embodiment illustrated in allows a user to place the cursor over the changed information or to touch it on a screen illustrated as emphasized portion B so as to see the comparison information. The comparison information may also have visual integrity. However in this first example depicted in the cursor is shown moved to a changed part B of the document and an overlay box a hover box D opens to show the current D and previous D information. In this example the previous version of the SEC filing showed 402 057 856 shares instead of the current 842 767 948 shares. The difference is likely to be of interest to the reviewer.

A small caret or other symbol or mark E is preferably inserted into the document to indicate where it would be useful to place the cursor or finger. While this does indeed make a miniscule change to the visual integrity of the document research has shown that it was much less intrusive than typical document markups and was particularly useful when the comparison document had no change. For example in the embodiment depicted in the comparison document included the phrase . . . is able to present entire computing solutions . In the new document the term entire has been omitted. The cursor is shown moved to the carrot E in the document and a hover box F opens to show the omitted term.

This can also be done as depicted in so as to show the comparison document with visual integrity instead of just the comparison information. The cursor is shown moved to the carrot E in the document and a hover box G opens to show the phrase with the omitted term.

If there is more than one comparison document using mouse clicks button presses screen taps or finger slides can be used to cycle through the comparison documents.

In another technique for preserving visual integrity is to move portions of the document closer to or further away from the viewer using a 3 D display. Since the reviewer knows that the original document was a flat 2 D document the reviewer knows they are seeing a visually intact document where the only changes are in stereopsis.

In another technique much like a paper flip book allows a user to see the changes between pages as an animation flipping between visually intact representations of the original document and comparison documents allows the eye to quickly spot what is changing as the documents are flipped back and forth. Use of mouse clicks mouse scroll wheels or finger gestures on screens tapping or sliding is a novel way to control the flipping between visually intact representations of documents.

All of the examples given above have dealt with displaying differences between documents. However the display techniques could also be used to aid reviewers to see potentially problematic terms or phrases such as the word warrantee in contracts de emphasizing sections which are identical to known libraries of boilerplate or are unexpected by a computer analysis. At the same time the techniques could also be used to de emphasize expected differences e.g. replacing one client s name with another synonymous differences or differences which were previously reviewed.

In all cases the present method for visually aiding document review differs from prior art in that it maintains visually intact copies of the original document employs changes that the reviewer knows were not present in the original to show emphasis or de emphasis and needs no additional space for markup.

Advantageously the document processing method shown in can be provided as an adaptive method for processing documents and can learn from several sources of information. For example the document processing method can learn from the electronic documents shown in themselves. By learning from the electronic documents the document processing method can increase the accuracy of the imaging process and or the accuracy of the segmentation process. As set forth above segmentation information often can be embedded in the formatting information of the electronic document . The document processing method likewise can learn from information such as feedback provided by one or more reviewers or other users. A user can provide page type labels for use by the page type classifier concept labels for selected document segments and or segmenting information for improving the segment classifier that operates at the word level. The user information can be provided to the document processing method at any suitable time such as during review and or independently during knowledge transfer sessions between a subject matter expert and the research team.

The software tool can be implemented in conjunction with any conventional software application. For example the software tool can be implemented with a word processing software program such as Microsoft Word as shown in . likewise illustrates the software tool as being implemented in conjunction with a spreadsheet software program such as Microsoft Excel .

The disclosure is susceptible to various modifications and alternative forms and specific examples thereof have been shown by way of example in the drawings and are herein described in detail. It should be understood however that the disclosure is not to be limited to the particular forms or methods disclosed but to the contrary the disclosure is to cover all modifications equivalents and alternatives.

