---

title: Electronic mail receiving device and method
abstract: A preview generating section  generates preview forming data within a predetermined data size by extracting at least a part of header information and at least a part of a mail body from an electronic mail obtained by a mail obtaining section . A cache section  caches the preview forming data. A display section  displays a preview list on a display device  using the preview forming data cached by the cache section . When a preview included in the preview list is selected, a command transmitting section  requests a server to transmit the electronic mail identified by the selected preview.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09641475&OS=09641475&RS=09641475
owner: SONY INTERACTIVE ENTERTAINMENT INC.
number: 09641475
owner_city: Tokyo
owner_country: JP
publication_date: 20120405
---
Small electronic devices having various functions such as smart phones portable type game machines and the like have recently spread. Some of these electronic devices have an electronic mail transmitting and receiving function thereby allowing a user to view electronic mails easily even outdoors.

Generally when a mail application included in a portable type electronic device has downloaded electronic mails the mail application generates previews of the electronic mails and displays a preview list on a display. When a user selects a preview from the preview list the mail application displays the body of the electronic mail corresponding to the preview on the display.

Portable type electronic devices have a lower storage capacity than stationary type electronic devices. Therefore in a portable type electronic device an upper limit is often set to the number of electronic mails to be downloaded from a mail server so as to prevent the size of received data from being increased. Generally the upper limit number is about a few tens which cannot be said to provide usability for users receiving hundreds of electronic mails a day.

In addition there is a mail application function that allows a setting to be made so as to sort electronic mails from a particular sender into a particular folder. When such a setting is made electronic mails can be classified by sender which is convenient when the user searches for a mail. However as compared with stationary type electronic devices portable type electronic devices cannot be said to have a fully enhanced input interface and therefore even a sort setting takes time. In addition because portable type electronic devices offer ease of use as a feature it is desirable to be able to provide a mechanism such that a plurality of related electronic mails can be viewed easily.

In order to solve the above problems according to a mode of the present invention there is provided an electronic mail receiving device including a mail obtaining section configured to obtain an electronic mail a preview generating section configured to generate preview forming data within a predetermined first data size from the electronic mail obtained by the mail obtaining section a cache section configured to cache the preview forming data generated by the preview generating section a display section configured to display a preview list on a display using the preview forming data cached by the cache section and a command transmitting section configured to when a preview included in the preview list is selected request a server to transmit the electronic mail identified by the selected preview.

In addition according to another mode of the present invention there is provided an electronic mail receiving device including a mail obtaining section configured to obtain electronic mails including header information and a mail body a grouping section configured to identify electronic mails that are obtained by the mail obtaining section and include an identical set of a mail address of a sender and a mail address of a destination in the header information of the electronic mails and a display section configured to display the mail bodies of the electronic mails identified by the grouping section in a message display region of a display.

It is to be noted that arbitrary combinations of the above described constituent elements and methods devices systems recording media computer programs and the like to which expressions of the present invention are converted are also effective as modes of the present invention.

According to the information processing technology according to the present invention an improved mail application can be provided.

The electronic mail receiving device implements an electronic mail transmitting and receiving function and an electronic mail display function by starting a mail application. Incidentally the electronic mail transmitting and receiving function may be implemented by starting the mail application in the background. The electronic mail receiving device may be for example a mobile telephone a PDA Personal Digital Assistant or a portable type game machine and it suffices for any of the electronic devices to include the mail application. Incidentally while the mail application in the present embodiment is useful particularly in an electronic device having a low storage capacity the mail application in the present embodiment can also be used effectively in an electronic device having a high storage capacity for example a stationary type game machine. In the following a case where the electronic mail receiving device is a portable type game machine including the mail application in the present embodiment will be taken as an example.

A housing portion such for example as a slot not shown for loading a recording medium such as a memory card or the like is provided in a side surface of the electronic mail receiving device . In addition a housing portion such for example as a slot not shown for loading a recording medium on which a game file is recorded is provided in a side surface of the electronic mail receiving device .

The user can for example operate the instruction input button with a thumb of a right hand operate the direction key with a thumb of a left hand operate the R button with an index finger or a middle finger of the right hand and operate the L button with an index finger or a middle finger of the left hand in a state of holding the electronic mail receiving device with both the hands. In addition when the touch panel is operated the touch panel may be operated with the thumbs of the respective hands in a state of the electronic mail receiving device being held by both the hands or the touch panel may be operated with the right hand in a state of the electronic mail receiving device being held by the left hand.

A wireless communication module is formed by a wireless LAN module compliant with a communication standard such as an IEEE 802.11b g standard or the like. The wireless communication module is connected to the network via the AP . A mobile telephone module supports a 3rd generation digital mobile telephone system compliant with an IMT 2000 International Mobile Telecommunication 2000 standard defined by an ITU International Telecommunication Union . The mobile telephone module is connected to a mobile telephone network . A SIM card in which a unique ID number for identifying the telephone number of the mobile telephone is recorded is inserted into the mobile telephone module .

In an interface an LED Light Emitting Diode blinks when the wireless communication module the mobile telephone module or the like is transmitting or receiving data. The motion sensor detects the motion of the electronic mail receiving device . A microphone inputs sound in the vicinity of the electronic mail receiving device . A speaker outputs sound generated by functions of the electronic mail receiving device . A stereo input output terminal inputs stereo sound from an external microphone and outputs stereo sound to external headphones or the like. The input device includes the above described operating keys and the like and receives operating input by the user.

A CPU Central Processing Unit executes a program loaded in a main memory or the like and executes the mail application in the present embodiment. A GPU Graphics Processing Unit performs calculation necessary for image processing. The main memory is formed by a RAM Random Access Memory or the like and stores a program operating on the electronic mail receiving device data and the like. A storage is formed by a NAND type flash memory or the like and is used as a built in type auxiliary storage device.

A GPS Global Positioning System control section receives a signal from a GPS satellite and calculates a present position. A USB control section controls communication with a peripheral device connected by a USB Universal Serial Bus . A video output control section outputs a video signal to an external display device on the basis of a standard such as HDMI or the like. A memory card control section controls the reading and writing of data from and to a recording medium such as a flash memory or the like loaded in a housing portion not shown such as a slot or the like. When a removable recording medium is loaded into the housing portion the recording medium is used as an external type auxiliary storage device. A media drive is a housing portion loaded with a game recording medium on which a game file is recorded. The media drive controls the reading and writing of data from and to the game recording medium . The above functional blocks are connected to each other by a bus .

Before the mail application according to the present embodiment is described basic operation of POP Post Office Protocol 3 will be described in the following. POP3 includes three procedures of an authentication a transaction and an update.

In the authentication procedure first a client transmits a user ID to a mail server. The mail server identifies a mailbox on the basis of the user ID. Next the client transmits a password to the mail server. The mail server validates and authenticates the user on the basis of the password. When the authentication has been performed successfully the transaction procedure is started.

The mail server returns the number of electronic mails in the mailbox and a total number of bytes of the electronic mails to the client. 20 1MB indicates that the total number of electronic mails is 20 and that the total number of bytes is 1 MB megabyte .

In the mailbox of the mail server message numbers starting at one are assigned in order of arrival of the electronic mails. Receiving the LIST command the mail server returns a message list list including the message number and the number of bytes of each electronic mail to the client. Suppose in this case that message numbers 1 to 20 are assigned to 20 electronic mails respectively.

The client transmits a RETR command to the mail server. Here RETR1 means a request to obtain the electronic mail having message number 1.

The mail server transmits the electronic mail having message number 1 to the client. The client can thereby obtain the electronic mail having message number 1.

The client transmits a DELE command to the mail server. Here DELE1 is a command to attach a deletion mark to the electronic mail having message number 1.

The mail server attaches a deletion mark to the electronic mail having message number 1. It is to be noted that a deletion mark is only attached and that the deletion of the electronic mail is not performed yet.

The client obtains all of the electronic mails accumulated in the mailbox by transmitting RETR commands and DELE commands while specifying all of the message numbers included in the message list. In addition a deletion mark is attached to all of the electronic mails accumulated in the mailbox.

The client transmits a RETR command to the mail server. Here RETR20 means a request to obtain the electronic mail having message number 20.

The mail server transmits the electronic mail having message number 20 to the client. The client can thereby obtain the electronic mail having message number 20.

The client transmits a DELE command to the mail server. Here DELE20 is a command to attach a deletion mark to the electronic mail having message number 20.

The mail server attaches a deletion mark to the electronic mail having message number . This concludes the transaction procedure.

The client transmits a REST command to the mail server. The REST command is a command to remove the deletion mark attached to an electronic mail in the mailbox. When the obtained electronic mail is desired not to be deleted from the mailbox the client can leave the obtained electronic mail in the mailbox by transmitting the REST command.

The client transmits a QUIT command to the mail server. The QUIT command is a command to delete electronic mails having a deletion mark attached thereto from the mailbox and disconnect a TCP connection.

The mail server deletes the electronic mails having a deletion mark attached thereto from the mailbox. When the REST command is transmitted in S the deletion mark is removed from the electronic mail and therefore the electronic mail in the mailbox is left without being deleted. The electronic mail receiving device according to the present embodiment is a portable type terminal device and is assumed to be used in a case where the user checks electronic mails outdoors as a use case. Therefore the electronic mail receiving device is desirably set to transmit the REST command to leave the electronic mails in the mailbox.

This concludes the update procedure. The TCP connection between the client and the mail server is thereafter disconnected.

Incidentally in the present embodiment a setting is made to leave the electronic mails in the mailbox and thus S S S S S and S as steps relating to deletion marks may be omitted from the sequence.

Incidentally according to the basic sequence shown in the client receives all of the electronic mails accumulated in the mailbox. Then a situation occurs in which the same electronic mails are received many times. Therefore the client desirably distinguishes obtained electronic mails from new electronic mails that have arrived in the mailbox and receives only the new electronic mails. For this purpose POP3 provides a UIDL command.

In the sequence shown in the UIDL command is transmitted to the mail server before the client transmits the RETR command that is before S . The mail server adds an ID for uniquely identifying each of the electronic mails accumulated in the mailbox to the electronic mail in advance. Receiving the UIDL command the mail server transmits a correspondence list associating the message numbers with the electronic mail IDs to the client. When the client thereafter transmits the RETR command and obtains the electronic mails the client records the IDs of the obtained electronic mails. The client obtains the electronic mail IDs by the UIDL command also at a time of a next access and thereby obtains only electronic mails having IDs not obtained the previous time by the RETR command. This prevents the same electronic mails from being obtained repeatedly.

The electronic mail receiving device according to the present embodiment receives electronic mails from the mail server using the mechanism of POP3. In the electronic mail receiving device the mail application accumulates received electronic mails on the recording medium . The recording medium has a storage capacity of a few GB gigabytes . If the electronic mail receiving device executes only the mail application the capacity of the recording medium can be said to be sufficient. However because the electronic mail receiving device according to the present embodiment is a game machine a game program downloaded from a game server saved data of a game and the like are also recorded on the recording medium . It is therefore not desirable that the mail application should use the recording medium without any limitation.

The electronic mail receiving device accordingly limits a storage capacity allocated to the mail application. The available capacity is for example 10 MB. The mail application has a function of effectively presenting electronic mails to the user while making effective use of the capacity of 10 MB.

In a first embodiment a mail application for presenting received electronic mails to the user is provided. When this mail application is started the mail application displays a preview list of the electronic mails on a display. Each mail preview is displayed including for example a subject a sender a date and time of transmission and a part of a mail body message . When the user views the preview list and selects the preview of an electronic mail that the user desires to read the mail application displays the body of the selected electronic mail on the display.

The mail application receives electronic mails according to POP3. However when the sequence shown in is adopted as it is all of the electronic mails accumulated in the mailbox all of unread electronic mails when the UIDL command is used are obtained and therefore the size of received data is increased. For this reason a conventional mail application decreases the size of data stored in a portable type electronic terminal by limiting the number of electronic mails to be downloaded. The conventional mail application limits the number of electronic mails to be downloaded to about a few tens and thus has a problem of consequently being able to present to the user only a number of previews generated from downloaded electronic mails which number is equal to the number of the downloaded electronic mails.

Accordingly when the mail application according to the first embodiment receives an electronic mail the mail application generates and caches preview forming data from at least a part of header information and at least a part of a mail body and discards the received electronic mail after generating the preview forming data. That is even when an electronic mail is received once the electronic mail is used only to generate preview forming data and the electronic mail itself is not recorded on the recording medium . In addition because of a small size of preview forming data even when a few hundred to a few thousand pieces of preview forming data are cached the data size of the preview forming data is significantly smaller than in a case where full text is received. This can reduce an amount of data recorded on the recording medium and increase the number of previews included in the preview list thus enhancing the convenience of the mail application. Incidentally when an electronic mail is received to generate preview forming data an amount of downloaded data may be reduced by aborting the reception of the electronic mail at a point in time when the header information of the electronic mail and a message of a predetermined number of lines are downloaded by using a TOP command.

The input section receives operating instructions from the user which instructions are input from the input device and the touch panel . The recording medium records thereon data used by the mail application. Incidentally another recording device for example the storage may be used in place of the recording medium .

The CPU includes an interface a list obtaining section a mail obtaining section a preview generating section a command transmitting section a display section and a recording management section . The respective functions of the interface the list obtaining section the mail obtaining section the preview generating section the command transmitting section and the display section are implemented by the mail application. The recording management section manages conditions of use of the recording medium by the mail application so as to prevent the capacity used by the mail application from exceeding an upper limit for example 10 MB . Incidentally as will be described later the electronic mail receiving device includes not only the mail application according to the first embodiment but also a mail application according to a second embodiment. The recording management section manages the conditions of use of the recording medium by the plurality of mail applications and monitors so as to prevent a total capacity being used from exceeding the upper limit.

When the input section receives a mail application starting instruction the mail application according to the first embodiment is started and the command transmitting section performs the authentication procedure shown in . After the authentication procedure is ended the command transmitting section transmits the STAT command shown in S and the LIST command shown in S from the wireless communication module to the mail server via the interface . The command transmitting section also transmits the UIDL command.

The list obtaining section obtains a message list list including the message number and the number of bytes of each electronic mail from the mail server . The list obtaining section also obtains a correspondence list of electronic mail IDs and message numbers which correspondence list is transmitted from the mail server in response to the UIDL command. The list obtaining section records the message list and the correspondence list in a list retaining section .

The command transmitting section refers to the lists recorded in the list retaining section and transmits the RETR command shown in S in from the wireless communication module to the mail server via the interface . The RETR command includes the message number of an electronic mail. The mail server extracts the electronic mail having the message number included in the RETR command from the mailbox and transmits the electronic mail to the electronic mail receiving device .

The mail obtaining section obtains the electronic mail including header information and a mail body. The mail obtaining section passes the obtained electronic mail to the preview generating section . The preview generating section generates preview forming data from the electronic mail. Specifically the preview generating section generates the preview forming data within a predetermined data size by extracting at least a part of the header information and at least a part of the mail body from the electronic mail. The preview forming data is data displayed on the display device to form a preview of the mail. The preview generating section in the present embodiment generates the preview forming data by extracting a subject Subject a sender From and a date and time of transmission Date from the header information and extracting text within a predetermined number of characters from the mail body. The preview forming data is cached in a cache section . Incidentally the preview generating section may extract a destination To or Cc from the header information and include the destination in the preview forming data.

After generating the preview forming data the preview generating section discards the electronic mail obtained by the mail obtaining section . That is the electronic mail obtained by the mail obtaining section at the time of generation of the preview forming data is used to generate the preview forming data and is not accumulated in a mail accumulating section of the recording medium after being used. This eliminates a need to record electronic mails whose mail bodies may be read or may not be read by the user.

The command transmitting section refers to the lists recorded in the list retaining section and transmits a RETR command and a DELE command for an electronic mail not yet obtained to the mail server . The preview generating section generates preview forming data on the basis of the electronic mail obtained by the mail obtaining section . The cache section caches the generated preview forming data.

The preview generating section limits the size of the preview forming data to 2 KB kilobytes or less for example. The capacity of the recording medium which capacity is allocated to the mail application is for example 10 MB. However not only the cache section but also the list retaining section retaining the lists the mail accumulating section accumulating electronic mails and the like are formed on the recording medium . Therefore the capacity used as a whole needs to be limited to 10 MB by reducing the capacity used by each of the list retaining section the cache section and the mail accumulating section . Therefore the capacity used by the cache section is desirably reduced by setting the size of the preview forming data to a predetermined value or less. For such a reason the preview forming data may be limited to an even smaller data size for example 512 bytes or 256 bytes or less.

An upper limit is desirably set also to the number of pieces of preview forming data cached by the cache section . When a preview list is displayed on the display device the user scrolls the preview list by operating the touch panel . Though depending on the user about 200 previews that can be scrolled are considered to be sufficient as a received message list. The cache section is accordingly made able to cache up to 200 pieces of preview forming data. Incidentally when the user is to view a preview not cached in the cache section that is when the user is to view previews whose number exceeds 200 the command transmitting section in arbitrary timing refers to the lists recorded in the list retaining section and transmits the RETR command to the mail server and the preview generating section generates preview forming data. At this time the preview generating section desirably deletes preview forming data from the cache section so as to prevent the number of pieces of data cached in the cache section from exceeding the upper limit 200 by a cache algorithm typified by an LRU Least Recently Used system or the like. This can reduce the capacity used by the cache section to 400 KB 2 KB 200 or less. Incidentally when there is available capacity left on the recording medium the cache section may cache a number of pieces of preview forming data which number exceeds 200.

As described above the size of preview forming data is limited to 2 KB or less. Therefore if one electronic mail has a data size of 1 MB it is not efficient in terms of time to generate preview forming data after downloading all of 1 MB. In addition downloading all of 1 MB means that a storage capacity is wasted at the time of the download even though the data is discarded after all. In addition downloading all of 1 MB is undesirable also from a viewpoint of power consumption because the electronic mail receiving device is a battery driven terminal device.

Accordingly the mail obtaining section may be made to obtain an electronic mail within the range of a predetermined data size from a start and not to obtain a part by which the electronic mail exceeds the range. The preview forming data is generated from a part of the header information and a part of the mail body. The header information is disposed at a starting portion of the electronic mail and it suffices to extract text entered at the beginning of the body part from the mail body. Accordingly when for example data of the electronic mail which data has a size of about 2.5 KB to 3 KB can be obtained from the start the data is sufficient to generate preview forming data of 2 KB or less. Accordingly the mail obtaining section limits the size of the electronic mail to be obtained to about 2.5 KB for example and does not obtain a part by which the electronic mail exceeds 2.5 KB.

An example of a method for limiting the size of the electronic mail to be obtained to about 2.5 KB will be shown. As an example the mail obtaining section specifies the number of lines of the message body which lines are to be downloaded in advance using the TOP command. The mail obtaining section can thereby abort the reception of the electronic mail at a point in time when the header of the electronic mail and a message of a predetermined number of lines are downloaded. Incidentally the TOP command is used only at the time of obtainment of the electronic mail for the generation of preview forming data. Though not shown the mail application has a function of managing a status as to whether the mail obtaining section is obtaining the electronic mail for the generation of preview forming data or whether the mail obtaining section is obtaining the electronic mail for display of the message body. The number of lines of the mail body which lines are to be downloaded is set by this function at the time of obtainment of the electronic mail for the generation of preview forming data.

As another example the interface may forcefully terminate a TCP session when an amount of received data exceeds a set data size 2.5 KB . The forceful termination of the TCP session may be performed by the interface or may be controlled by the mail obtaining section . When the mail obtaining section thus obtains an electronic mail having a data size necessary to generate preview forming data at the time of generation of the preview forming data the efficiency of generation of the preview forming data can be enhanced.

The display section displays a preview list on the display device using the preview forming data cached by the cache section . shows an example of display of the preview list. The preview list includes a plurality of previews and . In an unread mark indicating that a mail body is not obtained is added to all of the previews . When one of the previews is selected the mail obtaining section obtains the whole of the electronic mail and the display section displays the whole of the electronic mail on the display device for example the unread mark is removed.

When the user scrolls the preview list by flicking the touch panel in a vertical direction the previews being displayed are changed. The user selects the preview of an electronic mail that the user desires to view by tapping. When the preview is selected the command transmitting section transmits the RETR command requesting the transmission of the electronic mail identified by the selected preview to the mail server . Specifically the command transmitting section obtains the message number corresponding to the selected preview from the list retaining section includes the message number in the RETR command and transmits the RETR command to the mail server .

Obtaining the electronic mail from the mail server the mail obtaining section records the electronic mail in the mail accumulating section . The display section displays the mail body on the display device . Thus in the mail application according to the first embodiment the electronic mails accumulated in the mail accumulating section are limited to electronic mails downloaded according to a viewing request from the user after the generation of the preview list. Therefore the capacity used by the mail accumulating section can be reduced.

The recording management section monitors conditions of use of the recording medium and records a time that stored contents are referred to and the like. When the capacity being used approaches the predetermined upper limit capacity 10 MB the recording management section increases available capacity by deleting data on the recording medium by a cache algorithm typified by an LRU Least Recently Used system for example.

When the mail obtaining section has obtained all of the electronic mails included in the message list and the preview generating section has generated preview forming data Y in S the display section displays a preview list on the display device using the preview forming data cached in the cache section S . Incidentally the number of pieces of preview forming data cached in the cache section is limited to a predetermined number for example 200 . Thus when the mail obtaining section has obtained 200 electronic mails starting with a newest electronic mail among the electronic mails included in the message list and the preview generating section has generated preview forming data the mail obtaining section does not further obtain electronic mails.

The user makes scroll display of the preview list N in S and selects the preview of an electronic mail that the user desires to view Y in S . At this time the command transmitting section transmits the RETR command of the electronic mail identified by the selected preview to the mail server . After the mail obtaining section obtains the electronic mail from the mail server S and accumulates the electronic mail in the mail accumulating section the display section displays the mail body on the display device S .

A second embodiment provides a mail application that groups electronic mails and presents the grouped electronic mails to the user. This mail application groups and displays electronic mails including an identical set of the mail address of a sender From and the mail address of a destination To Cc in the header information of the electronic mails. In the following to facilitate understanding description will be made with the mail address of a sender and the mail address of a destination replaced with the names of the sender and the destination respectively.

For example an electronic mail whose sender is A and whose destinations are B and C and an electronic mail whose sender is B and whose destinations are A and C both have a sender and destination set of A B and C and therefore belong to a same group. On the other hand an electronic mail whose sender is A and whose destinations are B and C and an electronic mail whose sender is A and whose destinations are B C and D have different sender and destination sets and therefore belong to different groups. Thus the mail application according to the second embodiment groups electronic mails whose sender and destination sets perfectly match each other into one group.

The input section receives operating instructions from the user which instructions are input from the input device and the touch panel . The recording medium records thereon data used by the mail application. Incidentally another recording device for example the storage may be used in place of the recording medium .

The CPU includes an interface a list obtaining section a mail obtaining section a command transmitting section a mail transmitting section a display section a grouping section and a recording management section . The respective functions of the interface the list obtaining section the mail obtaining section the command transmitting section the mail transmitting section the display section and the grouping section are implemented by the mail application. The recording management section manages conditions of use of the recording medium by the mail application so as to prevent the capacity used by the mail application from exceeding an upper limit for example 10 MB .

Incidentally the recording management section is also provided in the electronic mail receiving device according to the first embodiment. Even when a plurality of mail applications are implemented in the electronic mail receiving device the recording management section manages the conditions of use of the recording medium so as to prevent a total capacity used by the plurality of mail applications from exceeding the upper limit.

When the input section receives a mail application starting instruction the mail application according to the second embodiment is started. The mail application according to the second embodiment does not generate the previews described in the first embodiment and therefore performs the authentication procedure the transaction procedure and the update procedure shown in . Incidentally because an upper limit 10 MB is set to the storage capacity allocated to the mail application electronic mails transmitted and received by the mail application according to the second embodiment are desirably reduced in electronic mail data size by limiting the number of characters of messages for example.

The command transmitting section transmits a STAT command and a LIST command from a wireless communication module to a mail server via the interface . The command transmitting section also transmits a UIDL command. The list obtaining section obtains a message list list including the message number and the number of bytes of each electronic mail from the mail server . The list obtaining section also obtains a correspondence list of electronic mail IDs and message numbers which correspondence list is transmitted from the mail server in response to the UIDL command. The list obtaining section records the message list and the correspondence list in a list retaining section .

The command transmitting section refers to the lists recorded in the list retaining section and transmits a RETR command from the wireless communication module to the mail server via the interface . The mail server extracts an electronic mail having a message number included in the RETR command from a mailbox and transmits the electronic mail to the electronic mail receiving device . The mail obtaining section obtains the electronic mail including header information and a mail body and accumulates the electronic mail in a mail accumulating section . Incidentally the mail application according to the second embodiment may transmit and receive electronic mails using IMAP Internet Message Access Protocol .

The grouping section identifies electronic mails accumulated in the mail accumulating section which electronic mails include an identical set of the mail address of a sender and the mail address of a destination in the header information of the electronic mails and performs grouping. Specifically the grouping section refers to the mail addresses of a sender From and a destination To Cc included in header information and generates a sender and destination set for each electronic mail. For example when the sender of a certain electronic mail is A and the destinations of the electronic mail are B and C the sender and destination set of the electronic mail is A B C. In addition when the sender of another electronic mail is B and the destinations of the electronic mail are A and C the sender and destination set of the electronic mail is A B C. Hence the sender and destination sets of the two electronic mails perfectly match each other and the grouping section sorts the two electronic mails into a same group. For example the grouping section may set a group ID identifying the group and create a database associating each electronic mail with the group ID.

Incidentally the electronic mail receiving device allows the user to input a message from the input device or the touch panel and generate a transmission mail. The mail transmitting section identifies a destination and transmits the electronic mail and accumulates the transmitted electronic mail in the mail accumulating section . The grouping section performs grouping including not only received electronic mails but also transmitted electronic mails.

The display section displays groups classified by the grouping section on the display device . This GUI Graphical User Interface provides a state that looks as if electronic mails were sorted in folders to the user.

When the user scrolls the group list by flicking the touch panel in a vertical direction the group forming information being displayed is changed. The user selects the group forming information whose electronic mails the user desires to view by tapping. In this case suppose that the group forming information is selected.

The display section displays the mail bodies of electronic mails transmitted within the group in message display regions and . In this case the message display region displays a message transmitted by the user himself herself to the other members Ken and Taro and the message display region displays a message transmitted by Ken to the user himself herself and Taro. The display section thus displays the electronic mail transmitted by the mail transmitting section together with the electronic mail obtained by the mail obtaining section .

Thus collectively displaying the electronic mails transmitted within the group including the transmitted mail and the received mail enables the user to grasp instantly what information communications have been performed within the group.

Incidentally for easy recognition of the electronic mail transmitted by the user himself herself or the electronic mail received by the user himself herself the display section forms the message display region displaying the transmitted message of the user himself herself and the message display region of the electronic mail received by the mail obtaining section at positions shifted from each other in a horizontal direction. In the example of the message display region is formed at a position shifted to a right side by a predetermined length with respect to the message display region .

In addition the icon image of the user himself herself is displayed on the right side of the message display region displaying the transmitted message of the user himself herself and the icon image of the member is displayed on the left side of the message display region displaying the received message. The left and the right may be opposite. However arranging the icon images of the user himself herself and the other member on the opposite sides when displaying the icon images and the message display regions in horizontal arrangements can make it easy to determine whether a message is a transmitted message or a received message.

In addition the display section forms a message writing region for writing a transmission message in a position other than those of the message display regions and . The message writing region may be formed in the form of a window. When the display section displays the message writing region on the same screen as that of the message display regions and the user can write a message in the message writing region while viewing the message included in the transmitted mail or the received mail so that communications within the group can be smoothened.

The user makes scroll display of the group list N in S and selects a group that the user desires to view Y in S . The display section extracts electronic mails given the ID of the selected group from the mail accumulating section arranges the electronic mails from a top in descending order of date and displays the mail bodies of the electronic mails S .

The present invention has been described above on the basis of embodiments thereof. The embodiments are illustrative and it is to be understood by those skilled in the art that combinations of constituent elements and processing processes of the embodiments are susceptible of various modifications and that such modifications also fall within the scope of the present invention.

