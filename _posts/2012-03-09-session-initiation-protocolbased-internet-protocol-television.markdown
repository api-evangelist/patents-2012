---

title: Session initiation protocol-based internet protocol television
abstract: Video on demand (VoD) and other video streaming and delivery mechanisms are provided using a messaging protocol (e.g., a session initiation protocol (SIP))-based approach that builds upon existing service delivery platforms. In one example, SIP functionality is extended to provide the ability to control and alter a delivery mode of a content stream, such as to change a playback mode or quality of service, by providing such requests as part of the instruction or payload of existing SIP messages, or by providing new SIP messages. Using SIP allows for third party control, such as by IPTV applications, which is not provided by current Real Time Streaming Protocol (RTSP)-based systems. SIP also can establish a peer-to-peer connection between a client and a SIP-enabled content server to allow the client to directly control the media stream. As an advantage over RTSP, SIP provides for bi-directional messaging between SIP endpoints.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08370506&OS=08370506&RS=08370506
owner: Oracle International Corporation
number: 08370506
owner_city: Redwood Shores
owner_country: US
publication_date: 20120309
---
This application is a continuation of U.S. patent application Ser. No. 11 943 101 filed Nov. 20 2007 entitled SESSION INITIATION PROTOCOL BASED INTERNET PROTOCOL TELEVISION which is hereby incorporated herein by reference.

A portion of the disclosure of this patent document contains material that is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure as it appears in the Patent and Trademark Office patent file or records but otherwise reserves all copyright rights whatsoever.

The present invention relates generally to the delivery of multimedia content. In particular the invention relates to the control and delivery of video over an IP based network.

As high speed digital connections become more common applications and services are increasingly being offered over such connections. For example an increasing number of people are transferring their telephony services to broadband based technologies such as Voice over IP VoIP which provide for the initiating and routing of voice conversations over the Internet or another IP based network. An increasing number of people are also receiving video such as cable television over a broadband connection. One technology for delivering digital television service is Internet Protocol Television IPTV which delivers high quality multi channel television and streaming video content using an Internet Protocol over an IP based network instead of using traditional broadcast or cable technologies. The IPTV content can be played not only on a personal computer or laptop but can be displayed on a television cell phone portable media player PDA etc.

Today IPTV typically is delivered using a protocol such as the Real Time Streaming Protocol RTSP as well as other such protocols. None of these approaches are based on the session initiation protocol SIP or a protocol that separates session control and or signaling from transport. This lead to problems as for example SIP based devices cannot take full advantage of IPTV and other types of control mechanisms for multimedia data with for example VCR like functionality. As a result it also is difficult to allow a SIP or HTTP SIP application for example to provide IPTV like services at best simply serving content catalogs and not much more. Similarly networks such as IMS designed for SIP cannot directly use IPTV as part of the SIP IP IMS architecture. The exchange has to be treated as purely network based which defeats some of the design principles of IMS. Also RTSP is a stateful protocol that does not utilize a session ID such that a permanent TCP connection is not needed but instead utilizes RTSP messages sent between the client and server. For multicasting video content a protocol such as the Internet Group Management Protocol IGMP is typically used for a linear IPTV service delivery wherein each host and application desiring to be part of a multicast group must use IGMP to indicate such desire. Adjacent routers must also use this protocol to communicate. Other protocol specifications may be used by some e.g. for mobile broadcasting but they all suffer similar issues.

These protocols tend to be complex and require specific architectures. For companies such as telecommunications companies which are already losing revenue to cable companies who are now offering telephony services it would be desirable to be able to offer ITPV using existing telecommunications technologies and architectures without the need for extensive upgrades and more complex systems. Further there are services that are not offered by protocols such as RTSP such as third party control of a stream between a client and a server that it would be desirable to be able to offer to a customer or third party vendor.

Systems and methods in accordance with various embodiments of the present invention can overcome these and other deficiencies in existing media content delivery systems. A signaling or session control system utilizing an appropriate messaging protocol and which is separated from the delivery of media allows a client device to directly control the delivery of content from a media server allowing the client device to obtain VCR function style control over a media stream from the media server and exchange quality of service information regardless of whether the media content is ultimately stored or buffered on the client device. This signaling system can include or be based on for example the session initiation protocol SIP . The system also can work in a peer to peer environment or can work via a third party call control of a media session. One embodiment includes a SIP based IPTV solution such as an IPTV solution where signaling is decoupled from the delivery of media and which allows for real time VCR type control of the stream and the collection of streaming statistics e.g. QoS of stream .

In one embodiment a service delivery device utilizes such a messaging protocol to communicate with a media server and with a client device. The service device can receive a request from any of a number of client devices to initiate a content delivery session for a client device. The service delivery device then can send the request to a content application if necessary such as to authenticate or bill for the delivery and passes the request on to the media server. Upon receiving the request message using the messaging protocol the media server begins streaming or otherwise delivering the requested content. The service delivery device can receive additional requests from a client during a session to alter an aspect of the delivery stream. For example a user of a client device might want to play pause reverse forward fast forward fast reverse or stop the stream from the media server. The service delivery device then passes the request onto the media server using the messaging protocol so that the media server can alter the stream appropriately.

Embodiments as discussed herein can take advantage of a number of deployment models such as in SIP where there can be a client to server deployment which can include a peer to peer or real client to real server deployment and a client to server using SIP and RTP and server to source deployment. Embodiments also can utilize a third party multimedia call control such as a B2B UA or call control enabler.

The media content can be any appropriate content such as Internet Protocol Television IPTV content. Also the media server can be any appropriate media server such as a Real Time Streaming Protocol RTSP media server and a messaging protocol enabled RTSP gateway can be used to receive the requests from the service delivery device and send a corresponding RTSP request to the media server in response thereto. Information regarding the delivery of content can be contained in a header of the initial messaging protocol message and any subsequent messaging protocol message. Alternatively information regarding the delivery of content can be contained in a messaging protocol request specific to the delivery of content.

A further understanding of the nature and the advantages of the inventions disclosed herein may be realized by reference of the remaining portions of the specification and the attached drawings.

Systems and methods in accordance with various embodiments can overcome the aforementioned and other deficiencies in existing multimedia delivery systems by providing a signaling or session control system based approach to IPTV and media streaming in general where processing is performed on the stream and not on downloaded files or buffered buckets of streams. The stream can be processed directly using a messaging protocol such as the Session Initiation Protocol SIP for example instead of a protocol such as RTSP that is presently used for broadcasting information. Such an approach allows video streams to be driven using SIP requests such as is used for VoIP and other multimedia exchanged using existing service delivery platforms and other such architecture. Traditionally SIP allows for functionality such as starting stopping pausing and muting e.g. via the Session Description protocol SDP e.g. exchange of mismatched SDPs a content stream as well as selecting an appropriate codec e.g. MPEG 2 H.264 MPEG4 AVC Windows media player codec etc. and redirecting the stream. Through slight extensions to SIP messaging IPTV can be controlled via SIP and can offer functionality such as forward fast forward reverse fast reverse pause and record. Using SIP also allows for third party control such as by a television listing application that can direct a media server to stream content to a client device.

SIP can also be used to establish a peer to peer connection between a client device and a content server for example to allow the client to directly control the media stream. SIP has an advantage over RTSP for such purposes as SIP provides for bi directional messaging between SIP endpoints while RTSP is a one directional protocol wherein a media server can either play or record data with the direction indicated at the setup of the media stream. Both endpoints can be controlled in a full duplex bi directional stream. A bidirectional VCR stream for example allows for functions such as real time video calls. To further explain the differences from existing systems in peer to peer models one peer can see what the other peer sees or what is being played without the ability to perform functions such as playback or reverse unless that peer is locally storing or buffering the information on the receiving side. In an approach in accordance with one embodiment data can remain stored only on the sending side but can be controlled from the receiving side. In such a case the sender behaves as a media server for the stream.

In the case of SIP for example a third party multimedia call control enabler can be used that allows a third party application to control the multimedia stream. Such functionality cannot easily be achieved with a traditional IPTV solution at least not within a Web type application based on SIP and HTTP. Embodiments in accordance with the present invention can allow a web application e.g. SIP or converged SIP HTTP to drive control the behavior of the streamed data including VCR type functionality. In third party and peer to peer implementations for example statistics can be exchanged regarding the quality of the stream such as via a SIP client to server or client to application approach. So that other measures can be taken to correct a pause replay buffer logic for the application can utilize the third party multimedia call control or the client or server e.g. in client server mode .

As discussed above it is desirable for certain embodiments to function with existing technologies used by entities such as telecommunications companies. In one such embodiment a SIP implementation takes advantage of a service delivery platform SDP based architecture such as is illustrated in and . In the exemplary architecture of the SDP includes a horizontal standards based platform that abstracts the underlying network resources and follows a service oriented architecture SOA . Further information about such a service delivery platform is detailed in co pending U.S. patent application Ser. No. 11 357 653 filed Feb. 16 2006 entitled FACTORIZATION OF CONCERNS TO BUILD A SDP SERVICE DELIVERY PLATFORM which is hereby incorporated herein by reference. In one embodiment the SDP utilizes a horizontal SOA platform based on the Java 2 Platform Enterprise Edition J2EE . The SDP includes a converged container based on Java Specification Requests JSR 116 289 and JSR 32 which includes SOA SIP AS OSA AS and telephony AS as a J2EE converged container. The SDP also exposes mobile voice and other communications enablers.

In the SDP configuration implements the desired functionality on top of an underlying J2EE core provided by the application server. A basic approach to providing a service delivery platform starts with a standards based IT platform e.g. J2EE and makes the platform carrier grade and extends beyond HTTP to protocols such as SIP Diameter and Parlay. To support the key protocols relevant to Telecommunications for example the SDP can provide support for SIP ISC Diameter and Parlay CORBA as well as adapters to messaging gateways. A standard approach can be used to build adapters to any other resource or protocol using JCA 1.5 for example. Enablers are provided as reusable components that abstract the network resources and standard northbound interfaces. IT SOA then can be used to provide services such as revenue generating services utilizing SOA based policies and business rules e.g. from third parties . The platform then can provide for SOA based integration of OSS BSS and SDP. Exposure to third party content and service provider can be achieved by SOA to expose integrate and enforce policies. SOA also can be used to also support and rationalize policy management and evaluation throughout the service provider environment.

The SDP can be thought of as a service layer solution that can be deployed on Oracle fusion middleware OC4J as well as JBOSS BEA Weblogic and IBM Websphere for example. While SIP is described as a first class citizen protocol besides HTTP other protocols can be supported out of the box using a recipe for JCA 1.5 adapters to Parlay CORBA Diameter Messaging protocols etc. The J2EE container is converged i.e. every object from SIP HTTP J2EE object etc. can share context and interact with each other s when it makes sense and carrier grade details provided after . This includes the use of TimesTen and open source technologies like JGroups and also can be able to rely on Tangosol Coherence to provide session replication and efficient distributed cache. The enabler framework includes an OSA AS i.e. Parlay JR 5.1 J2EE local interface and Parlay X 2.1 . These are realized on SIP and Parlay JCA and can be realized on others as well. A JSR 116 SIP servlet converged container SIP AS can be used for IETF and IMS ISC deployments. The SIP servlet container also can include all the necessary components to deploy a vanilla IETF SIP network i.e. proxy router edge server registrar location STUN server support for ENUM server application dispatcher .

A set of enablers can be provided and implemented on SIP and Parlay. These enablers can include for example a presence enabler that follows OMA SIP SIMPLE Presence XDM and RLS enabler specifications. It is an out of the box IMS presence server and SIP SIMPLE presence server. It can also aggregate presence from other networks e.g. Parlay network presence and provide northbound parlay X interface for application to use presence without participating to the presence network. Location data can be modeled as a presence attribute using an extensible presence data model. A multi channel A2P and P2A messaging enabler can allow for sending and receiving messages in channels like SMS MMS email IM XMPP SIP and others. Enablers can allow for multimedia and multiparty call control over SIP internet and IMS as well as Parlay. Enablers can provide service level charging that exposes online offline charging balance inquiry and tracking pre rated charging etc integrated to Ro Rf AAA media gateways Parlay and Oracle BRM. Others can be similarly integrated via JCA 1.5 adapters to be developed by third parties. A media server control enabler and voice access enablers that are the MRFC functions of MRF are able to control a wide variety of voiceXML servers IVRs announcement servers and media servers e.g. MSML MSCML MSCP and MGCP . Protocols not available out of the box can be built on SIP AS or using JCA 1.5.

The whole platform can be used with identity management services. In one example a UUP unified user profile built on a Virtual Directory offers an identity managed single view of the information about the subscribers or other principles from OSS e.g. assets in inventory BSS e.g. bill and subscriptions network e.g. HSS via Sh Dynamic information e.g. presence or location and any other service level specific information e.g. credentials and application or enabler data .

In one embodiment the service delivery platform SDP is a standards based horizontal platform that abstracts the underlying network resources follows a service oriented architecture and realizes OSE. The platform can be a SOA platform based on J2EE which includes a J2EE converged container and exposes various communication enablers. Enablers can include for example call control enablers and media server control enablers as discussed elsewhere herein. Further interfaces can be exposed to applications and other enablers and resources for usage of various functionality. Some or all of the interfaces can be standard or standardizable as is its behavior such as may include OMA Parlay Parlay X and WS components. For the purpose of the SDP these enablers can provide various MVC Mobile Voice Communications functionality. The applications can be built using one or more enablers and can add notions like a user interface UI user management and charging either in the code or via delegation and orchestration.

In order to provide the media stream control functionality in SIP one approach involves adding to the header of a SIP message such as an SIP call flow message. The header can be modified to explicitly provide for additional comments that can be used to provide the desired stream control. These options can include for example functionality such as fast forward reverse pause and record among other such options known for controlling video display or playback. In one embodiment SIP can be used as currently implemented with a call flow message that contains in the header of the message the requested operation. In another embodiment a new explicit comment can be added to a SIP call flow message that supports this functionality. These capabilities can be added to a call control enabler or a media server enabler for example and can be accomplished directly in SIP AS as a SIP application e.g. a SIP servlet like JSR 116 or JSR 289 .

In one embodiment VCR style playback and control functionality is achieved by associating each new instruction e.g. pause fast forward to a new SIP message such as PAUSE FORWARD REWIND FAST FORWARD FAST REWIND as well as other speeds MUTE SKIP RESTART FROM BEGINNING RESTART FROM WHERE STOPPED etc. along with a time argument i.e. how much fast forward or fast forward start until fast forward stop. In another approach these instructions are added as arguments or header instructions of existing SIP messages such as INFO or NOTIFY. Errors status and other information can also be provided as extended instructions or passed as header info messages. Which approach is selected does not matter nor does the actual syntax or resulting flows. Many options exist and for different technical reasons some may be preferable in certain situations. What is important is that the SIP messages and flows are able to convey these instructions to the media server and based thereon the media server can appropriately modify the media stream or multimedia streams.

In access to an IPTV application is provided through the SDP . A SIP enabled IPTV client such as a television box or cell phone can communicate with the IPTV application through the SDP. This system also includes a SIP enabled media server capable of receiving SIP messages and streaming content to the client in response thereto. In one embodiment the IPTV initiates the IPTV stream while in another embodiment the client contacts the IPTV application to request initiation of a stream. The call control enabler in either approach then can receive instructions from the IPTV application to establish a media session for the client. For example the IPTV application can be a television listing application that has been programmed by a user of the client device to have a particular video program delivered to the client device at a particular time. In one example the IPTV application can be programmed to deliver a program to be recorded locally at the client device such as for a digital video recorded DVR . In another example a client device can instruct the media server to stream content to the client device at certain times of day such as for a business that wants content streaming during business hours or to stream a certain media file as soon as it becomes available. The call controller can send the initial SIP message to the media server to start the stream and can send another message to the client device to be ready to receive the stream thereby establishing a session . A media server control enabler can send subsequent SIP messages to the media server to control the stream such as to change the quality of the stream engage in trick modes e.g. fast forward or reverse or stop the stream to the client at a certain time.

A media server control enabler for stream control can be any appropriate media server adapter e.g. MSML MSCML MSCP MRCP or another control protocol . In cases where SIP may not be involved protocols such as MRCP MOML MGCP or MEGACO still can be used for control of the media server. As discussed any protocol can be used with the media control enabler and it is not necessary for the enabler to be driving with SIP as southbound adapter. As a result the application can use the media server control protocol to control the server with SIP or with non SIP adapters protocols. Further as the enabler is not required these protocols also can be implemented directly. In such cases however the client still can have communicated to the application via SIP that there is a desired change to the delivery stream.

The IPTV SIP media server also can be in communication with at least one multicast source in order to support multicasting of material to media servers when needed. In some embodiments once the stream is established by the call control enabler the client can be able to send SIP requests directly to the media server in order to control the video stream. In other embodiments there may be more than one third party application involved in the process such as one application to initiate the stream and another to provide for stream control or quality.

A system such as that of also can allow for both end points to be controlled in a full duplex bi directional stream. This can allow for functionality such as for example a real time video call between the two end points.

It also can be desirable to provide statistics such as the quality of a particular video stream being delivered to a client such is provided by RTSP based systems. In order to provide such functionality a SIP message can be generated that is used to describe the quality of the stream that has been received by the receiver e.g. the SIP client . Upon receiving the message indicating the quality the IPTV network or system can adjust the quality of service bandwidth etc. in order to adjust the quality to a determined level. There can be different qualities of service expected for different functions such as a high quality of service for standard playback and a lower quality of service for fast forward playback for example. Again the system can provide VCR style functionality for playback and control using a SIP based approach.

Such an approach can be important as many service providers are presently focusing their short or long term attention to IMS and its value proposition. It is envisioned that SIP based networks ranging from vanilla SIP on the Internet to IMS will be widely deployed. Unfortunately IPTV as currently envisaged is not SIP based or considered to be SIP friendly as using currently technology SIP can at best be used to initiate a RTSP session and nobody knows how to fit SIP IPTV in the IMS architecture other than as underspecified MRFC MRFP. It therefore is not only desirable to make IPTV work with SIP but to make it easy to implement and understand using existing technology as described herein.

Embodiments of the present invention may be implemented in SIP using methods and systems described in co pending U.S. patent application Ser. No. 11 383 024 entitled SIP Routing Customization filed on May 12 2006 which is incorporated herein by reference in its entirety for all purposes. However embodiments of the present invention are thought to be equally applicable to other signaling protocols. In another example the interface of the call control enabler may use some Parlay or other interfaces. It should also be noted that while described herein with regard to video on demand embodiments in accordance with the invention are transposable to any multimedia sessions or exchanges not just video deliver. In other cases embodiments of the present invention can provide a multimedia session that can be directed to a generic processor that interacts with the media and extracts data then returns a result to the invoking or controlling application that then decides how to processed. The multimedia session may be SIP or another protocol. The media stream may be Real time Transport Protocol RTP Real Time Streaming Protocol RTSP Message Session relay Protocol MSRP or another protocol. Session control and media may be separated or combined.

In most embodiments the system includes some type of network . The network may can be any type of network familiar to those skilled in the art that can support data communications using any of a variety of commercially available protocols including without limitation TCP IP SNA IPX AppleTalk and the like. Merely by way of example the network can be a local area network LAN such as an Ethernet network a Token Ring network and or the like a wide area network a virtual network including without limitation a virtual private network VPN the Internet an intranet an extranet a public switched telephone network PSTN an infra red network a wireless network e.g. a network operating under any of the IEEE 802.11 suite of protocols GRPS GSM UMTS EDGE 2G 2.5G 3G 4G Wimax WiFi CDMA 2000 WCDMA the Bluetooth protocol known in the art and or any other wireless protocol and or any combination of these and or other networks.

The system may also include one or more server computers which can be general purpose computers specialized server computers including merely by way of example PC servers UNIX servers mid range servers mainframe computers rack mounted servers etc. server farms server clusters or any other appropriate arrangement and or combination. One or more of the servers e.g. may be dedicated to running applications such as a business application a Web server application server etc. Such servers may be used to process requests from user computers . The applications can also include any number of applications for controlling access to resources of the servers .

The Web server can be running an operating system including any of those discussed above as well as any commercially available server operating systems. The Web server can also run any of a variety of server applications and or mid tier applications including HTTP servers FTP servers CGI servers database servers Java servers business applications and the like. The server s also may be one or more computers which can be capable of executing programs or scripts in response to the user computers . As one example a server may execute one or more Web applications. The Web application may be implemented as one or more scripts or programs written in any programming language such as Java C C or C and or any scripting language such as Perl Python or TCL as well as combinations of any programming scripting languages. The server s may also include database servers including without limitation those commercially available from Oracle Microsoft Sybase IBM and the like which can process requests from database clients running on a user computer .

The system may also include one or more databases . The database s may reside in a variety of locations. By way of example a database may reside on a storage medium local to and or resident in one or more of the computers . Alternatively it may be remote from any or all of the computers and or in communication e.g. via the network with one or more of these. In a particular set of embodiments the database may reside in a storage area network SAN familiar to those skilled in the art. Similarly any necessary files for performing the functions attributed to the computers may be stored locally on the respective computer and or remotely as appropriate. In one set of embodiments the database may be a relational database such as Oracle 10 g that is adapted to store update and retrieve data in response to SQL formatted commands.

The computer system may additionally include a computer readable storage media reader a communications system e.g. a modem a network card wireless or wired an infra red communication device etc. and working memory which may include RAM and ROM devices as described above. In some embodiments the computer system may also include a processing acceleration unit which can include a digital signal processor DSP a special purpose processor and or the like.

The computer readable storage media reader can further be connected to a computer readable storage medium together and optionally in combination with storage device s comprehensively representing remote local fixed and or removable storage devices plus storage media for temporarily and or more permanently containing storing transmitting and retrieving computer readable information. The communications system may permit data to be exchanged with the network and or any other computer described above with respect to the system .

The computer system may also comprise software elements shown as being currently located within a working memory including an operating system and or other code such as an application program which may be a client application Web browser mid tier application RDBMS etc. . It should be appreciated that alternate embodiments of a computer system may have numerous variations from that described above. For example customized hardware might also be used and or particular elements might be implemented in hardware software including portable software such as applets or both. Further connection to other computing devices such as network input output devices may be employed.

Storage media and computer readable media for containing code or portions of code can include any appropriate media known or used in the art including storage media and communication media such as but not limited to volatile and non volatile removable and non removable media implemented in any method or technology for storage and or transmission of information such as computer readable instructions data structures program modules or other data including RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disk DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices data signals data transmissions or any other medium which can be used to store or transmit the desired information and which can be accessed by the computer. Based on the disclosure and teachings provided herein a person of ordinary skill in the art will appreciate other ways and or methods to implement the various embodiments.

The specification and drawings are accordingly to be regarded in an illustrative rather than a restrictive sense. It will however be evident that various modifications and changes may be made thereunto without departing from the broader spirit and scope of the invention as set forth in the claims.

