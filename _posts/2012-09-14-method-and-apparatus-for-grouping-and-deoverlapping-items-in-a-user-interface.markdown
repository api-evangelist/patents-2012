---

title: Method and apparatus for grouping and de-overlapping items in a user interface
abstract: An approach is provided for grouping and de-overlapping items in a user interface. A display manager determines one or more items for rendering in a user interface. The display manager then causes, at least in part, a determination of one or more rendering locations for one or more representations of the one or more items based, at least in part, on location information associated with the one or more items. The display manager further causes, at least in part, a grouping, a de-overlapping, or a combination thereof of the one or more representations based, at least in part, on an overlapping of the one or more rendering locations. The display manager also causes, at least in part, a rendering of the one or more representations in the user interface based, at least in part, on the grouping, the de-overlapping, or a combination thereof.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09087412&OS=09087412&RS=09087412
owner: NOKIA TECHNOLOGIES OY
number: 09087412
owner_city: Espoo
owner_country: FI
publication_date: 20120914
---
This application claims benefit of the earlier filing date under 35 U.S.C. 119 e of U.S. Provisional Application Ser. No. 61 539 255 filed Sep. 26 2011 entitled Method and Apparatus for Grouping and De overlapping Items in a Perspective Display the entirety of which is incorporated herein by reference.

Service providers e.g. wireless cellular etc. and device manufacturers are continually challenged to deliver value and convenience to consumers by for example providing compelling network services. In particular these services can include location and navigation services on a mobile device e.g. a smartphone . For example mobile devices may include a display location based sensors e.g. Global Positioning System GPS receivers camera and a processor along with access to network based databases of information. In addition such devices can be programmed to provide a virtual view of geographic places or points of interest POIs and other display items surrounding the device to support augmented reality virtual reality three dimensional mapping and or other similar perspective displays. In this context the display of POIs can become challenging where information overload occurs on small display screens. For example as more items are rendered in the perspective display the representations or renderings e.g. icons touch buttons thumbnails etc. of those items in display begin consuming the available display area which leading to obscuring overlapping etc. of the items. Accordingly service providers and device manufacturers face significant technical challenges to enabling applications and services that support perspective based displays to present POIs or other items so that users can more easily absorb and or interact with those items. These challenges can be particularly acute on mobile devices where display computing memory and or other resources may be limited.

Therefore there is a need for an approach for efficiently grouping and de overlapping items e.g. POIs in a user interface.

According to one embodiment a method comprises determining one or more items for rendering in a user interface. The method also comprises causing at least in part a determination of one or more rendering locations for one or more representations of the one or more items based at least in part on location information associated with the one or more items. The method further comprises causing at least in part a grouping a de overlapping or a combination thereof of the one or more representations based at least in part on an overlapping of the one or more rendering locations. The method further comprises causing at least in part a rendering of the one or more representations in the user interface based at least in part on the grouping the de overlapping or a combination thereof.

According to another embodiment an apparatus comprising at least one processor and at least one memory including computer program code for one or more programs the at least one memory and the computer program code configured to with the at least one processor cause at least in part the apparatus to determine one or more items for rendering in a user interface. The apparatus also causes at least in part a determination of one or more rendering locations for one or more representations of the one or more items based at least in part on location information associated with the one or more items. The apparatus further causes at least in part a grouping a de overlapping or a combination thereof of the one or more representations based at least in part on an overlapping of the one or more rendering locations. The apparatus further causes at least in part a rendering of the one or more representations in the user interface based at least in part on the grouping the de overlapping or a combination thereof.

According to another embodiment a computer readable storage medium carrying one or more sequences of one or more instructions which when executed by one or more processors cause at least in part an apparatus to determine one or more items for rendering in a user interface. The apparatus also causes at least in part a determination of one or more rendering locations for one or more representations of the one or more items based at least in part on location information associated with the one or more items. The apparatus further causes at least in part a grouping a de overlapping or a combination thereof of the one or more representations based at least in part on an overlapping of the one or more rendering locations. The apparatus further causes at least in part a rendering of the one or more representations in the user interface based at least in part on the grouping the de overlapping or a combination thereof.

According to another embodiment an apparatus comprises means for determining one or more items for rendering in a user interface. The apparatus also comprises means for causing at least in part a determination of one or more rendering locations for one or more representations of the one or more items based at least in part on location information associated with the one or more items. The apparatus further comprises means for causing at least in part a grouping a de overlapping or a combination thereof of the one or more representations based at least in part on an overlapping of the one or more rendering locations. The apparatus further comprises means for causing at least in part a rendering of the one or more representations in the user interface based at least in part on the grouping the de overlapping or a combination thereof.

In addition for various example embodiments of the invention the following is applicable a method comprising facilitating a processing of and or processing 1 data and or 2 information and or 3 at least one signal the 1 data and or 2 information and or 3 at least one signal based at least in part on including derived at least in part from any one or any combination of methods or processes disclosed in this application as relevant to any embodiment of the invention.

For various example embodiments of the invention the following is also applicable a method comprising facilitating access to at least one interface configured to allow access to at least one service the at least one service configured to perform any one or any combination of network or service provider methods or processes disclosed in this application.

For various example embodiments of the invention the following is also applicable a method comprising facilitating creating and or facilitating modifying 1 at least one device user interface element and or 2 at least one device user interface functionality the 1 at least one device user interface element and or 2 at least one device user interface functionality based at least in part on data and or information resulting from one or any combination of methods or processes disclosed in this application as relevant to any embodiment of the invention and or at least one signal resulting from one or any combination of methods or processes disclosed in this application as relevant to any embodiment of the invention.

For various example embodiments of the invention the following is also applicable a method comprising creating and or modifying 1 at least one device user interface element and or 2 at least one device user interface functionality the 1 at least one device user interface element and or 2 at least one device user interface functionality based at least in part on data and or information resulting from one or any combination of methods or processes disclosed in this application as relevant to any embodiment of the invention and or at least one signal resulting from one or any combination of methods or processes disclosed in this application as relevant to any embodiment of the invention.

In various example embodiments the methods or processes can be accomplished on the service provider side or on the mobile device side or in any shared way between service provider and mobile device with actions being performed on both sides.

For various example embodiments the following is applicable An apparatus comprising means for performing the method of any of the claims.

Still other aspects features and advantages of the invention are readily apparent from the following detailed description simply by illustrating a number of particular embodiments and implementations including the best mode contemplated for carrying out the invention. The invention is also capable of other and different embodiments and its several details can be modified in various obvious respects all without departing from the spirit and scope of the invention. Accordingly the drawings and description are to be regarded as illustrative in nature and not as restrictive.

Examples of a method apparatus and computer program for grouping and de overlapping items in a user interface are disclosed. In the following description for the purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the embodiments of the invention. It is apparent however to one skilled in the art that the embodiments of the invention may be practiced without these specific details or with an equivalent arrangement. In other instances well known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the embodiments of the invention.

As used herein the term perspective display refers to a user interface or a portion of a user interface for presenting location based information in a three dimensional 3D representation or an approximation of a 3D representation. By way of example perspective displays are used in applications supporting augmented reality virtual reality mapping navigation and the like. Although various embodiments are described with respect to a mapping display that is an augmented reality display it is contemplated that various embodiments of the approach described herein may be used with any other type of perspective display.

However as previously discussed such perspective based displays can be complex and resource intensive to generate. For example on a device with a touch screen virtual POIs can be displayed as touchable buttons. This typically requires that the buttons be separated and have minimum screen dimensions. On a device with a camera the virtual POIs can be displayed over the camera s viewfinder image. In most cases it is desired that the representations e.g. the touch buttons icons graphics etc. of the virtual POIs appears in the vicinity of the corresponding real world locations in the user interface. In addition in the case of a mobile device e.g. a smartphone mobile handset etc. the available display is generally limited and can quickly become cluttered when there are many elements or items e.g. POIs to display. This cluttered display makes it much more difficult for a user to quickly identify important information. By way of example in an augmented reality application multiple nearby POIs can cause clutter in the display making it difficult if not impossible to see all POIs. In other words when there is a high density of POIs in the display graphical representations e.g. icons labels etc. depicting the POIs can overlap and obscure one another. Therefore service providers and device manufacturers face the problem of selecting a subset of the POIs or other items and then displaying them as separate buttons appearing near their location in the viewfinder. In other embodiments service providers and device manufacturers may face the challenge of grouping and or de overlapping the representations to for instance declutter the perspective display. In addition particularly for mobile devices service providers face the additional problem of implementing a perspective base display process that has enough computational efficiency for real time or substantially real time display.

To address this problem a system of introduces the capability of generating a perspective display e.g. an augmented reality display by efficiently mapping and selecting items e.g. POIs for generating a perspective display. More specifically in one embodiment the system generates a perspective display by converting geographic location information e.g. latitude and longitude coordinates of POIs to pixel locations in a user interface. In one embodiment the locations are converted from coordinate information e.g. latitude and longitude to polar coordinates relative to a viewing location e.g. location of a mobile device in an augmented reality display or a specified viewing location in a virtual reality display . Representations of the POIs are then mapped onto a predetermined surface e.g. a cylinder or sphere around the device using perspective information or an approximation of the perspective information e.g. an artistic perspective . In one embodiment the surface can be defined to extend beyond the visible range of a particular display e.g. extend to a 360 degree representation of the area around a viewing location such as the cylinder or sphere mentioned above .

In one embodiment the surface is then divided into an array of cells e.g. a grid or other like pattern . In this way representations of the POIs can be mapped to cover one or more of the cells and then arranged among the cells so that the representations do not overlap or substantially overlap. In one embodiment the system can employ a search process to locate non overlapping cells or block of cells for associating with the representations of the POI. In some cases the system can discard any POI that cannot be assigned an empty cell or block of cells following the search process.

In one embodiment to avoid discarding any POIs the system can employ means for grouping and or de overlapping the representations of the POIs. In one embodiment to maximize the information e.g. representations of POIs presented to the user the system prioritizes the de overlapping of close POIs to avoid grouping or clustering them. Then if de overlapping is not possible e.g. no more available display area the system can perform grouping. It is contemplated that the system can vary the degree of grouping versus de overlapping to balance the information presented against the available display resources.

In one embodiment the system can employ variety of means to de overlap or maximize the available display area for presenting POIs. For example the system can use POI distance to dynamically resize the representations of the POIs or other items in a natural perspective based layout. For example POIs that are further away are rendered using smaller representations which closer POIs are rendered in larger sizes. In some embodiments the system can further modify the representations of the POIs by adding perspective effects such as arching rotating about one or more display axes and the like based on e.g. a calculated perspective for a selected viewing location.

In another embodiment the system can group one or more representations of the POIs in the perspective display based on their degree of overlapping. For example the system can sort the POIs by for instance distance from a viewing angle and then select the closest POI as an initial reference point for determining overlapping. Moving from closest to farthest the system evaluates whether a farther POI representation overlaps a closer POI representation. If the overlap is by more than a predetermined criterion e.g. overlap by 10 or more then the farther POI representation is grouped with the closer POI representation. In one embodiment the group representation e.g. based on the closest POI a category of the grouped POIs etc. is then rendered at the centroid location of the group in the perspective display.

In another embodiment once the representations are grouped the system can provide for expansion of the group based on user interaction. For example a user can select the group representation in the perspective display to cause a rendering of the expansion of the POI representations in the group. In one embodiment the rendering of the expansion displays a representation of a centroid of the group e.g. determined based on location information of the group members with representations of individual members of the group emanating from the centroid in concentric circles e.g. depending on the number of group members . Selecting the centroid or issuing a grouping command can then regroup the representations to provide more available display space.

In one embodiment the system can further declutter a display by determining the overlapping of the representations of the POIs in the perspective display and then applying one or more de overlapping algorithms. As noted above the de overlapping algorithms can take precedence over the grouping algorithms to maximize the amount of information presented. Examples of such algorithms include but are not limited to a global de overlapping and a slice de overlapping. In one embodiment global de overlapping comprises determining a degree and direction e.g. up down left or right of overlap between any two representations and then moving one or more overlapping representations in the direction indicate by the overlapping to reduce e.g. below a criterion such as below 10 overlap or eliminate the overlap. For example the system can apply the global de overlapping algorithm from closest to farthest POI until all POIs are de overlapped.

In another embodiment the slice de overlapping algorithm comprises designating or slicing the perspective into regions and then evaluating the density of POI representations within each region. In some embodiments the system starts by evaluating overlapping of representations in the densest region first. The evaluation includes for instance determining representations that cross or straddle the boundaries between the regions. The system then moves the location of the straddling representation to either of the regions adjacent to the boundary based on for instance a degree or percent of the straddling. In other embodiments the system can move the representation to the less dense region. Once a particular is region is processed the system freezes the region e.g. locks the locations of the representations in that region and moves to the next region. The system then applies the same boundary analysis but will move representations only to regions that have not been previously frozen.

In one embodiment the system can further declutter the perspective display by determining whether certain POIs might be occluded by other features e.g. buildings terrain features etc. in the perspective display. Those representations that are occluded would then not be rendered in the perspective display. For example the system can leverage three dimensional models of an environment depicted in the perspective display and then process the locations of the POIs against the models to determine potential occlusions.

In yet another embodiment the number of cells in the array representing the perspective display the size of the cells or block of cells the length or extent of the search for non overlapping cells the grouping of the representations the de overlapping of the representations and the like enable programmatic control over the resource burden associated with the processing of generating and or rendering the perspective display. Following the defining of the surface e.g. the cylinder and the mapping of the representations of the POIs onto the surface the system can use for instance orientation information associated with a device e.g. a compass heading to select a portion of the surface to render in the perspective display of a location based user interface based on a viewing location and perspective. For example direction information is combined with information on the angle of view of the camera to select a portion of the surface to display.

If the compass heading or information changes but the location e.g. latitude and longitude of the device remains the same the system can just select a new portion of the surface to display that corresponds to the new orientation information. For example in an augmented reality display the system displays a live camera view of the surrounding location and supplements with the live image with information e.g. pictures media text labels descriptions etc. relevant to each POI in a real time manner. The viewpoint for providing the augmented reality display is dependent on for instance where the user s device is pointed as determined by the device s location directional heading and tilt angle. Accordingly as the user moves the device the view in the augmented reality display and the displayed POIs change dynamically based on the movement. In one embodiment a new set of POIs is downloaded only after the device moves far enough that it is no longer near or substantially near the original viewing location.

As noted previously the mapping display of the system is not limited to augmented reality displays and may include other types of mapping displays such an augmented virtuality display e.g. using 3D models to represent real world locations and POI information conventional 3D maps and or any other display of perspective based mapping location or navigation information. As used herein in certain embodiments mapping location and navigation information collectively referred to herein as mapping information refers to information about the user s location e.g. map coordinates other locations e.g. destinations POIs relationships between locations e.g. directions for travelling between the locations relative positions of the locations associations between the locations and the like.

As shown in a user equipment UE may retrieve mapping information e.g. POI information 3D maps from a map platform via a communication network . The mapping information may be utilized by applications on the UE e.g. an augmented reality application a navigation application . The applications may also include a display manager to generate perspective displays as discussed with respect to various embodiments described herein for use or presentation by the applications . Moreover the POI or other item information to be included in the perspective display may be included in a map database associated with the map platform for access by the applications . In certain embodiments POI and other related information is information that may be utilized by the augmented reality application for display to the user. As discussed previously POI information may also include or be associated with maps satellite images street and path information signing information associated with maps objects and structures associated with the maps information about people and the locations of people places of interest associated metadata coordinate information associated with the information three dimensional models of the environment etc. or a combination thereof. A POI can be a specific point location that a person may for instance find interesting or useful. Examples of places or points of interest can include an airport a bakery a dam a landmark a restaurant a hotel the location of a person or any point interesting useful or significant in some way.

In certain embodiments POI information may be associated with content information including live media e.g. streaming broadcasts stored media e.g. stored on a network or locally metadata associated with media text information location information of other user devices or a combination thereof. The content may be provided by the service platform which includes one or more services e.g. music service mapping service video service social networking service content broadcasting service etc. the one or more content providers e.g. online content retailers public databases etc. other content source available or accessible over the communication network . For example the applications may display location related content information e.g. content associated with a POI or with a particular location in the perspective display in addition or as an alternate to the POI information. If there are high densities of such content information in the mapping display the display manager may be used to select and render the content information as well.

In one embodiment an image capture module of the UE may be utilized in conjunction with the augmented reality application to present location information e.g. mapping and POI information to the user. For example the user may be presented with an augmented reality interface associated with the augmented reality application or the navigation application that presents mapping information e.g. POI information content information and the like on a mapping display. In certain embodiments the user interface may display a hybrid physical and virtual environment where 3D objects from the map database are placed superimposed on top of a live e.g. via a camera of the UE or pre recorded image e.g. a 360 panoramic picture of a corresponding location. In another embodiment the mapping information and the maps presented to the user may be a simulated 3D environment in place of or in addition to the live augmented reality display. Accordingly the display manager can operate on the augmented reality mapping display the simulated 3D display and or other perspective displays to select items and related information e.g. POI information location related content information presented therein.

As noted the UE may execute one or more of the applications to view or access POI information. As mentioned above the mapping information may include POI information location information directions or associations to a location or a combination thereof. In one example a default setting may allow the user to view information about POIs associated with locations structures and other objects associated with an augmented reality display or 3D environment. For example the user may point the UE towards a location or feature in the mapping display to view corresponding POI information. More specifically the application e.g. the augmented reality application may associate the location or feature with geographic coordinates based on the determined viewpoint. Then the application may retrieve POI information corresponding to the location from the map platform for presentation in the mapping display. As discussed if the POI information includes multiple POIs that are closely located the mapping display can become cluttered making it difficult to discern and identify the closed located POIs. In this case the display manager operates on the perspective display to reduce clutter by selecting and organizing POI or item information for display.

By way of example the communication network of system includes one or more networks such as a data network not shown a wireless network not shown a telephony network not shown or any combination thereof. It is contemplated that the data network may be any local area network LAN metropolitan area network MAN wide area network WAN a public data network e.g. the Internet short range wireless network or any other suitable packet switched network such as a commercially owned proprietary packet switched network e.g. a proprietary cable or fiber optic network and the like or any combination thereof. In addition the wireless network may be for example a cellular network and may employ various technologies including enhanced data rates for global evolution EDGE general packet radio service GPRS global system for mobile communications GSM Internet protocol multimedia subsystem IMS universal mobile telecommunications system UMTS etc. as well as any other suitable wireless medium e.g. worldwide interoperability for microwave access WiMAX Long Term Evolution LTE networks code division multiple access CDMA wideband code division multiple access WCDMA wireless fidelity WiFi wireless LAN WLAN Bluetooth Internet Protocol IP data casting satellite mobile ad hoc network MANET and the like or any combination thereof.

The UE is any type of mobile terminal fixed terminal or portable terminal including a mobile handset station unit device multimedia computer multimedia tablet Internet node communicator desktop computer laptop computer notebook computer netbook computer tablet computer personal communication system PCS device personal navigation device personal digital assistants PDAs audio video player digital camera camcorder positioning device television receiver radio broadcast receiver electronic book device game device or any combination thereof including the accessories and peripherals of these devices or any combination thereof. It is also contemplated that the UE can support any type of interface to the user such as wearable circuitry etc. .

By way of example the UE map platform and service platform communicate with each other and other components of the communication network using well known new or still developing protocols. In this context a protocol includes a set of rules defining how the network nodes within the communication network interact with each other based on information sent over the communication links. The protocols are effective at different layers of operation within each node from generating and receiving physical signals of various types to selecting a link for transferring those signals to the format of information indicated by those signals to identifying which software application executing on a computer system sends or receives the information. The conceptually different layers of protocols for exchanging information over a network are described in the Open Systems Interconnection OSI Reference Model.

Communications between the network nodes are typically effected by exchanging discrete packets of data. Each packet typically comprises 1 header information associated with a particular protocol and 2 payload information that follows the header information and contains information that may be processed independently of that particular protocol. In some protocols the packet includes 3 trailer information following the payload and indicating the end of the payload information. The header includes information such as the source of the packet its destination the length of the payload and other properties used by the protocol. Often the data in the payload for the particular protocol includes a header and payload for a different protocol associated with a different higher layer of the OSI Reference Model. The header for a particular protocol typically indicates a type for the next protocol contained in its payload. The higher layer protocol is said to be encapsulated in the lower layer protocol. The headers included in a packet traversing multiple heterogeneous networks such as the Internet typically include a physical layer 1 header a data link layer 2 header an internetwork layer 3 header and a transport layer 4 header and various application headers layer 5 layer 6 and layer 7 as defined by the OSI Reference Model.

In one embodiment the augmented reality or navigation application and the map platform may interact according to a client server model. According to the client server model a client process sends a message including a request to a server process and the server process responds by providing a service e.g. providing map information . The server process may also return a message with a response to the client process. Often the client process and server process execute on different computer devices called hosts and communicate via a network using one or more protocols for network communications. The term server is conventionally used to refer to the process that provides the service or the host computer on which the process operates. Similarly the term client is conventionally used to refer to the process that makes the request or the host computer on which the process operates. As used herein the terms client and server refer to the processes rather than the host computers unless otherwise clear from the context. In addition the process performed by a server can be broken up to run as multiple processes on multiple hosts sometimes called tiers for reasons that include reliability scalability and redundancy among others.

In addition the location manager can interact with a POI data manager to determine what items e.g. POIs to display. More specifically the POI data manager fetches e.g. via wireless or over the air connection POI information from one or more remote services such as the map database of the map platform based on location information e.g. GPS information provided by the location manager . In one embodiment because the GPS location changes as the device moves the display manager fetches POI data only when the move is sufficiently farther from the previous location when the previous set of POIs were fetched. By way of example such a move e.g. a move beyond a predetermined distance threshold is dubbed as Big Move in .

In one embodiment a predetermined number the number is configurable of POIs are fetched on a Big Move and cached e.g. in the POI cache . More specifically the POI data manager determines that there is a Big Move and that a new layout of the perspective display is needed to accurately generate the view from the new viewing location. This determination causes the POI data manager to direct a layout engine to initiate generation of a new or updated perspective display. This process includes for example retrieving the POI information from the POI cache and then determining the geographical locations of nearby POIs and or items with respect to the new location. In one embodiment the locations or nearby POIs are calculated and stored in a XY layout data module . The layout engine then notifies a POI display engine that the new layout is ready for rendering to the user.

In contrast when a device moves a smaller distance e.g. less than 50 m dubbed as Small Move or when the change in location information is a change in orientation information e.g. rotating tilting panning the device then no new POIs are fetched. Instead the existing POIs are re positioned and the perspective display is regenerated by the POI display engine . In one embodiment the POI display engine presents an augmented reality display by directing the image capture module of the UE to provide to a user a live camera view of a current location of the UE . The image capture module may include a camera a video camera and or other imaging device. In one embodiment visual media is captured in the form of an image or a series of images. These images are then presented in the mapping display by the POI display engine .

In addition or alternatively to generate the augmented reality display the POI display engine may provide a mapping display using non reality based representations e.g. a 3D simulated environment or other rendered maps of a particular location as described above. For example the rendering module may obtain mapping data e.g. 3D models map tiles map images terrain features etc. from the map database or the map platform to render the mapping display.

Thus employing techniques such as smart fetching caching POIs grouping de overlapping and or proprietary display algorithms the system provides the user with a seamless and fluid experience in viewing POIs while reducing potential clutter and information overload.

The perspective display may be presented to the user via the user interface which may include various methods of communication. For example the user interface can have outputs including a visual component e.g. a screen an audio component e.g. a verbal instructions a physical component e.g. haptic feedback and other methods of communication. User inputs can include a touch screen interface microphone camera a scroll and click interface a button interface etc. Further the user may input a request to start an application e.g. an augmented reality or navigation application and utilize the user interface to receive a perspective display including POI and or other mapping information. Through the user interface the user may request different types of content mapping or location information to be presented. Further the user may be presented with 3D or augmented reality representations of particular locations and related objects e.g. buildings terrain features POIs etc. at the particular location as part of a graphical user interface on a screen of the UE .

The map platform interface is used by the runtime module to communicate with the map platform . In some embodiments the interface is used to fetch POI information and or related content mapping and or location information from the map platform service platform and or content providers . The UE may utilize requests in a client server format to retrieve the POI and or mapping information. Moreover the UE may specify location information and or orientation information in the request to retrieve the POI and or mapping information. The location module magnetometer module accelerometer module and image capture module may be utilized to determine location and or orientation information used in determining along which the direction the UE is pointed e.g. the viewpoint of the UE so that POI and related information corresponding to the pointed direction can be retrieved. Further this POI and mapping information may be stored in the cache to be utilized in generating a perspective display at the UE .

In one embodiment the location module can determine a user s location. The user s location can be determined by a triangulation system such as a GPS assisted GPS A GPS A GPS Cell of Origin wireless local area network triangulation or other location extrapolation technologies. Standard GPS and A GPS systems can use satellites to pinpoint the location e.g. longitude latitude and altitude of the UE . A Cell of Origin system can be used to determine the cellular tower that a cellular UE is synchronized with. This information provides a coarse location of the UE because the cellular tower can have a unique cellular identifier cell ID that can be geographically mapped. The location module may also utilize multiple technologies to detect the location of the UE . GPS coordinates can provide finer detail as to the location of the UE . As previously noted the location module may be utilized to determine location coordinates for use by the application and or the map platform .

The magnetometer module can include an instrument that can measure the strength and or direction of a magnetic field. Using the same approach as a compass the magnetometer is capable of determining the directional heading of a UE using the magnetic field of the Earth. The front of the image capture device e.g. a digital camera or another reference point on the UE can be marked as a reference point in determining direction. Thus if the magnetic field points north compared to the reference point the angle the UE reference point is from the magnetic field is known. Simple calculations can be made to determine the direction of the UE . In one embodiment horizontal directional data obtained from a magnetometer is utilized to determine the orientation of the user. This directional information may be correlated with the location information of the UE to determine where e.g. at which geographic feature object or POI the UE is pointing towards. This information may be utilized to select a first person view to render the perspective display.

Further the accelerometer module may include an instrument that can measure acceleration. Using a three axis accelerometer with axes X Y and Z provides the acceleration in three directions with known angles. Once again the front of a media capture device can be marked as a reference point in determining direction. Because the acceleration due to gravity is known when a UE is stationary the accelerometer module can determine the angle the UE is pointed as compared to Earth s gravity. In one embodiment vertical directional data obtained from an accelerometer is used to determine the angle of elevation or tilt angle at which the UE is pointing. This information in conjunction with the magnetometer information and location information may be utilized to determine a viewpoint to provide POI and mapping information to the user. As such this information may be utilized in selecting available POI and or other items to present information to the user. Moreover the combined information may be utilized to determine portions of a particular 3D map or augmented reality view that may interest the user. In one embodiment if the location information associated with one or more available POI items does not correspond to the viewpoint e.g. is not visible in the selected viewpoint one or more indicators e.g. arrows or pointers may be shown on the user interface to indicate the direction towards the location of the POI items.

In another embodiment the user may manually input any one or more of the location directional heading and tilt angle to specify a viewpoint for displaying the user interface on the UE instead of determining the viewpoint from the sensors. In this way the user may select a virtual viewpoint to be a place other than the current location and pointing direction of the UE .

Images for supporting a graphical user interface can be captured using the image capture module . The image capture module may include a camera a video camera a combination thereof etc. In one embodiment visual media is captured in the form of an image or a series of images. The image capture module can obtain the image from a camera and associate the image with location information magnetometer information accelerometer information or a combination thereof. As previously noted this combination of information may be utilized to determine the viewpoint of the user by combining the location of the user horizontal orientation information of the user and vertical orientation information of the user. This information may be utilized to retrieve POI and mapping information from the map cache or the map platform . In certain embodiments the cache includes all or a portion the information in the map database .

In addition in one embodiment the process enhances the general process of generating a perspective display as described with respect to below. For example according to the process of the display manager transforms the relative locations of POIs from the latitude and longitude to polar coordinates relative to the UE e.g. a mobile device . Representations of the POIs are then projected onto for instance a virtual cylinder or sphere around the device using an approximation of artistic perspective. Next the cylinder is divided into a grid. The representations of the POIs are expanded to cover a block of grid cells and moved to avoid as much overlap as possible. In one embodiment the process of uses a flexible but limited search pattern to locate non overlapping blocks. The process of enhances the limited search pattern by providing for efficient grouping and de overlapping of POIs.

In step the display manager determines one or more items for rendering in a location based user interface that includes at least in part a perspective display. By way of example the items designated for rendering depends on the viewing perspective field of view preferences etc. associated with POIs or items available for display in the perspective display. Next the display manager causes at least in part a determination of one or more rendering locations for one or more representations of the one or more items based at least in part on location information associated with the one or more items step . In one embodiment the rendering locations are determined according to cell based process described with respect to the process of . In some embodiments the rendering locations can also be mapped to pixel locations of the UE e.g. with a 640 480 pixel 4 3 display a 854 480 pixel 16 9 display etc. .

In step the display manager determines whether any of the representations overlap based at least in part on their rendering locations. For example the display manager can determine respective starting and ending points e.g. or pixels of each representation and then apply one or more equations to determine whether the respective starting and or ending points overlap see description below for further details of overlap detection .

In step the display manager then causes at least in part a grouping a de overlapping or a combination thereof of the one or more representations based at least in part on the overlapping of the one or more rendering locations. In one embodiment the display manager will attempt to separate or de overlap close POI representations so that they do not overlap before determining whether to group the representations. In other words the display manager will group POI representations only if they cannot first be de overlapped by for instance moving them to non overlapping positions.

Next in step the display manager causes at least in part a rendering of the one or more representations in the perspective display based at least in part on the grouping the de overlapping or a combination thereof.

In step the display manager processes and or facilitates a processing of the location information associated with the POIs determined for presentation in a perspective display to cause at least in part a sorting of the one or more representations. In one embodiment the sorting is based at least in part on a distance of the one or more items associated with the one or more representations from a viewing location associated with the perspective display. In some embodiments the distance may be determined based on the actual location of the POIs or from the rendering locations determined for the representations corresponding to the POIs or items.

Next the display manager causes at least in part an association of the grouping with a closest one of the one or more representations based at least in part on the sorting step . In other words the display manager selects the closest POI representation as the reference point from which to determine whether subsequently farther representations overlap. Accordingly the display manager processes each subsequently farther representation and determines to the include the subsequent ones of the one or more representations in the grouping based at least in part on an overlapping with the closest one in the grouping step . By way of example Table 1 below is an example of pseudo code representing the grouping the process .

The display manager then causes at least in part a rendering of a group representation in the perspective display to represent the grouping without rendering the one or more representations associated with individual group members step . For example the group rendering is used to represent the all of the items in the group. In one embodiment the location of the group rendering is at a determined centroid location of the individual group items or POIs.

Once the group is rendered the display manager can determine an input for selecting the group representation in the perspective display the location based user interface or a combination thereof step . For example a user can indicate the selection by touching or moving a cursor in the user interface to the group representation. Based on the selection the display manager causes at least in part a rendering of an expansion of the grouping to present the one or more representations associated with the individual group members step .

In step the display manager determines overlapping of the one or more POI representations in the UI . For example as shown POIs of the UI are determined to be overlapping. As a result the display manager detects the POIs and collapses them into a group as shown in UI step . In this example the group representation is rendered as a graphic of a stack of POIs. The stack of POIs is then augmented with a control to indicate that the grouping can be expanded to show additional POI representations. As noted previously the group representation can be rendered at a location corresponding to a centroid location of the POIs .

In step a user touches the screen to select the grouping in UI . In response the display manager expands the group central step and the group members step to show the individual POI representations of POIs that comprise the grouping e.g. Gn as shown in UI . The expansion of the group is described in more detail with respect to below. In one embodiment on expansion of the group the display manager can disable other POI representations e.g. POIs that are visible in the perspective display step . By way of example disabling may entail for instance making the POI representations not visible e.g. as shown or otherwise deemphasizing the POI representations e.g. fading the rendering of the POI representations moving them to a temporary location in the UI etc. .

In step the user clicks on the centroid of the expanded grouping e.g. designated with a sign to indicate that the group can is an expanded state and can be collapsed. The display manager then re renders the perspective display to show the group representation and enables the POI representations e.g. POIs that had been disabled to show all of the POI representations previously displayed before the expansion as shown in UI .

In one embodiment the display manager computes group variables to describe the position of the respective POI representation in terms of line and angular drawing e.g. x y distance d and angle phase . In some embodiments the distance d e.g. corresponding to distance in the x direction and d e.g. corresponding to distance in the y direction where distance d e.g. corresponding to a distance between the group centroid and the group members POI and POI respectively can be normalized to reflect actual distance in the real world. In addition the example of is shown using a pixel coordinate system and angular direction to draw a line from the center of the group member to the group centroid . By way of example the distance among the group members and or the group centroid can be deduced using the x y coordinates using for instance the Pythagorean Theorem to determine the plane geometry while drawing the line intersection. In one embodiment the line intersection can be precomputed using a table of angles to reduce resources and improve performance. The calculated distances and phases can be used to render the expanded POI representations as shown in UI .

In step the display manager processes and or facilitates a processing of the location information associated with the POIs determined for presentation in a perspective display to cause at least in part a sorting of the one or more representations. By way of example the sorting is performed as described with respect to the process of . The display manager then begins processing the POI representations from closest to farthest. In step the display manager determines to a closest one of the one or more representations as an initial reference for a de overlapping determination.

The display manager then processes and or facilitates a processing of respective areas of a subsequent one of the one or more representations e.g. a next farthest one of the representation and the initial reference to determine a direction of overlap step . In one embodiment the determination is based on calculating the direction of least overlap among for instance up down left and right. The process for performing this calculation is explained in more detail with respect to below.

Based on the determined direction of least overlap the display manager causes at least in part a modification of the one or more rendering locations associated with the subsequent one based at least in part on the direction of overlap step . For example if the direction of least overlap is to the right the display manager can move the rendering location of the overlapping representation to the right to reduce e.g. below a predetermined threshold such as 10 overlap or eliminate the overlapping.

Next the display manager causes at least in part a designation of the subsequent one e.g. the representation just processed against the initial reference as the next reference for processing the next farthest representation to determine its direction of overlap step . This process is repeated until the designated POI representations in the perspective display have been processed. In one embodiment the designated POI representations may include those representations that are at least partially visible within the field of view depicted in the perspective display.

On the other hand if de overlapping is performed by separate the POI representations as much as possible before grouping more granular information can be presented as shown in UI . Compared to UI UI has resulted in only one grouping of POI representations with the remaining POI representations adequately separated to provide meaningful information to the user. Accordingly with UI the user is able to view more of the POI representations without having to expand the groups.

Also shown in UI the display manager then selects the POI D as the next farthest POI representation and determines that the region of least overlap with POI B is up and moves the rendering location of POI D up to reduce the overlap with POI B resulting in UI . The next POI representation POI E is a more complex situation in which POI E overlaps with both POI B and POI D. The system first analyzes the overlap of POI E with POI B the closest POI representation and determines that to reduce its overlap with POI B the rendering location of POI E should be moved up as shown in UI .

In this position POI E still substantially overlaps with POI D. Accordingly the display manager determines the direction of least overlap as left and moves the rendering location of POI E to the left to reduce the overlap. In this position as shown in UI the POIs A D are now substantially de overlapped to improved their visibility and accessibility by the user.

Based on these parameters the display manager can further calculate the following to assist in determining the degree of overlap the direction of overlap the extent to which the overlapping POI should be moved etc. These parameters include for instance 

These calculations can then be used to calculate the horizontal and or vertical intersects between POI and POI . In one embodiment the horizontal e.g. left or right and or the vertical e.g. up or down intersect that is the least e.g. minimum A represents the direction of least intersect. The overlapping POI can then be moved based on the extent of the overlap to reduce or avoid overlapping.

In step the display manager designates or otherwise segments or slices the perspective display into one or more regions. In one embodiment the display segments into vertical and or horizontal regions. In some embodiments the display is divided into regions of equal sizes. However it is also contemplated that the display may be segmented into any bounded region of varying sizes and or shapes. Once the display is sliced into regions the display manager processes and or facilitates a processing of the rendering locations of POIs to determine one or more densities of the one or more representations in one or more regions of the perspective display step . In other words the display manager calculates the number of POI representations that are to be rendered in each region.

Next the display manager determines whether there are any POI representations that cross or straddle the boundaries between the regions step . In one embodiment the display manager may make this determination based on a minimum criterion for crossing over. For example the display manager may set a minimum cross over criterion of at least 10 . In this case the POI representation my cross from one region to another region by more than 10 to be classified as crossing or straddling the boundary. For POI representations that cross boundaries the display manager causes at least in part a modification of the one or more rendering locations associated with the one or more representations that are at one or more boundaries of the one or more regions step . As noted the modification is based at least in part on the one or more densities criteria for percent of the one or more representations crossing the boundaries or a combination thereof. For example if a POI representation crosses a boundary between two regions the POI representation may be moved so it is rendered in a less dense region. In one embodiment once a region is processed the display manager locks the region so that no additional POI regions may be moved into the region. The display manager then continues on to process the next region. In one embodiment the display manager processes the regions from most dense to least dense. It is contemplated that the display manager may process the regions in any order or according to any criteria e.g. selecting the most dense region and then continue to immediately adjacent regions without regard to their respective densities .

The UI illustrates an example of how the display area may be segmented into regions. The vertical line represents a boundary between two regions. Given the same display area and POI representation configuration e.g. 6 4 matrix as described above the display manager can divide the display area e.g. a camera viewfinder field of view into for instance equal regions where each region 2 POI width 2 permitted overlap e.g. 10 of a POI width .

In one embodiment of the process the display manager processes and or facilitates a processing of a viewing location associated with the perspective display to determine a viewing perspective. The display manager then causes at least in part a transformation of the one or more POI representations in the perspective display based at least in part on the viewing perspective the one or more rendering locations of the POI representations or a combination thereof. In other words the goal of the transformation is to render the perspective view to reflect a cylindrical or spherical view of the world. In one embodiment the transformation involves varying or rotating the POI representation along one or more of three axes.

In step of the process the display manager deduces a first order derivative of F x y to determine a cylindrically based spatial positioning and to apply a simulated perspective to the POI representation. The display manager then computes an arching angle of the POI representation related to the field of view of the display step . This enables the computation of the POI layout perspective step . Based on the layout the display manager sets a perspective angle step by for instance using a circular formula to get the perspective angle step .

In step the display manager compares the determined perspective angle to determine whether the angle is within an angle threshold. If the perspective angle is within the threshold the display manager applies the POI perspective steps e.g. rotation arching etc. as described further below to simulate the determined perspective angle in the POI representations step . In one embodiment the angle is computed according to the following equation which is defined with respect to the screen height and width of the display device e.g. 640 by 480 pixels angle 2 

x row wise pixel coordinate respective to the display screen size width x by height y 640 by 480 with aspect ratio 4 3 

y row wise pixel coordinate respective to the display screen size width x by height y 640 by 480 with aspect ratio 4 3 

The display manager then determines whether the depth of the archness for the given perspective angle within criteria step . If yes the display manager computes the depth differential and percentage of angle step and calibrates the POI representation in the pixel width of the device display step . If the depth of the archness is not within criteria then the display manager enters a suspend state and initiates a threshold timer step .

In step the display manger applies the POI drawing steps to the POI representations further described below and enters an unsuspended state step .

To more accurately simulate the real world and reduce POI clutter the display manager can filter out POI representations in a perspective display that would be occluded by objects or features in the real world when augmenting a display of the real world environment in a perspective based display. In one embodiment the display manager processes and or facilitates a processing of a viewing location associated with the perspective display to determine a viewing perspective. The display manager then determines one or more features depicted in the perspective display the location based user interface or a combination thereof and also determines whether the one or more POI representations are occluded by the one or more features based at least in part on the viewing perspective the one or more rendering locations or a combination thereof. The one or more representations that are occluded are not rendered in the perspective display.

In one embodiment the processes of can be achieved by leveraging 3D models of the world based on for instance polygon mesh supplied by a mapping data provider. For example retrieving metadata from pre computed data from depth maps e.g. distance of buildings to observers in the form of visibility information can be used to deduce the accurate placement of the objects or features e.g. buildings from the 3D map data. In one embodiment this can be coupled with the use of pattern recognition e.g. image retrieval techniques as supplementary semantic information to estimate the user pose and perspective position in the terrain and building 3D models e.g. polygon mesh models . Furthermore the process of retrieving the metadata from various services can be aggregated at a remote server and the information is processed and sent to the client.

This process is illustrated in . As shown in at step user client e.g. the display manager that is displaying a perspective display obtains its geolocation e.g. via GPS or other location sensors or services . The display manager then obtains the nearest panorama metadata based on its location step . At the display manager retrieves building visibility data e.g. a visibility ID from a POI service. The display manager also retrieves building visibility data from the panorama step . Next the display manager retrieves a list of POIs with the buildings step from a metadata service step and a list of POIs near the determined geolocation step from a maps POI service step . This information is used to create a POI list step that is then compared to identify the POI or building step .

In step the display manager determines whether the POI is recognized from the comparison of step . If the POI is recognized the display manager displays the POI in the perspective display step and displays the matching POIs from the list of POIs within the building and the POI list determine from the maps POI service step . This leads to an accurate placement of the POI representation or icon in the perspective display e.g. an augmented reality display .

If however the POI is not recognized at step the display manager can determine whether sensor data can be used to filter out occluded POIs step . If yes the display manager proceeds to step to place the POI representation accurately. If sensor data cannot be used the display manager can determine whether other data e.g. LIDAR can be used to find edges of buildings to determine occlusions step . If such data e.g. LIDAR is available then the display manager can accurately determine placement of the POI representations. If no LIDAR information is available the display manager can estimate the location and pose of the user in 3D perspective using interest point and structure data step before proceeding to placement of the POI representations.

By way of example the view aggregator can obtain data from many different sources in different formats. As part of the aggregation process the view aggregator can retrieve mapping service search metadata POIs within a given area and other available information. In addition the view aggregator may obtain generate develop etc. metadata ontologies to interest and translate mapping data metadata etc. among multiple services to maximize the data available for determining possible occlusions and filtering of POI data.

In step the display manager receives a request to generate a perspective display of one or more items of a location based user interface the request specifying first location information associated with a viewing location. By way of example the UE may utilize a location module magnetometer module accelerometer module or a combination thereof to determine a viewpoint of the user as previously discussed. In other embodiments the user may select the viewpoint based on a 3D environment. The user may select the viewpoint based on conventional means of searching a map or 3D map e.g. by selecting a starting point and traversing the map or entering location coordinates such as GPS coordinates or an address of the viewpoint .

In step the display manager then determines to define a surface with respect to the first location information wherein the surface is divided into an array of cells. In one embodiment the surface represents a layer where representations of POI information are to be projected for rendering. In various embodiments of the approach described herein the surface is a cylinder with the viewing location as the center of the cylinder. It is also contemplated that any other volumetric or 3D shape can be used as the projection surface e.g. a sphere a cube a cone etc. . The surface is divided into for instance an array of cells. In one embodiment the cells are form regular grid patterns. However it is contemplated that the cells can be of any shape and need not be uniform in either size or shape. In one embodiment the display manager may determine the cell sizes and or shapes based on one or more characteristics and or resources of the device step . For example if a mobile device has a larger screen more cells e.g. with smaller cell sizes can be determined. If the device supports a resource such as a touch interface the cells may be selected to be of sufficient size to enable selection by touch. If the mobile device has more processing power then more complex shapes or more cells can be determined without affecting overall performance. In other words the display manager determines one or more other characteristics of the surface the array the cells the one or more representations or a combination thereof based at least in part on the characteristics and or resources of the device that is to present the perspective display.

Next the display manager retrieves second location information associated with one or more items e.g. POIs for presentation in a perspective display step . As previously discussed this second location information can retrieved and then cached from the map platform . The display manager then processes and or facilitates a processing of second location information associated with the one or more items to map one or more representations of the one or more items onto one or more of the cells step .

From the selected viewpoint the runtime module can render a mapping display depicting a location including one or more POIs or other mapping information. More specifically the POIs or mapping information are rendered in the mapping display based on the location information associated with each of the POIs. In other words the POIs are rendered in the mapping display to reflect their actual locations in the geographical area depicted in the mapping display step . In one embodiment the mapping process includes determining that at least one of the cells to which one of the representations is to be mapped is already mapped to another one of the representations and then determining to initiate a search for another one of the cells according to one or more criteria one or more rules or a combination thereof wherein the another one of the cells has not been mapped step . In another embodiment the display manager can determine not to present the one representation to be mapped in the perspective display if the search does not find another one of the cells. Moreover in some embodiments the search is conducted according to a search matrix a search sequence or a combination thereof with respect to the one or more cells.

In step the display manager processes and or facilitates a processing of the first location information to determine at least a portion of the surface to cause at least in part rendering of the perspective display. In another embodiment the display manager can determine at least one change to the first location information and then process and or facilitate a processing of the at least one change to initiate generation of the perspective display the defining of the surface the mapping of the one or more representations the determining of the at least a portion of the surface or a combination thereof step .

By way of example if the at least one change relates to panning information zooming information and or the like without a corresponding movement away from the viewing location the display manager can just process and or facilitate a processing of the panning information the zooming information or a combination thereof to determine the at least another portion of the surface to render. In this way the display manager need not remap the POI information but can just select another portion of the surface to view that reflects the new orientation information.

If however the at least one change relates a change in coordinate information e.g. a Big Move to a location more than a threshold distance from the current viewing location the display manager can regenerate and remap the POI information based on the new location information to repeat the steps of the process to generate and render the perspective display.

As previously noted the perspective display can represent a physical environment which may be captured using an image capture module of the UE to provide an augmented reality display. In another embodiment the image may represent a virtual 3D environment where the user s location in the real world physical environment is represented in the virtual 3D environment. In the representation the viewpoint of the user is mapped onto the virtual 3D environment. Moreover a hybrid physical and virtual 3D environment may additionally be utilized to present navigational information to the user. The augmented reality application may determine what mapping information to present based on user preferences or other system parameters or settings e.g. a default setting .

In certain embodiments the mapping information includes a type or types of POI e.g. a coffee shop that the user is searching for. In other embodiments the perspective display may also include navigational information such as a directional indicator to a location that the user is searching for e.g. a friend a particular POI etc. . The location can be determined by querying the map platform which may include location information for POIs and additionally may be capable of tracking the movement of people using dynamic positioning technology e.g. by detecting the presence of a user via GPS information .

Accordingly in one embodiment both the location of the devices and those of the points of interest are given in spherical coordinates measured in degrees of latitude and longitude. The first step is to convert the locations of the points of interest to polar coordinates with the device or viewing location at the center and north from the device as the 0 angle. It is noted that this algorithm assumes that the device is not located near one of the Earth s poles. In one embodiment an equirectangular projection of latitude and longitude can be used during this conversion to avoid the expense of computations in spherical geometry. This allows the Pythagorean Theorem from plane geometry to be used for distance and standard trigonometry to be used for the angle. As shown in a user with a mobile device e.g. a UE is surrounded by various POIs . The respective bold arrows represent the angle and distance to each POI in the polar coordinate system. The cardinal directions e.g. North East South and West are also displayed for reference.

With respect to the projection the polar angle is also the angle for the cylindrical projection. The polar distance is also converted to a perspective height. In one environment using an artistic perspective the horizon can be located above the top of the cylinder such that the farthest point of interest e.g. POI is at the top of the cylinder coordinate 1.0 . The bottom of the cylinder coordinate 0.0 can be the location of the nearest point of interest e.g. POI . In certain embodiments several different simplifications are possible to avoid or otherwise reduce the computational expense of generating a display from a pure artistic perspective. For example the log function provides an inexpensive foreshortening of distance with accuracy generally adequate for this problem. As shown in the lighthouse POI is the most distant point of interest from the device and is projected to the top of the cylinder. The ice cream shop POI is the closest point of interest to the device and is projected to the bottom of the cylinder. Alternatively if altitude information is available for the POIs then the altitude information rather than distance from the viewing location can be used to determine the projected heights or POIs 

A block of cells corresponds to a button on the screen including any margins around the button . A user interface design typically expresses the button size in terms of pixels. Given the following values 

In some cases because of integer rounding the actual size of the buttons and their margins may vary somewhat from the original specification.

In one embodiment the layout algorithm favors POIs that are closer to the viewing location by placing them first on the grid to accomplish this the POIs are sorted by distance after they are assigned cylindrical coordinates. In one embodiment the preferred block for a POI is the one where the point of interest falls in the upper left cell of the block. Two points of interest in are given blocks that fail to meet this definition of a preferred block. The ice cream shop s e.g. POI s preferred block extends off the bottom of the grid so the block one element up is selected. The motel s e.g. s preferred block overlaps that of the gas station which is closer to the mobile device so the block one element to the left is selected.

Modifications can be made to the grid layout algorithm to allow POIs near the top of cylinder to occupy smaller blocks than those at the bottom of the cylinder furthering the theme of artistic perspective. An alternative to discarding POIs where there is too much clustering is to replace a set of POIs with a single composite block representing multiple POIs. The composite block would be presented to the user interface as a different kind of object than a single POI .

In one embodiment the POIs are depicted using button representations to facilitate selection of the POIs using a touch enabled device. For example if the user selects POI Bakery the display manager and or the augmented reality browser can display a POI page to provide additional contact information e.g. phone address reviews e.g. free and premium review services related content e.g. photos audio mixed media etc. and or the like. As the user pans or zooms the perspective display the display of the POIs can be updated based on the user s new perspective.

In another embodiment it is contemplated that the filtering and or display of the POIs can be determined or otherwise influenced by for instance marketing incentives marketing campaigns advertisements and other promotions.

The processes described herein for grouping and de overlapping items in a user interface may be advantageously implemented via software hardware firmware or a combination of software and or firmware and or hardware. For example the processes described herein may be advantageously implemented via processor s Digital Signal Processing DSP chip an Application Specific Integrated Circuit ASIC Field Programmable Gate Arrays FPGAs etc. Such exemplary hardware for performing the described functions is detailed below.

A bus includes one or more parallel conductors of information so that information is transferred quickly among devices coupled to the bus . One or more processors for processing information are coupled with the bus .

A processor or multiple processors performs a set of operations on information as specified by computer program code related to grouping and de overlapping items in a user interface. The computer program code is a set of instructions or statements providing instructions for the operation of the processor and or the computer system to perform specified functions. The code for example may be written in a computer programming language that is compiled into a native instruction set of the processor. The code may also be written directly using the native instruction set e.g. machine language . The set of operations include bringing information in from the bus and placing information on the bus . The set of operations also typically include comparing two or more units of information shifting positions of units of information and combining two or more units of information such as by addition or multiplication or logical operations like OR exclusive OR XOR and AND. Each operation of the set of operations that can be performed by the processor is represented to the processor by information called instructions such as an operation code of one or more digits. A sequence of operations to be executed by the processor such as a sequence of operation codes constitute processor instructions also called computer system instructions or simply computer instructions. Processors may be implemented as mechanical electrical magnetic optical chemical or quantum components among others alone or in combination.

Computer system also includes a memory coupled to bus . The memory such as a random access memory RAM or any other dynamic storage device stores information including processor instructions for grouping and de overlapping items in a user interface. Dynamic memory allows information stored therein to be changed by the computer system . RAM allows a unit of information stored at a location called a memory address to be stored and retrieved independently of information at neighboring addresses. The memory is also used by the processor to store temporary values during execution of processor instructions. The computer system also includes a read only memory ROM or any other static storage device coupled to the bus for storing static information including instructions that is not changed by the computer system . Some memory is composed of volatile storage that loses the information stored thereon when power is lost. Also coupled to bus is a non volatile persistent storage device such as a magnetic disk optical disk or flash card for storing information including instructions that persists even when the computer system is turned off or otherwise loses power.

Information including instructions for grouping and de overlapping items in a user interface is provided to the bus for use by the processor from an external input device such as a keyboard containing alphanumeric keys operated by a human user or a sensor. A sensor detects conditions in its vicinity and transforms those detections into physical expression compatible with the measurable phenomenon used to represent information in computer system . Other external devices coupled to bus used primarily for interacting with humans include a display device such as a cathode ray tube CRT a liquid crystal display LCD a light emitting diode LED display an organic LED OLED display a plasma screen or a printer for presenting text or images and a pointing device such as a mouse a trackball cursor direction keys or a motion sensor for controlling a position of a small cursor image presented on the display and issuing commands associated with graphical elements presented on the display . In some embodiments for example in embodiments in which the computer system performs all functions automatically without human input one or more of external input device display device and pointing device is omitted.

In the illustrated embodiment special purpose hardware such as an application specific integrated circuit ASIC is coupled to bus . The special purpose hardware is configured to perform operations not performed by processor quickly enough for special purposes. Examples of ASICs include graphics accelerator cards for generating images for display cryptographic boards for encrypting and decrypting messages sent over a network speech recognition and interfaces to special external devices such as robotic arms and medical scanning equipment that repeatedly perform some complex sequence of operations that are more efficiently implemented in hardware.

Computer system also includes one or more instances of a communications interface coupled to bus . Communication interface provides a one way or two way communication coupling to a variety of external devices that operate with their own processors such as printers scanners and external disks. In general the coupling is with a network link that is connected to a local network to which a variety of external devices with their own processors are connected. For example communication interface may be a parallel port or a serial port or a universal serial bus USB port on a personal computer. In some embodiments communications interface is an integrated services digital network ISDN card or a digital subscriber line DSL card or a telephone modem that provides an information communication connection to a corresponding type of telephone line. In some embodiments a communication interface is a cable modem that converts signals on bus into signals for a communication connection over a coaxial cable or into optical signals for a communication connection over a fiber optic cable. As another example communications interface may be a local area network LAN card to provide a data communication connection to a compatible LAN such as Ethernet. Wireless links may also be implemented. For wireless links the communications interface sends or receives or both sends and receives electrical acoustic or electromagnetic signals including infrared and optical signals that carry information streams such as digital data. For example in wireless handheld devices such as mobile telephones like cell phones the communications interface includes a radio band electromagnetic transmitter and receiver called a radio transceiver. In certain embodiments the communications interface enables connection to the communication network for grouping and de overlapping items in a user interface.

The term computer readable medium as used herein refers to any medium that participates in providing information to processor including instructions for execution. Such a medium may take many forms including but not limited to computer readable storage medium e.g. non volatile media volatile media and transmission media. Non transitory media such as non volatile media include for example optical or magnetic disks such as storage device . Volatile media include for example dynamic memory . Transmission media include for example twisted pair cables coaxial cables copper wire fiber optic cables and carrier waves that travel through space without wires or cables such as acoustic waves and electromagnetic waves including radio optical and infrared waves. Signals include man made transient variations in amplitude frequency phase polarization or other physical properties transmitted through the transmission media. Common forms of computer readable media include for example a floppy disk a flexible disk hard disk magnetic tape any other magnetic medium a CD ROM CDRW DVD any other optical medium punch cards paper tape optical mark sheets any other physical medium with patterns of holes or other optically recognizable indicia a RAM a PROM an EPROM a FLASH EPROM an EEPROM a flash memory any other memory chip or cartridge a carrier wave or any other medium from which a computer can read. The term computer readable storage medium is used herein to refer to any computer readable medium except transmission media.

Logic encoded in one or more tangible media includes one or both of processor instructions on a computer readable storage media and special purpose hardware such as ASIC .

Network link typically provides information communication using transmission media through one or more networks to other devices that use or process the information. For example network link may provide a connection through local network to a host computer or to equipment operated by an Internet Service Provider ISP . ISP equipment in turn provides data communication services through the public world wide packet switching communication network of networks now commonly referred to as the Internet .

A computer called a server host connected to the Internet hosts a process that provides a service in response to information received over the Internet. For example server host hosts a process that provides information representing video data for presentation at display . It is contemplated that the components of system can be deployed in various configurations within other computer systems e.g. host and server .

At least some embodiments of the invention are related to the use of computer system for implementing some or all of the techniques described herein. According to one embodiment of the invention those techniques are performed by computer system in response to processor executing one or more sequences of one or more processor instructions contained in memory . Such instructions also called computer instructions software and program code may be read into memory from another computer readable medium such as storage device or network link . Execution of the sequences of instructions contained in memory causes processor to perform one or more of the method steps described herein. In alternative embodiments hardware such as ASIC may be used in place of or in combination with software to implement the invention. Thus embodiments of the invention are not limited to any specific combination of hardware and software unless otherwise explicitly stated herein.

The signals transmitted over network link and other networks through communications interface carry information to and from computer system . Computer system can send and receive information including program code through the networks among others through network link and communications interface . In an example using the Internet a server host transmits program code for a particular application requested by a message sent from computer through Internet ISP equipment local network and communications interface . The received code may be executed by processor as it is received or may be stored in memory or in storage device or any other non volatile storage for later execution or both. In this manner computer system may obtain application program code in the form of signals on a carrier wave.

Various forms of computer readable media may be involved in carrying one or more sequence of instructions or data or both to processor for execution. For example instructions and data may initially be carried on a magnetic disk of a remote computer such as host . The remote computer loads the instructions and data into its dynamic memory and sends the instructions and data over a telephone line using a modem. A modem local to the computer system receives the instructions and data on a telephone line and uses an infra red transmitter to convert the instructions and data to a signal on an infra red carrier wave serving as the network link . An infrared detector serving as communications interface receives the instructions and data carried in the infrared signal and places information representing the instructions and data onto bus . Bus carries the information to memory from which processor retrieves and executes the instructions using some of the data sent with the instructions. The instructions and data received in memory may optionally be stored on storage device either before or after execution by the processor .

In one embodiment the chip set or chip includes a communication mechanism such as a bus for passing information among the components of the chip set . A processor has connectivity to the bus to execute instructions and process information stored in for example a memory . The processor may include one or more processing cores with each core configured to perform independently. A multi core processor enables multiprocessing within a single physical package. Examples of a multi core processor include two four eight or greater numbers of processing cores. Alternatively or in addition the processor may include one or more microprocessors configured in tandem via the bus to enable independent execution of instructions pipelining and multithreading. The processor may also be accompanied with one or more specialized components to perform certain processing functions and tasks such as one or more digital signal processors DSP or one or more application specific integrated circuits ASIC . A DSP typically is configured to process real world signals e.g. sound in real time independently of the processor . Similarly an ASIC can be configured to performed specialized functions not easily performed by a more general purpose processor. Other specialized components to aid in performing the inventive functions described herein may include one or more field programmable gate arrays FPGA not shown one or more controllers not shown or one or more other special purpose computer chips.

In one embodiment the chip set or chip includes merely one or more processors and some software and or firmware supporting and or relating to and or for the one or more processors.

The processor and accompanying components have connectivity to the memory via the bus . The memory includes both dynamic memory e.g. RAM magnetic disk writable optical disk etc. and static memory e.g. ROM CD ROM etc. for storing executable instructions that when executed perform the inventive steps described herein to group and de overlap items in a user interface. The memory also stores the data associated with or generated by the execution of the inventive steps.

Pertinent internal components of the telephone include a Main Control Unit MCU a Digital Signal Processor DSP and a receiver transmitter unit including a microphone gain control unit and a speaker gain control unit. A main display unit provides a display to the user in support of various applications and mobile terminal functions that perform or support the steps of grouping and de overlapping items in a user interface. The display includes display circuitry configured to display at least a portion of a user interface of the mobile terminal e.g. mobile telephone . Additionally the display and display circuitry are configured to facilitate user control of at least some functions of the mobile terminal. An audio function circuitry includes a microphone and microphone amplifier that amplifies the speech signal output from the microphone . The amplified speech signal output from the microphone is fed to a coder decoder CODEC .

A radio section amplifies power and converts frequency in order to communicate with a base station which is included in a mobile communication system via antenna . The power amplifier PA and the transmitter modulation circuitry are operationally responsive to the MCU with an output from the PA coupled to the duplexer or circulator or antenna switch as known in the art. The PA also couples to a battery interface and power control unit .

In use a user of mobile terminal speaks into the microphone and his or her voice along with any detected background noise is converted into an analog voltage. The analog voltage is then converted into a digital signal through the Analog to Digital Converter ADC . The control unit routes the digital signal into the DSP for processing therein such as speech encoding channel encoding encrypting and interleaving. In one embodiment the processed voice signals are encoded by units not separately shown using a cellular transmission protocol such as enhanced data rates for global evolution EDGE general packet radio service GPRS global system for mobile communications GSM Internet protocol multimedia subsystem IMS universal mobile telecommunications system UMTS etc. as well as any other suitable wireless medium e.g. microwave access WiMAX Long Term Evolution LTE networks code division multiple access CDMA wideband code division multiple access WCDMA wireless fidelity WiFi satellite and the like or any combination thereof.

The encoded signals are then routed to an equalizer for compensation of any frequency dependent impairments that occur during transmission though the air such as phase and amplitude distortion. After equalizing the bit stream the modulator combines the signal with a RF signal generated in the RF interface . The modulator generates a sine wave by way of frequency or phase modulation. In order to prepare the signal for transmission an up converter combines the sine wave output from the modulator with another sine wave generated by a synthesizer to achieve the desired frequency of transmission. The signal is then sent through a PA to increase the signal to an appropriate power level. In practical systems the PA acts as a variable gain amplifier whose gain is controlled by the DSP from information received from a network base station. The signal is then filtered within the duplexer and optionally sent to an antenna coupler to match impedances to provide maximum power transfer. Finally the signal is transmitted via antenna to a local base station. An automatic gain control AGC can be supplied to control the gain of the final stages of the receiver. The signals may be forwarded from there to a remote telephone which may be another cellular telephone any other mobile phone or a land line connected to a Public Switched Telephone Network PSTN or other telephony networks.

Voice signals transmitted to the mobile terminal are received via antenna and immediately amplified by a low noise amplifier LNA . A down converter lowers the carrier frequency while the demodulator strips away the RF leaving only a digital bit stream. The signal then goes through the equalizer and is processed by the DSP . A Digital to Analog Converter DAC converts the signal and the resulting output is transmitted to the user through the speaker all under control of a Main Control Unit MCU which can be implemented as a Central Processing Unit CPU not shown .

The MCU receives various signals including input signals from the keyboard . The keyboard and or the MCU in combination with other user input components e.g. the microphone comprise a user interface circuitry for managing user input. The MCU runs a user interface software to facilitate user control of at least some functions of the mobile terminal to group and de overlap items in a user interface. The MCU also delivers a display command and a switch command to the display and to the speech output switching controller respectively. Further the MCU exchanges information with the DSP and can access an optionally incorporated SIM card and a memory . In addition the MCU executes various control functions required of the terminal. The DSP may depending upon the implementation perform any of a variety of conventional digital processing functions on the voice signals. Additionally DSP determines the background noise level of the local environment from the signals detected by microphone and sets the gain of microphone to a level selected to compensate for the natural tendency of the user of the mobile terminal .

The CODEC includes the ADC and DAC . The memory stores various data including call incoming tone data and is capable of storing other data including music data received via e.g. the global Internet. The software module could reside in RAM memory flash memory registers or any other form of writable storage medium known in the art. The memory device may be but not limited to a single memory CD DVD ROM RAM EEPROM optical storage magnetic disk storage flash memory storage or any other non volatile storage medium capable of storing digital data.

An optionally incorporated SIM card carries for instance important information such as the cellular phone number the carrier supplying service subscription details and security information. The SIM card serves primarily to identify the mobile terminal on a radio network. The card also contains a memory for storing a personal telephone number registry text messages and user specific mobile terminal settings.

While the invention has been described in connection with a number of embodiments and implementations the invention is not so limited but covers various obvious modifications and equivalent arrangements which fall within the purview of the appended claims. Although features of the invention are expressed in certain combinations among the claims it is contemplated that these features can be arranged in any combination and order.

