---

title: System and method for processing encoded messages
abstract: Systems and methods for processing encoded messages within a wireless communication system. A server within the wireless communication system provides one or more indications to a mobile device as to certain conditions existing with respect to an encoded message. The mobile device performs a different message processing function based upon whether the indication is provided. The indications may include indicating whether a message exceeds a message size threshold and/or may indicate whether a partial message is being sent.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08650258&OS=08650258&RS=08650258
owner: BlackBerry Limited
number: 08650258
owner_city: Waterloo, Ontario
owner_country: CA
publication_date: 20120914
---
This application is a continuation of U.S. patent application Ser. No. 10 916 098 filed on Aug. 11 2004 which claims the benefit of U.S. Provisional Application Ser. No. 60 494 380 filed on Aug. 12 2003 the entire disclosure of which is incorporated herein by reference.

This document relates generally to the field of communications and in particular toward processing encoded messages such as e mail messages.

In many known message exchange schemes signatures encryption or both are commonly used to ensure the integrity and confidentiality of information being transferred from a sender to a recipient. In an e mail system for example the sender of an e mail message could either sign the message encrypt the message or both sign and encrypt the message. These actions may be performed using such standards as Secure Multipurpose Internet Mail Extensions S MIME Pretty Good Privacy PGP OpenPGP and many other secure e mail standards.

In general secure e mail messages are relatively large. For example S MIME can increase the size of an e mail message by a factor of ten or more in some situations . This size augmentation presents difficulties especially in the context of a resource constrained device such as a wireless mobile communication device. A resource constrained device may also experience difficulty in handling a message wherein only a portion of the message has been transferred to the device. There is therefore a general need for a more efficient message handling approach.

In accordance with the teachings disclosed herein systems and methods are provided for processing encoded messages within a communications system. A server within the communications system provides one or more indications to a computing device as to certain conditions existing with respect to an encoded message. The device performs a different message processing function based upon whether the indication is provided. The indications may include indicating whether a message exceeds a message size threshold and or may indicate whether a partial message of the entire message of the sender is being sent.

As another example of a method and system an encoded message is provided by a sender to a server. The server receives the encoded message and generates a message status indication about the received encoded message. The message status indication is for use by a device to determine that an encoding related operation is not to be performed upon the encoded message. The message status indication and at least a portion chunk of the encoded message are provided to the device. Still further a method and system may use the message status indication to delay performing on a device a secure message related operation e.g. digital signature verification etc. until enough of the message has been provided to the device for the device to perform the secure message related operation upon the message.

The systems and methods may be implemented in many different ways such as a data signal that is transmitted using a network can include the server s generated message status indication. The data signal can include packetized data that is transmitted through a carrier wave across the network. Computer readable medium can also be used that is capable of causing a device to perform the methods and processor implemented instructions disclosed herein.

As will be appreciated the invention is capable of other and different embodiments and its several details are capable of modifications in various respects all without departing from the spirit of the invention. Accordingly the drawings and description of the preferred embodiments set forth below are to be regarded as illustrative in nature and not restrictive.

An e mail sender system may for example be connected to an ISP Internet Service Provider on which a user of the system has an account located within a company possibly connected to a local area network LAN and connected to the Internet or connected to the Internet through a large ASP application service provider such as America Online AOL . Those skilled in the art will appreciate that the systems shown in may instead be connected to a wide area network WAN other than the Internet although e mail transfers are commonly accomplished through Internet connected arrangements as shown in .

The message server may be implemented for example on a network computer within the firewall of a corporation a computer within an ISP or ASP system or the like and acts as the main interface for e mail exchange over the Internet . Although other messaging systems might not require a message server system a mobile device configured for receiving and possibly sending e mail will normally be associated with an account on a message server. Perhaps the two most common message servers are Microsoft Exchange and Lotus Domino . These products are often used in conjunction with Internet mail routers that route and deliver mail. These intermediate components are not shown in as they do not directly play a role in the secure message processing described below. Message servers such as server typically extend beyond just e mail sending and receiving they also include dynamic database storage engines that have predefined database formats for data like calendars to do lists task lists e mail and documentation.

The wireless gateway and infrastructure provide a link between the Internet and wireless network . The wireless infrastructure determines the most likely network for locating a given user and tracks the user as they roam between countries or networks. A message is then delivered to the mobile device via wireless transmission typically at a radio frequency RF from a base station in the wireless network to the mobile device . The particular network may be virtually any wireless network over which messages may be exchanged with a mobile communication device.

As shown in a composed e mail message is sent by the e mail sender located somewhere on the Internet . This message is normally fully in the clear and uses traditional Simple Mail Transfer Protocol SMTP RFC822 headers and Multipurpose Internet Mail Extension MIME body parts to define the format of the mail message. These techniques are all well known to those skilled in the art. The message arrives at the message server and is normally stored in a message store. Most known messaging systems support a so called pull message access scheme wherein the mobile device must request that stored messages be forwarded by the message server to the mobile device . Some systems provide for automatic routing of such messages which are addressed using a specific e mail address associated with the mobile device . In a preferred embodiment described in further detail below messages addressed to a message server account associated with a host system such as a home computer or office computer which belongs to the user of a mobile device are redirected from the message server to the mobile device as they are received.

Regardless of the specific mechanism controlling the forwarding of messages to the mobile device the message or possibly a translated or reformatted version thereof is sent to the wireless gateway . The wireless infrastructure includes a series of connections to wireless network . These connections could be Integrated Services Digital Network ISDN Frame Relay or T1 connections using the TCP IP protocol used throughout the Internet. As used herein the term wireless network is intended to include three different types of networks those being 1 data centric wireless networks 2 voice centric wireless networks and 3 dual mode networks that can support both voice and data communications over the same physical base stations. Combined dual mode networks include but are not limited to 1 Code Division Multiple Access CDMA networks 2 the Groupe Special Mobile or the Global System for Mobile Communications GSM and the General Packet Radio Service GPRS networks and 3 future third generation 3G networks like Enhanced Data rates for Global Evolution EDGE and Universal Mobile Telecommunications Systems UMTS . Some older examples of data centric network include the Mobitex Radio Network and the DataTAC Radio Network. Examples of older voice centric data networks include Personal Communication Systems PCS networks like GSM and TDMA systems.

The central host system will typically be a corporate office or other LAN but may instead be a home office computer or some other private system where mail messages are being exchanged. Within the host system is the message server running on some computer within the firewall of the host system that acts as the main interface for the host system to exchange e mail with the Internet . In the system of the redirection program enables redirection of data items from the server to a mobile communication device . Although the redirection program is shown to reside on the same machine as the message server for ease of presentation there is no requirement that it must reside on the message server. The redirection program and the message server are designed to co operate and interact to allow the pushing of information to mobile devices . In this installation the redirection program takes confidential and non confidential corporate information for a specific user and redirects it out through the corporate firewall to mobile devices . A more detailed description of the redirection software may be found in the commonly assigned U.S. Pat. No. 6 219 694 the 694 patent entitled System and Method for Pushing Information From A Host System To A Mobile Data Communication Device Having A Shared Electronic Address and issued to the assignee of the instant application on Apr. 17 2001 and U.S. patent application Ser. No. 09 401 868 which has issued as U.S. Pat. No. 6 701 378 Ser. No. 09 545 963 Ser. No. 09 528 495 which has issued as U.S. Pat. No. 6 463 464 Ser. No. 09 545 962 and Ser. No. 09 649 755 which has issued as U.S. Pat. No. 6 463 463 all of which are hereby incorporated into the present application by reference. This push technique may use a wireless friendly encoding compression and encryption technique to deliver all information to a mobile device thus effectively extending the security firewall to include each mobile device associated with the host system .

As shown in there may be many alternative paths for getting information to the mobile device . One method for loading information onto the mobile device is through a port designated using a device cradle . This method tends to be useful for bulk information updates often performed at initialization of a mobile device with the host system or a computer within the system . The other main method for data exchange is over the air using wireless networks to deliver the information. As shown in this may be accomplished through a wireless VPN router or through a traditional Internet connection to a wireless gateway and a wireless infrastructure as described above. The concept of a wireless VPN router is relatively new in the wireless industry and implies that a VPN connection could be established directly through a specific wireless network to a mobile device . The possibility of using a wireless VPN router has only recently been available and could be used when the new Internet Protocol IP Version 6 IPV6 arrives into IP based wireless networks. This new protocol will provide enough IP addresses to dedicate an IP address to every mobile device and thus make it possible to push information to a mobile device at any time. A principal advantage of using this wireless VPN router is that it could be an off the shelf VPN component thus it would not require a separate wireless gateway and wireless infrastructure to be used. A VPN connection would preferably be a Transmission Control Protocol TCP IP or User Datagram Protocol UDP IP connection to deliver the messages directly to the mobile device . If a wireless VPN is not available then a link to the Internet is the most common connection mechanism available and has been described above.

In the automatic redirection system of a composed e mail message leaving the e mail sender arrives at the message server and is redirected by the redirection program to the mobile device . As this redirection takes place the message is re enveloped as indicated at and a possibly proprietary compression and encryption algorithm can then be applied to the original message . In this way messages being read on the mobile device are no less secure than if they were read on a desktop workstation such as within the firewall. All messages exchanged between the redirection program and the mobile device preferably use this message repackaging technique. Another goal of this outer envelope is to maintain the addressing information of the original message except the sender s and the receiver s address. This allows reply messages to reach the appropriate destination and also allows the from field to reflect the mobile user s desktop address. Using the user s e mail address from the mobile device allows the received message to appear as though the message originated from the user s desktop system rather than the mobile device .

With reference back to the port and cradle connectivity to the mobile device this connection path offers many advantages for enabling one time data exchange of large items. For those skilled in the art of personal digital assistants PDAs and synchronization the most common data exchanged over this link is Personal Information Management PIM data . When exchanged for the first time this data tends to be large in quantity bulky in nature and requires a large bandwidth to get loaded onto the mobile device where it can be used on the road. This serial link may also be used for other purposes including setting up a private security key such as an S MIME or PGP specific private key the Certificate Cert of the user and their Certificate Revocation Lists CRLs . The private key is preferably exchanged so that the desktop and mobile device share one personality and one method for accessing all mail. The Cert and CRLs are normally exchanged over such a link because they represent a large amount of the data that is required by the device for S MIME PGP and other public key security methods.

Although the encoded message processing systems and methods described herein are in no way dependent upon pre loading of information from a host computer or a computer in a host system through a port arrangement such pre loading of typically bulky information such as Certs and CRLs may facilitate transmission of encoded messages particularly those that have been encrypted and or signed or require additional information for processing to mobile devices . If an alternate mechanism like S MIME or PGP e mail messages for example is available for transferring such messages to a mobile device then these messages may be processed as described herein.

Having described several typical communication network arrangements the transfer and processing of secure e mail messages will now be described in further detail.

E mail messages generated using the S MIME and PGP techniques may include encrypted information a digital signature on the message contents or both. In signed S MIME operations the sender takes a digest of a message and signs the digest using the sender s private key. A digest is essentially a checksum CRC or other preferably non reversible operation such as a hash on the message which is then signed. The signed digest is appended to the outgoing message possibly along with the Cert of the sender and possibly any required Certs and CRLs. The receiver of this signed message must also take a digest of the message compare this digest with the digest appended to the message retrieve the sender s public key and verify the signature on the appended digest. If the message content has been changed then the digests will be different or the signature on the digest will not verify properly. If the message is not encrypted this signature does not prevent anyone from seeing the contents of the message but does ensure that the message has not been tampered with and is from the actual person as indicated on the From field of the message.

The receiver may also verify the Cert and CRLs if they were appended to the message. A certificate chain is a Cert along with a number of other Certs required to verify that the original Cert is authentic. While verifying the signature on a signed message the receiver of the message will also typically obtain a Cert chain for the signing Cert and verify that each Cert in the chain was signed by the next Cert in the chain until a Cert is found that was signed by a root Cert from a trusted source perhaps from a large Public Key Server PKS associated with a Certificate Authority CA such as Verisign or Entrust for example both prominent companies in the area of public key cryptography. Once such a root Cert is found a signature can be verified and trusted since both the sender and receiver trust the source of the root Cert.

In encrypted S MIME message operations a one time session key is generated and used to encrypt the body of the message typically with a symmetric cipher like Triple DES. The session key is then encrypted using the receiver s public key typically with a public key encryption algorithm like RSA. If the message is addressed to more than one receiver the same session key is encrypted using the public key of each receiver. The encrypted message body as well as all encrypted session keys is sent to every receiver. Each receiver then locates its own session key possibly based on a generated Recipient Info summary of the receivers that may be attached to the message and decrypt the session key using its private key. Once the session key is decrypted it is then used to decrypt the message body. The S MIME Recipient Info attachment can also specify the particular encryption scheme that must be used to decrypt the message. This information is normally placed in the header of the S MIME message.

Those skilled in the art will appreciate that these operations relate to an illustrative example of S MIME messaging and its associated encoding operations namely encryption and or signing. However the instant invention is in no way restricted thereto. Encryption and signing are merely two examples of the type of encoding operations to which the systems and methods described herein may be applied.

Referring now to encoded message transfer will be described in further detail. illustrates an example system for transferring messages that were encoded by encryption and possibly signing using S MIME or similar techniques.

In User X at system creates a mail message and decides to encrypt and sign the message. To achieve this the system first creates a session key and encrypts the message. Then the public key for each recipient is retrieved from either local storage or a Public Key Server PKS not shown on the Internet for example if public key cryptography is used. Other crypto schemes may instead be used although public key cryptography tends to be common particularly when a system includes a large number of possible correspondents. In a system such as shown in there may be millions of e mail systems such as that may from time to time wish to exchange messages with any other e mail systems. Public key cryptography provides for efficient key distribution among such large numbers of correspondents. For each recipient the session key is encrypted as shown at A B and C for three intended recipients and attached to the message preferably along with the RecipientInfo section. Once the encryption is complete a digest of the new message including the encrypted session keys is taken and this digest is signed using the sender s private key. In the case where the message is signed first a digest of the message would be taken without the encrypted session keys. This digest along with all the signed components would be encrypted using a session key and each session key would be further encrypted using each recipient s public key if public key crypto is used or another key associated with each recipient if the sender is able to securely exchange e mail with one or more recipients through some alternate crypto arrangement.

This encrypted and signed message with the session keys and Cert information is sent to the message server running on a computer system. As described above the message server may process the message and place it into the appropriate user s mailbox. Depending upon the mobile device e mail access scheme a mobile device may request the e mail from the message server or redirection software see may detect the new message and begin the redirection process to forward the new e mail message to each recipient that has a mobile device . Alternatively the e mail message and attachments may possibly be sent directly to a mobile device instead of or in addition to a message server system. Any of the transfer mechanisms described above including over the Internet through a wireless gateway and infrastructure and one or more wireless networks or through the Internet and wireless network using a wireless VPN router in not shown in may be used to forward the e mail message and attachments to a device . Other transfer mechanisms that are currently known or may become available in the future may also be used to send the message and attachments to a mobile device .

If the message is not signed such that X s signature and other signature related information including X s CRLs X s Cert and other chained Certs would not be part of the message or the message was signed before it was encrypted then when a user of a mobile device opens the message the appropriate encrypted session key is found and decrypted. However if the message was signed after being encrypted then the signature is preferably first verified and the correct session key is then found and decrypted. As those skilled in the art will appreciate session key decryption commonly involves the further security operation of entering a password or passphrase preferably known only to the user of a mobile device .

As described earlier before an encoded message can be displayed to the user it must first be decoded possibly including decrypting the message and any decoding steps may require a long time to complete. Any decoding steps that can be performed without any action or input from a user can be performed before the user is informed of the receipt of the message. The resultant partially or possibly fully decoded message can then be stored as a context object in a memory. Upon completion of these decoding steps the user is informed that the message has been received. The stored context object may then be retrieved and further decoded if necessary when the decoded message is required for display or further processing.

Those skilled in the art will appreciate that the header portion typically includes addressing information such as To From and CC addresses as well as possibly message length indicators sender encryption and signature scheme identifiers when necessary and the like. Actual message content normally includes a message body or data portion and possibly one or more file attachments which may be encrypted by the sender using a session key. If a session key was used it is typically encrypted for each intended recipient and included in the message as shown at . Depending upon the particular message transport mechanism used to send the message to a receiver such as a mobile device the message may include only the specific encrypted session key for that recipient or all session keys. If the message is signed a signature and signature related information are included. Where the message is signed before encryption according to a variant of S MIME for example the signature is also be encrypted.

The format shown in is for illustrative purposes only and it is to be understood that the present invention is applicable to encoded messages having other formats. For example as described above the processing systems and techniques described herein are applicable to signed or unsigned encrypted or unencrypted and otherwise encoded messages such that a received message may not necessarily include the portions related to encryption and or signing. In addition the particular message components may appear in a different order than shown in . Depending upon the message scheme used a message may include fewer additional or different message sections or components.

As an operational scenario example current mobile device implementations have a 32 KB limit on the message size that will reach the mobile device. If an S MIME message is over 32 KB then the entire message will not completely reach the mobile device. So if the message is signed then it cannot be verified on the mobile device. The server in this situation sends an indication to the mobile device in the first message chunk indicating that the message is too large for verification by the mobile device and optionally indicates to the mobile device that the message has already been verified by the server. Because of this processing the user receiving the message will know right away that the mobile device cannot verify the signature on their device and so the user will not waste time continuously hitting the mobile device s more button to try and verify it.

Also as part of this operational scenario if the message is too big to be completely sent to the mobile device the server can safely remove the attachment data if there is an attachment so it is not sent to the mobile device. In S MIME the message signature covers the message text and all of the attachments. If a signed message contains a 2 MB Excel spreadsheet then it will be too big to be verified on the device. In this situation the server does not send the spreadsheet data to the mobile device.

It should be noted that this is just one type of operational scenario and that one or more processing aspects can be added modified or removed and still have the desired effect achieved. For example an operational scenario could further include allowing the server to verify the signature for the user when the message is too big. The server sends an indication with the message indicating that the signature has been verified by the server or the message is too long to verify on the mobile device but the signature was successfully verified by the server. The user can then use this as an indication that the message is authentic. If the message is not too big then verification can be left for the mobile device to perform. Still further an operational scenario could include offloading all or a portion of the decryption work of an encrypted message to the server. If the server has the user s private keys then the server can decrypt any encrypted messages for it and send the plain text to the mobile device. The message in this example would still be protected using the shared Triple DES key between the server and the mobile device.

If decision block determines that the message size is above the threshold then decision block examines whether the message is signed. If the message is not signed then processing continues at decision block . However if the message is signed then the message s signature is verified at process block .

If the message does not contain an attachment as determined by decision block then processing continues at process block . If the message contained one or more attachments as determined at decision step then process block removes the attachment s before the message is sent to the mobile device. At process block message size indication information is generated. Such information may include if applicable an indication that the original message size was too big for transmission to the mobile device as well as if the message has been verified. The reduced message and the other information are provided to the mobile device at process block . Processing continues on as indicated by continuation marker .

With reference to the mobile device receives at process block the message and any other information e.g. the message size indication information the server may have provided to the mobile device. If there is no indication that the mobile device cannot verify the message as determined at decision block then process block verifies the message. However if there is an indication that the mobile device cannot verify the message then processing continues at process block wherein the mobile device provides one or more notifications to the user based upon the server generated message information.

At process block the message is displayed to the mobile device s user. The entire message may be accessed for display to the user or as described below if only a portion of the message was provided by the server then as much of the message as provided is made available for display to the user or for other use by the mobile device.

The mobile device can handle the partial message in a number of ways such as displaying as much of the message as what is provided by the server . Upon receiving more of the message from the server the mobile device can provide that additional information to the user. As an example of one of the many ways in which the mobile device can handle the encoded partial message the mobile device may partially populate one or more software objects with the information contained in the encoded partial message .

As an illustration the contents of an S MIME message may include a header signer information and signatures text of the message attachments certificates and a certificate revocation list. If the message is cut off in the middle of the text then the mobile device can create object s partially where the signer information header information and part of the text can be accessed via the partially populated object s for use in displaying the incomplete message to the user of the mobile device . The object s are populated with as much information as what was provided by the server . This approach differs from other approaches which will throw an exception because not all of the information is present. It should be understood that the handling of partial messages is not limited to object oriented environments but include non object oriented environments as well. For example data structures in a non object oriented environment may be partially populated with the information provided to the mobile device .

As an operational scenario example a server receives a portion of a message. When the server receives the first piece of an S MIME or PGP message the server processes as much of the message as it can. If some of the text of the message is present i.e. the message received is more than the encoding then the server will provide the partial message to the mobile device for display. If the message is signed then the server indicates to the mobile device that the message at least for the present cannot be verified because the signed complete message has not arrived at the server. The mobile device may optionally determine to display that indication to the user.

As the server provides more of the message to the mobile device the mobile device updates its display. For example more of the text may be displayed and if the message can now be verified then the mobile device indicates that information to the user. Because the approach processes the part of the message that is received the server and the mobile device do not have to do any additional processing such as when a signed incomplete message is received at the server the server nor the mobile device performs a verification until if ever the entire signed message is received. It should be noted that this is just one type of processing and that one or more processing aspects can be added modified or removed and still achieve the desired effect.

It should be understood that many variations exist due to different implementation environments. For example the server may provide a partial message to the mobile device not because the server itself received a partial message but rather because the server recognizes that it is going to send only a partial message. In this situation the server receives the entire message from the sender and the mobile device may not receive from the server the entire message. The server can determine if only part of the message will reach the device e.g. if the message is too big however and can send that indication. So the processing disclosed herein also applies to such a situation. For example decision block would also branch to process block if the size of the message received from the sender is above a predetermined threshold.

If the complete message has been sent as determined by decision block then the message is processed as usual by the server at process block before being provided to the mobile device at process block . Processing for this branch continues on as indicated by continuation marker .

However if not the entire message has been sent as determined by decision block then the server processes the partial message at process block . For example the server may examine whether the message is signed. If the message is not signed as determined at decision block then processing continues at process block . However if the message is signed then the server will include in the data sent to the mobile device an indication that the message cannot be verified.

At process block the information about the message such as that it is a partial message and whether the signature cannot be verified . This information and the partial message is sent to the mobile device at process block . Processing continues on as indicated by continuation marker .

With reference to the mobile device receives at process block the data sent by the server. If there is not a partial message indication then the message is processed as usual before the end block is encountered. However if there is a partial message indication then at process block the mobile device provides one or more notifications to the user based upon the data sent by the server.

At process block one or more objects operating on the mobile device are populated as completely as possible with the data provided by the server. The partial message is displayed to the user based upon the populated object s at process block . As more of the message is provided to the mobile device as determined at decision block the objects are updated at process block and used in displaying information to the user at process block . If no more of the message arrives within a predetermined time then processing with respect to the message completes as indicated by end block .

Those skilled in the art will also appreciate that encoded message processing methods need not necessarily include all of the steps disclosed herein or may include further steps and operations in addition thereto depending upon the types of encoding applied by a message sender for example. Other variations of the methods described above will be apparent to those skilled in the art and as such are considered to be within the scope of the invention.

Moreover the above embodiments are presented only by way of example and are not meant to limit the scope of the invention described herein. For example although described primarily in the context of a mobile communication device the encoded message processing systems and methods described above may reduce processor load and time delays associated with viewing or otherwise accessing encoded messages for which first stage decoding operations have been performed. Message decoding operations tend to involve much smaller time delays on desktop computer systems which typically have faster and much more powerful processors than smaller hand held and portable devices. The power consumption associated with such processor intensive decoding operations also tends to be less of a concern in desktop or other larger computer systems with virtually unlimited power sources. However the systems and methods described above may nonetheless be implemented in such systems.

Still further examples of the wide scope of the systems and methods disclosed herein are illustrated in . describe additional uses of the systems and methods within different exemplary communication systems. is a block diagram showing an example communication system. In there is shown a computer system a WAN corporate LAN behind a security firewall wireless infrastructure wireless networks and and mobile devices and . The corporate LAN includes a message server a wireless connector system a data store including at least a plurality of mailboxes a desktop computer system having a communication link directly to a mobile device such as through physical connection to an interface or connector and a wireless VPN router . Operation of the system in will be described below with reference to the messages and .

The computer system may for example be a laptop desktop or palmtop computer system configured for connection to the WAN . Such a computer system may connect to the WAN via an ISP or ASP. Alternatively the computer system may be a network connected computer system that like the computer system accesses the WAN through a LAN or other network. Many modern mobile devices are enabled for connection to a WAN through various infrastructure and gateway arrangements so that the computer system may also be a mobile device.

The corporate LAN is an illustrative example of a central server based messaging system that has been enabled for wireless communications. The corporate LAN may be referred to as a host system in that it hosts both a data store with mailboxes for messages as well as possibly further data stores not shown for other data items that may be sent to or received from mobile devices and and the wireless connector system the wireless VPN router or possibly other components enabling communications between the corporate LAN and one or more mobile devices and . In more general terms a host system may be one or more computers at with or in association with which a wireless connector system is operating. The corporate LAN is one preferred embodiment of a host system in which the host system is a server computer running within a corporate network environment operating behind and protected by at least one security firewall . Other possible central host systems include ISP ASP and other service provider or mail systems. Although the desktop computer system and interface connector may be located outside such host systems wireless communication operations may be similar to those described below.

The corporate LAN implements the wireless connector system as an associated wireless communications enabling component which is normally a software program a software application or a software component built to work with at least one or more message server. The wireless connector system is used to send user selected information to and to receive information from one or more mobile devices and via one or more wireless networks and . The wireless connector system may be a separate component of a messaging system as shown in or may instead be partially or entirely incorporated into other communication system components. For example the message server may incorporate a software program application or component implementing the wireless connector system portions thereof or some or all of its functionality.

The message server running on a computer behind the firewall acts as the main interface for the corporation to exchange messages including for example electronic mail calendaring data voice mail electronic documents and other PIM data with the WAN which will typically be the Internet. The particular intermediate operations and computers are dependent upon the specific type of message delivery mechanisms and networks via which messages are exchanged and therefore have not been shown in . The functionality of the message server may extend beyond message sending and receiving providing such features as dynamic database storage for data like calendars todo lists task lists e mail and documentation as described above.

Message servers such as normally maintain a plurality of mailboxes in one or more data stores such as for each user having an account on the server. The data store includes mailboxes for a number of n user accounts. Messages received by the message server that identify a user a user account a mailbox or possibly another address associated with a user account or mailbox as a message recipient are stored in the corresponding mailbox . If a message is addressed to multiple recipients or a distribution list then copies of the same message are typically stored to more than one mailbox . Alternatively the message server may store a single copy of such a message in a data store accessible to all of the users having an account on the message server and store a pointer or other identifier in each recipient s mailbox . In typical messaging systems each user accesses his or her mailbox and its contents using a messaging client such as Microsoft Outlook or Lotus Notes which normally operates on a PC such as the desktop computer system connected in the LAN . Although only one desktop computer system is shown in those skilled in the art will appreciate that a LAN will typically contain many desktop notebook and laptop computer systems. Each messaging client normally accesses a mailbox through the message server although in some systems a messaging client may enable direct access to the data store and a mailbox stored thereon by the desktop computer system . Messages may also be downloaded from the data store to a local data store not shown on the desktop computer system .

Within the corporate LAN the wireless connector system operates in conjunction with the message server . The wireless connector system may reside on the same computer system as the message server or may instead be implemented on a different computer system. Software implementing the wireless connector system may also be partially or entirely integrated with the message server . The wireless connector system and the message server are preferably designed to cooperate and interact to allow the pushing of information to mobile devices . In such an installation the wireless connector system is preferably configured to send information that is stored in one or more data stores associated with the corporate LAN to one or more mobile devices through the corporate firewall and via the WAN and one of the wireless networks . For example a user that has an account and associated mailbox in the data store may also have a mobile device such as . As described above messages received by the message server that identify a user account or mailbox are stored to a corresponding mailbox by the message server . If a user has a mobile device such as messages received by the message server and stored to the user s mailbox are preferably detected by the wireless connector system and sent to the user s mobile device . This type of functionality represents a push message sending technique. The wireless connector system may instead employ a pull technique in which items stored in a mailbox are sent to a mobile device responsive to a request or access operation made using the mobile device or some combination of both techniques.

The use of a wireless connector thereby enables a messaging system including a message server to be extended so that each user s mobile device has access to stored messages of the message server . Although the systems and methods described herein are not restricted solely to a push based technique a more detailed description of push based messaging may be found in the United States Patent and Applications incorporated by reference above. This push technique uses a wireless friendly encoding compression and encryption technique to deliver all information to a mobile device thus effectively extending the company firewall to include the mobile devices .

As shown in there are several paths for exchanging information with a mobile device from the corporate LAN . One possible information transfer path is through the physical connection such as a serial port using an interface or connector . This path may be useful for example for bulk information updates often performed at initialization of a mobile device or periodically when a user of a mobile device is working at a computer system in the LAN such as the computer system . For example as described above PIM data is commonly exchanged over such a connection for example a serial port connected to an appropriate interface or connector such as a cradle in or upon which a mobile device may be placed. The physical connection may also be used to transfer other information from a desktop computer system to a mobile device including private security keys private keys such as private encryption or signature keys associated with the desktop computer system or other relatively bulky information such as Certs and CRLs used in some secure messaging schemes such as S MIME and PGP.

Private key exchange using a physical connection and connector or interface allows a user s desktop computer system and mobile device or to share at least one identity for accessing all encrypted and or signed mail. The user s desktop computer system and mobile device or can also thereby share private keys so that either the host system or mobile device or can process secure messages addressed to the user s mailbox or account on the message server . The transfer of Certs and CRLs over such a physical connection may be desirable in that they represent a large amount of the data that is required for S MIME PGP and other public key security methods. A user s own Cert a chain of Cert s used to verify the user s Cert and CRL as well as Certs Cert chains and CRLs for other users may be loaded onto a mobile device from the user s desktop computer system . This loading of other user s Certs and CRLs onto a mobile device allows a mobile device user to select other entities or users with whom they might be exchanging secure messages and to pre load the bulky information onto the mobile device through a physical connection instead of over the air thus saving time and wireless bandwidth when a secure message is received from or to be sent to such other users or when the status of a Cert is to be determined.

In known synchronization type wireless messaging systems a physical path has also been used to transfer messages from mailboxes associated with a message server to mobile devices and .

Another method for data exchange with a mobile device is over the air through the wireless connector system and using wireless networks . As shown in this could involve a Wireless VPN router if available in the network or alternatively a traditional WAN connection to wireless infrastructure that provides an interface to one or more wireless networks . The Wireless VPN router provides for creation of a VPN connection directly through a specific wireless network to a wireless device . Such a Wireless VPN router may be used in conjunction with a static addressing scheme such as IPV6.

If a wireless VPN router is not available then a link to a WAN normally the Internet is a commonly used connection mechanism that may be employed by the wireless connector system . To handle the addressing of the mobile device and any other required interface functions wireless infrastructure is preferably used. The wireless infrastructure may also determine a most likely wireless network for locating a given user and track users as they roam between countries or networks. In wireless networks such as and messages are normally delivered to and from mobile devices via RF transmissions between base stations not shown and the mobile devices .

A plurality of connections to wireless networks and may be provided including for example ISDN Frame Relay or T1 connections using the TCP IP protocol used throughout the Internet. The wireless networks and could represent distinct unique and unrelated networks or they could represent the same network in different countries and may be any of different types of networks including but not limited to data centric wireless networks voice centric wireless networks and dual mode networks that can support both voice and data communications over the same or similar infrastructure such as any of those described above.

In some implementations more than one over the air information exchange mechanism may be provided in the corporate LAN . In the exemplary communication system of for example mobile devices associated with users having mailboxes associated with user accounts on the message server are configured to operate on different wireless networks and . If the wireless network supports IPv6 addressing then the wireless VPN router may be used by the wireless connector system to exchange data with any mobile device operating within the wireless network . The wireless network may be a different type of wireless network however such as the Mobitex network in which case information may instead be exchanged with a mobile device operating within the wireless network by the wireless connector system via a connection to the WAN and the wireless infrastructure .

Operation of the system in will now be described using an example of an e mail message sent from the computer system and addressed to at least one recipient having both an account and mailbox or like data store associated with the message server and a mobile device or . However the e mail message is intended for illustrative purposes only. The exchange of other types of information between the corporate LAN is preferably also enabled by the wireless connector system .

The e mail message sent from the computer system via the WAN may be fully in the clear or signed with a digital signature and or encrypted depending upon the particular messaging scheme used. For example if the computer system is enabled for secure messaging using S MIME then the e mail message may be signed encrypted or both.

E mail messages such as normally use traditional SMTP RFC822 headers and MIME body parts to define the format of the e mail message. These techniques are all well known to one in the art. The e mail message arrives at the message server which determines into which mailboxes the e mail message should be stored. As described above a message such as the e mail message may include a user name a user account a mailbox identifier or other type of identifier that may be mapped to a particular account or associated mailbox by the message server . For an e mail message recipients are typically identified using e mail addresses corresponding to a user account and thus a mailbox .

The wireless connector system sends or mirrors via a wireless network or certain user selected data items or parts of data items from the corporate LAN to the user s mobile device or preferably upon detecting that one or more triggering events has occurred. A triggering event includes but is not limited to one or more of the following screen saver activation at a user s networked computer system disconnection of the user s mobile device or from the interface or receipt of a command sent from a mobile device or to the host system to start sending one or more messages stored at the host system. Thus the wireless connector system may detect triggering events associated with the message server such as receipt of a command or with one or more networked computer systems including the screen saver and disconnection events described above. When wireless access to corporate data for a mobile device or has been activated at the LAN when the wireless connector system detects the occurrence of a triggering event for a mobile device user for example data items selected by the user are preferably sent to the user s mobile device. In the example of the e mail message once a triggering event has been detected the arrival of the message at the message server is detected by the wireless connector system . This may be accomplished for example by monitoring or querying mailboxes associated with the message server or if the message server is a Microsoft Exchange server then the wireless connector system may register for advise syncs provided by the Microsoft Messaging Application Programming Interface MAPI to thereby receive notifications when a new message is stored to a mailbox .

When a data item such as the e mail message is to be sent to a mobile device or the wireless connector system preferably repackages the data item in a manner that is transparent to the mobile device so that information sent to and received by the mobile device appears similar to the information as stored on and accessible at the host system LAN in . One preferred repackaging method includes wrapping received messages to be sent via a wireless network in an electronic envelope that corresponds to the wireless network address of the mobile device to which the message is to be sent. Alternatively other repackaging methods could be used such as special purpose TCP IP wrapping techniques. Such repackaging preferably also results in e mail messages sent from a mobile device or appearing to come from a corresponding host system account or mailbox even though they are composed and sent from a mobile device. A user of a mobile device or may thereby effectively share a single e mail address between a host system account or mailbox and the mobile device.

Repackaging of the e mail message is indicated at and . Repackaging techniques may be similar for any available transfer paths or may be dependent upon the particular transfer path either the wireless infrastructure or the wireless VPN router . For example the e mail message is preferably compressed and encrypted either before or after being repackaged at to thereby effectively provide for secure transfer to the mobile device . Compression reduces the bandwidth required to send the message whereas encryption ensures confidentiality of any messages or other information sent to mobile devices and . In contrast messages transferred via a VPN router might only be compressed and not encrypted since a VPN connection established by the VPN router is inherently secure. Messages are thereby securely sent via either encryption at the wireless connector system which may be considered a non standard VPN tunnel or a VPN like connection for example or the VPN router to mobile devices and . Accessing messages using a mobile device or is thus no less secure than accessing mailboxes at the LAN using the desktop computer system .

When a repackaged message or arrives at a mobile device or via the wireless infrastructure or via the wireless VPN router the mobile device or removes the outer electronic envelope from the repackaged message or and performs any required decompression and decryption operations. Messages sent from a mobile device or and addressed to one or more recipients are preferably similarly repackaged and possibly compressed and encrypted and sent to a host system such as the LAN . The host system then removes the electronic envelope from the repackaged message decrypts and decompresses the message if desired and routes the message to the addressed recipients.

Another goal of using an outer envelope is to maintain at least some of the addressing information in the original e mail message . Although the outer envelope used to route information to mobile devices is addressed using a network address of one or more mobile devices the outer envelope preferably encapsulates the entire original e mail message including at least one address field possibly in compressed and or encrypted form. This allows original To From and CC addresses of the e mail message to be displayed when the outer envelope is removed and the message is displayed on a mobile device or . The repackaging also allows reply messages to be delivered to addressed recipients with the From field reflecting an address of the mobile device user s account or mailbox on the host system when the outer envelope of a repackaged outgoing message sent from a mobile device is removed by the wireless connector system . Using the user s account or mailbox address from the mobile device or allows a message sent from a mobile device to appear as though the message originated from the user s mailbox or account at the host system rather than the mobile device.

The wireless connector systems are similar to the wireless connector system described above in that it enables data items such as e mail messages and other items that are stored in mailboxes and possibly data items stored in a local or network data store to be sent from the LAN to one or more mobile devices . In however the network operator infrastructure provides an interface between the mobile devices and the LAN . As above operation of the system shown in will be described below in the context of an e mail message as an illustrative example of a data item that may be sent to a mobile device .

When an e mail message addressed to one or more recipients having an account on the message server is received by the message server the message or possibly a pointer to a single copy of the message stored in a central mailbox or data store is stored into the mailbox of each such recipient. Once the e mail message or pointer has been stored to a mailbox it may be accessed using a mobile device or . In the example shown in the e mail message has been addressed to the mailboxes associated with both desktop computer systems and and thus both mobile devices and .

As those skilled in the art will appreciate communication network protocols commonly used in wired networks such as the LAN and or the WAN are not suitable or compatible with wireless network communication protocols used within wireless networks such as . For example communication bandwidth protocol overhead and network latency which are primary concerns in wireless network communications are less significant in wired networks which typically have much higher capacity and speed than wireless networks. Therefore mobile devices and cannot normally access the data store directly. The network operator infrastructure provides a bridge between the wireless network and the LAN .

The network operator infrastructure enables a mobile device to establish a connection to the LAN through the WAN and may for example be operated by an operator of the wireless network or a service provider that provides wireless communication service for mobile devices and . In a pull based system a mobile device may establish a communication session with the network operator infrastructure using a wireless network compatible communication scheme preferably a secure scheme such as Wireless Transport Layer Security WTLS when information should remain confidential and a wireless web browser such as a Wireless Application Protocol WAP browser. A user may then request through manual selection or pre selected defaults in the software residing in the mobile device any or all information or just new information stored in a mailbox in the data store at the LAN . The network operator infrastructure then establishes a connection or session with a wireless connector system using Secure Hypertext Transfer Protocol HTTPS for example if no session has already been established. As above a session between the network operator infrastructure and a wireless connector system may be made via a typical WAN connection or through the VPN router if available. When time delays between receiving a request from a mobile device and delivering requested information back to the device are to be minimized the network operator infrastructure and the wireless connector systems may be configured so that a communication connection remains open once established.

In the system of requests originating from mobile device A and B would be sent to the wireless connector systems and respectively. Upon receiving a request for information from the network operator infrastructure a wireless connector system retrieves requested information from a data store. For the e mail message the wireless connector system retrieves the e mail message from the appropriate mailbox typically through a messaging client operating in conjunction with the computer system which may access a mailbox either via the message server or directly. Alternatively a wireless connector system may be configured to access mailboxes itself directly or through the message server . Also other data stores both network data stores similar to the data store and local data stores associated with each computer system may be accessible to a wireless connector system and thus to a mobile device .

If the e mail message is addressed to the message server accounts or mailboxes associated with both computer systems and and devices and then the e mail message may be sent to the network operator infrastructure as shown at and which then sends a copy of the e mail message to each mobile device and as indicated at and . Information may be transferred between the wireless connector systems and the network operator infrastructure via either a connection to the WAN or the VPN router . When the network operator infrastructure communicates with the wireless connector systems and the mobile devices via different protocols translation operations may be performed by the network operator infrastructure . Repackaging techniques may also be used between the wireless connector systems and the network operator infrastructure and between each mobile device and the network operator infrastructure .

Messages or other information to be sent from a mobile device may be processed in a similar manner with such information first being transferred from a mobile device to the network operator infrastructure . The network operator infrastructure may then send the information to a wireless connector system for storage in a mailbox and delivery to any addressed recipients by the message server for example or may alternatively deliver the information to the addressed recipients.

The above description of the system in relates to pull based operations. The wireless connector systems and the network operator infrastructure may instead be configured to push data items to mobile devices and . A combined push pull system is also possible. For example a notification of a new message or a list of data items currently stored in a data store at the LAN could be pushed to a mobile device and then be used to request messages or data items from the LAN via the network operator infrastructure .

If mobile devices associated with user accounts on the LAN are configured to operate within different wireless networks then each wireless network may have an associated wireless network infrastructure component similar to .

Although separate dedicated wireless connector systems are shown for each computer system in the system of one or more of the wireless connector systems may preferably be configured to operate in conjunction with more than one computer system or to access a data store or mailbox associated with more than one computer system. For example the wireless connector system may be granted access to the mailboxes associated with both the computer system and the computer system . Requests for data items from either mobile device A or B may then be processed by the wireless connector system . This configuration may be useful to enable wireless communications between the LAN and the mobile devices and without requiring a desktop computer system to be running for each mobile device user. A wireless connector system may instead be implemented in conjunction with the message server to enable wireless communications.

The wireless connector system provides for transfer of data items stored at the LAN to one or more mobile devices . These data items preferably include e mail messages stored in mailboxes in the data store as well as possibly other items stored in the data store or another network data store or a local data store of a computer system such as .

As described above an e mail message addressed to one or more recipients having an account on the message server and received by the message server is stored into the mailbox of each such recipient. In the system of the external data store preferably has a similar structure to and remains synchronized with the data store . PIM information or data stored at data store is preferably independently modifiable to the PIM information or data stored at the host system. In this particular configuration the independently modifiable information at the external data store may maintain synchronization of a plurality of data stores associated with a user i.e. data on a mobile device data on a personal computer at home data at the corporate LAN etc. . This synchronization may be accomplished for example through updates sent to the data store by the wireless connector system at certain time intervals each time an entry in the data store is added or changed at certain times of day or when initiated at the LAN by the message server or a computer system at the data store or possibly by a mobile device through the access gateway . In the case of the e mail message an update sent to the data store some time after the e mail message is received may indicate that the message has been stored in a certain mailbox in the store and a copy of the e mail message will be stored to a corresponding storage area in the data store . When the e mail message has been stored in the mailboxes corresponding to the mobile devices and for example one or more copies of the e mail message indicated at and in are sent to and stored in corresponding storage areas or mailboxes in the data store . As shown updates or copies of stored information in the data store may be sent to the data store via a connection to the WAN or the VPN router . For example the wireless connector system may post updates or stored information to a resource in the data store via an HTTP post request. Alternatively a secure protocol such as HTTPS or Secure Sockets Layer SSL may be used. Those skilled in the art will appreciate that a single copy of a data item stored in more than one location in a data store at the LAN may instead be sent to the data store . This copy of the data item could then be stored either in more than one corresponding location in the data store or a single copy may be stored in the data store with a pointer or other identifier of the stored data item being stored in each corresponding location in the data store .

The access gateway is effectively an access platform in that it provides mobile devices and with access to the data store . The data store may be configured as a resource accessible on the WAN and the access gateway may be an ISP system or WAP gateway through which mobile devices and may connect to the WAN . A WAP browser or other browser compatible with the wireless networks and may then be used to access the data store which is synchronized with the data store and download stored data items either automatically or responsive to a request from a mobile device . As shown at and copies of the e mail message which was stored in the data store may be sent to the mobile devices and . A data store not shown on each mobile device may thereby be synchronized with a portion such as a mailbox of a data store on a corporate LAN . Changes to a mobile device data store may similarly be reflected in the data stores and .

The transceiver includes a receiver a transmitter antennas and one or more local oscillators and a digital signal processor DSP . The antennas and may be antenna elements of a multiple element antenna and are preferably embedded antennas. However the systems and methods described herein are in no way restricted to a particular type of antenna or even to wireless communication devices.

The mobile device is preferably a two way communication device having voice and data communication capabilities. Thus for example the mobile device may communicate over a voice network such as any of the analog or digital cellular networks and may also communicate over a data network. The voice and data networks are depicted in by the communication tower . These voice and data networks may be separate communication networks using separate infrastructure such as base stations network controllers etc. or they may be integrated into a single wireless network.

The transceiver is used to communicate with the network and includes the receiver the transmitter the one or more local oscillators and the DSP . The DSP is used to send and receive signals to and from the transceivers and and also provides control information to the receiver and the transmitter . If the voice and data communications occur at a single frequency or closely spaced sets of frequencies then a single local oscillator may be used in conjunction with the receiver and the transmitter . Alternatively if different frequencies are utilized for voice communications versus data communications for example then a plurality of local oscillators can be used to generate a plurality of frequencies corresponding to the voice and data networks . Information which includes both voice and data information is communicated to and from the transceiver via a link between the DSP and the microprocessor .

The detailed design of the transceiver such as frequency band component selection power level etc. will be dependent upon the communication network in which the mobile device is intended to operate. For example a mobile device intended to operate in a North American market may include a transceiver designed to operate with any of a variety of voice communication networks such as the Mobitex or DataTAC mobile data communication networks AMPS TDMA CDMA PCS etc. whereas a mobile device intended for use in Europe may be configured to operate with the GPRS data communication network and the GSM voice communication network. Other types of data and voice networks both separate and integrated may also be utilized with a mobile device .

Depending upon the type of network or networks the access requirements for the mobile device may also vary. For example in the Mobitex and DataTAC data networks mobile devices are registered on the network using a unique identification number associated with each mobile device. In GPRS data networks however network access is associated with a subscriber or user of a mobile device. A GPRS device typically requires a subscriber identity module SIM which is required in order to operate a mobile device on a GPRS network. Local or non network communication functions if any may be operable without the SIM device but a mobile device will be unable to carry out any functions involving communications over the data network other than any legally required operations such as 911 emergency calling.

After any required network registration or activation procedures have been completed the mobile device may the send and receive communication signals including both voice and data signals over the networks . Signals received by the antenna from the communication network are routed to the receiver which provides for signal amplification frequency down conversion filtering channel selection etc. and may also provide analog to digital conversion. Analog to digital conversion of the received signal allows more complex communication functions such as digital demodulation and decoding to be performed using the DSP . In a similar manner signals to be transmitted to the network are processed including modulation and encoding for example by the DSP and are then provided to the transmitter for digital to analog conversion frequency up conversion filtering amplification and transmission to the communication network via the antenna .

In addition to processing the communication signals the DSP also provides for transceiver control. For example the gain levels applied to communication signals in the receiver and the transmitter may be adaptively controlled through automatic gain control algorithms implemented in the DSP . Other transceiver control algorithms could also be implemented in the DSP in order to provide more sophisticated control of the transceiver .

The microprocessor preferably manages and controls the overall operation of the mobile device . Many types of microprocessors or microcontrollers could be used here or alternatively a single DSP could be used to carry out the functions of the microprocessor . Low level communication functions including at least data and voice communications are performed through the DSP in the transceiver . Other high level communication applications such as a voice communication application A and a data communication application B may be stored in the non volatile memory for execution by the microprocessor . For example the voice communication module A may provide a high level user interface operable to transmit and receive voice calls between the mobile device and a plurality of other voice or dual mode devices via the network . Similarly the data communication module B may provide a high level user interface operable for sending and receiving data such as e mail messages files organizer information short text messages etc. between the mobile device and a plurality of other data devices via the networks . The microprocessor also interacts with other device subsystems such as the display the RAM the auxiliary input output I O subsystems the serial port the keyboard the speaker the microphone the short range communications subsystem and any other device subsystems generally designated as .

Some of the subsystems shown in perform communication related functions whereas other subsystems may provide resident or on device functions. Notably some subsystems such as the keyboard and the display may be used for both communication related functions such as entering a text message for transmission over a data communication network and device resident functions such as a calculator or task list or other PDA type functions.

Operating system software used by the microprocessor is preferably stored in a persistent store such as non volatile memory . The non volatile memory may be implemented for example as a Flash memory component or as battery backed up RAM. In addition to the operating system which controls low level functions of the mobile device the non volatile memory includes a plurality of software modules A N that can be executed by the microprocessor and or the DSP including a voice communication module A a data communication module B and a plurality of other operational modules N for carrying out a plurality of other functions. These modules are executed by the microprocessor and provide a high level interface between a user and the mobile device . This interface typically includes a graphical component provided through the display and an input output component provided through the auxiliary I O keyboard speaker and microphone . The operating system specific device applications or modules or parts thereof may be temporarily loaded into a volatile store such as RAM for faster operation. Moreover received communication signals may also be temporarily stored to RAM before permanently writing them to a file system located in a persistent store such as the Flash memory .

An exemplary application module N that may be loaded onto the mobile device is a personal information manager PIM application providing PDA functionality such as calendar events appointments and task items. This module N may also interact with the voice communication module A for managing phone calls voice mails etc. and may also interact with the data communication module for managing e mail communications and other data transmissions. Alternatively all of the functionality of the voice communication module A and the data communication module B may be integrated into the PIM module.

The non volatile memory preferably also provides a file system to facilitate storage of PIM data items on the device. The PIM application preferably includes the ability to send and receive data items either by itself or in conjunction with the voice and data communication modules A B via the wireless networks . The PIM data items are preferably seamlessly integrated synchronized and updated via the wireless networks with a corresponding set of data items stored or associated with a host computer system thereby creating a mirrored system for data items associated with a particular user.

Context objects representing at least partially decoded data items as well as fully decoded data items are preferably stored on the mobile device in a volatile and non persistent store such as the RAM . Such information may instead be stored in the non volatile memory for example when storage intervals are relatively short such that the information is removed from memory soon after it is stored. However storage of this information in the RAM or another volatile and non persistent store is preferred in order to ensure that the information is erased from memory when the mobile device loses power. This prevents an unauthorized party from obtaining any stored decoded or partially decoded information by removing a memory chip from the mobile device for example.

The mobile device may be manually synchronized with a host system by placing the device in an interface cradle which couples the serial port of the mobile device to the serial port of a computer system or device. The serial port may also be used to enable a user to set preferences through an external device or software application or to download other application modules N for installation. This wired download path may be used to load an encryption key onto the device which is a more secure method than exchanging encryption information via the wireless network . Interfaces for other wired download paths may be provided in the mobile device in addition to or instead of the serial port . For example a USB port would provide an interface to a similarly equipped personal computer.

Additional application modules N may be loaded onto the mobile device through the networks through an auxiliary I O subsystem through the serial port through the short range communications subsystem or through any other suitable subsystem and installed by a user in the non volatile memory or RAM . Such flexibility in application installation increases the functionality of the mobile device and may provide enhanced on device functions communication related functions or both. For example secure communication applications may enable electronic commerce functions and other such financial transactions to be performed using the mobile device .

When the mobile device is operating in a data communication mode a received signal such as a text message or a web page download is processed by the transceiver module and provided to the microprocessor which preferably further processes the received signal in multiple stages as described above for eventual output to the display or alternatively to an auxiliary I O device . A user of mobile device may also compose data items such as e mail messages using the keyboard which is preferably a complete alphanumeric keyboard laid out in the QWERTY style although other styles of complete alphanumeric keyboards such as the known DVORAK style may also be used. User input to the mobile device is further enhanced with a plurality of auxiliary I O devices which may include a thumbwheel input device a touchpad a variety of switches a rocker input switch etc. The composed data items input by the user may then be transmitted over the communication networks via the transceiver module .

When the mobile device is operating in a voice communication mode the overall operation of the mobile device is substantially similar to the data mode except that received signals are preferably be output to the speaker and voice signals for transmission are generated by a microphone . Alternative voice or audio I O subsystems such as a voice message recording subsystem may also be implemented on the mobile device . Although voice or audio signal output is preferably accomplished primarily through the speaker the display may also be used to provide an indication of the identity of a calling party the duration of a voice call or other voice call related information. For example the microprocessor in conjunction with the voice communication module and the operating system software may detect the caller identification information of an incoming voice call and display it on the display .

A short range communications subsystem is also included in the mobile device . The subsystem may include an infrared device and associated circuits and components or a short range RF communication module such as a Bluetooth module or an 802.11 module for example to provide for communication with similarly enabled systems and devices. Those skilled in the art will appreciate that Bluetooth and 802.11 refer to sets of specifications available from the Institute of Electrical and Electronics Engineers relating to wireless personal area networks and wireless local area networks respectively.

