---

title: Trusted policy and charging enforcement function
abstract: A system for policy and charging enforcement function on a mobile access terminal. The system comprises a radio transceiver, a processor, a memory, and an application stored in the memory. The application stored in the memory, when executed by the processor, receives policy and charging rules via the radio transceiver, and enforces the policy and charging rules when the mobile access terminal initiates a wireless communication.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09066230&OS=09066230&RS=09066230
owner: Sprint Communications Company L.P.
number: 09066230
owner_city: Overland Park
owner_country: US
publication_date: 20120627
---
IP Multimedia Subsystem IMS is a framework for adding multimedia services to mobile communication networks to support delivery of Internet Protocol IP services and aid the access of multimedia and voice applications from wireless and wireline networks to create a convergence between fixed networks and mobile networks. IP Multimedia Subsystem provides a control layer that isolates the access network from the service layer. This control layer allows network operators to provide multimedia services in a scalable centralized manner.

Long Term Evolution LTE is a standard for wireless communication of high speed data for mobile phones and data terminals. Long Term Evolution is an evolution of the Global System for Mobile Communications GSM and Universal Mobile Telecommunications System UMTS . Long Term Evolution was designed to increase the capacity and speed of wireless data networks using new digital signaling processing DSP and modulation techniques and a simplification of the network architecture to an Internet Protocol based system. The Long Term Evolution wireless interface is incompatible with the previous standards and must be operated on a separate wireless spectrum.

In an embodiment a system for policy and charging enforcement function on a mobile access terminal is disclosed. The system comprises a radio transceiver a processor a memory and an application stored in the memory. The application stored in the memory when executed by the processor receives policy and charging rules via the radio transceiver and enforces the policy and charging rules when the mobile access terminal initiates a wireless communication.

In an embodiment a method of trusted policy and charging enforcement function is disclosed. The method comprises establishing a wireless communication link between a mobile access terminal and a policy server. A trusted security zone in the mobile access terminal is coupled with a trusted security zone in the policy server. Credentials are transmitted from a policy and charging enforcement function application residing in the trusted security zone on the mobile access terminal to a policy and charging rules function application residing on the policy server where the credential is used to establish trust between the mobile access terminal and the policy server. Policy rules are transmitted from the policy and charging rules function application on the policy server to the policy and charging enforcement function application on the mobile access terminal. The received policy rules are enforced by the policy and charging enforcement function application on the mobile access terminal.

In an embodiment a method of monitoring and rating network usage on a mobile access terminal is disclosed. The method comprises establishing a first wireless communication link between a mobile access terminal and a policy server on a first wireless network. Policy rules are received by a policy and charging enforcement function application on the mobile access terminal from a policy and charging rules function application on the policy server on the first wireless network. A second wireless communication link is established between the mobile access terminal and a second wireless network. The activity of the mobile access terminal on the second wireless network is monitored by the policy and charging enforcement function application on the mobile access terminal where monitoring the activity of the mobile access terminal comprises counting the amount of data usage on the second wireless network. An amount of data usage by the mobile access terminal on the second wireless network is monitored by the second wireless network. The amount of data usage on the second network by the mobile access terminal is transmitted by the policy and charging enforcement function application on the mobile access terminal to the policy and charging rules function on the policy server on the first wireless network. The amount of data usage on the second wireless network by the mobile access terminal is transmitted by the second wireless network to the first wireless network. The first wireless network verifies the amount of data usage on the second wireless network received from the mobile access terminal correlates to the amount of data usage received from the second wireless network.

These and other features will be more clearly understood from the following detailed description taken in conjunction with the accompanying drawings and claims.

It should be understood at the outset that although illustrative implementations of one or more embodiments are illustrated below the disclosed systems and methods may be implemented using any number of techniques whether currently known or not yet in existence. The disclosure should in no way be limited to the illustrative implementations drawings and techniques illustrated below but may be modified within the scope of the appended claims along with their full scope of equivalents.

Policy and charging rules function PCRF may be provided by an application executing on a node in a wireless multimedia network designated to determine real time policy rules for the network. The policy and charging rules function is a software component that traditionally operates at the network core and efficiently accesses subscriber databases and other specialized services such as charging systems. Because it may operate in real time the policy and charging rules function has an increased significance and broader potential role than traditional policy engines which were added on to existing networks rather than built into the network core. Further as a software component the policy and charging rules function may provide for a more readily modified updated revised policy and charging rules enforcement capability. Some policy and charging rules function applications may support static non real time or static policy application.

The policy and charging rules function is the part of the network architecture that aggregates information to and from the network operational support systems and other sources supporting the creation rules and then automatically making intelligent policy decisions in real time for each subscriber active on the network. The policy and charging rules function may support multimedia services quality of service QoS levels and charging rules. For example the policy and charging rules function may charge subscribers based on their use of high bandwidth applications charge extra for quality of service guarantees limit application usage while roaming lower bandwidth of wireless subscribers using high bandwidth applications during peak wireless network access periods and other. The policy and charging rules function may interface with the main Internet Protocol packet gateway for the wireless network and make charging enforcement decisions on its behalf acting as a policy decision point PDP for the wireless network operator. The policy and charging rules function may create and or define policy rules and charging rules. One or more policy and charging enforcement function PCEF servers may be positioned in the network to perform policy and charging enforcement based on policy rules and charging rules defined by the policy and charging rules function and transmitted to the policy and charging enforcement function servers. The policy and charging rules function and the policy and charging enforcement function are defined in the 3generation partnership project 3GPP policy charging control technical specification 3GPP TS 23.203 V9.3.0.

The present disclosure teaches a system and method for extending a policy and charging enforcement function to a mobile access terminal. A policy and charging enforcement function application may be implemented on the mobile access terminal which receives policy rules and charging rules from a policy engine performing the policy and charging rules function for the wireless network. The policy and charging enforcement function application on the mobile access terminal may then act as a policy enforcement point PEP enforcing network rules and policies on the communication activities of the mobile access terminal. The policy and charging enforcement function application on the mobile access terminal may identify characteristics of the data traffic and the wireless network and may enforce the policy rules and charging rules based on these characteristics. Enforcing the policy rules and charging rules on the mobile access terminal allows restricting data traffic before it is sent from the mobile access terminal to the wireless network. Extending the policy and charging enforcement function to the mobile access terminal may also allow for more granularity of enforcement than provided at the network level where data may be aggregated across many mobile access terminals when policy rules and charging rules are enforced. Promoting the mobile access terminal making policy and charging enforcement function decisions on the mobile access terminal can save network resources in some circumstances. For example when the policy dictates that a high bandwidth application on the mobile access terminal should not be allowed to access the wireless radio access network RAN because a peak usage is being experienced in the wireless radio access network making this decision locally on the mobile access terminal obviates a call attempt by the mobile access terminal and the congestion in the wireless radio access network is thereby mitigated.

In an embodiment the policy and charging enforcement function application on the mobile access terminal executes in a trusted security zone on the mobile access terminal and is coupled to a trusted security zone in the wireless network executing the policy and charging rules function. The policy and charging rules function provided by a node in the wireless network is a secure service because it is protected by the appropriate network security elements restricting access to the node. However the policy and charging rules function itself is not trusted. Although information is hard to access it is not trusted to ensure only a trusted device or element may access the information. Some services such as monitoring wireless network data usage by the mobile access terminal may not be as sensitive and may be performed by a policy and charging enforcement application executing in a normal partition on the mobile access terminal. Other services and policy rules may risk exposing sensitive information and therefore the policy and charging enforcement function application may be executed in a secure partition on the mobile access terminal. By executing the policy and charging enforcement function in a trusted security zone on both the wireless network and the mobile access terminal a virtual private network VPN can be created between the trusted security zones credentials may be securely exchanged and trust may be established between the entities. The policy rules and charging rules may then be sent to the policy and charging enforcement function application on the mobile access terminal while limiting the risk of exposure.

In an embodiment the policy and charging enforcement application on the mobile access terminal may be used for monitoring wireless network usage. The policy and charging enforcement application may identify the network type such as cellular or Wi Fi and whether there is a policy engine on the wireless network providing policy rules and charging rules to the mobile access terminal. For a wireless network that does not communicate policy rules and charging rules to the mobile access terminal the policy and charging enforcement function application on the mobile access terminal may monitor data usage on the wireless network. This monitored data usage may be saved and later sent to the policy engine on the wireless network of the service provider for the mobile access terminal. The service provider can then use the monitored data usage to verify billing received from the provider of the monitored wireless network. For example the service provider for the mobile access terminal may have an agreement in place to allow their customers to roam on the cellular network of a second service provider. Policy rules and charging rules are sent from the policy engine on the service provider network directing the policy and charging enforcement function application on the mobile access terminal to monitor data usage when roaming on the cellular network of the second service provider. The service provider may use the monitored data usage to verify the roaming charges they receive from the second service provider are accurate.

In addition to monitoring data usage while roaming on the second service provider network the policy rules may be used to throttle the traffic being sent to the network to reduce the data usage and save on roaming charges. Similarly the service provider for the mobile access terminal may have a service agreement with a provider of Wi Fi networks for example allowing access to Wi Fi networks in airports to the mobile access terminal. Policy rules and charging rules may be defined for Wi Fi networks that differ from the rules defined for roaming on cellular networks. In an embodiment the policy rules on the mobile access terminal may restrict functionality on the mobile access terminal. When accessing a wireless network that is not trusted the policy and charging enforcement function on the mobile access terminal may restrict access to the microphone or camera on the mobile access terminal or restrict access to corporate email to enhance the security of the mobile access terminal.

In an embodiment a policy and charging rules function may be implemented on a Wi Fi wireless network. The policy and charging rules function on the Wi Fi network may also be implemented in a trusted security zone allowing trusted communications between the mobile access terminal and the Wi Fi network. This may allow services such as a premium service tier to be implemented on the wireless network through the use of policy rules.

In an embodiment a trusted security zone provides chipsets with a hardware root of trust a secure execution environment for applications and secure access to peripherals. A hardware root of trust means the chipset should only execute programs intended by the device manufacturer or vendor and resists software and physical attacks and therefore remains trusted to provide the intended level of security. The chipset architecture is designed to promote a programmable environment that allows the confidentiality and integrity of assets to be protected from specific attacks. Trusted security zone capabilities are becoming mainstream features in mobile device chipsets. Providing the trusted security zone in the main mobile device chipset and protecting the hardware root of trust removes the need for separate secure hardware to authenticate the device or user. To ensure the integrity of the applications relying upon trusted data such as a mobile financial services application the trusted security zone also provides the secure execution environment where only trusted applications can operate safe from attacks. Security is further promoted by restricting access of non trusted applications to peripherals such as data inputs and data outputs while a trusted application is running in the secure execution environment.

A complete Trusted Execution Environment TEE may be implemented through the use of the trusted security zone hardware and software architecture. The Trusted Execution Environment is an execution environment that is parallel to the execution environment of the main mobile device operating system. Through standardization of application programming interfaces APIs the Trusted Execution Environment becomes a place to which scalable deployment of secure services can be targeted. A device which has a chipset that has a Trusted Execution Environment on it may exist in a trusted services environment where devices in the trusted services environment are trusted and protected against attacks. The Trusted Execution Environment can be implemented on mobile access terminals and tablets as well as extending to other trusted devices such as sensors medical devices point of sale terminals industrial automation handheld terminals automotive etc.

The trusted security zone may be implemented by partitioning all of the hardware and software resources of the mobile device into two partitions a secure partition and a normal partition. In some contexts the secure partition may be referred to as a secure world or a secure execution world and the normal partition may be referred to as a non secure world or a non secure execution world. Placing sensitive resources in the secure partition can protect against possible attacks on those resources. For example resources such as trusted software applications may run in the secure partition and have access to hardware peripherals such as a touchscreen or a secure location in memory. Less secure peripherals such as wireless radios may be disabled completely while the secure partition is being accessed while other peripherals may only be accessed from the secure partition. While the secure partition is being accessed through the Trusted Execution environment the main mobile operating system in the normal partition is suspended and applications in the normal partition are prevented from accessing the secure peripherals and data. This prevents corrupted applications or malware applications from breaking the trust of the device.

The trusted security zone may be implemented by partitioning the hardware and software resources to exist in a secure subsystem which is not accessible to components outside the secure subsystem. The trusted security zone is built into the processor architecture through hardware logic present in the trusted security zone which enables a perimeter boundary between the secure partition and the normal partition. Software architecture to support the secure partition may be provided through a dedicated secure kernel running trusted applications. Trusted applications are independent secure applications which can be accessed by normal applications through an application programming interface in the Trusted Execution Environment on a chipset that utilizes the trusted security zone.

In an embodiment the normal partition applications may run on a first virtual processor and the secure partition applications run on a second virtual processor. Both virtual processors may run on a single physical processor executing in a time sliced fashion removing the need for a dedicated physical security processor. Time sliced execution comprises switching contexts between the two virtual processors to share processor resources based on tightly controlled mechanisms such as secure software instructions or hardware exceptions. The context of the currently running virtual processor is saved the context of the virtual processor being switched to is restored and processing is restarted in the restored virtual processor. Time sliced execution protects the trusted security zone by stopping the execution of the normal partition while the secure partition is executing.

The two virtual processors may context switch via a processor mode called monitor mode when changing the currently running virtual processor. The mechanisms by which the processor can enter monitor mode from the normal partition are tightly controlled. The entry to monitor mode can be triggered by software executing a dedicated instruction the Secure Monitor Call SMC instruction or by a subset of the hardware exception mechanisms such as hardware interrupts which can be configured to cause the processor to switch into monitor mode. The software that executes within monitor mode then saves the context of the running virtual processor and switches to the secure virtual processor.

The trusted security zone runs a separate operating system that is not accessible to the mobile device users. For security purposes the trusted security zone is not open to users for installing applications which means users do not have access to install applications in the trusted security zone. This prevents corrupted applications or malware applications from executing powerful instructions reserved to the trusted security zone and thus preserves the trust of the device. The security of the system is achieved at least in part by partitioning the hardware and software resources of the mobile access terminal so they exist in one of two partitions the secure partition for the security subsystem and the normal partition for everything else. Placing the trusted security zone in the secure partition and restricting access from the normal partition protects against software and basic hardware attacks. Hardware logic ensures that no secure partition resources can be accessed by the normal partition components or applications. A dedicated secure partition operating system runs in a virtual processor separate from the normal partition operating system that likewise executes in its own virtual processor. Users may install applications on the mobile device which may execute in the normal partition operating system described above. The trusted security zone runs a separate operating system for the secure partition that is installed by the mobile device manufacturer or vendor and users are not able to install new applications in or alter the contents of the trusted security zone.

Turning now to a system for policy and charging enforcement function on a mobile access terminal is described. The system comprises a mobile access terminal a base transceiver station a network and a policy server . The mobile access terminal comprises a radio transceiver a processor and a memory . The memory comprises a policy and charging enforcement function application and a trusted security zone where the trusted security zone comprises an application and credentials . In an embodiment the application may be the policy and charging enforcement function application executing in the trusted security zone rather than the application executing in a normal partition of memory . Alternatively the application may be a portion of the policy and charging enforcement function application executing in the trusted security zone and or a data portion of the policy and charging enforcement function application stored in the trusted security zone . For example policy rules charging rules information related to the policy server and or a policy and charging rules function application and other confidential information related to the policy and charging enforcement function and or policy and charging rules function may be stored in the trusted security zone . The mobile access terminal may be a mobile phone a personal digital assistant PDA a media player a laptop computer a tablet computer or other network enabled electronic device.

In an embodiment the base transceiver station provides a wireless communication link to the mobile access terminal according to one or more of a code division multiple access CDMA wireless protocol a global system for mobile communications GSM wireless protocol a long term evolution LTE wireless protocol a worldwide interoperability for microwave access WiMAX wireless protocol or another wireless protocol. While a single base transceiver station is illustrated in it is understood that the system may comprise any number of base transceiver stations and any number of mobile access terminals . The network may be a public communication network a private communication network or a combination thereof.

The policy server comprises a trusted security zone and an application executing in the trusted security zone . The application provides the policy and charging rules function for the network . The application aggregates information from the network and operational support systems in real time creates policy rules and charging rules based on the collected information and makes intelligent policy decisions for each subscriber active on the network. When operating in a trusted security zone the application may establish a trusted communication with the mobile access terminal based on receiving the credentials from the mobile access terminal . Once the credentials have been received and the trusted communication established policy rules and charging rules can be securely sent to the mobile access terminal . Although shown executing in the trusted security zone in an embodiment the application may execute outside of the trusted security zone protected by network security elements restricting access to the policy server . When operated outside of the trusted security zone the application may be secure but may not be part of a trusted execution environment. In some contexts the application may be referred to as a policy and charging rules function application and or a policy and charging rules function network application.

In an embodiment the policy and charging enforcement application receives policy rules and charging rules from the application via the radio transceiver . When the mobile access terminal initiates a wireless communication over the network the policy and charging enforcement application enforces the received policy rules and charging rules. Enforcing the policy rules and charging rules on the mobile access terminal allows for traffic restrictions or blocking before sending data to the network reducing traffic on the network and reducing the load on the application .

In an embodiment the policy rules and charging rules define services quality of service levels and charging rules for the use of the wireless communication network . The policy rules define how the mobile access terminal may utilize the network . They provide the ability to enable multimedia services for the mobile access terminal such as streaming video or video calling based on the service plan of the mobile access terminal and allow or restrict access to the feature based on the policy rules. The policy rules may also define quality of service levels for the mobile access terminal allowing greater or less network bandwidth based on the service plan of the mobile access terminal . The enforcement of policy rules may limit application usage while roaming and or lower bandwidth of wireless subscribers using high bandwidth applications during peak wireless network access period. The charging rules enforce charging rules. For example the mobile access terminal may purchase a defined amount of data usage on the network and when the mobile access terminal reaches the allotted data usage enforcement of the charging rules block further access to the network until additional data usage is purchased. For example the charging rules and or policy rules may charge subscribers based on their use of high bandwidth applications charge extra for quality of service guarantees limit application usage while roaming reduce bandwidth provided to wireless subscribers using high bandwidth applications during peak wireless network access periods and based on other conditions.

In an embodiment enforcing the policy rules and or charging rules comprises blocking the wireless communication when specified by the policy rules. The policy rules and or charging rules may define rules which block access to the network such as the previous example where the mobile access terminal has used their purchased allotment of data. As mentioned above having the policy and charging enforcement function application executing on the mobile access terminal may reduce the load on the network . Another example might be a policy rule that blocks the mobile access terminal from accessing wireless networks other than the network . The policy rules and the charging rules may be referred to as the policy and charging rules in some contexts.

In an embodiment the policy and charging rules are received via the radio transceiver from a trusted device. Establishing a trusted execution environment with a trusted device ensures that the communication of the policy and charging rules is not only secure but that the policy and charging rules are received from a known device. Exchanging the credentials to identify the mobile access terminal to the trusted device prevents another device from intercepting the communication and attempting to masquerade as the trusted device.

In an embodiment enforcing the policy and charging rules is based on the type of the wireless communication network . The policy and charging rules may have different definitions based on the type of network with which the mobile access terminal is communicating. For instance the mobile access terminal might be subscribed to a service plan from a service provider of the network and may enforce policy and charging rules based on the service plan when communicating with the network . The service provider of the network may also have a roaming agreement with a service provider for another network but may want to limit the data usage of the mobile access terminal on the other network and therefore may provide additional policy and charging rules for the mobile access terminal to enforce when communicating with the other network. The policy and charging rules may further be defined to enforce different restrictions based on the type of wireless communication network such as whether the communication is with a cellular wireless communication network or a Wi Fi wireless communication network.

In an embodiment the system further comprises the policy and charging enforcement function application monitoring the wireless network activities of the mobile access terminal . In addition to defining network rules the policy and charging rules may direct the policy and charging enforcement function application on the mobile access terminal to monitor data usage and activities on the wireless networks with which the mobile access terminal communicates. Monitoring on the mobile access terminal may allow finer granularity than data collected by the network as well as providing the ability to monitor other networks with which the mobile access terminal interfaces.

Turning now to a method of trusted policy charging and rules enforcement function on a mobile access terminal is described. At block a wireless communication link is established between a mobile access terminal and a policy server . The policy server defines policy and charging rules for a wireless network . At block a trusted security zone in the mobile access terminal is coupled with a trusted security zone in the policy server . Coupling between trusted security zones may allow a trusted execution environment to be established between the mobile access terminal and the policy server . At block a credential is transmitted from a policy and charging enforcement function application residing in the trusted security zone on the mobile access terminal to a policy and charging rules function application residing in the trusted security zone on the policy server where the credential is used to establish trust between the mobile access terminal and the policy server . Alternatively the credential may be transmitted by a base layer of functionality and or utilities of the trusted security zone on the mobile access terminal to a base layer of functionality and or utilities of the trusted security zone of the policy server . At block policy and charging rules are transmitted by the policy and charging rules function application on the policy server to the policy and charging enforcement function application on the mobile access terminal . Once the credentials have been confirmed and trust has been established between the policy server and the mobile access terminal the policy and charging rules may be securely transmitted to the policy and charging enforcement function application on the mobile access terminal . At block the received policy and charging rules are enforced by the policy and charging enforcement function application on the mobile access terminal . The policy and charging enforcement function application may extend policy enforcement to the mobile access terminal and restrict traffic before it is sent to the first wireless network based on the received policy rules.

In an embodiment the wireless communication link between the mobile access terminal and the policy server is established in accordance with a Long Term Evolution LTE wireless communication standard. Long Term Evolution is a standard for wireless communication of high speed data for mobile phones and data terminals. Long Term Evolution allows cellular wireless networks to more efficiently support Internet Protocol based services and the network architecture allows integration of the policy and charging rules function at the Long Term Evolution network core.

In an embodiment the method further comprises the policy and charging enforcement function application on the mobile access terminal monitoring wireless network activities and transmitting the monitored statistics to the policy and charging rules function application on the policy server . In addition to defining network rules the policy and charging rules may direct the policy and charging enforcement application on the mobile access terminal to monitor data usage and activities on the wireless networks with which the mobile access terminal communicates. Monitoring on the mobile access terminal may allow finer granularity than data collected by the policy server on the network as well as providing the ability to monitor other networks with which the mobile access terminal interfaces.

In an embodiment enforcing the received policy and charging rules is based on a time since communicating with the policy and charging rules function application on the policy server . The mobile access terminal may share responsibility for rules enforcement with policy server when communicating with the network . The received policy and charging rules may instruct the mobile access terminal to take over rules enforcement when communications with the policy server are lost for a period of time.

In an embodiment enforcing the received policy and charging rules comprises blocking access to a wireless communication network when specified by the policy and charging rules. The received policy and charging rules may define rules which block access to a wireless network. For example the mobile access terminal might be blocked from accessing a wireless network where the service provider of the network does not have a roaming agreement in place.

In an embodiment coupling the trusted security zone in the mobile access terminal with the trusted security zone in the policy server comprises creating a virtual private network VPN . A virtual private network is a secure connection between two endpoints which uses authentication encryption and tunneling protocols where one network protocol encapsulates a different network protocol to provide a secure path through an untrusted network. Establishing a virtual private network may allow secure transmittal of the credentials and subsequently the policy rules between the mobile access terminal and the policy server . Alternatively in an embodiment coupling the trusted security zone in the mobile access terminal with the trusted security zone in the policy server comprises establishing a trusted end to end communication link between the trusted security zone on the mobile access terminal and the trusted security zone in the policy server . For further details about establishing trusted end to end communication links see U.S. patent application Ser. No. 13 532 588 filed Jun. 25 2012 entitled End to end Trusted Communications Infrastructure by Leo Michael McRoberts et al. which is incorporated by reference in its entirety.

Turning now to a method of monitoring and rating network usage on a mobile access terminal is described. At block a first wireless communication link is established between a mobile access terminal and a policy server on a first wireless network . The policy server defines policy and charging rules for the first wireless network . At block policy and charging rules are received by a policy and enforcement function application on the mobile access terminal from a policy and charging rules function application on the policy server . The policy and charging rules function application sends policy and charging rules to the mobile access terminal to extend policy support to the mobile access terminal and reduce load on the first wireless network . At block a second wireless communication link is established between the mobile access terminal and a second wireless network. The mobile access terminal may be out of range of the first wireless network and may utilize the second wireless network for internet connectivity. At block the activity of the mobile access terminal on the second wireless network is monitored by the policy and charging enforcement function application on the mobile access terminal where monitoring the activity of the mobile access terminal comprises counting the amount of data usage on the second wireless network. The policy and charging rules received from the policy server on the first wireless network may instruct the mobile access terminal to monitor the data usage of the mobile access terminal when utilizing the second wireless network.

At block an amount of data usage by the mobile access terminal on the second wireless network is monitored by the second wireless network. The second wireless network also keeps track of data usage by the mobile access terminal on its network for statistical information and billing purposes. At block the amount of data usage on the second network by the mobile access terminal is transmitted by the policy and charging enforcement function application on the mobile access terminal to the policy and charging rules function application on the policy server on the first wireless network . The monitored usage totals are provided by the mobile access terminal to the first wireless network based on the policy and charging rules. At block the amount of data usage on the second wireless network by the mobile access terminal is transmitted by the second wireless network to the first wireless network . For example the second wireless network may send a report of the data usage by the mobile access terminal to the first wireless network . The service provider of the second wireless network may have a service agreement with the service provider of the first wireless network and may provide the amount of data usage by the mobile access terminal on the second wireless network as part of the billing based on the mobile access terminal being associated with the service provider of the first wireless network . At block the amount of data usage on the second wireless network received from the mobile access terminal is verified to match within a predefined range of variation the report of the amount of data usage on the second wireless network received from the second wireless network. The predefined range of variation may be specified as a percentage of the reported usage or as a fixed quantity of data. For example the range of variation of may be predefined to be about 10 about 5 about 2 or some other predefined range of variation. Alternatively the range of variation may be predefined to be about 1 Gigabyte about 100 Megabyte about 50 Megabyte about 10 Megabyte or some other predefined range of variation. In some contexts matching the data usage within a predefined range of variation as described above may be referred to as correlating the amount of data usage on the second wireless network received from the mobile access terminal to the amount of data usage on the second wireless network received from the second wireless network. The service provider of the first wireless network may use the data usage totals received from the mobile access terminal to verify the amount being billed by the service provider of the second wireless network is correct.

In an embodiment the method further comprises throttling the data usage of the mobile access terminal on the second wireless network based on a received policy rule. The service provider of the first wireless network may have an agreement with the service provider of the second wireless network allowing the mobile access terminal access to the second wireless network with the data usage being billed to the service provider of the first wireless network. To limit the cost to the first service provider of providing the access to the second wireless network a policy rule may sent to the mobile access terminal to restrict the data bandwidth when accessing the second wireless network.

In an embodiment the method further comprises disabling functionality on the mobile access terminal when accessing the second wireless network based on the received policy and charging rules. For security purposes it may be desirable to block usage of some features of the mobile access terminal when accessing a public wireless network. For example the mobile access terminal may be issued by a company to an employee and may provide access to corporate email. To limit exposure of the corporate email to hackers the received policy and charging rules may restrict access to corporate email when on a public wireless network. The received policy and charging rules may similarly block access to the camera on the mobile access terminal when on the company premises and accessing the corporate Wi Fi network.

In an embodiment the policy and charging enforcement function application on the mobile access terminal communicates an indication of a premium subscription to the second wireless network and the second wireless network provides a higher bandwidth to the mobile access terminal based on the premium subscription. The service provider of the first wireless network may have an agreement with the service provider of the second wireless network allowing the mobile access terminal a higher level of service when accessing the second wireless network. The policy and charging rules may define how the mobile access terminal communicates an indication of the premium subscription to the second wireless network which results in the second wireless network providing a higher bandwidth connection to the mobile access terminal .

In an embodiment the second wireless network is based on the Wi Fi wireless network standards. Wi Fi is a commonly used standard allowing a wireless exchange of data over a computer network. Monitoring the data usage of the mobile access terminal on Wi Fi networks allows the service provider of the first wireless network to collect statistics that would not previously have been available to them. If the service provider of the first wireless network has a service agreement with the service provider of the Wi Fi network the collected data may allow the first service provider to verify charges billed to them. In an embodiment the second wireless network is based on the Wi Fi wireless network standards and further comprises a policy and charging rules function. Incorporating a policy and charging rules function into the Wi Fi network may allow support for additional services and policy and charging rules on the Wi Fi network such as quality of service levels and charging rules.

The DSP or some other form of controller or central processing unit operates to control the various components of the mobile access terminal in accordance with embedded software or firmware stored in memory or stored in memory contained within the DSP itself. In addition to the embedded software or firmware the DSP may execute other applications stored in the memory or made available via information carrier media such as portable data storage media like the removable memory card or via wired or wireless network communications. The application software may comprise a compiled set of machine readable instructions that configure the DSP to provide the desired functionality or the application software may be high level software instructions to be processed by an interpreter or compiler to indirectly configure the DSP .

The DSP may communicate with a wireless network via the analog baseband processing unit . In some embodiments the communication may provide Internet connectivity enabling a user to gain access to content on the Internet and to send and receive e mail or text messages. The input output interface interconnects the DSP and various memories and interfaces. The memory and the removable memory card may provide software and data to configure the operation of the DSP . Among the interfaces may be the USB port and the infrared port . The USB port may enable the mobile access terminal to function as a peripheral device to exchange information with a personal computer or other computer system. The infrared port and other optional ports such as a Bluetooth interface or an IEEE 802.11 compliant wireless interface may enable the mobile access terminal to communicate wirelessly with other nearby handsets and or wireless base stations.

The keypad couples to the DSP via the interface to provide one mechanism for the user to make selections enter information and otherwise provide input to the mobile access terminal . Another input mechanism may be the touch screen LCD which may also display text and or graphics to the user. The touch screen LCD controller couples the DSP to the touch screen LCD . The GPS receiver is coupled to the DSP to decode global positioning system signals thereby enabling the mobile access terminal to determine its position.

It is understood that by programming and or loading executable instructions onto the computer system at least one of the CPU the RAM and the ROM are changed transforming the computer system in part into a particular machine or apparatus having the novel functionality taught by the present disclosure. It is fundamental to the electrical engineering and software engineering arts that functionality that can be implemented by loading executable software into a computer can be converted to a hardware implementation by well known design rules. Decisions between implementing a concept in software versus hardware typically hinge on considerations of stability of the design and numbers of units to be produced rather than any issues involved in translating from the software domain to the hardware domain. Generally a design that is still subject to frequent change may be preferred to be implemented in software because re spinning a hardware implementation is more expensive than re spinning a software design. Generally a design that is stable that will be produced in large volume may be preferred to be implemented in hardware for example in an application specific integrated circuit ASIC because for large production runs the hardware implementation may be less expensive than the software implementation. Often a design may be developed and tested in a software form and later transformed by well known design rules to an equivalent hardware implementation in an application specific integrated circuit that hardwires the instructions of the software. In the same manner as a machine controlled by a new ASIC is a particular machine or apparatus likewise a computer that has been programmed and or loaded with executable instructions may be viewed as a particular machine or apparatus.

The secondary storage is typically comprised of one or more disk drives or tape drives and is used for non volatile storage of data and as an over flow data storage device if RAM is not large enough to hold all working data. Secondary storage may be used to store programs which are loaded into RAM when such programs are selected for execution. The ROM is used to store instructions and perhaps data which are read during program execution. ROM is a non volatile memory device which typically has a small memory capacity relative to the larger memory capacity of secondary storage . The RAM is used to store volatile data and perhaps to store instructions. Access to both ROM and RAM is typically faster than to secondary storage . The secondary storage the RAM and or the ROM may be referred to in some contexts as computer readable storage media and or non transitory computer readable media.

I O devices may include printers video monitors liquid crystal displays LCDs touch screen displays keyboards keypads switches dials mice track balls voice recognizers card readers paper tape readers or other well known input devices.

The network connectivity devices may take the form of modems modem banks Ethernet cards universal serial bus USB interface cards serial interfaces token ring cards fiber distributed data interface FDDI cards wireless local area network WLAN cards radio transceiver cards such as code division multiple access CDMA global system for mobile communications GSM long term evolution LTE worldwide interoperability for microwave access WiMAX and or other air interface protocol radio transceiver cards and other well known network devices. These network connectivity devices may enable the processor to communicate with the Internet or one or more intranets. With such a network connection it is contemplated that the processor might receive information from the network or might output information to the network in the course of performing the above described method steps. Such information which is often represented as a sequence of instructions to be executed using processor may be received from and outputted to the network for example in the form of a computer data signal embodied in a carrier wave.

Such information which may include data or instructions to be executed using processor for example may be received from and outputted to the network for example in the form of a computer data baseband signal or signal embodied in a carrier wave. The baseband signal or signal embedded in the carrier wave or other types of signals currently used or hereafter developed may be generated according to several methods well known to one skilled in the art. The baseband signal and or signal embedded in the carrier wave may be referred to in some contexts as a transitory signal.

The processor executes instructions codes computer programs scripts which it accesses from hard disk floppy disk optical disk these various disk based systems may all be considered secondary storage ROM RAM or the network connectivity devices . While only one processor is shown multiple processors may be present. Thus while instructions may be discussed as executed by a processor the instructions may be executed simultaneously serially or otherwise executed by one or multiple processors. Instructions codes computer programs scripts and or data that may be accessed from the secondary storage for example hard drives floppy disks optical disks and or other device the ROM and or the RAM may be referred to in some contexts as non transitory instructions and or non transitory information.

In an embodiment the computer system may comprise two or more computers in communication with each other that collaborate to perform a task. For example but not by way of limitation an application may be partitioned in such a way as to permit concurrent and or parallel processing of the instructions of the application. Alternatively the data processed by the application may be partitioned in such a way as to permit concurrent and or parallel processing of different portions of a data set by the two or more computers. In an embodiment virtualization software may be employed by the computer system to provide the functionality of a number of servers that is not directly bound to the number of computers in the computer system . For example virtualization software may provide twenty virtual servers on four physical computers. In an embodiment the functionality disclosed above may be provided by executing the application and or applications in a cloud computing environment. Cloud computing may comprise providing computing services via a network connection using dynamically scalable computing resources. Cloud computing may be supported at least in part by virtualization software. A cloud computing environment may be established by an enterprise and or may be hired on an as needed basis from a third party provider. Some cloud computing environments may comprise cloud computing resources owned and operated by the enterprise as well as cloud computing resources hired and or leased from a third party provider.

In an embodiment some or all of the functionality disclosed above may be provided as a computer program product. The computer program product may comprise one or more computer readable storage medium having computer usable program code embodied therein to implement the functionality disclosed above. The computer program product may comprise data structures executable instructions and other computer usable program code. The computer program product may be embodied in removable computer storage media and or non removable computer storage media. The removable computer readable storage medium may comprise without limitation a paper tape a magnetic tape magnetic disk an optical disk a solid state memory chip for example analog magnetic tape compact disk read only memory CD ROM disks floppy disks jump drives digital cards multimedia cards and others. The computer program product may be suitable for loading by the computer system at least portions of the contents of the computer program product to the secondary storage to the ROM to the RAM and or to other non volatile memory and volatile memory of the computer system . The processor may process the executable instructions and or data structures in part by directly accessing the computer program product for example by reading from a CD ROM disk inserted into a disk drive peripheral of the computer system . Alternatively the processor may process the executable instructions and or data structures by remotely accessing the computer program product for example by downloading the executable instructions and or data structures from a remote server through the network connectivity devices . The computer program product may comprise instructions that promote the loading and or copying of data data structures files and or executable instructions to the secondary storage to the ROM to the RAM and or to other non volatile memory and volatile memory of the computer system .

In some contexts the secondary storage the ROM and the RAM may be referred to as a non transitory computer readable medium or a computer readable storage media. A dynamic RAM embodiment of the RAM likewise may be referred to as a non transitory computer readable medium in that while the dynamic RAM receives electrical power and is operated in accordance with its design for example during a period of time during which the computer is turned on and operational the dynamic RAM stores information that is written to it. Similarly the processor may comprise an internal RAM an internal ROM a cache memory and or other internal non transitory storage blocks sections or components that may be referred to in some contexts as non transitory computer readable media or computer readable storage media.

While several embodiments have been provided in the present disclosure it should be understood that the disclosed systems and methods may be embodied in many other specific forms without departing from the spirit or scope of the present disclosure. The present examples are to be considered as illustrative and not restrictive and the intention is not to be limited to the details given herein. For example the various elements or components may be combined or integrated in another system or certain features may be omitted or not implemented.

Also techniques systems subsystems and methods described and illustrated in the various embodiments as discrete or separate may be combined or integrated with other systems modules techniques or methods without departing from the scope of the present disclosure. Other items shown or discussed as directly coupled or communicating with each other may be indirectly coupled or communicating through some interface device or intermediate component whether electrically mechanically or otherwise. Other examples of changes substitutions and alterations are ascertainable by one skilled in the art and could be made without departing from the spirit and scope disclosed herein.

