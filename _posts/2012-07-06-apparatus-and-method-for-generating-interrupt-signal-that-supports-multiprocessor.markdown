---

title: Apparatus and method for generating interrupt signal that supports multi-processor
abstract: A method for generating an interrupt signal in a memory controller and supporting a multi-processor is provided. Whether an access for a determined memory region occurs is determined. When the access for the determined memory region occurs, whether the access for the determined memory region has a right is determined. When the access for the determined memory region has the right, a core that will generate an interrupt signal is determined. The determined core is requested to generate the interrupt signal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09170963&OS=09170963&RS=09170963
owner: Samsung Electronics Co., Ltd.
number: 09170963
owner_city: Suwon-si
owner_country: KR
publication_date: 20120706
---
This application claims the benefit under 35 U.S.C. 119 a of a Korean patent application filed in the Korean Intellectual Property Office on Jul. 11 2011 and assigned Serial No. 10 2011 0068339 the entire disclosure of which is hereby incorporated by reference.

The present invention relates to an electronic device. More particularly the present invention relates to a memory controller in an electronic device.

The concept of a processor can be extended to include a Direct Memory Access DMA controller that may be regarded as an independent processor. That is the DMA controller has a right for accessing a memory as a master right.

When data exist inside a memory during data exchange between processors memory location information and an interrupt signal for the data may be provided to a processor which will receive the data. A representative method includes a mail box method between processors. Here the mail box method is formed of a message and a hardware interrupt signal e.g. an except signal .

When the processor or the DMA controller operates the processor or the DMA controller generates an interrupt signal. That is an interrupt signal is used as a means for controlling message exchange.

An Interrupt Service software Routine ISR reacting to an interrupt signal generated by hardware requires a minimum pre processing time for context switching and a delay of about 10 s 50 s is generated due to this pre processing depending on an operating system.

However it is impossible to develop apparatus handler software using a method for processing all these interrupt signals only inside the ISR.

This is because an influence due to the ISR is different depending on a user operation and because of an Application Programming Interface API call that is provided by an operating system when an ISR operates that is a system call should be accompanied which unavoidably generates a delay and has a negative influence on a system performance.

The above information is presented as background information only to assist with an understanding of the present disclosure. No determination has been made and no assertion is made as to whether any of the above might be applicable as prior art with regard to the present invention.

Aspects of the present invention are to address at least the above mentioned problems and or disadvantages and to provide at least the advantages described below. Accordingly an aspect of the present invention is to provide an apparatus and a method for generating an interrupt signal in a memory controller that supports a multi processor.

Another aspect of the present invention is to provide a method and an apparatus for removing an interrupt signal delay in communication between processors.

Still another aspect of the present invention is to provide a method and an apparatus for generating an interrupt signal having flexibility in an aspect of software in communication between processors.

In accordance with an aspect of the present invention a method for generating an interrupt signal in a memory controller supporting a multi processor is provided. The method includes determining whether an access for a determined memory region occurs when the memory access for the determined memory region occurs determining whether the access for the determined memory region has a right when the access for the determined memory region has the right determining a core that will generate an interrupt signal and requesting the determined core to generate the interrupt signal.

In accordance with another aspect of the present invention an apparatus for generating an interrupt signal and using a multi processor is provided. The apparatus includes a bus bridge and a data buffer for outputting an accessed memory address when an access for a memory occurs and a memory protector for determining whether the access for the memory occurs via a memory bridge when the memory access occurs for determining whether the access for the memory has a right for when the access for the memory has the right determining a core that will generate an interrupt signal and for requesting the determined core to generate an interrupt signal via an interrupt signal port.

In accordance with still another aspect of the present invention an apparatus for generating an interrupt signal and supporting a multi processor is provided. The apparatus includes a plurality of core units a memory a memory controller for processing a memory access from a plurality of core units arranged between the plurality of core units and the memory for determining whether an access for the memory occurs for when the access for the memory occurs determining whether the access for the memory has a right for when the access for the memory has the right determining a core that will generate an interrupt signal and for requesting the determined core to generate the interrupt signal and an interrupt signal controller for receiving an interrupt signal generate request to generate an interrupt signal to the relevant core.

In accordance with further another aspect of the present invention a controller for generating an interrupt signal and using a multi processor is provided. The controller includes a memory protector for determining whether an access for a memory occurs for when the access for the memory occurs determining whether the access for the memory has a right for when the access for the memory has the right and is included within a specific address range determining a core that will generate an interrupt signal and for requesting the determined core to generate the interrupt signal.

In accordance with yet further another aspect of the present invention a controller for generating an interrupt signal and using a multi processor is provided. The controller includes a memory controller including a multi interrupt signal generator.

Other aspects advantages and salient features of the invention will become apparent to those skilled in the art from the following detailed description which taken in conjunction with the annexed drawings discloses exemplary embodiments of the invention.

Throughout the drawings like reference numerals will be understood to refer to like parts components and structures.

The following description with reference to the accompanying drawings is provided to assist in a comprehensive understanding of exemplary embodiments of the invention as defined by the claims and their equivalents. It includes various specific details to assist in that understanding but these are to be regarded as merely exemplary. Accordingly those of ordinary skill in the art will recognize that various changes and modifications of the embodiments described herein can be made without departing from the scope and spirit of the invention. Also descriptions of well known functions and constructions are omitted for clarity and conciseness.

The terms and words used in the following description and claims are not limited to the bibliographical meanings but are merely used by the inventor to enable a clear and consistent understanding of the invention. Accordingly it should be apparent to those skilled in the art that the following description of exemplary embodiments of the present invention are provided for illustration purpose only and not for the purpose of limiting the invention as defined by the appended claims and their equivalents.

It is to be understood that the singular forms a an and the include plural referents unless the context clearly dictates otherwise. Thus for example reference to a component surface includes reference to one or more of such surfaces.

Exemplary embodiments of the present invention provide an apparatus and a method for generating an interrupt signal that supports a multi processor.

Particularly exemplary embodiments of the present invention provide a method and an apparatus for removing a delay on a system due to an interrupt signal in a system having a multi processor.

An exemplary embodiment of the present invention includes a configuration of adding an improved Modified Memory Protection Unit MMPU inside a memory controller and allowing the MMPU to process interrupt signal generation. In the present disclosure a processor has the same meaning as a core and the MMPU may be referred to as a memory protector.

Referring to the system having the multi processor includes a plurality of core units such as a Central Processing Unit CPU and a Direct Memory Access DMA controller an interrupt controller a memory controller and a memory . A shared memory may also be present.

The memory controller the interrupt controller and the plurality of core units communicate with one another via a multi layer bus matrix . In addition the memory controller performs a function of the above described MMPU therein.

A general memory protector such as a Memory Management Unit MMU or Memory Protection Unit MPU exists close to a core unit. When an unauthorized access to an access protected region occurs the general memory protector informs the core of an exception generation. The general memory protector performs a function of informing fatal error generation in an operating system. In addition the conventional memory controller does not generate an interrupt signal for the purpose of Inter Processor Communication IPC between core units.

However the memory controller additionally includes an MMPU therein in order to generate an interrupt signal and perform a transfer function.

The MMPU obtains an address of an accessed memory from a bus bridge and data buffer when an address region arbitrarily set for an interrupt signal is accessed retrieves and determines an interrupt receiver core synchronized with the accessed address region and requests the interrupt controller to generate a relevant interrupt signal via an interrupt port .

Here the MMPU may generate an interrupt signal via a hardware module performing a DMA controller function. Additionally in the case where a memory region accessed by the DMA controller does not have an access right it may be similarly determined that the MMPU has no access right.

The bus bridge and the data buffer receives a memory access e.g. read write request of the plurality of core units to access the memory via an interface as requested. In addition a control register performs a control function of the conventional memory controller and simultaneously selects an address region of the MMPU for an interrupt signal and sets an interrupt signal method.

In the case where the control register includes address region select information for an interrupt and interrupt method information e.g. receiver access condition generation reason signal method etc. via software the MMPU may receive this information from the control register to set the same.

The interrupt controller receives an interrupt signal generate request of the MMPU via the interrupt port to generate an interrupt signal to a relevant core. The interrupt port serves as an interface between the interrupt controller and the MMPU .

Referring to a programmable register of the MMPU may include a memory address region e.g. start address and end address allocated in every core and a control register that controls on a bit basis a relevant core IDentifier ID event destination core ID select for each read write circumstance interrupt state information signal level etc. for generating an interrupt signal.

In other words four pairs of register groups are illustrated with respect to each core. In the case where an access e.g. read write occurs inside a specific memory address region e.g. start address register value

The MMPU has a programmable structure. That is the MMPU may update newly write or delete information e.g. start address end address and an interrupt method via programming.

For example when a specific interrupt occurs in a case of intending to generate an interrupt signal to a plurality of cores a plurality of cores may be set at an address region for generating a specific interrupt signal in the MMPU.

In a case of receiving an address of an accessed memory from the bus bridge and data buffer the MMPU determines whether a coinciding address exists in a provided address list. When the coinciding address exists the MMPU requests the interrupt controller to generate an interrupt signal for a core corresponding to the coinciding address.

Referring to unlike the conventional art an exemplary embodiment of the present invention requires only two interrupt signals to be generated when accessing a memory.

An initial access is performed when external Media Access Control MAC frame data at a core of a modem unit is transferred to a memory by a DMA controller. The DMA controller operates again when the data is converted into user data to inform a CPU core of an interrupt at step . The data is read and processed by a user core at a reception side at step and a process complete interrupt signal occurs at step .

This corresponds to a case of reducing the number of interrupts by half when compared to the conventional art. Here an operation of informing an interrupt of DMA DMA and automatically recognizing inversely that the processing is performed while the data is read is generated by the MMPU so that a pre processing is allowed to overlap in time and so an entire delay is reduced.

In an exemplary embodiment of the present invention when an access occurs in a determined address region an interrupt signal is automatically transferred to a destination core.

In addition during the data processing the MMPU of an exemplary embodiment of the present invention automatically recognizes that the data read processing is ending at a point of reading last data to transfer a relevant interrupt signal to an initial core or DMA inversely and reduce an ACKnowledge ACK transmission delay. That is an interrupt signal may be automatically transferred to a relevant module initial core that has generated an access. The initial core may be a DMA controller.

Referring to when an access for a memory occurs at step the MMPU analyzes an address of the memory where the access has occurred at step .

When the access is valid and is determined to have an access right as a result of the analysis at step the MMPU determines a core corresponding to an access memory address at step and requests an interrupt controller to generate an interrupt signal to the relevant core at step .

When the access is not determined to be valid or to not have the access right at step the MMPU informs the relevant core of an unauthorized access at step .

Here whether the access has the access right may be determined based on whether an access request address is included in a register group for generating an interrupt signal as illustrated in . The access request address may be included in a specific or arbitrary address range.

For reference according to an exemplary embodiment of the present invention an IPC function does not require a shared memory and may be realized without a limitation of memory resources. A method where a mail box transceiver includes a DMA controller is provided. In addition an exemplary embodiment of the present invention may efficiently perform a data dump etc. in cooperation with a DMA without hindering a CPU core with various purposes including software debugging depending on a method for setting a relevant register when setting an MMPU register.

A controller for generating an interrupt signal and using a multi processor according to an exemplary embodiment of the present invention includes a memory controller including a multi interrupt generator. The memory controller may omit a separate signal connection and an internal memory inside a System on Chip SoC for the purpose of transferring an interrupt signal between a plurality of processors. In addition the memory controller may reduce a processing delay time by putting forward a response interrupt signal generate time reacting to a request interrupt signal of a transceiver end in a data flow. In addition the memory controller may operate a Memory Protection Unit MPU for a DMA.

According to the present invention when a DMA or a core accesses a memory a MMPU automatically generates an interrupt depending on a selective case of a data access so that an interrupt signal may be omitted or a delay may be reduced.

While the invention has been shown and described with reference to certain exemplary embodiments thereof it will be understood by those skilled in the art that various changes in form and details may be made therein without departing from the spirit and scope of the invention as defined by the appended claims and their equivalents.

