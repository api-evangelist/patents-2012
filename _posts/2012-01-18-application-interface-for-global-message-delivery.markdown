---

title: Application interface for global message delivery
abstract: A device, system, and method are directed towards communicating mobile information over a network. A mobile message (MM) is generated by an Internet Protocol (IP) enabled application interface. The MM may include advertising information. The MM is received at a routing server and comprises a destination phone number and/or advertising information. If the MM is determined to be locally processed, the routing server selectively routes the MM to a destination carrier associated with the destination phone number. If the MM is determined to be remotely processed, the MM is recursively forwarded until the MM reaches another routing server associated with the destination phone number. The other routing server is configured to selectively route the MM to the destination carrier. A response MM may be received at a boundary routing server.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08369327&OS=08369327&RS=08369327
owner: Yahoo! Inc.
number: 08369327
owner_city: Sunnyvale
owner_country: US
publication_date: 20120118
---
This utility patent application is a Continuation of allowed U.S. patent application Ser. No. 11 981 980 filed on Oct. 31 2007 the benefits of which are claimed under 35 U.S.C. 120 and are further incorporated herein by reference.

The present invention relates generally to routing mobile messages and more specifically but not exclusively to providing a common application interface to mobile message applications for message delivery across carriers and geographic regions.

Mobile devices have become a major mechanism of communication. Short Message Service SMS is one protocol for sending messages between users of mobile devices. Applications may also use SMS to send messages to users and or other applications. However mobile devices often use different carriers. And SMS messages typically are sent over a Public Land Mobile Network PLMN or Public Telephone Switching Network PTSN via Gateway Mobile Switching Centers GMSCs .

Sending messages between carriers often incurs extra costs and added complexity. Moreover when users are roaming outside of their network e.g. when traveling internationally sending messages between carriers may also incur roaming fees. Additionally an application developer may use a Short Message Service Center SMSC associated with an individual carrier to send messages to mobile devices associated with the individual carrier. It is with respect to these considerations and others that the current invention is directed.

The present invention now will be described more fully hereinafter with reference to the accompanying drawings which form a part hereof and which show by way of illustration specific exemplary embodiments by which the invention may be practiced. This invention may however be embodied in many different forms and should not be construed as limited to the embodiments set forth herein rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the scope of the invention to those skilled in the art. Among other things the present invention may be embodied as methods or devices. Accordingly the present invention may take the form of an entirely hardware embodiment an entirely software embodiment or an embodiment combining software and hardware aspects. The following detailed description is therefore not to be taken in a limiting sense.

Throughout the specification and claims the following terms take the meanings explicitly associated herein unless the context clearly dictates otherwise. The phrase in one embodiment as used herein does not necessarily refer to the same embodiment though it may. Furthermore the phrase in another embodiment as used herein does not necessarily refer to a different embodiment although it may. Thus as described below various embodiments of the invention may be readily combined without departing from the scope or spirit of the invention.

In addition as used herein the term or is an inclusive or operator and is equivalent to the term and or unless the context clearly dictates otherwise. The term based on is not exclusive and allows for being based on additional factors not described unless the context clearly dictates otherwise. In addition throughout the specification the meaning of a an and the include plural references. The meaning of in includes in and on. As used herein the terms device input or user input refer to a user input command at a device.

As used herein the term mobile message refers to data configured to be displayed on a mobile device or to be sent from a mobile device. A mobile message MM may comprise a short message service SMS message a Multimedia Messaging Service MMS message or the like. As used herein the term transceiving refers to transmitting sending and or receiving. As used herein the term application interface refers to any component for transceiving information directed to an application. In one embodiment an interface may be an Application Programming Interface API a web service a function callback a remote procedure call or the like.

Briefly the present invention is directed towards communicating mobile information over a network. An MM is generated by an Internet Protocol IP enabled application interface. The MM is displayable on a mobile device. The MM is received at a routing server and comprises a destination phone number and or advertising information. If the MM is determined to be locally processed the routing server selectively routes the MM to a destination carrier associated with the destination phone number. If the MM is determined to be remotely processed the MM is recursively forwarded until the MM reaches another routing server associated with the destination phone number. The other routing server is configured to selectively route the MM to the destination carrier. Moreover a response MM to the originally sent MM may be received at a boundary routing server. The response MM may be sent to the API if at least a portion of the response MM matches information associated the originally sent MM.

One embodiment of mobile devices is described in more detail below in conjunction with . Generally however mobile devices may include virtually any portable computing device capable of receiving and sending a message over a network such as network wireless networks or the like. Mobile devices may also be described generally as client devices that are configured to be portable. Thus mobile devices may include virtually any portable computing device capable of connecting to another computing device and receiving information. Such devices include portable devices such as cellular telephones smart phones display pagers radio frequency RF devices infrared IR devices Personal Digital Assistants PDAs handheld computers laptop computers wearable computers tablet computers integrated devices combining one or more of the preceding devices and the like. As such mobile devices typically range widely in terms of capabilities and features. For example a cell phone may have a numeric keypad and a few lines of monochrome LCD display on which only text may be displayed. In another example a web enabled mobile device may have a touch sensitive screen a stylus and several lines of color LCD display in which both text and graphics may be displayed.

A web enabled mobile device may include a browser application that is configured to receive and to send web pages web based messages and the like. The browser application may be configured to receive and display graphics text multimedia and the like employing virtually any web based language including a wireless application protocol messages WAP and the like. In one embodiment the browser application is enabled to employ Handheld Device Markup Language HDML Wireless Markup Language WML WMLScript JavaScript Standard Generalized Markup Language SMGL HyperText Markup Language HTML eXtensible Markup Language XML and the like to display and send a message.

Mobile devices also may include at least one other client application that is configured to receive content from another computing device. The client application may include a capability to provide and receive textual content media content and the like. The client application may further provide information that identifies itself including a type capability name and the like. In one embodiment mobile devices may uniquely identify themselves through any of a variety of mechanisms including a phone number Mobile Identification Number MIN an MSISDN an electronic serial number ESN or other mobile device identifier. In one embodiment the MSISDN may comprise a Country Code CC National Destination Code NDC which may identify at least one or part of a public land mobile network PLMN and a Subscriber Number SN . The information may also indicate a content format that the mobile device is enabled to employ. Such information may be provided in a message or the like sent to RS client device or other computing devices.

Mobile devices may also be configured to communicate a message such as through Short Message Service SMS Multimedia Message Service MMS instant messaging IM internet relay chat IRC Mardam Bey s IRC mIRC Jabber and the like between another computing device such as RS client device each other or the like. However the present invention is not limited to these message protocols and virtually any other message protocol may be employed. For example the client application may enable a user to interact with the browser application email application VOIP applications or the like.

Mobile devices may further be configured to include a client application that enables the end user to log into an end user account that may be managed by another computing device such as RS . Such end user account for example may be configured to enable the end user to receive emails send receive IM messages SMS messages access selected web pages or the like.

In addition mobile devices may include another application that is configured to enable the mobile user to share and or receive media content and to display the media content. In one embodiment each of mobile devices may share with and or receive the media content from RS and or from another one of mobile devices . For example media content may be shared between the mobile devices using MMS WAP or the like. In one embodiment a mobile device may receive a message indicating the media content is available for viewing and or annotating at a website or the like.

In conjunction with sharing media content mobile devices may enable an interaction with each other through sharing various messages and generally participating in a variety of integrated social experiences beyond merely voice communications. Moreover mobile devices may enable transceiving a message through an application interface on one of RS wherein RS further routes a version of the message to a mobile device associated with a destination phone number. Mobile devices may also communicate with non mobile client devices such as client device or the like. In one embodiment such communications may include providing information about the shared media to a user of client device or the like.

Client device may include virtually any computing device capable of communicating over a network to send and receive information. One embodiment of client device is described in more detail below in conjunction with . Generally however the set of such devices may include devices that typically connect using a wired or wireless communications medium such as personal computers multiprocessor systems microprocessor based or programmable consumer electronics network PCs or the like. In one embodiment client device may be configured to access a website or other location of shared media content and to annotate the media content add additional media content or the like. Similar to mobile devices client device may be configured to allow transceiving a message through an application interface on one of RS wherein RS further routes a version of the message to a mobile device associated with a destination phone number. For example client device may send a mail alert message to the application interface on one of RS . RS may maintain a session associated with client e.g. with mail alert client program on client device . If a response message is received from the mobile device RS sends the response message to client e.g. the mail alert program .

Wireless networks are configured to couple mobile devices and its components with network . Wireless networks may include any of a variety of wireless sub networks that may further overlay stand alone ad hoc networks and the like to provide an infrastructure oriented connection for mobile devices . Such sub networks may include mesh networks Wireless LAN WLAN networks cellular networks and the like.

Wireless networks may further include an autonomous system of terminals gateways routers and the like connected by wireless radio links and the like. These connectors may be configured to move freely and randomly and organize themselves arbitrarily such that the topology of wireless networks may change rapidly. In one embodiment at least a portion of wireless networks comprises a Public Land Mobile Network PLMN a Public Telephone Switching Network PTSN Gateway Mobile Switching Centers GMSCs or the like.

Wireless networks may further employ a plurality of access technologies including 2nd 2G 3rd 3G generation radio access for cellular systems WLAN Wireless Router WR mesh and the like. Access technologies such as 2G 3G and future access networks may enable wide area coverage for mobile devices such as mobile devices with various degrees of mobility. For example wireless networks may enable a radio connection through a radio network access such as Global System for Mobile communication GSM General Packet Radio Services GPRS Enhanced Data GSM Environment EDGE Wideband Code Division Multiple Access WCDMA and the like. In essence wireless networks may include virtually any wireless communication mechanism by which information may travel between mobile devices and another computing device network and the like. As shown wireless network provides a communication mechanism for mobile device and wireless network provides a communication mechanism for mobile device .

Network is configured to couple RS and its components with other computing devices including mobile devices client device third party lookup server and through wireless networks to mobile devices . Network is enabled to employ any form of computer readable media for communicating information from one electronic device to another. Also network can include the Internet in addition to local area networks LANs wide area networks WANs direct connections such as through a universal serial bus USB port other forms of computer readable media or any combination thereof. On an interconnected set of LANs including those based on differing architectures and protocols a router acts as a link between LANs enabling messages to be sent from one to another. Also communication links within LANs typically include twisted wire pair or coaxial cable while communication links between networks may utilize analog telephone lines full or fractional dedicated digital lines including T1 T2 T3 and T4 Integrated Services Digital Networks ISDNs Digital Subscriber Lines DSLs wireless links including satellite links or other communications links known to those skilled in the art. Furthermore remote computers and other related electronic devices could be remotely connected to either LANs or WANs via a modem and temporary telephone link. In one embodiment network may be configured to transport information over an Internet Protocol IP . In essence network includes any communication method by which information may travel between RS client device and other computing devices.

Additionally communication media typically embodies computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave data signal or other transport mechanism and includes any information delivery media. The terms modulated data signal and carrier wave signal include a signal that has one or more of its characteristics set or changed in such a manner as to encode information instructions data and the like in the signal. By way of example communication media includes wired media such as twisted pair coaxial cable fiber optics wave guides and other wired media and wireless media such as acoustic RF infrared and other wireless media.

Third party lookup server includes any component for looking up a telephone carrier associated with a telephone number. In one embodiment the telephone carrier may be a wireless carrier. In one embodiment the telephone number may be a wireless number including a number in an MSISDN format. Third party lookup server may receive the telephone number over network and may send a response carrier identifier over network to for example one of RS . In one embodiment third party lookup server may be a NetNumber Transactional IP Telephony Addressing Numbering TITAN server or the like.

One embodiment of RS is described in more detail below in conjunction with . Briefly however RS may include any computing device capable of connecting to network to enable sending and receiving a message through an application interface configured to forward the message to a destination phone number. RS may transcode the message into a mobile message MM route and or forward the MM to an appropriate carrier associated with the destination phone number over network . In one embodiment each of RS may recursively forward the MM to a different RS until it is determined that the receiving RS is to process the MM. In one embodiment RS may be connected in a virtual ring. That is one RS may send the message only to another RS until the last RS in the ring connects to the originally sending RS. However the invention is not so limited and any configuration including a fully connected configuration may be used.

In one embodiment each of RS may be associated with and or otherwise may be in charge of a different subset of wireless networks. For example RS may be associated with wireless network and RS may be associated with wireless network and so forth. In one embodiment a local gateway aggregator Message Service Center MSC and or carrier managed by a particular RS may be associated with a particular wireless network. For example wireless network may be an ATT wireless network managed by RS and wireless network may be a Sprint wireless network managed by RS and or RS . In on embodiment each RS may manage a plurality of wireless networks. For example RS may manage wireless networks while the other RSs may manage other pluralities of wireless networks.

In one embodiment a timeout may be used to determine an error state. For example if the MM has been forwarded through RS past a period of time the MM may no longer be forwarded. Other error checking mechanisms such as detecting that the MM has not been processed by an RS may also be used without departing from the scope of the invention. In one embodiment RS may employ a process similar to that described below in conjunction with to perform at least some of its actions. Devices that may operate as RS include personal computers desktop computers multiprocessor systems microprocessor based or programmable consumer electronics network PCs servers and the like.

Although illustrates each of RS as a single computing device the invention is not so limited. For example one or more functions of each of RS may be distributed across one or more distinct computing devices. For example sharing of media content managing Instant Messaging IM sessions SMS messages email messages transceiving of media content may be performed by a plurality of computing devices without departing from the scope or spirit of the present invention.

Each of RS includes local applications global applications business and routing logic modules BRLM SMS gateways local aggregators carrier Short Message Service Centers SMSCs and carrier SMSCs . Local application and global application are in communication with BRLM . BRLM is in communication with SMS local gateway . SMS local gateway is in communication with local aggregator and carrier SMSC and local aggregator is in communication with carrier SMSC . Although SMS local gateway is shown as a single component there may be a plurality of local gateways. In one embodiment there may be a local gateway for each country and or state located within a geographic region associated with the RS. Each of RS also includes components communicating similarly to the components of RS . Also while an SMS and SMSC are shown other messaging services such as a Multimedia Message Service MMS and a Multimedia Message Service Center MMSC may be used without departing from the scope of the invention. In one embodiment components of RS perform the operations of processes of .

Briefly local application may receive a message from an application running on RS over an IP protocol an OSI application level protocol or the like. Similarly global application may receive a message from a remote application over a network e.g. an email application a web service or the like . The message is sent to BRLM . The message may be received at an interface. The interface may convert the message into a mobile message MM . In one embodiment BRLM may determine if the MM is to be locally or remotely processed. If the MM is to be remotely processed the MM is forwarded to RS and or RS until the MM reaches an RS configured to process the MM. If the MM is to be locally processed a destination carrier for the MM is determined. It may also be determined whether to send the MM to the local aggregator or directly to a carrier SMSC . The MM is selectively routed appropriately based on this determination and sent to the destination carrier. The destination carrier then sends the MM to a mobile device e.g. one of mobile devices .

System C includes RS properties gateways and carrier and or aggregator components . Property includes a client library e.g. application program . RS includes HTTP interface replication interface local applications PSI MS development database user profile database intelligent messaging component session database short code and session management component intelligent routing component SMS marketing and sponsored keywords storage message tracking database and transportation layer .

HTTP interface is in communication with property global application . Replication interface is in communication with property global application . Local applications MMP YSM Mail Marketing are in communication with the application interfaces PSI and MS . These application interfaces are in communication with development database and user profile database . HTTP interface replication interface PSI and MS are in communication with intelligent messaging component . HTTP interface and replication interface are also in communication with intelligent routing component . Intelligent messaging component is in communication with short code and session management component which is in communication with session database and with intelligent routing component . Both intelligent messaging component and intelligent routing component are in communication with message tracking database and with transportation layer . SMS marketing and sponsored keywords storage is in communication with intelligent routing component . Transportation layer is in communication with other routing servers e.g. over an IP network and gateways . Gateways are in communication with carrier and or aggregator components .

Briefly a message is received by a local application e.g. PSI and or MS and or a global application e.g. properties . The message is converted into an MM by an interface e.g. HTTP interface and or replication interface . Intelligent messaging component which includes a premium service intelligent message service MT intelligent routing and message tracking may determine to process the message locally and or to send the message to a remote RS for processing. Intelligent messaging component may store the message in message tracking database and or store a session mapping using short code and session management and or session database . In one embodiment at least a portion of a sender phone number of the MM may be a short code and or extension e.g 9999 short code and 001 extension . The portion may be stored using short code and session management and or session database .

If the MM is to be routed the MM is sent to intelligent routing component which includes an MO intelligent routing a keyword database and a message tracking component. The intelligent routing component may determine that the routed MM may include a sponsored keyword or the like using sponsored keywords storage and may store an indication of a use of the keyword in message tracking database for further monetization or the like. Intelligent routing component may then recursively route the MM to another RS using transportation component . The other RS may operate substantially similarly to RS .

If the MM is to be processed locally the MM is sent using transportation component to one of gateways for further processing. As shown carrier and or aggregator components include a plurality of carriers including Cingular T Mobile and Sprint . Components may also aggregate messages before sending them such as with a bulk mailer mailbox or the like. In one embodiment each of gateways may be associated with a country or state and each of gateways may communicate with its own set of components . In one embodiment the MM is sent from at least one of gateways to the appropriate one of components associated with a destination phone number of the MM.

As shown in the figure client device includes a processing unit CPU in communication with a mass memory via a bus . Client device also includes a power supply one or more network interfaces an audio interface video interface a display a keypad an illuminator an input output interface a haptic interface and an optional global positioning system GPS receiver . Power supply provides power to mobile device . A rechargeable or non rechargeable battery may be used to provide power. The power may also be provided by an external power source such as an AC adapter or a powered docking cradle that supplements and or recharges a battery.

Client device may optionally communicate with a base station not shown or directly with another computing device. Network interface includes circuitry for coupling client device to one or more networks and is constructed for use with one or more communication protocols and technologies including but not limited to global system for mobile communication GSM code division multiple access CDMA time division multiple access TDMA user datagram protocol UDP transmission control protocol Internet protocol TCP IP SMS general packet radio service GPRS WAP ultra wide band UWB IEEE 802.16 Worldwide Interoperability for Microwave Access WiMax SIP RTP or any of a variety of other wireless communication protocols. Network interface is sometimes known as a transceiver transceiving device or network interface card NIC .

Audio interface is arranged to produce and receive audio signals such as the sound of a human voice. For example audio interface may be coupled to a speaker and microphone not shown to enable telecommunication with others and or generate an audio acknowledgement for some action. Display may be a liquid crystal display LCD gas plasma light emitting diode LED or any other type of display used with a computing device. Display may also include a touch sensitive screen arranged to receive input from an object such as a stylus or a digit from a human hand.

Video interface is arranged to capture video images such as a still photo a video segment an infrared video or the like. For example video interface may be coupled to a digital video camera a web camera or the like. Video interface may comprise a lens an image sensor and other electronics. Image sensors may include a complementary metal oxide semiconductor CMOS integrated circuit charge coupled device CCD or any other integrated circuit for sensing light.

Keypad may comprise any input device arranged to receive input from a user. For example keypad may include a push button numeric dial or a keyboard. Keypad may also include command buttons that are associated with selecting and sending images. Illuminator may provide a status indication and or provide light. Illuminator may remain active for specific periods of time or in response to events. For example when illuminator is active it may backlight the buttons on keypad and stay on while the client device is powered. Also illuminator may backlight these buttons in various patterns when particular actions are performed such as dialing another client device. Illuminator may also cause light sources positioned within a transparent or translucent case of the client device to illuminate in response to actions.

Client device also comprises input output interface for communicating with external devices such as a headset or other input or output devices not shown in . Input output interface can utilize one or more communication technologies such as USB infrared Bluetooth or the like. Haptic interface is arranged to provide tactile feedback to a user of the client device. For example the haptic interface may be employed to vibrate client device in a particular way when another user of a computing device is calling.

Optional GPS transceiver can determine the physical coordinates of client device on the surface of the Earth which typically outputs a location as latitude and longitude values. GPS transceiver can also employ other geo positioning mechanisms including but not limited to triangulation assisted GPS AGPS E OTD CI SAI ETA BSS or the like to further determine the physical location of client device on the surface of the Earth. It is understood that under different conditions GPS transceiver can determine a physical location within millimeters for mobile device and in other cases the determined physical location may be less precise such as within a meter or significantly greater distances. In one embodiment however mobile device may through other components provide other information that may be employed to determine a physical location of the device including for example a MAC address IP address or the like.

Mass memory includes a RAM a ROM and other storage means. Mass memory illustrates another example of computer storage media for storage of information such as computer readable instructions data structures program modules or other data. Mass memory stores a basic input output system BIOS for controlling low level operation of mobile device . The mass memory also stores an operating system for controlling the operation of mobile device . It will be appreciated that this component may include a general purpose operating system such as a version of UNIX or LINUX or a specialized client communication operating system such as Windows Mobile or the Symbian operating system. The operating system may include or interface with a Java virtual machine module that enables control of hardware components and or operating system operations via Java application programs.

Memory further includes one or more data storage which can be utilized by client device to store among other things applications and or other data. For example data storage may also be employed to store information that describes various capabilities of mobile device . The information may then be provided to another device including being sent as part of a header during a communication sent upon request or the like. Moreover data storage may also be employed to store media content and or social networking information including text messages address books group member lists or the like. At least a portion of the media content may also be stored on storage medium such as a disk drive removable storage or the like within mobile device .

Applications may include computer executable instructions which when executed by mobile device provide such functions as calendars contact managers task managers transcoders database programs word processing programs screen savers security applications spreadsheet programs games search programs and so forth. Applications may further include Message Components MC .

MC represents any of a variety of applications configured to transmit receive and or otherwise process messages and other network content including but not limited to SMS MMS IM email VOIP browsers or the like and to enable telecommunication with another user of another networked device. For example MC may include any of a variety of browser applications which may be run under control of operating system to enable and manage requesting receiving and rendering markup pages such as WAP pages sometimes referred to as WAP cards SMGL HTML HDML WML WMLScript JavaScript and the like.

MC may further include an IM application that is configured to initiate and otherwise manage an instant messaging session including but not limited to AOL Instant Messenger Yahoo Messenger .NET Messenger Server ICQ and the like. In one embodiment the IM application within MC may be configured to employ a SIP RTP to integrate IM VOIP features. For example the IM application may employ SIMPLE SIP for Instant Messaging and Presence Leverage APEX Application Exchange Prim Presence and Instant Messaging Protocol Open XML based XMPP Extensible Messaging and Presence Protocol more commonly known as Jabber and OMA Open Mobile Alliance s IMPS Instant Messaging and Presence Service created specifically for mobile devices or the like.

MC may also include text messaging application s that enables client device to receive and or send text messages to another device. In one embodiment the text messaging application s may also provide an alerting mechanism that indicates to a user of client device when a text message is received. The text messaging application s may also allow the user to compose a text response message and to send the text response message over a network. The text messaging application s may operate to manage SMS text messages MMS messages Enhanced Message Service EMS messages or the like where graphics video clips sound files or other media content may be communicated between client device and another networked device.

In any event any one or more of the messaging applications within MC may be employed to enable a user of client device to communicate with an Internet Protocol IP enabled application interface over network interfaces . In one embodiment MC and or a type of message generated by MC may be associated with the IP enabled application interface. In one embodiment the application interface may be a web interface an email interface or the like.

Network device includes processing unit video display adapter and a mass memory all in communication with each other via bus . The mass memory generally includes RAM ROM and one or more permanent mass storage devices such as hard disk drive tape drive optical drive and or floppy disk drive. The mass memory stores operating system for controlling the operation of network device . Any general purpose operating system may be employed. Basic input output system BIOS is also provided for controlling the low level operation of network device . As illustrated in network device also can communicate with the Internet or some other communications network via network interface unit which is constructed for use with various communication protocols including the TCP IP protocol. Network interface unit is sometimes known as a transceiver transceiving device or network interface card NIC .

The mass memory as described above illustrates another type of computer readable media namely computer storage media. Computer storage media may include volatile nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Examples of computer storage media include RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by a computing device.

The mass memory also stores program code and data. One or more applications are loaded into mass memory and run on operating system . Examples of application programs may include transcoders schedulers calendars database programs word processing programs HTTP programs including XmlHTTPRequest XHR Asynchronous JavaScript and XML AJAX or JavaScript Object Notation JSON programs customizable user interface programs IPSec applications encryption programs security programs account management and so forth.

Session Data Store SDS includes any component for storing a plurality of associations between at least a portion of a source phone number a destination phone number an identity of a routing server and or an application identifier or type associated with application interface . In one embodiment the associations may be session mappings. The session mappings may map at least a short code and or extension number with the application interface .

Application interface includes any component for transceiving a message. In one embodiment application interface may transmit a message from a local application such as an email application a global application such as through a web service interface e.g. AJAX interface over network interface or the like. Application interface may transcode the message to and or from a mobile message type e.g. into an MM . In one embodiment application interface may also receive an MM. The MM may be in response to another MM previously sent through application interface . The received MM may be transcoded and sent to an application for further processing. For example the received MM may be a request for an email in response to an email alert MM.

Message management component includes any component for transceiving an MM from application interface . Message management component may perform operation of processes of . For example message management component may determine to process the MM locally. If the MM is to be processed locally message management component may create a session mapping using SDS . The MM may further send the MM to a local aggregator and or the destination carrier through a Message Service Center MSC over network interface unit . If the MM is to be processed globally the MM is sent to routing component .

Routing component includes any component for recursively routing an MM over network interface unit to another routing server. In one embodiment the other routing server operates substantially similarly to network device . In one embodiment routing component may determine a destination carrier based on information cached in RAM and or hard disk and or information received from a third party lookup service over network interface . Routing component may perform operation of processes of . For example routing component may determine the appropriate routing server to process the MM based on a mapping of a country code portion of the MM and the appropriate routing server.

The operation of certain aspects of the invention will now be described with respect to . provide logical flow diagrams of certain aspects of the present invention. The processes of may be implemented for example within RS of and or components of .

The MM may be generated based on the received information. In one embodiment the MM includes a message body and or advertising information. For example the advertising information may be appended to the MM if a difference between a threshold and a length of a message body of the MM is sufficient to add the advertising information. Likewise the length of the advertising information may be determined based upon the length of the message body. For example if the threshold is 160 characters and the message body is 100 characters 60 characters of advertising information may be included. However if the threshold is 160 characters but the message body is 145 characters 15 characters of advertising information maybe included. In one embodiment the threshold is based upon a defined maximum length for a SMS message. This length may be defined for example by the carrier or by a geographical region associated with the client device. The defined length may be different for each carrier and or geographical region.

In one embodiment the advertising information includes both a selectable resource identifier and an advertisement descriptor. However in other embodiments a selectable resource identifier may be provided without an advertisement descriptor an advertisement descriptor may be provided without a selectable resource identifier and or the like.

The advertisement descriptor may be any content that is an advertisement describes an advertisement is a slogan is a phrase and or the like. The advertisement descriptor may also be based upon the content of the message body and may be obtained from a specialized data source or from an individual data source. Likewise the advertisement descriptor may also be based on a user s current location a current application running on the mobile device the mobile device profile data online profile data that is associated with the mobile device for preferences behaviors past purchases social networking relationships and or other user specific data. Other examples of information upon which the generation of the advertisement descriptor ay be based include 

content owned by the user or on a device used by the user which can be but does not have to be the same as the mobile device e.g. user has a document on their PC relevant to a search done on the mobile device .

Similarly the server may employ aggregated data from click stream analyses and or other statistical analyses to generate the advertisement descriptor.

The selectable resource identifier may be included to enable the user to respond to and or interact with the advertisement descriptor. For example the selectable resource identifier may include a short code a telephone number an IP address a Uniform Resource Locator URL a shortened URL that encodes a full URL a user identifier or the like.

At block the MM is received at a routing server located within a geographic region. In one embodiment the MM is received over the network. In one embodiment the geographic region of the routing server may be determined e.g. predefined by GPS by an IP address of the routing server or the like . The MM may comprise a destination phone number sender phone number message body or the like. In one embodiment the routing server may be configured to include advertising information into the MM. In one embodiment the phone number may be in an MSISDN format. The MM may be configured to be displayed on the mobile device. Processing then continues to decision block .

At decision block it is determined whether the MM is to be locally processed in the geographic region. In one embodiment the determination comprises determining if the MM can be delivered through a local gateway. In one embodiment the destination phone number is parsed for a country code. In one embodiment the destination phone number may be an MSISDN. In one embodiment the country code may be the Country Code CC and or National Destination Code NDC portion of the MSISDN. In one embodiment if the country code is included in a plurality of country codes associated with the routing server and or the geographic region associated with the routing server the MM is to be locally processed. If the MM is to be locally processed in the geographic region processing continues to block . Otherwise processing continues to decision block .

At block the routing server selectively routes the MM to a destination carrier associated with the destination phone number. Selective routing may be performed by process of . Processing then returns to a calling process for further processing.

At decision block it is determined whether the MM is to be remotely processed. In one embodiment the determination comprises determining if the MM can be delivered through another remote gateway. In one embodiment the destination phone number is parsed for a country code. In one embodiment if it is determined that the country code is included in a plurality of country codes associated with the other routing server and or the other geographic region associated with the other routing server then the MM is to be remotely processed. If the MM is to be remotely processed processing continues to block . Otherwise processing returns to a calling process for further processing.

At decision block the MM is recursively forwarded over the network until the MM reaches another routing server geographically located within another region associated with the destination phone number. In one embodiment the other routing server may be configured to include advertising information into the MM. In one embodiment recursive forwarding comprises performing blocks and for each of routing servers to which the MM is forwarded. Processing then continues to a calling process for further processing.

At block the MM is forwarded to a local gateway associated with a country code portion of the destination phone number. In one embodiment the local gateway may be located in geographic proximity to a country associated with the country code portion. In one embodiment the identity of the carrier may also be forwarded to the local gateway. In one embodiment block may be optional and may not be performed. Processing then continues to block .

At decision block it is determined whether to forward the MM to a Message Service Center MSC . In one embodiment this determination is performed by a local gateway and or sent to the local gateway. In one embodiment if a Quality of Service QoS within a time window of a network connection between the routing server and the MSC is above a threshold processing continues to block . For example if an inverse of a congestion measure e.g. number of dropped SMS messages of the network connection is above a threshold processing continues to block . Otherwise processing continues to decision block .

At block the MM is forwarded to the MSC and configured by the MSC for sending to the destination carrier. In one embodiment the MM is converted transcoded from an MM type to another MM type associated with the destination carrier before being sent to the MSC. In one embodiment the MM types comprise at least one of a Simple Network Paging Protocol SNPP a Computer Application interface to Message Distribution CIMD protocol or the like. In one embodiment the MSC is configured to directly connect to the destination carrier. In one embodiment the determined destination carrier may be associated with the MSC. In one embodiment the MSC comprises a Short Message Service Center SMSC a Multimedia Message Service Center MMSC or the like. Processing then continues to block .

At decision block it is determined whether to forward the MM to a local aggregator. In one embodiment if the QoS is not above the threshold processing continues to block .

At block the MM is routed to a local aggregator and configured by the local aggregator for sending to the destination carrier. In one embodiment the MM is converted transcoded from an MM type to another MM type associated with the destination carrier before being sent to the local aggregator. In another embodiment the local aggregator may perform the conversion transcoding. In one embodiment the local aggregator is configured to forward the MM to a plurality of carriers. In one embodiment the determined destination carrier may be received by the local aggregator. The local aggregator may then forward the MM to the destination carrier. Processing then continues to block .

At block the destination carrier receives the MM and processes the MM. In one embodiment the destination may receive the MM over a Public Land Mobile Network PLMN or Public Telephone Switching Network PTSN via Gateway Mobile Switching Centers GMSCs or other non IP enabled network or the like. The destination carrier may send the MM to the mobile device. Processing then continues to a calling process for further processing.

At block a session mapping is stored wherein the session mapping may be between at least any two or more of at least a portion of a sender phone number included within the originally received MM the session information a unique identifier associated with the MM the source routing server and the application interface. In one embodiment the unique identifier may be a long code e.g. a short code and an extension . In one embodiment the received session information may include an identifier of the source routing server and application identifier and or type for an application sending and or expecting a response for the MM an identifier of the application interface or the like. In one embodiment the received session information may include the extension and or the sender phone number may be or include the short code. In one embodiment the session mapping may be stored at boundary routing server determined to process the originally received MM. In one embodiment the session mapping may include the identifier of the boundary and or source routing server at least a portion of a sender phone number of the original MM at least a portion of the destination phone number of the original MM an application identifier associated with the application interface the unique identifier or the like. In one embodiment the MM may be modified to include the unique identifier. For example the sender phone number of the MM may be modified to be the short code and or extension. Processing continues to block .

At block a response MM in response to the originally received MM is received. In one embodiment the receiving may be performed at the boundary routing server. In one embodiment the response MM is received at a local gateway an MSC or the like associated with the boundary routing server storing the session mapping or the like. In one embodiment the response MM is addressed to the sender phone number of the originally received MM. In one embodiment the sender phone number comprises a short code and an extension or the like. In one embodiment the response MM is addressed to and or includes the unique identifier e.g. long code of the originally received MM. Processing then continues to block .

At block the session mapping is retrieved based on the response MM. In one embodiment the retrieval may be performed at the boundary routing server. In one embodiment the retrieval may be based on a match of at least a portion of the MM and a key identifier for the session mapping another sender phone number of the response MM with the at least a portion of the destination phone number of the originally received MM a match of at least a portion of another destination phone number of the response MM with the at least the portion of the sender phone number of the originally received MM or the like. In one embodiment the session mapping may be identified keyed by the unique identifier e.g. long code . The long code may be the receiver address of the response MM and or included within the response MM. Retrieval may be based on matching the unique identifier and the long code associated with the response MM. The retrieval may be based on a lookup table database query or the like. Processing then continues to block .

At block the response MM is forwarded to a mapped routing server based on the session mapping. In one embodiment the mapped routing server is the source routing server receiving the original MM. In one embodiment the mapped routing server is configured to send the response MM to the application interface based on the session mapping session information e.g. based on the application identifier or application type stored in the retrieved session mapping and or session information . In one embodiment the mapped routing server may be the routing server stored in the session mapping. Processing continues to block .

At block the application interface may process the forwarded response MM. In one embodiment the application interface may transcode the MM to an application type e.g. an email web page or the like . The transcoded version of the MM may be sent to an application associated with the application type and or application interface. Processing then returns to calling process for further processing.

It will be understood that each block of a flowchart illustration need not be limited in the ordering shown in the illustration and might be performed in any ordering or even performed concurrently without departing from the spirit of the invention. It will also be understood that each block of the flowchart illustration and combinations of blocks in the flowchart illustration can be implemented by computer program instructions. These program instructions might be provided to a processor to produce a machine such that the instructions which execute on the processor create means for implementing the actions specified in the flowchart block or blocks. The computer program instructions might be executed by a processor to cause a series of operational steps to be performed by the processor to produce a computer implemented process such that the instructions which execute on the processor to provide steps for implementing the actions specified in the flowchart block or blocks.

Accordingly blocks of the flowchart illustration support combinations of means for performing the specified actions combinations of steps for performing the specified actions and program instruction means for performing the specified actions. It will also be understood that each block of the flowchart illustration and combinations of blocks in the flowchart illustration can be implemented by special purpose hardware based systems which perform the specified actions or steps or combinations of special purpose hardware and computer instructions.

The above specification examples and data provide a complete description of the manufacture and use of the composition of the invention. Since many embodiments of the invention can be made without departing from the spirit and scope of the invention the invention resides in the claims hereinafter.

