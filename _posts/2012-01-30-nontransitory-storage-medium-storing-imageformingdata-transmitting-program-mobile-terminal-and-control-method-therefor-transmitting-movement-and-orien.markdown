---

title: Non-transitory storage medium storing image-forming-data transmitting program, mobile terminal, and control method therefor transmitting movement and orientation information of mobile terminal
abstract: A nonvolatile storage medium storing an image-forming-data transmitting program readable by a computer of a mobile terminal including: a sensor for outputting sensor information indicating at least one of a movement and an orientation of the mobile terminal; a communication portion for communicating with an image forming apparatus for forming image based on image forming data; and a display for displaying an image based on image data. The image-forming-data transmitting program has the computer function as: a parameter determining section for determining a parameter for image forming based on the sensor information; an image-forming-data-creation controlling section for controlling a first creating section to create image forming data based on the image data, by using the determined parameter; and an image-forming-data-transmission controlling section for controlling the communication portion to transmit the created image forming data to the image forming apparatus.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08937735&OS=08937735&RS=08937735
owner: Brother Kogyo Kabushiki Kaisha
number: 08937735
owner_city: Nagoya-Shi, Aichi-Ken
owner_country: JP
publication_date: 20120130
---
The present application claims priority from Japanese Patent Application No. 2011 080170 which was filed on Mar. 31 2011 the disclosure of which is herein incorporated by reference in its entirety.

The present invention relates to a nonvolatile storage medium storing an image forming data transmitting program a mobile terminal and a control method therefor which enable a user to easily set a print setting and the like.

There is known a technique for controlling a display on a liquid crystal monitor such that upper and lower sides of an image to be displayed on the liquid crystal monitor coincide with those in a direction of gravity on the basis of orientation information of the image and orientation information of a phone main body which have been attached to image data upon producing the image. As a result a screen on the liquid crystal monitor is rotated automatically depending upon an operation state and an orientation of the mobile phone device. This makes it possible for a user to view an image without changing the orientation of the phone main body depending upon an orientation of the image.

However there has not been proposed a method for performing a print setting e.g. for setting vertical and horizontal direction orientation of a print image with respect to those of a recording sheet . Thus there may be a need for providing a print orientation setting change button and or a print orientation setting screen to perform the print setting for example. In this case it is difficult for the user to intuitively perform the print setting. This invention has been developed in view of the above described situations and it is an object of the present invention to provide a nonvolatile storage medium storing an image forming data transmitting program a mobile terminal and a control method therefore which can eliminate the above described inconvenience.

The object indicated above may be achieved according to the present invention which provides a nonvolatile storage medium storing an image forming data transmitting program readable by a computer of a mobile terminal the mobile terminal comprising a sensor configured to output sensor information indicating at least one of a movement and an orientation of the mobile terminal a communication portion configured to communicate with an image forming apparatus that is configured to form an image based on image forming data a data storage portion storing image data and a display configured to display thereon an image on the basis of the image data the image forming data transmitting program being designed to have the computer function as a parameter determining section configured to determine a parameter for image forming on the basis of the sensor information outputted by the sensor an image forming data creation controlling section configured to control a first creating section to create image forming data based on the image data stored in the data storage portion by using the parameter determined by the parameter determining section and an image forming data transmission controlling section configured to control the communication portion to transmit to the image forming apparatus the image forming data created by the first creating section.

The object indicated above may also be achieved according to the present invention which provides a control method for a mobile terminal the mobile terminal comprising a sensor configured to output sensor information indicating at least one of a movement and an orientation of the mobile terminal a communication portion configured to communicate with an image forming apparatus that is configured to form an image based on image forming data and a data storage portion storing image data the control method comprising a parameter determining step for determining a parameter for image forming on the basis of the sensor information outputted by the sensor an image forming data creation controlling step for controlling a first creating section to create image forming data based on the image data stored in the data storage portion by using the parameter determined in the parameter determining step and an image forming data transmission controlling step for controlling the communication portion to transmit to the image forming apparatus the image forming data created by the first creating section.

The object indicated above may be also achieved according to the present invention which provides a mobile terminal comprising a sensor configured to output sensor information indicating at least one of a movement and an orientation of the mobile terminal a communication portion configured to communicate with an image forming apparatus that is configured to form an image based on image forming data a data storage portion storing image data a display configured to display thereon an image on the basis of the image data a parameter determining section configured to determine a parameter for image forming on the basis of the sensor information outputted by the sensor an image forming data creation controlling section configured to control a first creating section to create image forming data based on the image data stored in the data storage portion by using the parameter determined by the parameter determining section and an image forming data transmission controlling section configured to control the communication portion to transmit to the image forming apparatus the image forming data created by the first creating section.

A communication system as one embodiment to which present invention is applied includes a mobile phone as one example of a mobile portable terminal or a mobile device a multi function peripheral MFP as one example of an image forming apparatus a first access point a web server and a base station . Each of the mobile phone and the MFP has a function as a well known wireless LAN device. The MFP has various functions such as a printing function a scanning function a copying function and a facsimile function. The first access point functions as a well known wireless LAN access point. The web server is configured to provide various functions and data stored therein for a client device in a network.

It is noted that the mobile phone and the first access point can perform wireless communication data communication using radio waves by using a wireless LAN operating in an infrastructure mode that is a mode in which a plurality of wireless LAN devices terminals perform data communication via access points . That is when the mobile phone accesses the first access point and the wireless communication using the infrastructure mode of the wireless LAN is allowed the mobile phone can perform data communication with the MFP via the first access point . It is noted that the wireless LAN communication can use IEEE802.11a b g n standards for example.

There will be explained a construction of the mobile phone . As shown in the mobile phone includes a central processing unit CPU as one example of a computer a storage portion as one example of a data storage portion a wireless transmitting and receiving portion as one example of a communication portion a wireless antenna portion a button input portion as one example of an operation portion a panel as one example of a display a mobile phone transmitting and receiving portion a mobile phone antenna portion a geomagnetic sensor an acceleration sensor a camera portion an inclination sensor called a gyroscope and a global positioning system GPS portion . Further the mobile phone includes a speaker and a microphone for a phone conversation and a voice input. The geomagnetic sensor the acceleration sensor the inclination sensor and the GPS portion are examples of a motion sensor for outputting sensor information.

The CPU executes processings according to programs stored in the storage portion . Hereinafter the CPU that executes programs such as a print application and an operating system may be simply referred to as a name of the program. For example words the print application executes may mean the CPU that executes the print application executes . It is noted that the storage portion is constituted by various components such as a random access memory RAM a read only memory ROM a flash memory a hard disc HDD and a buffer of the CPU . The wireless transmitting and receiving portion performs the wireless communication using the infrastructure mode of the wireless LAN via the wireless antenna portion . The mobile phone transmitting and receiving portion performs wireless communication with the base station via the mobile phone antenna portion the wireless communication uses a communication method of the mobile phone . The wireless transmitting and receiving portion the mobile phone transmitting and receiving portion and the like transmit and receive digital signals constituting various data.

The storage portion stores the programs . The programs include the print application a browser application a text editing application and the operating system

The print application is an application for making the CPU execute e.g. a print processing for transmitting print data from the mobile phone to the MFP . The CPU can execute a processing according to the browser application to obtain web data from the web server to store the web data into the storage portion and to display on the panel an image based on the web data in the storage portion . The text editing application is an application for making the CPU execute processings for creating editing and saving a document file.

The operating system is a program for providing basic functions commonly used by the print application and the browser application . The operating system includes a program for making the mobile phone transmitting and receiving portion perform the communication and a program for making the wireless transmitting and receiving portion perform the wireless communication . The operating system is also a program for providing an application programming interface the API for making each program command hardware or obtain the information calculated by the geomagnetic sensor the acceleration sensor the inclination sensor the GPS portion and the like.

The storage portion includes a set value storage area . The set value storage area stores information such as terminal information and a print setting which will be described below.

The terminal information includes model information a vertical and horizontal setting casing orientation information . The model information is information about models of the mobile phone such as a vertical model a horizontal model a vertical and horizontal model. As shown in the vertical model is a model in which a user can properly operate the button input portion where the user holds the mobile phone such that a short side of the rectangular panel extends in a horizontal direction and a long side thereof extends in a perpendicular direction that is perpendicular to the horizontal direction hereinafter this way of holding the mobile phone may be referred to as vertical holding . As shown in the horizontal model is a model in which the user can properly operate the button input portion where the user holds the mobile phone such that the long side of the rectangular panel extends in the horizontal direction and the short side thereof extends in the perpendicular direction hereinafter this way of holding the mobile phone may be referred to as horizontal holding .

As shown in the vertical and horizontal model is a model in which the user can operate the mobile phone properly in either of the vertical holding and the horizontal holding. The vertical and horizontal setting is active or operative where the model information is the vertical and horizontal model. The vertical and horizontal setting is information for the user to fix the way the user holds the mobile phone to the vertical holding or the horizontal holding in the vertical and horizontal model.

The casing orientation information is information about an orientation of a casing of the mobile phone . The casing orientation information includes a normal vertical portrait orientation a flipped vertical portrail orientation a left horizontal landscape orientation and a right horizontal landscape orientation. The casing orientation information is set using the rectangular panel as a reference. Specifically the normal vertical orientation is an orientation of the casing in which the short side of the panel extends in the horizontal direction and the long side thereof extends in the perpendicular direction. The flipped vertical orientation is an orientation of the casing in which the casing in the normal vertical orientation is rotated 180 degrees. The left horizontal orientation is an orientation in which the casing in the normal vertical orientation is rotated 90 degrees in a counterclockwise direction. The right horizontal orientation is an orientation of the casing in which the normal vertical orientation is rotated 90 degrees in a clockwise direction. In the case of the vertical model a state thereof shown in is the normal vertical orientation. In the case of the horizontal model a state thereof shown in is the left horizontal orientation or the right horizontal orientation.

The print setting includes a sheet size a setting mode and a print orientation . The print setting is stored in a nonvolatile storage area of the storage portion such as the flash memory . The print setting may be stored in advance by the user for example. The sheet size is information defining a size e.g. A4 size of a recording sheet used for print or recording in the MFP . The setting mode is information defining setting modes of the print orientation . The setting mode includes Fit Display Screen and an input setting. The print orientation is information defining a direction in which a print image is recorded or drawn on the recording sheet. The print orientation is a parameter that is active where the setting mode is the input setting.

The print orientation includes a normal portrait a vertically flipped portrait a right landscape a left landscape and Fit Sheet . The normal portrait is an orientation in which the user facing a print face of the recording sheet can properly view or read the print image where the rectangular recording sheet is placed such that a short side thereof extends in the horizontal direction and a long side thereof extends in the perpendicular direction this way of the placement of the recording sheet may be called portrait placement . The vertically flipped portrait is an orientation in which the recording sheet in the normal portrait is rotated 180 degrees. The landscape is an orientation in which the user facing the print face of the recording sheet can properly view or read the print image where the rectangular recording sheet is placed such that the long side thereof extends in the horizontal direction and the short side thereof extends in the perpendicular direction this way of the placement of the recording sheet may be called landscape placement . The right landscape is an orientation in which the recording sheet in the normal portrait is rotated 90 degrees in the clockwise direction. The left landscape is an orientation in which the recording sheet in the normal portrait is rotated 90 degrees in the counterclockwise direction.

The button input portion is for receiving the operation of the user for the mobile phone . The button input portion is constructed integrally with the panel as a touch panel. The panel displays thereon various functional information of the mobile phone . The geomagnetic sensor is a sensor for detecting an earth s geomagnetism to find a direction in which a distal end portion of the mobile phone faces. The acceleration sensor is a sensor for detecting a positional change of a weight to measure acceleration of the mobile phone . The camera portion is for capturing a predetermined area by e.g. a CCD to obtain image data. The inclination sensor is a sensor for detecting an angular velocity to measure an inclination angle of the mobile phone with respect to a horizontal plane. The GPS portion is a sensor using an artificial satellite to provide a location information about a position of the mobile phone on the Earth.

There will be next explained an operation of the communication system with reference to . First there will be explained an operation for sharing data in the browser application with the print application . When the user has started or launched the browser application via the button input portion the CPU starts or launches the browser application . In S the CPU obtains from the web server web data identified by a uniform resource locator URL specified by the user. The CPU stores the obtained web data into the storage portion .

In S the CPU uses the API to obtain the casing orientation information from the inclination sensor . The CPU then uses the obtained casing orientation information to calculate the orientation of the casing of the mobile phone and stores the calculated orientation into the storage portion . In S the CPU displays a web image on the panel on the basis of the web data. Specifically a data sharing button is displayed on the panel . The data sharing button is a button used to input a data sharing command for sharing data among the browser application and other applications.

In S the CPU judges whether the orientation of the casing of the mobile phone has been changed or not. Where the CPU has judged that the orientation has been changed S YES the CPU returns to S. Where the CPU has judged that the orientation has not been changed S NO the CPU goes to S.

In S the CPU judges whether the user has inputted the data sharing command or not. Specifically the CPU judges whether the user has touched the data sharing button or not. Where the CPU has judged that the data sharing command has not been inputted S NO the CPU returns to S. On the other hand where the CPU has judged that the data sharing command has been inputted S YES the CPU displays on the panel a list of the applications with which the browser application shares the data. In this example on the panel are displayed buttons respectively for selecting the print application and the text editing application

In S the CPU judges whether or not the print application has been selected as an application with which the browser application lb shares URL data. Specifically the CPU judges whether or not the user has touched the button for selecting the print application . Where the CPU has judged that the print application has not been selected S NO the CPU goes to S in which various processings are executed by another application. On the other hand where the CPU has judged that the print application has been selected S YES the CPU goes to S. In S the CPU outputs a text file containing a URL for accessing the web page displayed in the form of the web image e.g. http www.xxx.com and this flow is finished.

There will be next explained with reference to an operation of the print application where the URL is passed from another application. In S the CPU judges whether data including the URL has been passed from another application or not. For example where the mobile phone uses Android that is an operating system for the mobile phone the CPU judges whether an object called Intent for passing the data among the applications has been passed or not. Where the CPU has judged that the data including the URL has not been passed S NO the CPU repeats S. On the other hand the CPU has judged that the data has been passed S YES the CPU goes to S.

In S the CPU downloads web page data HTML data identified by the URL via the wireless communication . The CPU then creates image data on the basis of the web page data and stores the image data into the RAM of the storage portion .

Further the CPU obtains an orientation of the image data and stores the obtained orientation into the RAM. The orientation of the image data includes a vertical orientation shown in and a horizontal orientation shown in . The image data in the vertical orientation is image data in which the user facing a rectangular image G displayed on the panel on the basis of the image data can view or read the image G accurately where the image G is displayed such that a short side L thereof extends in the horizontal direction and a long side L thereof extends in the perpendicular direction. The image data in the horizontal orientation is image data in which the user facing the rectangular image G displayed on the panel on the basis of the image data can view or read the image G accurately where the image G is displayed such that the long side L thereof extends in the horizontal direction and the short side L thereof extends in the perpendicular direction.

In S the CPU obtains the print setting . Specifically the CPU reads out the sheet size the setting mode and the print orientation from the set value storage area and transfers or loads them into the RAM. In S the CPU judges whether the mode of the setting mode is the Fit Display Screen setting or not. Where the CPU has judged that the mode of the setting mode is the Fit Display Screen setting S YES the CPU goes to S to execute a print processing A. On the other hand where the CPU has judged that the mode of the setting mode is not the Fit Display Screen setting S NO the CPU goes to S to execute a print processing B and this flow is finished.

There will be next explained the print processing A in S with reference to . In S the CPU obtains the terminal information . Specifically the CPU queries the operating system to obtain the model information the vertical and horizontal setting the casing orientation information and stores them into the RAM of the storage portion .

In S the CPU changes the print setting on the basis of current casing orientation information obtained in S. Specifically where the casing orientation information is the normal vertical orientation the print orientation is set as the normal portrait. Where the casing orientation information is the flipped vertical orientation the print orientation is set as the vertically flipped portrait. Where the casing orientation information is the right horizontal orientation the print orientation is set as the right landscape. Where the casing orientation information is the left horizontal orientation the print orientation is set as the left landscape. That is S is a step for setting the print orientation when the image data has been stored into the storage portion in S this operation functions as a trigger in response to the acceptance of the input of the user by the button input portion in S.

Next in S S the CPU executes a processing for creating print preview data. In S the CPU reads out the orientation of the image data obtained in S from the RAM and judges the orientation of the image data. Where the CPU has judged that the orientation of the image data is the vertical orientation the CPU goes to S. In S the CPU creates print preview data for the image data in the vertical orientation on the basis of the print orientation obtained in S .

Here there will be explained with reference to a print preview data create processing for the image data being in the vertical orientation which is executed in S. Where the print orientation is the left landscape as shown in a drawing starting point m of a print preview image G formed based on the print preview data is set at a lower left corner of the recording sheet P. The drawing starting point m is a point from which drawing of the print preview image G is started and which defines the orientation of the image data. Drawing of the print preview image G in a widthwise direction thereof or in a direction in which a short side L extends is performed along an upward and downward direction of the recording sheet P or a y direction. Drawing of the print preview image G in a vertical direction or in a direction in which a long side L extends is performed along a rightward and leftward direction of the recording sheet P or an x direction. That is the drawing of the print preview image G is performed such that a length of the print preview image G in the vertical direction the long side L is equal to a length of the recording sheet P in the rightward and leftward direction the short side L .

Where the print orientation is the right landscape as shown in the drawing starting point m of the print preview image G is set at an upper right corner of the recording sheet P. The drawing of the print preview image G is performed such that the length of the print preview image G in the vertical direction the long side L is equal to the length of the recording sheet P in the rightward and leftward direction the short side L .

Where the print orientation is the normal portrait as shown in the drawing starting point m of the print preview image G is set at an upper left corner of the recording sheet P. The drawing of the print preview image G is performed such that the length of the print preview image G in the vertical direction the long side L is equal to a length of the recording sheet P in the upward and downward direction the long side L .

Where the print orientation is the vertically flipped portrait as shown in the drawing starting point m of the print preview image G is set at a lower right corner of the recording sheet P. The drawing of the print preview image G is performed such that the length of the print preview image G in the vertical direction the long side L is equal to the length of the recording sheet P in the upward and downward direction the long side L .

Where the print orientation is the Fit Sheet as shown in the drawing of the print preview image G is performed such that the print preview image G fits the recording sheet P. This drawing is performed such that the length of the print preview image G in the vertical direction the long side L is equal to the length of the recording sheet P in the upward and downward direction the long side L .

Where the CPU has judged in S that the orientation of the image data is the horizontal orientation the CPU goes to S. In S the CPU creates print preview data for the image data in the horizontal orientation on the basis of the print orientation obtained in S .

Here there will be explained with reference to a print preview data create processing for the image data being in the horizontal orientation which is executed in S. Where the print orientation is the left landscape as shown in the drawing starting point m of the print preview image G formed based on the print preview data is set at the lower left corner of the recording sheet P. The drawing of the print preview image G is performed such that a length of the print preview image G in the horizontal direction the long side L is equal to the length of the recording sheet P in the upward and downward direction the long side L . Where the print orientation is the right landscape as shown in the drawing starting point m of the print preview image G is set at the upper right corner of the recording sheet P. The drawing of the print preview image G is performed such that the length of the print preview image G in the horizontal direction the long side L is equal to the length of the recording sheet P in the upward and downward direction the long side L . Where the print orientation is the normal portrait as shown in the drawing starting point m of the print preview image G is set at the upper left corner of the recording sheet P. The drawing of the print preview image G is performed such that the length of the print preview image G in the horizontal direction the long side L is equal to the length of the recording sheet P in the rightward and leftward direction the short side L . Where the print orientation is the vertically flipped portrait as shown in the drawing starting point m of the print preview image G is set at the lower right corner of the recording sheet P. The drawing of the print preview image G is performed such that the length of the print preview image G in the horizontal direction the long side L is equal to the length of the recording sheet P in the rightward and leftward direction the short side L . Where the print orientation is the Fit Sheet as shown in the drawing of the print preview image G is performed such that the print preview image G fits the recording sheet P. This drawing of the print preview image G is performed such that the length of the print preview image G in the vertical direction the long side L is equal to the length of the recording sheet P in the upward and downward direction the long side L .

Then in S S the CPU executes a processing for creating user I F interface data. In S the CPU judges a current orientation of the mobile phone . Specifically the CPU reads out the casing orientation information obtained in S from the RAM and executes the judgment. Where the CPU has judged that the casing orientation information is the normal vertical orientation the CPU judges that the print orientation is the portrait and the CPU goes to S.

Here there will be explained a user I F data create processing in S with reference to a table in . Where the model information is the vertical model or a model in which the vertical and horizontal setting is fixed to the vertical setting the CPU creates data for displaying one of user I Fs of a first pattern in the table in . The user I F data of the first pattern is data for commanding the operating system to display a title PRINT PREVIEW on a top uppermost portion of the panel and display the print preview image G on a lower side of the title as seen from a reference position R. It is noted that the reference position R is located on an upper left corner of the panel where the casing orientation information is the normal vertical orientation.

Further where the model information is the horizontal model or a model in which the vertical and horizontal setting is fixed to the horizontal setting the CPU creates data for displaying one of user I Fs of a second pattern in the table in . The user I F data of the second pattern is data for commanding the operating system to display one of the user I Fs obtained by rotating the user I Fs of the first pattern 90 degrees in the counterclockwise direction.

On the other hand where the CPU has judged that the casing orientation information is the horizontal orientation the CPU judges that the print orientation is the landscape and the CPU goes to S. Here there will be explained a user I F data create processing in S with reference to the table in . Where the model information is the horizontal model or the model in which the vertical and horizontal setting is fixed to the horizontal setting the CPU creates data for displaying one of user I Fs of a third pattern in the table in . The user I F data of the third pattern is data for commanding the operating system to display the print preview image G on a left portion of the panel and display the title the print preview on a right side of the print preview image G. It is noted that the reference position R is located on the upper left corner of the panel where the casing orientation information is the horizontal orientation.

Where the model information is the vertical model or the model in which the vertical and horizontal setting is fixed to the vertical setting the CPU creates data for displaying one of user I Fs of a fourth pattern in the table in . The user I F data of the fourth pattern is data for commanding the operating system to display one of the user I Fs obtained by rotating the user I Fs of the third pattern 90 degrees in the clockwise direction or the counterclockwise direction.

On the other hand where the CPU has judged in S that the casing orientation information is the flipped vertical orientation the CPU judges that the print orientation is the portrait and the CPU goes to S. Here there will be explained a user I F data create processing in S with reference to the table in . Where the model information is the vertical model or the model in which the vertical and horizontal setting is fixed to the vertical setting the CPU creates data for displaying one of user I Fs of a fifth pattern in the table in . The user I F data of the fifth pattern is data for commanding the operating system to display the title the print preview on a bottom lowermost portion of the panel and display the print preview image G on an upper side of the title.

Further where the model information is the horizontal model or the model in which the vertical and horizontal setting is fixed to the horizontal setting the CPU creates data for displaying one of user I Fs of a sixth pattern in the table in . The user I F data of the sixth pattern is data for commanding the operating system to display the title the print preview on a right portion of the panel and display the print preview image G on a left side of the title.

In view of the above the CPU creates data for displaying the user I F in the following manner. When the mobile phone is in a first terminal orientation the CPU creates the user I F such that a direction in which the long side L of the recording sheet P extends coincides with a direction in which the long side L of the image being in a first image orientation extends and such that a direction in which the short side L of the recording sheet P extends coincides with a direction in which the short side L of the image being in the first image orientation extends. When the mobile phone is in a second terminal orientation the CPU creates the user I F such that the direction in which the short side L of the recording sheet P extends coincides with a direction in which the long side L of the image being in a second image orientation extends and such that the direction in which the long side L of the recording sheet P extends coincides with a direction in which the short side L of the image being in the second image orientation extends. That is the CPU creates the user I F shown in the left user I F in the first pattern the left user I F in the second pattern the right two user I Fs in the third pattern the right two user I Fs in the fourth pattern the left user I F in the fifth pattern and the right user I F in the sixth pattern in .

In view of the above the CPU creates data for displaying the user I F also in the following manner. When the mobile phone is in the first terminal orientation the CPU creates the user I F such that the direction in which the long side L of the recording sheet P extends coincides with the direction in which the short side L of the image being in the first image orientation extends and such that a direction in which the short side L of the recording sheet P extends coincides with the direction in which the long side L of the image being in the first image orientation extends. When the mobile phone is in the second terminal orientation the CPU creates the user I F such that the direction in which the short side L of the recording sheet P extends coincides with the direction in which the short side L of the image being in the second image orientation extends and such that the direction in which the long side L of the recording sheet P extends coincides with the direction in which the long side L of the image being in the second image orientation extends. That is the CPU creates the user I F shown in the right user I F in the first pattern the right user I F in the second pattern the left two user I Fs in the third pattern the left two user I Fs in the fourth pattern the right user I F in the fifth pattern and the left user I F in the sixth pattern in .

In S the CPU commands the operating system to display the user I F on the panel on the basis of the user I F data. When having received the command transmitted from the CPU the operating system draws the user I F from the reference position R on the panel .

In S the CPU judges whether the orientation of the mobile phone has been changed or not. Specifically the CPU judges whether or not the operating system has generated an event indicating that the orientation of the casing of the mobile phone has been changed or rotated about 90 degrees. Where the CPU has judged that the orientation has been changed S YES the CPU returns to S. Where the CPU has judged that the orientation has not been changed S NO the CPU goes to S.

In S the CPU judges whether the print command has been inputted or not. The print command is inputted when the user has touched a print button displayed on the panel for example. Where the CPU has judged that the print command has not been inputted S NO the CPU returns to S. Where the CPU has judged that the print command has been inputted S YES the CPU goes to S. In S the CPU creates the print data on the basis of the print setting . The processing for creating the print data includes a processing for changing a resolution and a processing for attaching information representative of recording data described using PostScript for example. Further the CPU controls the wireless transmitting and receiving portion to transmit the created print data to the MFP . The MFP prints or records an image on the recording sheet on the basis of the print data transmitted from the mobile phone and this flow is finished.

There will be next explained the print processing B in S with reference to . In S the CPU creates the print preview data on the basis of the print setting . It is noted that the processing in S is the same as the processings in S S in of the print processing A and an explanation of which is dispensed with. In S the CPU obtains the terminal information . It is noted that the processing in S is the same as the processing in S of the print processing A and an explanation of which is dispensed with.

In S the CPU creates user I F data on the basis of the terminal information . Here there will be explained a user I F data create processing in S with reference to a table in . Where the model information is the vertical model or the vertical and horizontal setting is fixed to the vertical setting or the current casing orientation information is the vertical orientation the CPU creates data for displaying one of user I Fs of a first pattern in the table in . The user I F data of the first pattern is data for commanding the operating system to display the title the print preview on the top uppermost portion of the panel and display the print preview image G on a lower side of the title.

Further where the model information is the horizontal model or the vertical and horizontal setting is fixed to the horizontal setting or the current casing orientation information is the horizontal orientation the CPU creates data for displaying one of user I Fs of a second pattern in the table in . The user I F data of the second pattern is data for commanding the operating system to display the print preview image G on a left portion of the panel and display the title the print preview on a right side of the print preview image G.

In S the CPU commands the operating system to display the user I F on the panel on the basis of the user I F data. In S the CPU judges whether the print command has been inputted or not. Where the CPU has judged that the print command has not been inputted S NO the CPU repeats S. Where the CPU has judged that the print command has been inputted S YES the CPU goes to S. In S the CPU creates the print data on the basis of the print setting and controls the wireless transmitting and receiving portion to transmit the created print data to the MFP and this flow is finished.

This mobile phone sets the print orientation in S by using the casing orientation information obtained by the inclination sensor . That is the operation for setting the print orientation is made possible only by changing the position or the orientation posture of the mobile phone . Thus the user can set the print orientation without a button input or a display of a print setting screen. Further the user can intuitively set the print orientation making it possible to increase a user s convenience.

In this mobile phone the print orientation can be set at a timing when the image data has been stored into the storage portion in S. As a result the user can perform a trigger operation for starting a preparation of the printing in a state in which the mobile phone is in a desired orientation making it possible for the user to obtain a desired printing result.

In this mobile phone the print orientation and the like can be set by changing the orientation of the mobile phone at a timing before the print preview image G is displayed on the panel . As a result it is possible to prevent the arising of a need for the user to operate e.g. the button input portion of the mobile phone to change the parameter such as the print orientation at a timing after the print preview image G has been displayed. Thus it is possible to reliably set the print orientation and the like intuitively only by changing the orientation of the mobile phone .

While the embodiment of the present invention has been described above it is to be understood that the invention is not limited to the details of the illustrated embodiment but may be embodied with various changes and modifications which may occur to those skilled in the art without departing from the spirit and scope of the invention.

The order of the steps may be changed in the flows in . For example the steps in may be combined as shown in a flow in . It is noted that the same step numbers as used in the flows in are used to designate the corresponding steps in the flow in and an explanation of which is dispensed with. Also in this flow shown in the user can intuitively set the print orientation .

A physical quantity for controlling the print preview data create processing is not limited to the inclination angle measured by the inclination sensor and other physical quantities may be used. For example where the acceleration measured by the acceleration sensor is used the user can change the print orientation by shaking or waving the mobile phone . Further where positional information of the mobile phone which is measured by the GPS portion is used the user can change the print orientation by moving the mobile phone . That is the word move or movement used in the present application includes an action of the mobile phone which is caused by the shake of the mobile phone and a movement of the mobile phone which is caused by the user carrying the mobile phone .

The display manners of the panel shown in are shown as examples and other display manners may be used. Further in the print preview image G is displayed on a left side of the panel for example. The print preview image G may be displayed at any position.

Further in S the user I F data may be different between the case where the casing orientation information is the left horizontal orientation and the case where the casing orientation information is the right horizontal orientation. For example the mobile phone may be configured so as to perform 2 in 1 display in which two print preview images are displayed on the panel in the case of the left horizontal orientation and so as to perform 1 in 1 display in which a single print preview image is displayed on the panel in the case of the right horizontal orientation.

The reference position R of the panel as the starting point of the drawing of the user I F is not limited to the upper left corner of the panel . The reference position R may be set at any position depending upon a type of the mobile phone .

Further the CPU may be configured to command the motion sensor via the API of the operating system such that the motion sensor sends or returns the sensor information only while the mobile phone is in a predetermined state. The mobile phone may be designed in advance such that the motion sensor outputs the sensor information only while the mobile phone is in a predetermined state. For example the mobile phone may be configured such that the inclination information is obtained from the inclination sensor only while the preview operation button displayed on the panel is touched by the user. As a result the output of the sensor is obtained only in a period in which the mobile phone is in the predetermined state.

Further the image data may be obtained in S by any method. For example the image data may be obtained from the MFP via the wireless communication and may be obtained from a nonvolatile storage medium such as a memory mounted in a memory slot not shown.

The device to which the present invention is applied is not limited to the mobile phone and the present invention is applicable to various devices such as a note PC and a tablet device.

The buttons such as the data sharing button the button for selecting the print application a button for selecting the text editing application and the print button are not limited to be displayed on the touch panel of the panel . For example these buttons may be provided by hard keys of the mobile phone .

In the present embodiment the CPU operating based on the print application executes various processings. However the present invention is not limited to this configuration. As one modification the CPU operating based on the print application may command the operating system other programs and hardware such as the panel to execute various processings in the following manners.

For example the CPU may command the operating system to transmit the print data to the MFP . In this case the CPU operating based on the print application commands the operating system in S and S to execute the processing for transmitting the print data for example.

The CPU may execute the processing for storing the image data into the RAM on the basis of the processing executed by the operating system . In this case the CPU operating based on the print application commands the operating system in S to execute the storing processing for example.

The CPU may execute the processing for determining the print orientation on the basis of the processing executed by the operating system . In this case the CPU operating based on the print application commands the operating system in S to determine the print orientation on the basis of the casing orientation information for example.

The CPU may create the print preview data on the basis of the processing executed by the operating system . In this case the CPU operating based on the print application commands the operating system in S and S to create the print preview data on the basis of the print orientation for example.

The CPU may execute the processing for displaying the user I F on the panel on the basis of the processing executed by the operating system . In this case the CPU operating based on the print application commands the operating system in S to display the user I F on the panel for example.

The CPU may execute the processing for judging whether the data sharing command has been inputted or not on the basis of the processing executed by the operating system . In this case the CPU operating based on the browser application commands the operating system in S to judge whether the data sharing command has been inputted or not for example.

In the present embodiment the CPU operating based on the print application as one example of an image forming data transmitting program creates the print preview data and the user I F data. That is the CPU operates on the basis of the print application . However the present invention is not limited to this configuration. For example the CPU operating based on an image forming data transmitting program of the operating system may create the print preview data and other data. In this case the print application outputs a command for creating the print preview image and the API creates the print preview image on the basis of the command. Further a print preview image producing circuit may create the print preview data for example. In this case the mobile phone needs to include hardware such as the print preview image producing circuit. Further the mobile phone needs to be configured such that the print application outputs the command for creating the print preview image and the print preview image producing circuit creates the print preview image on the basis of the command.

In S the CPU may obtain the casing orientation information detected by the inclination sensor on the basis of the print application without using the operating system and may store the obtained casing orientation information into the storage portion .

In S the judgment of whether the orientation of the mobile phone has been changed or not may be executed by the following modifications. Each time when the CPU has received the casing orientation information transmitted from the operating system the CPU judges whether the orientation of the casing of the mobile phone has been changed or not by judging whether the received casing orientation information is different from the casing orientation information obtained in S or not on the basis of the print application

The technological elements described in the present specification or the drawings exhibit technological utility individually or in various combinations and are not limited to the combinations disclosed in the claims at the time of application. Furthermore the technology illustrated in the present specification or the drawings may simultaneously achieve a plurality of objects and have technological utility by achieving one of these objects.

It is noted that each program may be constituted by a single program module or may be constituted by a plurality of program modules. Another component may be used for each of the components described above as long as said another component has the same function. The above described examples may be a computer e.g. the CPU configured to execute a processing based on an image processing program e.g. the print application a computer such as the operating system and other applications configured to execute a processing based on a program other than the image processing program hardware e.g. the panel operated based on the command of the computer and a configuration including both of the computer and the hardware. It should be noted that the above described examples may be a computer configured to execute a processing by executing processings based on a plurality of programs together with one another and hardware operated based on a command of the computer configured to execute the processing by executing the processings based on the plurality of programs together with one another.

