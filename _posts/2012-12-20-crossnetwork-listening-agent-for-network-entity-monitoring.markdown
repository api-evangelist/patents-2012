---

title: Cross-network listening agent for network entity monitoring
abstract: Various embodiments herein include at least one of systems, methods, and software of a cross-network listening agent for network entity monitoring. In some such embodiments, the cross-network listening agent is an element of software or a hardware device connected to a network and listens for metric data broadcast by other entities of the network. The cross-network listening agent receives the broadcast metric data and transmits the metric data to a network and system management system resident on another network. The network entities are generally any device that reports status with regard to metrics the network entity monitors with regard to its own state. In some embodiments, the network entities report their status in Simple Network Management Protocol (SNMP) messages that are broadcast on the network, but are unable to reach the network and system management system resident on the other network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09172596&OS=09172596&RS=09172596
owner: SAP SE
number: 09172596
owner_city: Walldorf
owner_country: DE
publication_date: 20121220
---
In today s networked computing environment a single organization may have many networks on which many network entities such as networked devices and systems are connected. While many network entity monitoring tools exist such tools need to be installed on each network to receive and monitor messages from devices on each respective network. As a result each of many the many networks need to be monitored separately.

Various embodiments herein include at least one of systems methods and software of a cross network listening agent for network entity monitoring. In some such embodiments the cross network listening agent is an element of software that executes on computing device connected to a network and listens for metric data broadcast by other entities of the network. The cross network listening agent receives the broadcast metric data and transmits the metric data to a network and system management system resident on another network. The network entities are generally any device that reports status with regard to metrics the network entity monitors with regard to its own state. In some embodiments the network entities report their status in Simple Network Management Protocol SNMP messages that are broadcast on the network. Such a message broadcast by a network entity may for example be a network switch that monitors its network connection ports for operability connection speed and the like. Another network entity may be a printer that monitors its paper and toner levels. A further network entity may be a software system that monitors database latency times connectivity with other network entities an amount of storage space available to the software system and other metrics. Through such embodiments as are described in detail with reference to the drawings monitoring of network entities on a plurality of networks may be performed via a single network and system management system.

In the following detailed description reference is made to the accompanying drawings that form a part hereof and in which is shown by way of illustration specific embodiments in which the inventive subject matter may be practiced. These embodiments are described in sufficient detail to enable those skilled in the art to practice them and it is to be understood that other embodiments may be utilized and that structural logical and electrical changes may be made without departing from the scope of the inventive subject matter. Such embodiments of the inventive subject matter may be referred to individually and or collectively herein by the term invention merely for convenience and without intending to voluntarily limit the scope of this application to any single invention or inventive concept if more than one is in fact disclosed.

The following description is therefore not to be taken in a limited sense and the scope of the inventive subject matter is defined by the appended claims.

The functions or algorithms described herein are implemented in hardware software or a combination of software and hardware in one embodiment. The software comprises computer executable instructions stored on computer readable media such as memory or other type of storage devices. Further described functions may correspond to modules which may be software hardware firmware or any combination thereof. Multiple functions are performed in one or more modules as desired and the embodiments described are merely examples. The software is executed on a digital signal processor ASIC microprocessor or other type of processor operating on a system such as a personal computer server a router or other device capable of processing data including network interconnection devices.

Some embodiments implement the functions in two or more specific interconnected hardware modules or devices with related control and data signals communicated between and through the modules or as portions of an application specific integrated circuit. Thus the exemplary process flow is applicable to software firmware and hardware implementations.

As previously briefly discussed the network entities are generally networked devices processes programs or other hardware or software elements that monitor their own state in view of metrics and broadcast messages reporting their current state. Such messages may be broadcast by the network entities upon occurrence of an event such as a fault upon violation of a rule such as a configured service level agreement on a scheduled basis or for other reasons. These messages may be SNMP messages or other messages according to a standard or a proprietary definition. Regardless of the encoding of the messages the messages are broadcast by the network entities on the network of the broadcasting network entity. When broadcast the one or more listener agents on the network on which the message is broadcast receives and processes the message.

The network also includes a network and system management system . The network and system management system is a system that consumes messages broadcast by network entities on the network to which it is connected stores data representative of the messages provides management tools for administrators to track and handle network and network entity conditions reported in and discovered from network entity messages and the like. Examples of the network and system management system include Solution Manager available from SAP AG of Waldorf Germany Network Management Center available from Hewlett Packard Company of Palo Alto Calif. Tivoli available from IBM Corporation of Armonk N.Y.

The network and system management system in some embodiments may be augmented with a data provider connector . The data provider connector in some embodiments that include one operates to facilitate communication with the listener agents deployed across the various networks . Functions performed by the data provider connector may include communicating configuration information to the various listener agents and receiving data from the listener agents . In some embodiments the data provider connector may determine configuration information for the listener agents based on configuration settings stored or updated within the network and system management system . Such configuration settings may be with regard to types of messages the network and system management system wants to receive messages of interest from the listener agents upon receipt from the network entities. In some embodiments the configuration settings may identify one or more message types that are not of interest and are not to be communicated to the network and system management system . Examples of messages of interest may be with regard to a network switch or software process losing connectivity or otherwise failing while a message not of interest may be with regard to a printer being out of paper. Further configuration settings may be with regard to how often the listener agents are to transmit messages network and communication configurations and other settings depending on the particular embodiment. However as stated above the network and system management system may be augmented with a data provider connector . In some embodiments that don t include a data provider connector some or all of the same functionality may be natively within the network and system management system or other functionality may be configured to be utilized in a suitable manner to achieve such tasks.

As illustrated in the network includes the listener agent connected thereto. The listener agent in such embodiments listens on the network for messages such as SNMP messages broadcast by the various network entities also connected to the network . The messages broadcast by the network entities typically will not be allowed past the firewall and onto the network . As a result the messages will not reach the network and system management system . Thus the messages are received by the listener agent processed which may include filtering out messages that are not of interest to the network and system management system and transmitted to the network and system management system . The processing of the messages by the listener agent which will be describe further with regard to and may vary between embodiments. However the processing generally includes any filtering as already discussed any needed data translations and generating of a reporting message that will cross the firewall traverse the network cross the firewall onto the network and be delivered to the network and system management system . Such a reporting message may be a message generated and transmitted according to the Simple Object Access Protocol SOAP or other message capable of being transmitted to reach the network and system management system . Other example messages and delivery modes may include an application programming interface API call a file stored to a designated network storage location accessible by a process of the system and network management protocol a data structure transmitted via a value added network or other message and message transmission scheme.

The listener agents as typically deployed will listen and report all network entity message types to the network and system management system . However the listener agents are configurable to ignore certain message types. Further in some embodiments multiple listener agents may be deployed to a single network . For example network includes two listener agents . These two listener agents may be deployed in tandem for various purposes. For example a plurality of listener agents may be deployed to a single network to provide a failover such that when a first listener agent fails a second listener agent will either lose communication with the first listener agent and take over or receive a message from the network and system management system instructing it to take over. In another embodiment a first listener agent may be configured to listen for messages of certain types or from certain network entities and a second listener agent may be configured listen for messages of other message types or from other network entities. Such embodiments provide for load balancing such as when a network on which the plurality of listener agents are deployed include many network entities that broadcast many messages. In yet further embodiments one listener agent may be configured to forward data of received messages to the network and system management system and another listener agent may be configured to forward data of the same or certain other network entity messages to another network management system or even another system type or location altogether. In these plural listener agent embodiments although only two listener agents have been illustrated and described more than two listener agents may be included in different embodiments. Thus there is great flexibility in deploying and configuring the network listener agents such as the network listener agents deployed on the network .

The first network includes at least one network entity such as a managed system or device connected thereto. The network entity monitors is operation according to metrics which when met cause the network entity to broadcast a message such as an SNMP message on the first network . The message will include at least an identifier of the network entity and data representing the metric violated. Other data may be included in the message such as an error code an identifier of a network entity component a date and time stamp of when an event or condition triggering the message occurred and other such data.

The first network additionally includes a listener agent . The listener agent may be a standalone software program in some embodiments. In other embodiments the listener agent may be a module that can be added on to another program or added to a network device that will execute the listener agent . In yet another embodiment the listener agent is a hardware device including at least one network interface device at least one processor and at least memory device that stores instructions executable by the at least one processor to cause the hardware device to perform the functions of the listener agent.

Regardless of the hardware or software form of the listener agent the listener agent includes various components therein. The components generally include configuration data that configures other components therein. The other components may include a metric listener object a filter object a metric sending object and a local message store . The metric listener object operates to receive a message broadcast over the first network by the network entity upon an event occurrence such as a metric violation. Such a message is often referred to as an SNMP trap. The metric listener object may then process the received message which may include formatting data of the message according to a particular protocol or other format for further processing by other components of the listener agent . Operation of the metric listener object may be according to configuration data held in the stored configuration data such as data instructing the metric listener object to execute upon receipt of the message the format in which to translate the received message and the like.

The metric listener object may then forward the formatted data to a filter object . The filter object determines whether the received message is or includes a message of interest to the network and system management system according to data stored in the configuration data . When the message is not of interest the message may be ignored discarded and no further action is taken by the listener agent with regard to the message. When the message is or includes a message of interest the filter object passes the formatted data to the metric sending object .

The metric sending object upon receipt of the formatted data may first store a copy of the formatted data to a local message store . The local message store may be a data storage location of a memory a data storage device such as a disk or flash memory or other data storage device. The metric sending object then depending on a configuration as represented in the stored configuration data may cache the formatted data until a later time when the formatted data is to be aggregated with other received formatted data prior to sending or may immediately send the formatted data. Regardless when it is time to send the formatted data to the network and system management system the data is processed to put the formatted data in a proper form for transmission from the first network to the second network and to be consumed by the network and system management system which may include a data provider connector as described with regard to the data provider connector of .

The processing of the formatted data by the metric sending object may include generation of a SOAP message. Such a SOAP message may then be transmitted to the network and system management system via a web service call of the network and system management system . The web service called in some embodiments is a web service provided to the network and system management system through augmentation with the data provider connector . In some embodiments once the data is communicated successfully to the network and system management system the metric sending object may delete the formatted data stored to the local message store if a copy was stored thereto.

In some embodiments the method includes receiving on a first network a metric message from a network entity. Based at least on a metric identified within data of the metric message and a configuration including data identifying metric messages of interest the method then determines whether the metric message is of interest. When the metric message is not of interest the metric message may be discarded. However when the metric message is a metric message of interest the method includes forwarding the metric message to a network and system management system on a second network.

The metric message in some embodiments of the method includes data identifying the network entity that sent the metric message and data representative of a monitored state of the network entity. For example the metric message may include data identifying a particular software process or component thereof or a network device on which an error event has occurred that violated a rule monitored in the software process or component or on the network device. As stated previously the metric message may be an SNMP message but in some embodiments the metric message may take another form as set by an industry standard or that is proprietary in nature as defined by a particular software or device maker.

In some embodiments of the method the configuration data identifying metric messages of interest identifies at least one type of metric message of interest that is to be forwarded to the network and system management system. For example the configuration data may identify metric messages including data representative of a priority or criticality rating a particular type of fault or error or having originated from a particular network entity or network entity type as being messages of interest. Further the method may include caching a representation of received messages and the configuration data may include rules with regard to received metric messages received in close time proximity. Such rules with regard to metric messages of a certain type may be ignored for a period according to a rule such as metric messages indicating a loss of connectivity by a particular network entity or entity type to another network entity network entity type or network resource i.e. the Internet database . The general idea with such rules is to accommodate for self healing situations in a networked environment and varying network latency issues that may occur during times of extreme usage. Through such rules false or self resolvable issues will not receive unneeded attention. A rule in such embodiments may cause the relevant metric messages to be ignored until a certain number of the messages has reached a threshold the messages have been received for a continuous period greater than a threshold or some other threshold depending on the particular metric violation and the particular embodiment.

In further embodiments prior to forwarding the metric message to the network and system management system some embodiments of the method include storing a copy of the metric message in local data storage. Then after successfully forwarding the metric message to the network and system management system the method may delete the copy of the metric message from the local data storage. Such embodiments may ensure a metric message is communicated to the network and system management system is in fact delivered even if communication with the network and system management system is lost for a period. Upon reestablishing communication with the network and system management system the method in such embodiments will then forward the metric message or metric messages that were not previously successfully forwarded and then delete them from the local data storage.

In other embodiments prior to forwarding the metric message to the network and system management system the method may cache metric messages for a period which may be in accord with a configuration setting and forward all metric messages received during the period in a single communication. For example some such embodiments include storing the received metric message in local storage. Then according to a schedule of when metric messages are to be forwarded the method includes retrieving metric messages stored in the local storage and aggregating the retrieved metric messages to form a metric message payload. The metric message payload may then be forwarded to the network and system management system. The aggregating of the retrieved messages in some embodiments includes generating a SOAP message and forwarding the message includes transmitting the generated SOAP message utilizing a web service of or otherwise associated with the network and system management system. Finally after successfully forwarding the metric message payload to the network and system management system some such embodiments include deleting each metric message aggregated into the metric message payload. However in other embodiments the local storage in which the metric messages are cached operates as a log. In such embodiments the data of the metric messages aggregated and successfully forwarded is updated to indicate the respective metric messages have been sent to the network and system management system.

Computer readable instructions stored on a computer readable medium are executable by the processing unit of the computer . A hard drive CD ROM and RAM are some examples of articles including a non transitory computer readable medium. For example a computer program capable of performing one or more of the methods illustrated herein may be stored on a non transitory computer readable medium such as a program of a listener agent of of .

It will be readily understood to those skilled in the art that various other changes in the details material and arrangements of the parts and method stages which have been described and illustrated in order to explain the nature of the inventive subject matter may be made without departing from the principles and scope of the inventive subject matter as expressed in the subjoined claims.

