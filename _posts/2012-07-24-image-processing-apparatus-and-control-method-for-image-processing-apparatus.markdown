---

title: Image processing apparatus and control method for image processing apparatus
abstract: An image processing apparatus includes a first control unit configured to control the whole apparatus and not to be energized in a power saving mode; and a second control unit configured to be energized in the power saving mode. The second control unit includes a detecting unit configured to detect a return trigger for returning from the power saving mode to a normal mode; an identifying unit configured to identify the return trigger; a storage unit configured to store the identified return trigger into a storage medium; and a starting unit configured to start energizing the first control unit in accordance with the detection of the return trigger. The first control unit includes a reading unit configured to read the stored return trigger after the first control unit is energized; and a first-control-unit control unit configured to determine a function to be activated preferentially based on the return trigger.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08914660&OS=08914660&RS=08914660
owner: Ricoh Company, Limited
number: 08914660
owner_city: Tokyo
owner_country: JP
publication_date: 20120724
---
The present application claims priority to and incorporates by reference the entire contents of Japanese Patent Application No. 2011 168566 filed in Japan on Aug. 1 2011.

The present invention relates to an image processing apparatus and a control method for the image processing apparatus.

In recent years information tends to be computerized and image processing apparatuses such as a printer or a facsimile used to output computerized information and a scanner used to computerize documents have become indispensable devices. Such an image processing apparatus is often constituted as a multifunction peripheral MFP which can be utilized as a printer a facsimile a scanner and a copying machine by having an image capturing function an image forming function a communication function and the like.

In the MFP it is possible in many cases to enter a power saving mode besides the normal running mode. Such an image processing apparatus enters the power saving mode when the MFP is not used besides the normal running mode in order to reduce the consumed power. In the power saving mode a major part of the MFP is brought into an unenergized state when the MFP is not in the normal running mode in order to reduce power consumed by the MFP. Often even energization of a random access memory RAM and the like which constitute a control unit is cut off. At the time of return from the power saving mode to the normal mode therefore it becomes necessary for the MFP to read a program from a hard disk or a nonvolatile memory and develop the program into the RAM again.

On the other hand the MFP provides users with various functions such as a copying machine a printer a scanner a FAX and the like and these functions go on increasing. At the time of return from the power saving mode to the normal mode therefore it is necessary to read respective application programs for implementing these functions again and consequently the return time from the power saving mode to the normal mode becomes long. Even when for example the user wants to use a scanner therefore it is necessary for the user to wait until an application program for implementing the scanner function is read if the MFP is in the power saving mode. As a result a state in which the function the user wants to utilize cannot be used readily is brought about.

As a technique for shortening a waiting time lasting until it becomes possible for a user to use an MFP therefore a technique of causing the user to select a function to be used loading a program corresponding to the selected function preferentially from a hard disk to a RAM at the time of return from the power saving mode making the function available and then activating another program is disclosed for example Japanese Patent Application Laid open No. 2007 194876 .

According to the method disclosed in Japanese Patent Application Laid open No. 2007 194876 the time over which the user is caused to wait can be shortened as many selection units as functions to be restored preferentially must be prepared resulting in increased power consumption. Furthermore there is a problem that user s operations become troublesome as the selection units increase.

In addition in operations of the MFP there are operations executed according to a user s operation of an operating unit and operations executed according to a command which is input via a network. In the case of the latter operations the method disclosed in Japanese Patent Application Laid open No. 2007 194876 cannot be used.

Therefore there is a need for an apparatus capable of shortening the return time of the apparatus from the power saving mode according to a user s intention with a simple configuration and without requesting the user to conduct extra manipulations.

It is an object of the present invention to at least partially solve the problems in the conventional technology.

According to an embodiment there is provided an image processing apparatus that includes a first control unit configured to control the whole image processing apparatus and not to be energized in a power saving mode of the image processing apparatus and a second control unit configured to be energized in the power saving mode. The second control unit includes a return trigger detecting unit configured to detect a return trigger for returning from the power saving mode to a normal mode of the image processing apparatus a return trigger identifying unit configured to identify the detected return trigger a return trigger storage unit configured to store the identified return trigger into a storage medium and a first control unit starting unit configured to start energizing the first control unit in accordance with the detection of the return trigger. The first control unit includes a return trigger reading unit configured to read the stored return trigger after the first control unit is energized and a function activating control unit configured to determine a function to be activated preferentially on the basis of the read return trigger and activate the determined function preferentially.

According to another embodiment there is provided a control method for an image processing apparatus that includes a first control unit configured to control the whole image processing apparatus and not to be energized in a power saving mode of the image processing apparatus and a second control unit configured to be energized in the power saving mode. The control method includes generating a return trigger for returning from the power saving mode to a normal mode of the image processing apparatus. The control method includes by the second control unit detecting the return trigger identifying the detected return trigger storing the identified return trigger into a storage medium starting energizing the first control unit in accordance with the detection of the return trigger. The control method includes by the first control unit reading the stored return trigger after the first control unit is energized determining a function to be activated preferentially on the basis of the read return trigger and activating the determined function preferentially.

The above and other objects features advantages and technical and industrial significance of this invention will be better understood by reading the following detailed description of presently preferred embodiments of the invention when considered in connection with the accompanying drawings.

Hereafter an embodiment of the present invention will be described in detail. The present embodiment will be described by taking an image processing apparatus which executes image forming and outputting and which returns from a power saving mode to a normal energization mode in response to a command which is input via a network as an example of an image forming apparatus.

The image processing apparatus is an MFP which can be utilized as a printer a facsimile a scanner and a copying machine by having an image capturing function an image forming function a communication function and the like. In the present embodiment the image processing apparatus executes image forming and outputting on the basis of a print job received from the client terminal via the network .

The client terminal is an information processing terminal operated by the user and the client terminal is implemented by using an information processing apparatus such as a personal computer PC . The user can transmit a print job from the client terminal to the image processing apparatus via the network by operating the client terminal .

The data management server is a file sharing server which exists on the network and data which becomes a print object is stored in the data management server . The user can select and acquire data to be printed by accessing the data management server from the image processing apparatus or the client terminal via the network .

The network in is a restricted network such as for example an office local area network LAN . However it is also possible to adopt a form in which connection is conducted via a wide area network such as the Internet or a telephone line.

A hardware configuration of the image processing apparatus the client terminal and the data management server according to the present embodiment will now be described with reference to . The image processing apparatus according to the present embodiment has an engine for implementing a scanner a printer a facsimile a copying machine and the like in addition to the hardware configuration illustrated in . In the ensuing description a hardware configuration of the image processing apparatus will be taken as an example. However the same is true of the client terminal as well.

As illustrated in the image processing apparatus according to the present embodiment includes a configuration similar to that of a general server or PC. In other words in the image processing apparatus according to the present embodiment a central processing unit CPU a random access memory RAM a read only memory ROM a hard disk drive HDD and an I F are connected via a bus . Furthermore a liquid crystal display LCD and an operating unit are connected to the I F .

The CPU is an operation unit and the CPU controls operations of the whole image processing apparatus . The RAM is a volatile storage medium from into which information can be read written fast and the RAM is used as a working area when the CPU conducts processing on information. The ROM is a non volatile storage medium which is used exclusively for reading and a program such as firmware is stored therein. The HDD is a non volatile storage medium from into which information can be read written and an operating system OS and various control programs and application programs and the like are stored therein.

The I F connects the bus to various kinds of hardware and networks and the like and controls them. The LCD is a visual user interface used by the user to ascertain the state of the image processing apparatus . The operating unit is a user interface such as a keyboard or a mouse used by the user to input information to the image processing apparatus . As described with reference to the data management server according to the present embodiment is run as the sharing server. Therefore the user interfaces such as the LCD and the operating unit can be omitted.

In such a hardware configuration a program stored in a storage medium such as the ROM the HDD or an optical disk which is not illustrated is read out into the RAM and the CPU performs operations in accordance with the program loaded into the RAM and consequently a software control unit is constituted. By a combination of the software control unit constituted in this way and hardware a function block which implements functions of the image processing apparatus the client terminal and the data management server is constituted.

A hardware configuration of the image processing apparatus according to the present embodiment will now be described with reference to . is a block diagram illustrating the hardware configuration of the image processing apparatus according to the present embodiment. As illustrated in the image processing apparatus according to the present embodiment includes a controller a data storage unit an operating unit an image reading unit an image forming unit a facsimile a sheet setting sensor a main unit power supply switch a main power supply switch and an AC DC power supply generation unit .

Furthermore the controller includes a signal receiving unit and a sub power supply switch besides a main CPU which is equivalent to the above described CPU and a main memory which is equivalent to the above described RAM . In addition the signal receiving unit includes a PHY for Ethernet registered trademark and a sub CPU . In electrical connections are represented by solid line arrows and power flows are represented by dashed line arrows.

The controller functions by cooperative operations of software and hardware. Specifically the controller functions owing to cooperation between the software control unit constituted by that a program stored in the data storage unit which is constituted by the ROM or a non volatile memory the HDD or an optical disk and the like is loaded into a volatile memory hereafter referred to as memory such as the main memory and the main CPU performs operations according to the program and hardware such as the signal receiving unit and the sub power supply switch . The controller functions as a control unit which controls the whole image processing apparatus .

The main CPU plays a role of controlling various units included in the controller and gives instructions to the various units in the controller . The main memory is equivalent to the RAM illustrated in and the main memory is used as a working area when the main CPU processes information. The main CPU is on in power supply when the main unit power supply switch or the sub power supply switch is on whereas the main CPU is off in power supply when the main unit power supply switch or the sub power supply switch is off.

The signal receiving unit includes the PHY for Ethernet registered trademark and the sub CPU and the signal receiving unit plays a role of network connection. The signal receiving unit sends a network signal which is input to the PHY for Ethernet registered trademark via the network to the main CPU via the sub CPU . As a result the image processing apparatus is network connected via the network .

The sub CPU detects a signal which becomes a return trigger generated by the operating unit the image reading unit the facsimile the sheet setting sensor or the PHY for Ethernet registered trademark and discriminates where the detected return trigger is generated. Furthermore upon detecting the return trigger the sub CPU plays a role of switching the main CPU in a power supply off state in the energy saving mode of the image processing apparatus to a power supply on state.

Here the return trigger is a trigger for shifting the mode of the image processing apparatus from an energy saving mode to a standby mode and upon detecting the return trigger the sub CPU executes control to shift the mode from the energy saving mode to the standby mode. As for this the sub CPU includes an SRAM serving as a cache memory therein and performs operations in accordance with a return trigger detection program loaded into the SRAM and thereby executes a return trigger detection operation and a return operation. Mode shift to different modes will be described later.

It is also possible to adopt a configuration in which a return trigger program is read out into a memory such as the main memory located outside the sub CPU instead of the SRAM and the sub CPU performs operations in accordance with the program and consequently the above described function is implemented. According to the return trigger detection function constituted by the sub CPU it is possible to identify the detected return trigger has been generated as described above. Therefore it is possible to determine a function to be made available preferentially and activate an application corresponding to the function. This is one of spirits according to the present embodiment.

Furthermore the sub CPU plays a role of network response of automatically transmitting a network signal which is input to the PHY for Ethernet registered trademark to the main CPU in the energy saving mode.

In addition the sub CPU has a function of controlling devices such as a timer clock. If there is not a user s operation on the image processing apparatus or the apparatus operation for a predetermined time in the standby mode of the image processing apparatus the sub CPU automatically switches the main unit power supply switch from on to off. At this time the image processing apparatus enters the energy saving mode from the standby mode. To the contrary if the sub CPU detects a return trigger in the energy saving mode of the image processing apparatus the sub CPU automatically switches the main unit power supply switch from off to on. At this time the image processing apparatus enters the standby mode from the energy saving mode

The sub power supply switch is switched in on off when the user has directly operated it and its switching signal is sent to the sub CPU . Upon receiving the switching signal the sub CPU automatically conducts switching of the main unit power supply switch .

When the image processing apparatus is in the energy saving mode the user operates the sub power supply switch . As a result the sub CPU shifts the mode of the image processing apparatus from the energy saving mode to the standby mode. At this time the sub power supply switch switches from off to on. Upon receiving the switching signal the sub CPU switches the main unit power supply switch from off to on in accordance with the received switching signal. To the contrary the user operates the sub power supply switch when the image processing apparatus is in the standby mode. As a result the sub CPU shifts the mode of the image processing apparatus from the standby mode to the energy saving mode. At this time the sub power supply switch switches from on to off. Upon receiving the switching signal the sub CPU switches the main unit power supply switch from on to off in accordance with the received switching signal.

The data storage unit is equivalent to the HDD illustrated in . The HDD is a non volatile storage medium from into which information can be read written and an OS for controlling the image processing apparatus and various control programs and application programs and the like are stored therein. Furthermore the data storage unit includes a non volatile storage medium used exclusively for reading which is equivalent to the ROM illustrated in . When the image processing apparatus is in the energy saving mode the data storage unit is not supplied with power supply because the main unit power supply switch is off.

The operating unit includes operating buttons and an operation panel . The operating buttons are an input interface used when the user directly operates the image processing apparatus or the user inputs information to the image processing apparatus . The operating buttons include a plurality of buttons which are not illustrated. When the image processing apparatus is in the standby mode the operating buttons generate a signal corresponding to a user s key operation and send the signal to the main CPU .

When the image processing apparatus is in the energy saving mode the operating buttons have a function of serving as a sensor for detecting that the user has touched some of the operating buttons generating a detection signal and sending the detection signal to the sub CPU . In other words even if the user operates any button among the operating buttons when the image processing apparatus is in the energy saving mode the operating buttons do not generate a signal associated with the key operation but generate only a signal obtained by detecting that the user has touched the operating buttons . Even when the image processing apparatus is in the energy saving mode a power supply required for the operating buttons to function as the sensor is ensured separately. The operating buttons are implemented by the operating unit illustrated in .

The operation panel is not only an output interface which visually displays the state of the image processing apparatus but also an input interface used as a touch panel when the user directly operates the image processing apparatus or inputs information to the image processing apparatus . In other words the operation panel includes a function of displaying an image for receiving a user s operation. When the image processing apparatus is in the standby mode the operation panel generates a signal associated with the user s panel operation and sends the signal to the main CPU .

Furthermore when the image processing apparatus is in the energy saving mode the operation panel has a function of serving as a sensor for detecting that the user has touched the operation panel generating a detection signal and sending the detection signal to the sub CPU . In other words even if the user operates any part of the operation panel when the image processing apparatus is in the energy saving mode the operation panel does not generate a signal associated with the panel operation but generate only a signal obtained by detecting that the user has touched the operation panel . Even when the image processing apparatus is in the energy saving mode a power supply required for the operation panel to function as the sensor is ensured separately. The operation panel is implemented by the LCD and the operating unit illustrated in .

The image reading unit captures an image of a document and sends acquired image capturing information to the main CPU under control of the main CPU . The image forming unit forms drawing information generated on the basis of image information to be printed and output as an image under control of the main CPU . The image reading unit and the image forming unit are not supplied with power supply when the image processing apparatus is in the energy saving mode because the main unit power supply switch is off.

The facsimile receives image information via the telephone line and sends the image information to the main CPU . Furthermore the facsimile transmits the image information to an image processing apparatus located in another place via the telephone line in response to user s operation. Since the facsimile must always monitor reception from the telephone line the facsimile is supplied with power supply even in the energy saving mode.

When the image processing apparatus is in the energy saving mode the sheet setting sensor functions as a sensor for detecting that a sheet is set in the image reading unit generating a detection signal and sending the detection signal to the sub CPU . Since the sheet setting sensor must always monitor setting of a sheet the sheet setting sensor is supplied with power supply even if the image processing apparatus is in the energy saving mode.

If there is not a user s operation on the image processing apparatus or the apparatus operation for a predetermined time when the image processing apparatus is in the standby mode the main unit power supply switch is automatically switched from on to off under the control of the sub CPU . At this time the image processing apparatus enters the energy saving mode from the standby mode. Furthermore if the sub CPU detects a return trigger when the image processing apparatus is in the energy saving mode the main unit power supply switch is automatically switched from off to on under the control of the sub CPU . At this time the image processing apparatus enters the standby mode from the energy saving mode.

When the main unit power supply switch is off the data storage unit the operating buttons the operation panel the image reading unit and the image forming unit are not supplied with power supply. Even when the main unit power supply switch is off power supply required when the operating buttons and the operation panel function as the sensors is supplied separately as described above.

Furthermore switching of the main unit power supply switch between on off is executed by operating the sub power supply switch via the control of the sub CPU . In other words when the sub power supply switch has switched from off to on the main unit power supply switch also switches from off to on under the control of the sub CPU . Furthermore when the sub power supply switch has switched from on to off the main unit power supply switch also switches from on to off under the control of the sub CPU .

The main power supply switch is switched in on off by a user s operation only when the sub power supply switch is off or the main unit power supply switch is off i.e. only when the mode is the energy saving mode. When the main power supply switch is off there is no power supply to all devices included in the image processing apparatus . When the main power supply switch is off the image processing apparatus can assume a plurality of modes. This will now be described later.

The AC DC power supply generation unit converts an AC power supply which is input from a plug receptacle to a DC power supply suitable for the image processing apparatus and supplies the image processing apparatus with the DC power supply.

A software configuration of the image processing apparatus according to the present embodiment will now be described with reference to . is a block diagram illustrating a software configuration of the image processing apparatus according to the present embodiment. As software there are various applications and a platform . They are executed in parallel with a process taken as the unit by an OS such as UNIX registered trademark .

The applications are software for executing information processing peculiar to respective functions of the image processing apparatus . As the applications there are a copy application which is an application for copying machine a printer application which is an application for printer a scanner application which is an application for scanner a facsimile application which is an application for facsimile and an operating application which is an application for controlling the operating unit . Besides them the applications may include Web server software for delivering HTML documents and the like a network file application including a Web browser for perusing HTML documents and the like.

The platform is software for executing information processing concerning processing requests issued to respective kinds of hardware in the image processing apparatus by the applications . For reception of a processing request from the applications an application programming interface API which receives a processing request by using a predefined function is utilized. For transmission of a processing request to each hardware in the image processing apparatus an engine interface ENI which transmits a processing request by using a predefined function is utilized. The platform includes various control services a system resource manager SRM and various handlers .

The control services interpret processing requests sent from the applications to respective kinds of hardware in the image processing apparatus and generate acquisition requests of respective kinds of hardware in the image processing apparatus in accordance with a result of the interpretation. As the control services there are a network control service NCS a facsimile control service FCS a delivery control service DCS an engine control service ECS a memory control service MCS an operation control service OCS a user directory control service UCS a system control service SCS and an on demand update service OUS .

A process of the NCS provides an API for conducting data communication via a network or the like. A process of the FCS provides an API for conducting image data communication image data acquisition image data printing and the like as the facsimile. A process of the DCS exercises control concerning delivery of document data stored in the image processing apparatus . A process of the ECS exercises control concerning the image reading unit and the image forming unit included in the image processing apparatus . A process of the MCS exercises control concerning memories and hard disk drives for image data storage image data processing and the like. A process of the OCS exercises control concerning the operation panel. A process of the UCS exercises control concerning management of user information. A process of the SCS exercises control concerning management of the system. A process of the OUS exercises control concerning program update.

The control service includes a return control module which controls the return operation at the time when the image processing apparatus returns from the energy saving mode. The return control module will be described in detail later. A configuration in which the return control module is included in the applications may be adopted.

The SRM exercises control for arbitrating acquisition requests for the respective kinds of hardware in the image processing apparatus and implementing processing requests for the respective kinds of hardware in the image processing apparatus in accordance with a result of the arbitration. A process of the SRM makes a decision whether each kind of hardware in the image processing apparatus concerning an acquisition request can be utilized whether an acquisition request does not compete with another acquisition request . If it can be utilized the process of the SRM gives a notice to that effect to the control service . In addition the process of the SRM creates a utilization schedule of respective kinds of the hardware in the image processing apparatus concerning the acquisition requests and exercises control for implementing the processing requests to respective kinds of hardware in the image processing apparatus in accordance with a result of the creation.

The handlers manage the respective kinds of the hardware in the image processing apparatus in accordance with the result of the arbitration. As the handlers there are a facsimile control unit handler FCUH and an image memory handler IMH . The FCUH manages a facsimile control unit. The IMH assigns memories to respective processes and the respective processes manage memories assigned to them.

An image processing apparatus activating unit is executed first when the power supply of the image processing apparatus is turned on i.e. a main power supply is switched from off to on. As a result the OS such as UNIX registered trademark is activated and the platform is activated and in addition the applications are activated. These programs are stored in the data storage unit and activated by being read out into the main memory .

Modes which can be assumed by the image processing apparatus will now be described with reference to . is a diagram illustrating mode shift of the image processing apparatus according to the present embodiment. As illustrated in in modes of the image processing apparatus there are an active mode a standby mode an energy saving mode and a shutdown mode .

The active mode is a state in which the image processing apparatus keeps at least one function among functions the image processing apparatus has such as the copy printer scanner and facsimile in the operation state and consumed power is maximized. When an instruction of apparatus operation is executed a shift from the standby mode to the active mode is made.

The standby mode is a mode in which the image processing apparatus is waiting and the image processing apparatus can execute an instruction of an apparatus operation readily. In other words the image processing apparatus in the standby mode is in a state in which the user can use at least one of the functions the image processing apparatus has. When the apparatus operation is finished a transition from the active mode to the standby mode is made. Furthermore when the main power supply switch is switched from off to on in the shutdown mode a transition to the standby mode is also made. In the standby mode all of the main unit power supply switch the main power supply switch and the sub power supply switch illustrated in are on.

The energy saving mode is a mode in which the consumed power is the lowest and the main unit power supply switch or the sub power supply switch is off. In this mode power supply is not supplied to the data storage unit the operating buttons the operation panel the image reading unit the image forming unit the main CPU and the main memory . Even in the state of the energy saving mode however power supply required when the operating buttons and the operation panel function as sensors is supplied separately as described above. In the energy saving mode the detection of a return trigger and the network response are conducted in the sub CPU .

If there is not a user s operation on the image processing apparatus or the apparatus operation for a predetermined time when the image processing apparatus is in the standby mode then the image processing apparatus enters the energy saving mode . At this time the main unit power supply switch and the sub power supply switch are switched from on to off. To the contrary if the sub CPU has detected a return trigger when the image processing apparatus is in the energy saving mode then the image processing apparatus enters the standby mode .

Since the main memory is a volatile storage medium information is lost if there is not power supply. When the shift to the energy saving mode is made therefore an image of a storage area in the main memory is copied to the data storage unit which is a non volatile storage medium. At the time of return from the energy saving mode therefore return to the mode before the shift to the energy saving mode can be conducted by reading the image of the main memory copied into the data storage unit again.

The shutdown mode is a mode in which the main power supply switch is off and there is no power supply to all devices included in the image processing apparatus . The main power supply switch is switched from on to off and the image processing apparatus enters the shutdown mode by a user s operation only when the sub power supply switch is off or the main unit power supply switch is off i.e. only in the energy saving mode .

Prior to description of a return operation from the energy saving mode to the standby mode in the image processing apparatus according to the present embodiment a return operation from the energy saving mode to the standby mode in the conventional image processing apparatus will be described briefly with reference to . is a diagram illustrating progress with time of the return operation from the energy saving mode to the standby mode in the conventional image processing apparatus. In the conventional image processing apparatus any function cannot be used since activating of an application is started until all applications have activated as illustrated in .

As a matter of fact a predetermined activating sequence of applications is not restricted to that illustrated in . However it is common to conventional image processing apparatuses that the activating sequence cannot be changed and any function cannot be used until all applications are finished in activating.

A return operation procedure from the energy saving mode to the standby mode in the image processing apparatus according to the present embodiment will now be described with reference to . is a flow chart illustrating a return operation procedure from the energy saving mode to the standby mode in the image processing apparatus according to the present embodiment. When the image processing apparatus returns from the energy saving mode to the standby mode a return trigger is first generated. As the return trigger there are a user s operation on the operating unit reception of image information of the facsimile detection of sheet setting by the sheet setting sensor and reception of a printing request in the PHY for Ethernet registered trademark . In other words the operating unit the facsimile the sheet setting sensor and the PHY for Ethernet registered trademark function as return trigger generation units.

If a return trigger is generated then first the sub CPU detects the return trigger step S . At this time the sub CPU functions as a return trigger detection unit. Then the sub CPU identifies the detected return trigger step S . At this time the sub CPU functions as a return trigger identifying unit. The sub CPU stores the identified return trigger into a memory included in itself step S . At this time the sub CPU functions as a return trigger storage unit. And the sub CPU switches the main CPU serving as the main control unit from a power supply off state to a power supply on state and activates the main CPU step S . At this time the sub CPU functions as a first control unit starting unit.

If the main CPU is activated then the main CPU reads out the image of the main memory stored in the data storage unit into the main memory and thereby causes the operating system to return step S and activates hardware S . As a result the software configuration of the platform described with reference to is reconstructed on the recording area of the main memory and the above described return control module is also activated. Thereafter the return control module reads the return trigger stored at step S step S . At this time the return control module functions as a return trigger reading unit. The return control module makes a decision whether the return trigger which is read is a user s key operation or sheet setting or not step S . Here the key operation refers to that the user touches the operating buttons or the operation panel or the user operates the sub power supply switch .

If the return trigger read at step S is determined to be a user s key operation or sheet setting step S YES this return trigger is generated as a result of user s direct operation on the image processing apparatus . In that case it is considered that the user is within a short distance from the image processing apparatus and consequently it is necessary to preferentially activate an application for making the operating unit available and make the shift to a state in which the next operation of the user is possible as soon as possible.

If the return control module determines the return trigger read at step S to be a user s key operation or sheet setting step S YES therefore the return control module preferentially activates the operating application step S . Here the return control module functions as a function activating control unit. And a function selection screen is displayed step S and it becomes possible to use the operating unit . And the image processing apparatus completes the shift from the energy saving mode to the standby mode.

If the return trigger read at the S is determined to be neither a user s key operation nor sheet setting step S NO the return trigger has been generated without the user s direct operation on the image processing apparatus . Here the return trigger generated without the user s direct operation on the image processing apparatus is a return trigger generated by reception of a printing request via the network or reception of image information via the telephone line . In this case therefore it is necessary to preferentially activate an application for making the image forming unit or the facsimile available and change the image processing apparatus to a state in which the printer function or the facsimile function can be used as soon as possible.

If the return trigger read at step S is determined not to be a user s key operation or sheet setting step S NO the return control module makes a decision whether the return trigger which is read is a printing request step S . If the return trigger is a printing request step S YES it is necessary to preferentially activate an application for making the printer function available and change to a state in which printing is possible as soon as possible. Therefore the return control module preferentially activates the printer application step S and the image processing apparatus completes the shift from the energy saving mode to the standby mode. At this time the image processing apparatus functions as the function activating control unit.

On the other hand if the return trigger is not a printing request step S NO it is necessary to preferentially activate an application for making the facsimile function available and change to a state in which reception of image information by the facsimile is possible as soon as possible. Therefore the return control module preferentially activates the facsimile application step S and the image processing apparatus completes the shift from the energy saving mode to the standby mode.

As for applications other than the preferentially activated application they may be activated in a predetermined order and returned to an available state or they may be kept in the unavailable state i.e. in the energy saving mode. Or a configuration in which the user suitably switches to one of the two alternatives may be adopted. Furthermore the predetermined order may be adapted to be set freely by the user. They will be described with reference to and .

As for applications for other functions they are activated successively in the background during operation of the function which has become usable and eventually all functions become available. By adopting such a configuration the time required until all functions become available can be shortened and consumed power can be reduced as compared with conventional image processing apparatuses.

Furthermore if activating of an application for a certain specific function is completed applications for other functions may be kept in the unusable state as they are as illustrated in . is a diagram illustrating progress with time of a return operation from the energy saving mode to the standby mode in the image processing apparatus according to the present embodiment. Incidentally in a case where the return trigger is the printing request is taken as an example. If activating of an application having a certain specific function is completed it is possible in the image processing apparatus according to the present invention to use the function of the application finished in activating without waiting for completion of activating of applications for other functions as illustrated in .

As for applications for other functions they remain in the unavailable state and a transition to the energy saving mode is made immediately after operation of the function which has become usable is completed. By adopting such a configuration the start time is shortened because only the function to be used is activated. Since a transition to the energy saving mode is made quickly if use of the function is finished consumed power can be further reduced.

According to the embodiment it is possible to shorten the return time of an apparatus from the power saving mode according to a user s intention to use the apparatus with a simple configuration and without requesting the user to conduct extra manipulations.

Although the invention has been described with respect to specific embodiments for a complete and clear disclosure the appended claims are not to be thus limited but are to be construed as embodying all modifications and alternative constructions that may occur to one skilled in the art that fairly fall within the basic teaching herein set forth.

