---

title: Communication protocol between mobile client and docking station
abstract: A system is disclosed including a docking mechanism and mobile device having a resident client application are used to establish a network connection between the mobile device and a local area network such as an enterprise Private Branch Exchange (PBX). Once docked, the client application, a mobile unified communication integrated dialer (MUCID), is able to be used to select between carrying a communications call over a land line (through the PBX system) or a mobile telephone line (through a cellular communication network). User mobility is provided by allowing a docked mobile device to be undocked after transfer of an active call being carried over the PBX onto the mobile device. Communications protocols are provided between the MUCID and the docking station.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08688168&OS=08688168&RS=08688168
owner: Verizon Patent and Licensing Inc.
number: 08688168
owner_city: Basking Ridge
owner_country: US
publication_date: 20120228
---
In recent years mobile communications devices or cell phones have become must have devices for most people in many countries. The communications that such devices offer via wireless mobile communications network enable users to talk and exchange various types of messages for business and personal reasons and to access information all from or while traveling through any location where a network provides service. The development of so called smart phones which offer increased connectivity and computational functionality has only made mobile communications devices more personal and indispensable to users who commonly carry their smart phones where ever they go including to work.

Often work environments utilize a private branch exchange PBX system to make connections among their internal telephone lines and connect the internal lines to a public switched telephone network PSTN . A PBX system often includes extensions to other devices such as fax machines modems etc. Further many PBX systems include extensions to mobile devices e.g. cellular phones smart phones etc. . The PBX extension to mobile devices allows the users to use their mobile devices as virtual extensions of the PBX and benefit from the features of PBX such as single number reachability SNR and simultaneous ringing. In some situations however a user may not be able to concurrently utilize data and voice services on a personal mobile device or such concurrent usage may prove to be cost prohibitive to the user.

In the following detailed description numerous specific details are set forth by way of examples in order to provide a thorough understanding of the relevant teachings. However it should be apparent to those skilled in the art that the present teachings may be practiced without such details. In other instances well known methods procedures components and or circuitry have been described at a relatively high level without detail in order to avoid unnecessarily obscuring aspects of the present teachings.

It is understood that other configurations of the subject technology will become readily apparent to those skilled in the art from the following detailed description wherein various configurations of the subject technology are shown and described by way of illustration. As will be realized the subject technology is capable of other and different configurations and its several details are capable of modification in various other respects all without departing from the scope of the subject technology. Accordingly the drawings and detailed description are to be regarded as illustrative in nature and not as restrictive.

The various preferred embodiments disclosed herein relate to telephony systems networks software methods and computer readable storage media useful to facilitate transferring services from a local area network to a mobile communications device also referenced as a mobile station or smart phone having a resident mobile universal connection UC client and by use of a docking station having corresponding software. Certain embodiments relate to a system that includes a docking station and a mobile UC client resident on a mobile communications device. The docking station establishes a network connection among a mobile communications device and a data network such as an enterprise Private Branch Exchange PBX .

Reference now is made in detail to the examples illustrated in the accompanying drawings and discussed below.

The wireless mobile communication network might be implemented as a network conforming to the code division multiple access CDMA IS 95 standard the 3rd Generation Partnership Project 2 3GPP2 wireless IP network standard or the Evolution Data Optimized EVDO standard the Global System for Mobile GSM communication standard a time division multiple access TDMA standard or other standards used for public mobile wireless communications. The mobile communications devices are capable of voice telephone communications through the network and for the receiving and processing data services. Mobile communications devices can take the form of portable handsets smart phones or personal digital assistants although they may be implemented in other form factors. Exemplary embodiments include mobile communications devices using a Linux based operating system such as the Android operating system developed by the Open Handset Alliance led by Google. 

The network allows users of the mobile communications devices such as and other mobile communications devices not shown to initiate and receive telephone calls to each other as well as through the public switched telephone network or PSTN and telephone stations connected to the PSTN. The network typically offers a variety of data services via the Internet such as downloads web browsing email etc. By way of example the drawing shows a laptop PC type user terminal as well as a server connected to the Internet and the data services for the mobile communications devices via the Internet may be with devices like those shown at and as well as with a variety of other types of devices or systems capable of data communications through various interconnected networks. The mobile communication network can be implemented by a number of interconnected networks. Hence the overall network may include a number of radio access networks RANs as well as regional ground networks interconnecting a number of RANs and a wide area network WAN interconnecting the regional ground networks to core network elements. A regional portion of the network such as that serving mobile communications devices can include one or more RANs and a regional circuit and or packet switched network and associated signaling network facilities.

Physical elements of a RAN operated by one of the mobile service providers or carriers include a number of base stations represented in the example by the base stations BSs . Although not separately shown such a base station can include a base transceiver system BTS which can communicate via an antennae system at the site of base station and over the airlink with one or more of the mobile communications devices when the mobile communications devices are within range. Each base station can include a BTS coupled to several antennae mounted on a radio tower within a coverage area often referred to as a cell. The BTS is the part of the radio network that sends and receives RF signals to from the mobile communications devices that are served by the base station .

The radio access networks can also include a traffic network represented generally by the cloud at which carries the user communications and data for the mobile communications devices between the base stations and other elements with or through which the mobile communications devices communicate. The network can also include other elements that support functionality other than device to device media transfer services such as messaging service messages and voice communications. Specific elements of the network for carrying the voice and data traffic and for controlling various aspects of the calls or sessions through the network are omitted here form simplicity.

The carrier will also operate a number of systems that provide ancillary functions in support of the communications services and or application services provided through the network and those elements communicate with other nodes or elements of the network via one or more private IP type packet data networks sometimes referred to as an Intranet i.e. a private network. Generally such systems are part of or connected for communication via the private network . Systems outside of the private network may however serve the same functions as well. Examples of such systems in this case operated by the network service provider as part of the overall network which communicate through the intranet type network include one or more application servers and a related authentication server for the application service of server . A mobile communications device communicates over the air with a base station and through the traffic network for various voice and data communications e.g. through the Internet with a server and or with application servers . Servers such as and may provide any of a variety of common application or service functions e.g. authentication provisioning etc. in support of or in addition to an application program running on the mobile communications device .

As illustrated in a local network LAN of an enterprise e.g. business home etc. includes a PBX e.g. a voice over Internet Protocol VoIP PBX SIP IP PBX or a legacy PBX indicated by PBX server . LAN is connected to a docking station . Local network LAN e.g. as indicated by LAN in can connect to a Public Switched Telephone Network PSTN and or the Internet . The elements within LAN include but are not limited to VoIP phone light weight directory access control LDAP services as indicated by LDAP server trivial file transfer protocol TFTP services as indicated by TFTP server and or dynamic host configuration protocol DHCP services as indicated by DHCP server . LAN may also include configuration resources e.g. corporate voice mail simple network management protocol SNMP active directory AD etc. and or other elements PBX Extension Devices such as fax machines telephones and modems not shown . The elements connected using a PBX server are generally referred to as extensions. These elements may be connected to the PBX server via LAN .

The docking station is used to establish a network connection between a mobile communications device and the PBX server via the local network . The docking station includes a physical interface e.g. a Universal Serial Bus USB connection and software that together are used to connect a mobile communications device having a resident mobile UC client also referred to as a mobile UC integrated dialer ID client to the PBX server via the local network . In some embodiments a docking station can include a portion e.g. a cradle or receiving aperture that is adapted securely hold a mobile communications device such as shown and described for .

As further shown in a mobile communications device can be utilized in different states or modes of use docked or un docked and enterprise or personal. In an Enterprise Mode the mobile communications device handles calls that have been anchored on PBX in docked state. The call is handled by the mobile UC Integrated Dialer MUCID client on the device. Calls handled in this mode are Enterprise Calls. In Personal Mode the mobile communications device handles calls that have come directly from the wireless network e.g. 3G network s . In this mode the phone call is handled by the native voice client on the device and not the mobile UCID client. The calls handled in this state are called Personal Calls. In the un Docked State the mobile device uses the cellular network for communications. In the Docked State the mobile device is docked on the cradle of the docking station and the communication is enabled on the local network e.g. enterprise Ethernet infrastructure and a PBX SIP stack of the MUCID is utilized for call control.

Once connected to the local network LAN including PBX server enterprise services e.g. such as Ethernet connectivity when docked and cellular connectivity when undocked VOIP when docked access to enterprise visual voicemail viewing of enterprise call logs access to corporate directory etc. can be provided to the mobile communications device .

The MUCID interfaces with a resident Phone Daemon e.g. using Interprocess communication IPC as shown Android Interface Definition Language AIDL . The MUCID interfaces with the docking station e.g. the Commands Daemon in its capacity as a protocol buffer Protobuf and the Sounds Daemon for User Datagram Protocol UDP and Pulse Code Modulation PCM raw messages through TCP IP over USB. The Phone Daemon as shown in this embodiment is an Android application that can use the existing Phone APIs to access features such as dual tone multi frequency DTMF communications. The USB LAN Driver can be an Android Driver signed by the Mobile UC hardware vendor and provides the communication layer between the Mobile UC and the docking station in docked mode.

The mobile UC client is preferably signed by the Phone OEM hardware vendor. The public key e.g. of a public key cryptosystem such as by RSA used to sign the Mobile UC client is preferably known and hardcoded in the MUCID Phone service so that the Phone operating system OS service grants access only to the Mobile UC client application .

In some embodiments the Mobile UC Integrated Dialer MUCID includes four components or functional blocks not shown a Universal Dialing User Interface Mobile Factory Dialer a Transparent Two Stage Dialer and a VoIP Dialer.

The Universal Dialing User Interface is universal interface to assist the user to complete calls on various call scenarios. It provides a consistent user experience and maintains an interface with the same look and feel when calls are made from the mobile device. The Mobile Factory Dialer is native dialer similar to the one provided by manufacture and used as the default dialer for cellular network voice services. The Transparent Two Stage Dialer is a single number native dialer that bypasses the two stage dialing process and allows the mobile device to access Enterprise PBX features when the mobile device is in the un docked state and uses the cellular network as the primary access method for voice services.

In a two stage dialing process to access the Enterprise PBX the Enterprise Access Number is first dialed at the mobile device the user device is authenticated a dial tone is provided by Enterprise PBX then a second set of digits for called party is submitted at the mobile device to complete the call. After receiving the second set of digits the enterprise PBX suspends a first call leg from the mobile device and uses the second set of digits to call the called party. Once the called party answers the PBX provides a bridge and completes the call so that the mobile device and called party are in communication. The transparent two stage dialer maintains the single number dialing experience and eliminates the need to first dial the Enterprise Access Number before entering the called party number to complete the call.

The VoIP Dialer is a SIP compliant dialer that allows an Android based mobile device for example to function and behave as an enterprise desk phone when the mobile device is in the docked state and use the local network e.g. enterprise campus infrastructure as the primary access method for voice services. When docked the mobile device accesses enterprise voice services via the built in Ethernet interface of the docking station also called a cradle . The mobile device can enter a called party number either via a standard dial pad from the cradle or a touch screen from the mobile communications device allowing access to enterprise PBX features similar to a standard enterprise desk phone.

With continued reference to the docking station includes in addition to the USBLAN Driver described above a Commands Daemon which is used to send receive commands to the Mobile UC client. The actual messages exchanged between the Mobile UC client and the docking station are binary messages. The Commands Daemon interfaces with the Mobile UC client in docked mode by way of the MUCID through TCP IP over USB.

The docking station also includes a Sounds Daemon that is used to send receive data streams to the audio devices speaker microphone handset headset present in the docking station . The audio stream is formatted by the Sounds Daemon accordingly. The Sounds Daemon interfaces with the Mobile UC client in the docked mode by way of the MUCID through TCP IP and UDP IP over USB.

Also shown in is an optional web administration module Web Admin that may be used to provide a user interface for configuration of the docking station . The Web Admin can be implemented as web based application on the docking station . The Web Admin can interface with the docking station Commands Daemon e.g. through named Linux request and response pipes.

The Android Driver is signed by the Phone OEM hardware vendor and provides the communication layer between the mobile UC client and the docking station in docked mode. The mobile UC client is preferably signed by the application developer. The public key used to sign the Mobile UC client is preferably known and hardcoded in the MUCID Phone service so that the Phone service grants access only to the Mobile UC client application.

For the docking station the USB LAN driver provides the communication layer between the docking station and the Mobile UC in docked mode. The Commands Daemon is used to send receive commands to the Mobile UC client. The actual messages exchanged between the Mobile UC client and the docking station are binary messages. The Commands Daemon interfaces with the mobile UC client in docked mode through TCP IP over USB.

The Sounds Daemon is used to send receive data streams to the audio devices speaker microphone handset headset etc. present in the docking station . The audio stream is be formatted by the Sounds Daemon accordingly. The Sounds Daemon interfaces the Mobile UCID in docked mode through TCP IP and UDP IP over USB.

Also shown in is an optional web administration module Web Admin that may be used to provide user interface for configuration of the docking station . The Web Admin can be implemented as web based application on the docking station and the example shown interfaces the docking station Commands Daemon through Linux named request and response pipes .

The audio component is responsible for handling of the bi directional audio data stream to and from the docking station . The audio component is implemented as a part of a media stack and is arranged to communicate with an Audio Daemon not shown on the docking station through the local network interface .

The MUCID Phone Daemon is responsible for the interface with a Radio Interface Layer RIL daemon that provides the mobile device with various functionalities e.g. sending Dual Tone Multi Frequency DTMF and other cellular call control functions . The MUCID Phone Daemon is signed by its original equipment manufacturer OEM and is pre loaded onto the mobile device . The RIL daemon is a software interface that is used in providing communications among the mobile device and cellular wireless networks . The SIP Real Time Transport Protocol RTP stack connects to enterprise servers when docked and in Enterprise Mode.

Aspects of the methods of transferring services such as data services from a local network e.g. an enterprise PBX outlined above may be embodied in programming. Program aspects of the technology may be thought of as products or articles of manufacture typically in the form of executable code and or associated data that is carried on or embodied in a type of machine readable medium. Storage type media include any or all of the tangible memory of the computers processors or the like or associated modules thereof such as various semiconductor memories tape drives disk drives and the like which may provide non transitory storage at any time for the software programming. All or portions of the software may at times be communicated through the Internet or various other telecommunication networks. Such communications may enable loading of the software from one computer or processor into another. Thus another type of media that may bear the software elements includes optical electrical and electromagnetic waves such as used across physical interfaces between local devices through wired and optical landline networks and over various air links. The physical elements that carry such waves such as wired or wireless links optical links or the like also may be considered as media bearing the software. As used herein unless restricted to non transitory tangible storage media terms such as computer or machine readable medium refer to any medium that participates in providing instructions to a processor for execution.

Hence a machine readable medium may take many forms including but not limited to a tangible storage medium a carrier wave medium or physical transmission medium. Non volatile storage media include for example optical or magnetic disks such as any of the storage devices in any computer s or the like such as may be used to implement features associated with the transferring of PBX services to a mobile communications device etc. shown in the drawings. Volatile storage media include dynamic memory such as main memory of such a computer platform. Tangible transmission media include coaxial cables copper wire and fiber optics including the wires that comprise a bus within a computer system. Carrier wave transmission media can take the form of electric or electromagnetic signals or acoustic or light waves such as those generated during radio frequency RF and infrared IR data communications. Common forms of computer readable media therefore include for example a floppy disk a flexible disk hard disk magnetic tape any other magnetic medium a CD ROM DVD or DVD ROM any other optical medium punch cards paper tape any other physical storage medium with patterns of holes a RAM a PROM and EPROM a FLASH EPROM any other memory chip or cartridge a carrier wave transporting data or instructions cables or links transporting such a carrier wave or any other medium from which a computer can read programming code and or data. Many of these forms of computer readable media may be involved in carrying one or more sequences of one or more instructions to a processor for execution.

Examples Technical Specifications for Exemplary Embodiments. The attached Appendix 1 which is incorporated in its entirety by reference herein forms a part of this specification describes examples of technical specifications also referred to as service requirements for exemplary embodiments.

In the preceding specification various preferred embodiments have been described with reference to the accompanying drawings. It will however be evident that various modifications and changes may be made thereto and additional embodiments may be implemented without departing from the broader scope of the invention as set forth in the claims that follow. The specification and drawings are accordingly to be regarded in an illustrative rather than restrictive sense.

Unless otherwise stated all measurements values ratings positions magnitudes sizes and other specifications that are set forth in this specification including in the claims that follow are approximate not exact. They are intended to have a reasonable range that is consistent with the functions to which they relate and with what is customary in the art to which they pertain.

The scope of protection is limited solely by the claims that now follow. That scope is intended and should be interpreted to be as broad as is consistent with the ordinary meaning of the language that is used in the claims when interpreted in light of this specification and the prosecution history that follows and to encompass all structural and functional equivalents. Notwithstanding none of the claims are intended to embrace subject matter that fails to satisfy the requirement of Sections 101 102 or 103 of the Patent Act nor should they be interpreted in such a way. Any unintended embracement of such subject matter is hereby disclaimed.

Except as stated immediately above nothing that has been stated or illustrated is intended or should be interpreted to cause a dedication of any component step feature object benefit advantage or equivalent to the public regardless of whether it is or is not recited in the claims.

It will be understood that the terms and expressions used herein have the ordinary meaning as is accorded to such terms and expressions with respect to their corresponding respective areas of inquiry and study except where specific meanings have otherwise been set forth herein. Relational terms such as first and second and the like may be used solely to distinguish one entity or action from another without necessarily requiring or implying any actual such relationship or order between such entities or actions. The terms comprises comprising or any other variation thereof are intended to cover a non exclusive inclusion such that a process method article or apparatus that comprises a list of elements does not include only those elements but may include other elements not expressly listed or inherent to such process method article or apparatus. An element proceeded by a or an does not without further constraints preclude the existence of additional identical elements in the process method article or apparatus that comprises the element.

The Abstract of the Disclosure is provided to allow the reader to quickly ascertain the nature of the technical disclosure. It is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims. In addition in the foregoing Detailed Description it can be seen that various features are grouped together in various embodiments for the purpose of streamlining the disclosure. This method of disclosure is not to be interpreted as reflecting an intention that the claimed embodiments require more features than are expressly recited in each claim. Rather as the following claims reflect inventive subject matter lies in less than all features of a single disclosed embodiment. Thus the following claims are hereby incorporated into the Detailed Description with each claim standing on its own as a separately claimed subject matter.

