---

title: Computer system and method employing separate storage area for computer program recovery
abstract: A computer system, a control method thereof and a recording medium storing a computer program thereof are provided to recover a program efficiently and be resistant to viruses, worms, and user error. The control method of computer system receives a user's request for a recovery of a program which is installed in a first storage unit. A file system of a second storage unit is determined which stores therein a recovery program corresponding to the program for which the recovery is requested. The recovery program is read from the second storage unit with reference to the determined file system, and the program in the first storage unit is recovered by using the read recovery program.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08522084&OS=08522084&RS=08522084
owner: Samsung Electronics Co., Ltd.
number: 08522084
owner_city: Yeongtong-gu, Suwon-si, Gyeonggi-do
owner_country: KR
publication_date: 20120504
---
The present application is a Continuation of U.S. patent application Ser. No. 12 845 952 filed on Jul. 29 2010 which claims the benefit of priority from Korean Patent Application No. 10 2009 0078817 filed on Aug. 25 2009 in the Korean Intellectual Property Office the disclosure of which is incorporated herein by reference in its entirety.

The present invention relates to recovery software stored in advance in a storage device such as a hard disk drive HDD of the computer system. More particularly the present invention relates to a computer system a control method thereof and a recording medium storing a computer program thereof which recovers installed software upon an occurrence of an error.

A computer system such as a desktop PC a laptop notebook or pad PC uses hardware such as a microprocessor embodied as a central processing unit CPU and various software and firmware such as an operating system OS a device driver or an application to perform a given function.

The software of the computer system may sometimes operate abnormally due to various causes such as a virus a worm an unintended deletion of a file by mistake or changes while in operation such as the corruption of a critical file.

In the conventional art for recovering or restoring hereinafter recovering the software having an error it has been known that when the software has an error there is performed an attempted recovery with recovery software provided by a product manufacturer.

The conventional recovery software may be written in a computer readable medium such as a CD or downloaded from a server through a network and then stored on a machine readable medium or in memory accessed by the microprocessor. However in the aforementioned method a user may not be able to recover the computer system if the medium storing the recovery software is damaged corrupted or if the function of the network of the computer system is not operating normally. Also even if the recovery function is available a user may feel inconvenienced to use or keep the medium or to download the recovery software from the network.

To solve the foregoing problem the recovery software may be stored in advance in a storage device such as a hard disk drive HDD of the computer system. However if access to the storage device such as the HDD is not limited against other applications or users the recovery software is exposed to virus hacking or a user s mistake.

Accordingly one or more exemplary embodiments of the present invention provide a computer system a control method thereof and a recording medium storing a computer program thereof which recovers prestored software more efficiently conveniently and safely than known heretofore.

According to an exemplary aspect of the present invention there is provided a control method of a computer system the method comprising receiving a user s request for a recovery of a program which is installed in a first storage unit determining a file system of a second storage unit which stores therein a recovery program corresponding to the program for which the recovery is requested reading the recovery program from the second storage unit with reference to the determined file system and recovering the program installed in the first storage unit by using the read recovery program.

The method further comprises displaying a list of a plurality of programs which is installed in the first storage unit and wherein the receiving the user s request comprises selecting at least one program to be recovered from among the plurality of programs on the list.

The determining the file system preferably comprises reading from the second storage unit information on the file system of the second storage unit.

The determining the file system preferably comprises copying to a main memory the information on the read file system.

According to another exemplary aspect of the present invention there is provided a computer system including a first storage unit which a predetermined program installs therein a second storage unit which stores a recovery program corresponding to the predetermined program in the first storage unit a user input unit which receives a user s input and a controller which determines a file system of the second storage unit according to a user s request with respect to the recovery of the program reads the recovery program from the second storage unit with reference to the determined file system and recovers the program installed in the first storage unit by using the read recovery program in the second storage unit.

The computer system further preferably includes a display unit wherein the controller controls the display unit to display thereon a list of a plurality of programs installed in the first storage unit and selects at least one program to be recovered from among the plurality of programs.

The computer system further includes a main memory wherein the controller copies to the main memory the information read from the file system of the second storage unit.

The computer system further includes an installation unit which stores the recovery program in the second storage unit.

According to still another exemplary aspect of the present invention there is provided a machine readable medium which stores therein machine executable code of a computer program that is executed by a computer system the machine readable medium receives a user s request for a recovery of a program which is installed in a first storage unit determining a file system of a second storage unit which stores therein a recovery program corresponding to a program for which a recovery is requested reading the recovery program from the second storage unit with reference to the determined file system and recovering the program installed in the first storage unit by using the read recovery program.

Below exemplary embodiments will now be described in detail with reference to accompanying drawings so as to be realized by a person having ordinary skill in the art. The exemplary embodiments may be embodied in various forms but the presently claimed invention is not limited to the exemplary embodiments set forth herein. Descriptions of well known structures and functions may omitted for clarity when their inclusion might obscure appreciation of the present invention by a person of ordinary skill in the art and like reference numerals refer to like elements throughout the specification.

As shown therein the computer system according to the exemplary embodiment preferably includes a first storage unit a second storage unit a user input unit and a controller .

The first storage unit and the second storage unit are non volatile memories and continuously store data of the computer system . The first storage unit and the second storage unit according to the exemplary embodiment may be configured as hard disk drives respectively or both of the first storage unit and the second storage unit may be configured as a single HDD refer to . In the latter case the first and second storage units and may be divided into partition units and can be referred to a major partition and a hidden partition. According to another exemplary embodiment other types of storage mediums may also be used. For example at least one of the first and second storage units and may include a solid state drive SDD .

The first storage unit stores a program therein. The program according to the exemplary embodiment comprises machine readable executable code. The program includes at least one of a device driver and an application of the computer system . The computer system according to the present exemplary embodiment may further include at least one peripheral device corresponding to the device driver. The peripheral device may include for example a USB memory stick a USB input output device a graphic card a sound card or a network card just to name a few possibilities.

The program is preferably stored in the first storage unit to be consistent with the computer system in consideration of an efficient execution. In this particular case the program is installed in advance. A plurality of programs may be installed in the first storage unit . In the first storage unit according to the exemplary embodiment an operating system of the computer system may also be stored therein refer to .

The second storage unit preferably stores therein a recovery program of the program . The recovery program is software which comprises machine readable executable code that is installed subsequently after manufacture and recovers the program . A plurality of different recovery programs may be stored in the second storage unit .

The first and second storage units and have a special relationship in relation to access to data stored in the storage units and by an application refer to or by a user through the operating system of the computer system . The first storage unit according to the exemplary embodiment may be freely accessed by the application or user. For example the first storage unit is recognized as a valid storage device by the operating system of the computer system and is allocated with a character of an inherent drive such as C or D . If the application or a user requests for access to the first storage unit with respect to data the operating system of the computer system normally performs the access.

Meanwhile the application or the user may not access the data in the second storage unit through the operating system . For example as shown in the second storage unit is a hidden partition of the HDD and thus the operating system may not recognize the second storage unit as a normal drive. Whether the second storage unit is a hidden partition or not may be determined by a partition table which is included in a master boot record not shown as an initial sector of the HDD . Information on the partition type of the HDD representing the partition of the second storage unit exists in the partition table of the master boot record of the HDD .

In this exemplary embodiment of the present invention the second storage unit is a hidden partition and the operating system of the computer system does not recognize the second storage unit as a normal drive and thus does not assign the character of the inherent drive to the second storage unit . Even if the application or a user requests for access to the data in the second storage unit the operating system does not normally permit the access. That is the recovery program which is stored in the second storage unit is not exposed to virus hacking or a user s mistake and thus its stability is guaranteed.

Referring again to the user input unit preferably includes a keyboard or a mouse and transmits a user s input to the controller .

If a recovery of the program installed in the first storage unit is required the controller recovers the installed program by using the recovery program stored in the second storage unit . For example the controller executes a recovery management program refer to loaded into a main memory not shown such as a random access memory RAM by using a processor not shown such as a CPU. Referring to the controller according to the exemplary embodiment will be described in detail. is a flowchart of a control process of the controller according to the exemplary embodiment.

Referring now to at S the controller receives a user s request for the recovery of the program installed in the first storage unit through the user input unit . The user s request for the recovery of the program may be made through a user interface UI provided by the operating system .

For example in the case of the operating system such as Windows a user may double click an icon of the recovery management program in Windows Explorer through a mouse and initiate the recovery request for the program .

According to another exemplary embodiment as shown in at S the controller may display a list of recoverable programs through a UI. To display the list of recoverable programs the computer system according to the exemplary embodiment may further include a display unit such as a liquid crystal display LCD . As shown in the controller according to the exemplary embodiment preferably stores a program list which includes information on the list of the recoverable programs in the first storage unit and display the list of the recoverable programs based on the program list .

Referring now to at S the controller determines whether or not at least one of the recoverable programs displayed as a list is selected by a user s input received through the user input unit . If a user selects at least one of the programs at operation S then at S the controller initiates the recovery of the program .

With the display of the list of the recoverable programs and the selection of the program as discussed herein above a user may recover the preinstalled program more conveniently.

Now referring back to upon a request at S for the recovery of the program at S the controller determines a file system of the second storage unit storing the recovery program therein that corresponds to the program for which the recovery is requested. In other words since the operating system of the computer system may not normally have access to the second storage unit the controller accesses the second storage unit through an additional configuration on behalf of the operating system . Hereinafter the access to the second storage unit by the controller will be described in more detail with reference to .

For example the application may load a function relating to the file access of the API in order to access the file stored in the first storage unit . If the operating system includes Windows the function relating to the file access by the API may be CreatFile ReadFile or WriteFile . In this case the kernel accesses the file stored in the first storage unit and provides the results to the application in response to the request for the function relating to the file access by the application .

As described above the second storage unit is the hidden partition of the system and thus is not recognized as a normal drive by the operating system . Thus the application may not have access to the file of the second storage unit through the function of the API provided by the operating system . That is the operating system does not recognize the second storage unit as the normal drive and does not provide information on the file system of the second storage unit in the main memory. Thus the application may not access the file of the second storage unit only through the operating system .

In order to access the file of the recovery program stored in the second storage unit the controller according to the exemplary embodiment uses an additional interface which replaces the operating system .

With continued reference to the controller according to the exemplary embodiment includes a recovery management program and a virtual file system component . The recovery management program is an application which manages a recovery process of the program as a whole. The virtual file system component provides an interface for an access to the file stored in the second storage unit with respect to the recovery management program . That is the recovery management program loads the function of the virtual file system component to request for the access to the file stored in the second storage unit . The virtual file system component accesses the file stored in the second storage unit and provides the recovery management program with the results of the access corresponding to the request for the function for the access to the file. Thus access to the second storage unit is preferably made through the virtual file system component .

Referring now to the virtual file system component according to the exemplary embodiment will be described in more detail. At S in response to the request for the function of the recovery management program the virtual file system component reads file system information from the second storage unit to determine the file system of the second storage unit storing the recovery program therein.

As shown in the second storage unit according to the exemplary embodiment may include a data area storing the recovery program as a file and a boot sector having the file system information . The boot sector according to the exemplary embodiment is preferably a front section of the hidden partition. The file system information according to the exemplary embodiment includes information on the status of the file system e.g. the size of the file system or the number of blocks in the file system. The file system information according to the exemplary embodiment may include a file allocation table.

Returning to at S the virtual file system component according to the exemplary embodiment copies the read file system information of the second storage unit to the main memory. It is efficient to copy to the main memory basic information necessary for the access to the file of the second storage unit such as the file system information .

Returning now to if the file system of the second storage unit is determined at step S i.e. if the file system information of the second storage unit is copied to the main memory then at S the virtual file system component reads from the second storage unit the recovery program requested by the recovery management program with reference to the file system information . The virtual file system component according to the exemplary embodiment may determine the location of the file of the recovery program from the data area of the second storage unit with reference to the file system information .

At step S the recovery management program recovers the program installed in the first storage unit for which a user has requested recovery by using the read recovery program . In more detail the recovery management program according to the exemplary embodiment may recover the program by reinstalling the program in the second storage unit with the recovery program . The recovery management program according to the exemplary embodiment may temporarily store the recovery program read from the second storage unit in a temporary folder to be accessed by the operating system and then remove the recovery program from the temporary folder after the recovery operation of the program is complete.

As described above the computer system according to the exemplary embodiment may store the recovery program in the second storage unit as the hidden partition not recognized normally by the operating system to thereby protect the recovery program from the access by the application or by a user and efficiently recover the program utilizing the virtual file system component which accesses the second storage unit on behalf of the operating system .

The recovery management program according to the exemplary embodiment may be programmed as an application of the operating system and the execution of the recovery management program and the initiation of the recovery is available by the operating system which is in operation. Thus a user does not need to shut down the operating system for the recovery and reboot another operating system to access the second storage unit .

The recovery program and the file system information of the second storage unit according to the exemplary embodiment may be stored at the time of installing the recovery management program . The program may be periodically updated over a network. The virtual file system component according to the exemplary embodiment may also be installed at the time of installing the recovery management program .

At step S the installation of the recovery management program is initiated by a user s request. According to the present exemplary embodiment the initiation of installing the recovery management program may be performed by an execution of an installation program not shown of the recovery management program . The installation program of the recovery management program according to the exemplary embodiment may be stored in the first storage unit . The installation program of the recovery management program according to the exemplary embodiment may be copied to the first storage unit from for example an optical disk including a compact disc CD or a digital versatile disc DVD or an external storage device such as a USB memory or downloaded from a server in a network such as LAN or the Internet to be stored in the first storage unit . The optical disk the external storage device or the storage unit of the server which stores therein the installation program of the recovery management program is an example of a recording medium storing the computer program executed by the computer system according to the exemplary embodiment. The installation program of the recovery management program according to the exemplary embodiment is an example of an installation unit of the computer system .

If at S the installation program of the recovery management program is executed then at S the installation program stores the recovery program and the file system information in the second storage unit . At S the installation program according to the exemplary embodiment stores the file of the recovery program in a particular sector of the data area of the second storage unit corresponding to the file system information .

At S the installation program of the recovery management program according to the exemplary embodiment installs the recovery management program in the first storage unit together with the virtual file system component . In a computer system according to another exemplary embodiment the order of the operation S and the operation S can be reversed. As described above the computer system according to the present invention may recover presorted software more efficiently conveniently and safely.

The above described methods according to the present invention can be realized in hardware or as software or computer code that can be stored in a machine readable recording medium such as a CD ROM a RAM thumbnail drive a floppy disk a flash storage a hard disk or a magneto optical disk or downloaded over a network and stored as a non transitory data on one of the aforementioned mediums so that the methods described herein can be executed by such software using a general purpose computer or a special processor or in programmable or dedicated hardware such as an ASIC or FPGA. As would be understood in the art the computer the processor or the programmable hardware include memory components e.g. RAM ROM Flash etc. that may store or receive software or computer code that when accessed and executed by the computer processor or hardware implement the processing methods described herein. In addition it would be recognized that when a general purpose computer accesses code for implementing the processing shown herein the execution of the code transforms the general purpose computer into a special purpose computer for executing the processing shown herein.

Although a few exemplary embodiments have been shown and described it will be appreciated by those skilled in the art that changes may be made in these exemplary embodiments without departing from the principles and spirit of the invention the scope of which is defined in the appended claims and their equivalents.

For example the request for recovery of the particular program can be made automatically by the operating system or in response to a user request. The machine readable medium may comprise a detachable medium attached by the user to a computer system such as a thumbnail connected to a USB port when a recovery operation is required.

