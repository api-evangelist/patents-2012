---

title: Facilitating communication between resource-constrained devices and wireless communication terminals
abstract: A link device facilitating communication between a wireless communication terminal and a resource-constrained device. According to an aspect, the link device receives messages from the wireless communication terminal on a wireless path according to a first protocol, converts the messages into a second protocol, and forwards the converted messages in the second protocols to the resource-constrained device on a wired path connecting the link device to the resource-constrained device. In an embodiment, the first protocol corresponds to HTTP protocol and the second protocol corresponds to a simpler protocol which requires relatively lesser processing and memory resources.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08755404&OS=08755404&RS=08755404
owner: Gainspan Corporation
number: 08755404
owner_city: San Jose
owner_country: US
publication_date: 20120425
---
Embodiments of the present disclosure relate generally to wireless devices and more specifically to facilitating communication between resource constrained devices and wireless communication terminals.

Resource constrained devices are a class of embedded devices. As is well known in the relevant arts embedded devices may operate with minimal processing and or memory capabilities to the point they generally have minimal user interfaces e.g. LEDs and switches but not support for much bigger displays such as monitors or graphical user interfaces . Resource constrained devices are characterized as a subset of such embedded devices while have small memory and limited processing power such that complex software applications cannot be implemented within such devices. Resource constrained devices find use in machines such as refrigerators automobiles lighting systems printers control networks sensor networks etc.

Wireless communication terminals refer to devices such as mobiles phones lap top computers and personal digital assistants PDA which support wireless communication according to protocols such as Wifi 802.11 Blue Tooth or cellular protocols. Wireless communication terminals are provided with sufficient processing and or memory capabilities to support applications which can use wireless protocols and standard internet protocols to communicate with other devices on a network e.g. the world wide web using protocols such as HTTP . Wireless communication terminals are also able to communicate using standard data interchange formats such as XML and JSON JavaScript Object Notation .

There is often a need to facilitate communication between resource constrained devices and wireless communication terminals. In one prior approach additional capabilities are sought to be integrated into resource constrained devices such that each resource constrained device can communicate directly over a wireless medium with a wireless communication terminal. Unfortunately not all resource constrained devices may need such a capability to communicate wirelessly and the corresponding overhead may be unacceptable for manufacturers of some resource constrained devices.

The drawing in which an element first appears is indicated by the leftmost digit s in the corresponding reference number.

A link device facilitating communication between a wireless communication terminal and a resource constrained device according to several aspects of the present invention. According to an aspect the link device receives messages from the wireless communication terminal on a wireless path according to a first protocol converts the messages into a second protocol and forwards the converted messages in the second protocols to the resource constrained device using a wired path connecting the link device to the resource constrained device.

In an embodiment the first protocol corresponds to HTTP protocol with payload portion encoded in XML format and the second protocol corresponds to a simpler protocol which requires less processing and memory resources compared to those required with respect to HTTP XML combination . The second protocol may provide for more deterministic parsing for example as lengths of message fragments are available and fields clearly separated using a separator. The resource constrained device can accordingly be implemented with correspondingly reduced memory and processing resources.

Several aspects of the invention are described below with reference to examples for illustration. It should be understood that numerous specific details relationships and methods are set forth to provide a full understanding of the invention. One skilled in the relevant arts however will readily recognize that the invention can be practiced without one or more of the specific details or with other methods etc. In other instances well known structures or operations are not shown in detail to avoid obscuring the features of the invention.

Resource constrained device could also be a device such as a refrigerator or a printer each with embedded intelligence e.g. in the form of a microcontroller and a small amount of memory that enables communication with the external world. Thus constraint in terms of resources as used herein refers to minimal processing and or memory capabilities for processing of information data and communication with external devices. In particular resource constrained device may be incapable of forming and or parsing implying either or both messages in XML format. Resource constrained device may be incapable of transmitting receiving such messages using HTTP protocol.

Wireless communication terminal may represent a mobile phone PDA personal digital assistant etc. and supports wireless communication protocols such as Wifi Blue Tooth or cellular protocols GSM CDMA etc . In another embodiment wireless communication terminal is connected by wired path to a cloud computing system cloud . In cloud is shown containing only two representative nodes and for illustration. However cloud typically contains many more nodes which may operate in conjunction with each other to provide desired features. In the embodiment wireless communication terminal represents a last hop terminal of cloud and provides the last hop over a wireless medium in a communication path between a corresponding computing component e.g. node in cloud and link device .

Wireless communication terminal may contain applications designed to communicate with other devices applications using standard internet protocols TCP UDP IP HTTP and data formats such as XML. In other embodiments such applications as noted above may instead reside in one or more nodes within cloud and designed to be capable of communication via wireless communication terminal with other devices systems. Thus applications are implemented external to wireless communication terminal in cloud .

It may be appreciated that it may not be possible for applications in wireless communication terminal to communicate with resource constrained device using protocols such as HTTP and data formats such as XML since supporting such communication protocols may require high processing capabilities and or large memories for accommodating larger program size in resource constrained device . Another reason why such communication may not be possible between wireless communication terminal and resource constrained device is that resource constrained device may not be implemented to have wireless communication capability.

Link device provided according to an aspect of the present invention facilitates communication between wireless communication terminal and resource constrained device . Link device is implemented with corresponding communications interface s to enable wireless communication with wireless communication terminal . Thus link device may contain a transceiver transmitter plus receiver and corresponding antennas to enable such wireless communication e.g. according GSM CDMA Bluetooth WiFi 802.11etc . In addition link device is implemented with hardware and or software to enable communication with applications executing in wireless communication terminal using standard internet protocols TCP UDP IP HTTP and data formats such as XML.

Link device is connected to resource constrained device via a wired path i.e. electrical conductor in the entire path and may contain corresponding circuitry to enable wired communication with resource constrained device . For example link device may be implemented with an RS 232 serial interface UART to enable communication with resource constrained device . Resource constrained device may similarly contain an RS 232 serial interface UART . Another common interface may be SPI serial peripheral interface .

Link device enables communication between wireless communication terminal and resource constrained device in a manner as described next.

Further the steps in the flowchart are described in a specific sequence merely for illustration. Alternative embodiments using a different sequence of steps can also be implemented without departing from the scope and spirit of several aspects of the present invention as will be apparent to one skilled in the relevant arts by reading the disclosure provided herein. The flowchart starts in step in which control passes immediately to step .

In step link device receives from wireless communication terminal a first message on a wireless medium. The first message is generated by an application executing in wireless communication terminal and is designed according to a first protocol. Alternatively the first message may be generated in cloud and forwarded to wireless communication terminal for wireless transmission to link device . Control then passes to step .

In step link device translates the first message into a second message. The second message is designed according to a second protocol. The second protocol is a protocol that is understood by resource constrained device i.e. resource constrained device is designed to be capable of interpreting and acting based on information encoded according to the protocol employed in the second message. Control then passes to step .

In step link device transmits the second message to resource constrained device on a wired path. Control then passes to step in which the flowchart ends.

While the flowchart relates to communication in one direction i.e. towards resource constrained device it should be appreciated that link device similarly facilitates communication in the reverse direction as well performing a translation from the second protocol to the first protocol in this case. The first message noted above may be destined to as against merely for forwarding by link device and thus includes a destination address of link device .

Such two way communication enables link device to facilitate complete connected end to end solutions to be deployed between wireless communication terminal and resource constrained device based on Internet protocols TCP IP UDP HTTP etc and standard data encoding methods e.g. XML . In particular link device enables mobile applications executing on wireless communication terminal to interact with resource constrained device using protocols such as HTTP TCP IP CoAP Constrained Application Protocol and UDP. In an alternative embodiment the communication between wireless communication terminal and link device is performed using a custom proprietary protocol over TCP UDP. In yet another alternative embodiment the communication between wireless communication terminal and link device is performed using custom extensions over 802.11 control frames such as beacons probe requests etc. In such alternative embodiments the resource and operation is specified by custom data encoding extension. In effect link device hides from resource constrained device the complexities of the high level protocols such as for example internet protocols and high level data encoding methods such as for example XML by translating such protocols into the second protocol noted above in the flowchart.

Thus for example the operation of link device in translating between the first and second protocols allows mobile and web applications to built on top of HTTP using REST style APIs even though resource constrained device may be constrained in terms of resources required to support such protocols. REST style APIs are described in detail in the document titled Architectural Styles and the Design of Network based Software Architectures Doctoral dissertation University of California Irvine 2000 by Roy Thomas Fielding.

In addition link device may also be implemented to enable resource constrained device to advertize HTTP resources via mDNS DNS SD and have them discovered automatically by compatible clients. mDNS DNS SD are specified by IETF drafts. DNS Based Service Discovery published on Dec. 9 2011 by the Internet Engineering Task Force IETF and Multicast DNS draft cheshire dnsext multicastdns 15 published on Dec. 9 2011 by the Internet Engineering Task Force IETF . mDNS allows for automatic addressing and naming of hosts on a local subnet e.g. of described below without the requirement for a DNS server. Similarly DNS SD allows for discovery of services on the local subnet such as of described below .

The description is continued with illustrations of example transactions that can occur between wireless communication terminal and resource constrained device with link device mediating the transactions according to the steps of the flowchart described above.

In the example transaction wireless communication terminal is shown sending HTTP request containing HTTP header and HTTP body . HTTP request is encapsulated in a TCP IP packet directed to i.e. having destination IP address set equal to the IP address of link device .

HTTP request line indicates that the requested operation method in RFC parlance is a POST on a resource identified by a URI Uniform Resource Identifier of mcu sensor data. According to a convention a tag matching the last portion of the URI here sensor data is included in the HTTP body to further define various information required for the performance of the requested operation.

Thus HTTP body contains tag indicating that a sensor identified by URI mcu sensor data is to be turned on.

It may be appreciated that the above example illustrates a simple case where there is only a single sensor with resource constrained device . However assuming that multiple sensors are present in resource constrained device the XML data in HTTP body would identify the specific sensor on which an operation is to be performed.

Furthermore link device can be connected to multiple resource constrained devices though only a single one is shown in the Figures and accordingly the URI can potentially indicate the specific device and or resource within such specific device.

Link device parses the HTTP XML message and translates the message to another second format which resource constrained device is designed to understand . The corresponding message along with the message entries is shown as . Message entries refers to each unit in the message that lends meaning to the message. For example in message each of message units Esc code len and switch on is a message entry.

Thus resource constrained device parses message executes the operation POST on the specified URI MCU sensor data causing the sensor to switch on. In message ESC code represents a specific character escape code to designate start of a line in the message and len indicates the number of characters in a line. The line Esc code 0 indicates end of the message.

Resource constrained device then forwards message containing information on status of execution of the requested operation. Message is also in the second format which is then converted into XML format and encapsulated as part of the HTTP response by link device before forwarding the converted message containing header and body . In message N indicates the number of response elements which in message equals 1 corresponding to the only one response element namely status with a value of ok .

Resource constrained device then parses message and performs the operation specified by the message. The requested information is then encoded as message which is sent to link device . In message N indicates the number of response elements which in message equals 3. Link device translates the message into XML format encapsulates the message as part of the HTTP response and sends the resulting message to wireless communication terminal .

The transactions described above are provided merely by way of illustration. It may be appreciated that in more complex transactions involving multiple resources in resource constrained device the HTTP requests from wireless communication terminal would be more complex require higher processing power for parsing decoding . Link device provides the translation to convert the XML data to a format that can be decoded using lesser processing power and code program size in resource constrained device . The translation generates a message according to a protocol the second protocol noted above that provides for more deterministic parsing as lengths of message fragments are available and fields clearly separated using a separator. For example it may be observed from message that the second field len indicates the length in terms of number of characters in that line. It may also be observed that the characters are separated by a comma which serves to act as a delimiter separator between characters. The entry ESC code 0 specifies end of message. Thus it is easier for resource constrained device to parse message as compared to parsing message .

As a result the resource constrained devices can be implemented with reduced memory and processing requirements required in the corresponding embedded devices type environments. Link device therefore enables applications in wireless communication terminal to use Internet protocols TCP IP UDP HTTP etc and more complex data encoding approaches XML to communicate with resource constrained device . An additional advantage provided by the approach of above is that the second protocol can be made available for example in the form of APIs or application programmers interface to manufacturers of resource constrained devices such as resource constrained device . As a result different types e.g. printer RFID tag sensor etc of resource constrained devices from different manufactures can be built to conform to i.e. be able to parse and act on the second protocol thereby requiring link device to be implemented with the ability to translate only between the first protocol and the second protocol rather than having to be capable of translating between the first protocol and multiple vendor specific protocols corresponding to the disparate set of resource constrained devices .

Transceiver contains a transmitter portion and a receiver portion. The transmitter portion receives data to be transmitted on a wireless medium from processor modulates a carrier with the data according to corresponding modulation techniques and transmits a modulated carrier signal on the wireless medium via antenna . The organization of data that is transmitted may be according to well known protocols and or standards. The receiver portion of transceiver receives via antenna a signal from the wireless medium demodulates the data carried by the signal and forwards the data to processor . In an embodiment transceiver is designed to operate according to IEEE 802.11 standards and protocols. Accordingly link device may be designed to operate either as an access point AP or a wireless station as described below with respect to . However in other embodiments transceiver may be designed to operate according to other technologies such as Bluetooth GSM CDMA etc.

Memory stores instructions for execution by processor for providing the features described above. In particular the instructions enable link device to perform protocol translations for messages communicated between wireless communication terminal and resource constrained device . Memory may also store data required for execution of the instructions. Memory is implemented as a non volatile memory and may additionally include volatile memory such as RAM random access memory . Memory constitutes a computer program product or a machine computer readable medium which is a means for providing instructions to processor . Processor may contain multiple processing units internally with each processing unit potentially being designed for a specific task. Alternatively processor may contain only a single general purpose processing unit.

Serial port represents a serial communications interface for communication on wired path . Serial port may include a serial port controller e.g. UART and corresponding line drivers for level translation based on the digital data according to RS 232. RS 232 represents an example serial port however alternative embodiments can be implemented using other type of serial ports parallel ports etc. without departing from the scope and spirit of several aspects of the present invention.

Microcontroller is shown containing serial port e.g. UART and corresponding line drivers for level translation according to RS 232. Microcontroller may have only moderate to low computing power compared to for example processor of link device or a processor used in wireless communication terminal . An example implementation of microcontroller may be an 8 bit microcontroller operating at comparatively low clock frequencies.

Micro controller may receive and execute the instructions stored in memory to receive and transmit data via serial port . The received data in a message may be stored in as corresponding digital data memory before examination parsing by micro controller . Based on such examination micro controller may issue commands to sensor form status data based on result of issuing the commands and send the status data in the form of corresponding messages to link device . The specific commands to issue are determined based on the message content.

The features described above can be deployed in several environments. The description is continued with respect to an example environment which uses such features.

System is shown containing wireless stations also known as clients A and B access point AP wired network wired network backbone cellular network and wireless communication terminal . Block represents a basic service set BSS consistent with the 802.11 standard s . Other environments may include more than one BSS with the BSSs being interconnected to form an extended service set ESS consistent with IEEE 802.11 standards. While the description below is provide with respect to an infrastructure BSS several embodiments of the present disclosure can be implemented in an independent BSS IBSS as well. As is well known in the relevant arts an IBSS is an ad hoc network and does not contain access points.

AP is connected by a wired medium to wired network backbone and thus to wired network . Each of clients A and B may communicate with AP as well as with each other wirelessly according to any of the family of IEEE 802.11 protocols including as specified in IEEE 802.11a 802.11b 802.11g and 802.11n and thereby with wired network and devices such as wireless communication terminal serviced by cellular network . Wired network may represent the internet also known as the World Wide Web. Cellular network provides cell based communications to corresponding devices according to cellular standards such as GSM and CDMA. Cellular network provides communication connectivity between wireless communication terminal and other devices such as mobile phones not shown serviced by cellular network and devices in BSS including clients A and B as well as those in wired network . Cellular network is shown connected by wired paths and respectively to backbone and wired network .

Client A represents the combination of link device and resource constrained device with a wired serial path connecting link device and resource constrained device . Antenna represents the combination of antennas and of . Client A may interact with wireless communication terminal as described above.

References throughout this specification to one embodiment an embodiment or similar language means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. Thus appearances of the phrases in one embodiment in an embodiment and similar language throughout this specification may but do not necessarily all refer to the same embodiment.

While various embodiments of the present invention have been described above it should be understood that they have been presented by way of example only and not limitation. Thus the breadth and scope of the present invention should not be limited by any of the above described embodiments but should be defined only in accordance with the following claims and their equivalents.

