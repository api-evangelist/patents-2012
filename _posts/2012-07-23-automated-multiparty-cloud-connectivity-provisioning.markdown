---

title: Automated multi-party cloud connectivity provisioning
abstract: Methods and apparatus for automated multi-party cloud connectivity provisioning are disclosed. A system includes resources of a provider network, and a connectivity coordinator. The coordinator collects network service offering metadata of a plurality of connectivity providers using a first set of programmatic interfaces. In response to a connectivity query specifying connectivity parameters, the coordinator identifies, using at least a portion of the metadata, a collection of one or more connectivity providers of the plurality of connectivity providers capable of providing connectivity between a client network and a provider network endpoint in accordance with the connectivity parameters. In response to a connectivity establishment request, the coordinator initiates, using another programmatic interface, an activation of a network connection between the client network and a selected provider network endpoint.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09451393&OS=09451393&RS=09451393
owner: Amazon Technologies, Inc.
number: 09451393
owner_city: Reno
owner_country: US
publication_date: 20120723
---
Many companies and other organizations operate computer networks that interconnect numerous computing systems to support their operations and the services they provide to their end customers distributed worldwide. For example data centers housing significant numbers of interconnected computing systems have become commonplace such as private data centers that are operated by and on behalf of a single organization and public data centers that are operated by entities as businesses to provide computing resources to customers. In many cases providers set up large networks that may logically span several regions or even countries and may include numerous data centers with varying levels of services and facilities available utilized together to provide a unified set of services to their end customers.

In some data centers that have been set up to provide computing and or storage facilities to remote clients the set of computational resources at the data center may be dynamically divided into resource pools with each pool being made available for exclusive use by a given client for designated periods of time. There are a number of alternatives available for how the consumers of these facilities establish network connectivity to the resource pools that have been designated for their use. The customer requests may originate from a wide variety of devices desktop personal computers laptops client office servers tablets smart phones and the like. These devices may use either long lasting network links e.g. using a client office network with a T1 connection to communicate with their proximate private network and or the public Internet or they may have transient connectivity e.g. in the case where the customer uses a mobile smart phone . The proximate networks to which the customer devices are directly connected may in turn route request traffic to the provider network s data centers over a wide variety of paths. Such paths in many cases may have somewhat unpredictable performance reliability and security characteristics.

For some types of service requests such as a request from a customer to read a recent news article from a web based news provider a reasonable variation in responsiveness and an occasional dropped connection may be acceptable. However for many business related data transmissions such as stock quote services and stock purchase order services provided by online stock traders or for high bandwidth software package deployments originating at a software development center more stringent performance reliability and security needs may exist. In such environments a customer of the provider network may need a greater level of network isolation and control than is generally available over the public Internet. For example the customer may wish to establish if possible dedicated physical paths between the customer s own network and the provider network such that the only traffic transmitted over those paths is traffic generated on behalf of the customer and in accordance with policies established by the customer. Depending on the physical locations of various client network devices it may not be easy for the client to discover on its own how best to establish such connections. Furthermore to meet quickly changing business needs customers may want the ability to enable modify e.g. by changing maximum supported bandwidth or other characteristics and disable connections between the customer network and the provider network dynamically and with a minimum of effort and delay.

While embodiments are described herein by way of example for several embodiments and illustrative drawings those skilled in the art will recognize that embodiments are not limited to the embodiments or drawings described. It should be understood that the drawings and detailed description thereto are not intended to limit embodiments to the particular form disclosed but on the contrary the intention is to cover all modifications equivalents and alternatives falling within the spirit and scope as defined by the appended claims. The headings used herein are for organizational purposes only and are not meant to be used to limit the scope of the description or the claims. As used throughout this application the word may is used in a permissive sense i.e. meaning having the potential to rather than the mandatory sense i.e. meaning must . Similarly the words include including and includes mean including but not limited to.

Various embodiments of methods and apparatus for supporting automated multi party cloud connectivity provisioning are described. Networks set up by an entity such as a company or a public sector organization to provide one or more services accessible via the Internet and or other networks to a distributed set of clients may be termed provider networks in this document. The services may include a core set of infrastructure related services such as provision of computing platforms or storage platforms as well as more advanced services that are built using the core services such as for example database services load balancing services application deployment services search services and the like. Such a provider network may include numerous data centers each comprising potentially large numbers of computing platforms or devices such as collections of physical and or virtualized computer servers storage devices networking equipment and the like needed to implement and distribute services offered by the provider. In some provider networks resources configured on the platforms may in some embodiments be offered for reservation by and allocation to clients in units called instances such as virtual or physical compute instances or storage instances. A virtual compute instance may for example comprise one or more servers with a specified computational capacity which may be specified by indicating the type and number of CPUs the main memory size storage device number and size and so on and a specified software stack e.g. a particular version of an operating system which may in turn run on top of a hypervisor . A number of different types of computing devices may be used singly or in combination to implement the resources of the provider network in different embodiments including general purpose or special purpose computer servers storage devices network devices and the like.

In order to extend the geographical areas over which its services can be accessed with desired levels of performance reliability and security in some embodiments an operator of a provider network may establish dedicated private network paths between its data centers and one or more endpoint devices such as routers that are physically located at a facility remote from the data centers. The facilities at which such endpoint devices are housed may be termed endpoint co location facilities in this document as they may sometimes house network equipment owned and or managed by business entities other than the provider network s operator such as by independent third party connectivity providers or by the clients themselves. The term endpoint may be used herein to refer to networking devices such as routers that represent the furthest points to which a particular provider s control or ownership of network equipment extends. A network connection set up for exclusive use by a particular client using a physical link installed between a provider network endpoint and an external endpoint at an endpoint co location facility may be termed a direct path or a direct connect connection herein. On top of the physical link installed for a direct path connection in some embodiments multiple logically isolated connections may be set up e.g. to isolate network traffic of one client department from the traffic of other departments of the same client . In some implementations it may be possible for multiple logically isolated connections from several clients to use a single direct connect physical link e.g. a link that was set up initially at the request of one of the several clients . The provider network operator may set up one set of endpoints from which connectivity may be established via cross network links client owned networks either directly e.g. if the client has an endpoint located in the same facility as one of the provider network endpoints or via one or more intermediary networks owned managed by third party connectivity providers. Each external network such as these intermediary networks and client owned networks may have its own set of designated endpoints through which inter network connectivity is enabled in some embodiments.

Often a client or potential client of the provider network may not be able to establish physical network connectivity with the desired characteristics e.g. performance availability or isolation to the provider network without the help of some intermediary connectivity providers such as telecommunications Telco providers that have already set up networking infrastructure in the vicinity of the client s computing facilities and or near various provider network access points. In many cases there may be more than one intermediary or combinations of intermediaries that is capable of providing the desired connectivity and it may not be straightforward for the client to ascertain what the various provider options are or to easily compare the offerings provided by the various suitable connectivity providers. Furthermore at least in some cases some of the connectivity providers may traditionally have required non automated interactions such as setting up of service level agreements or contracts via paper mail or via in person interactions with their customers to enable desired network connectivity. Such non automated transactions may result in long delays such as days or even weeks between the time that a client requests connectivity and the time that the requested connectivity is actually made available even in situations where the physical networking infrastructure for the desired connections is already in place.

In order to make it easier for clients of the provider network to make informed choices about connectivity establishment and having made such choices to enable and or modify the desired network connections with a minimum of delay and effort in some embodiments a connectivity coordination service may be implemented by the provider network operator. The terms connectivity coordinator or coordinator may be used to refer to the connectivity coordination service herein. A connectivity coordinator may be configured to define implement and or utilize several different programmatic interfaces for connectivity management in some such embodiments. For example one set of interfaces may be defined and supported by the connectivity coordinator and made available to third party connectivity providers to upload details of their network service offerings so that the connectivity coordinator may be able to determine appropriate combinations of candidate connectivity providers usable by a client. In some embodiments in addition to or instead of defining its own programmatic interfaces for uploading service offering details the coordinator may use programmatic interfaces defined or implemented by the connectivity providers to download network service offering information. Another set of programmatic interfaces may be implemented for clients to specify their connectivity goals and preferences to submit queries to determine which combinations of third party providers are suitable for their needs or to browse through connectivity provider listings made available by the coordinator. In at least one embodiment after a given client makes a decision about the providers to be used the connectivity coordinator may also submit operational requests on behalf of the client to the appropriate set of connectivity providers. Examples of such operational requests may include connection setup activation requests connection termination requests connection modification requests and the like in various embodiments. Additional programmatic interfaces which may be termed operational interfaces defined or implemented by the connectivity providers may be used in some embodiments by the coordinator to submit these operational requests. The services provided by a connectivity coordinator may thus include a number of different features in some embodiments including collection indexing and storage of network service offering metadata from numerous third party connectivity providers search and discovery of providers that match specified client connectivity needs and dynamic enablement modification and teardown of physical and or logical network connections.

According to one embodiment a connectivity coordinator may be configured to use a first set of programmatic interfaces to collect various types of network service offering metadata from a plurality of connectivity providers. The metadata may include for example geographical coverage information indicating which locations can be served by a given provider performance parameters of the connectivity that can be supported by each provider such as bandwidth limits latencies and the like details of the hardware and software infrastructure supported by the providers estimates of how long it may take for a provider to implement a requested physical or logical connection enablement pricing policies of the provider e.g. recurring and non recurring charges for providing the requested connectivity details of various programmatic interfaces that the providers support for various operations or queries and so on. The first set of interfaces used for metadata collection may include some interfaces such as application programming interfaces APIs implemented by the connectivity coordinator other interfaces implemented by one or more of the connectivity providers and utilized by the connectivity coordinator to submit queries to the connectivity providers or a combination of coordinator implemented and provider implemented interfaces in various embodiments. The coordinator may organize reformat or otherwise transform the network service offering metadata collected to make searches more efficient in some embodiments e.g. using a number of techniques such as normalizing the metadata collected in different formats into a common format indexing the metadata and or storing the metadata in a persistent store such as a database system. Depending on the specific connectivity provider different protocols may be set up for ensuring that the metadata collected remains current and accurate e.g. in some implementations a schedule may be set up for periodically collecting the metadata in other implementations a given connectivity provider may be responsible for notifying the coordinator when a property of a network service offering changes and so on. In some implementations at least some portions of the network service offering metadata may be obtained by the connectivity coordinator using e mail messages file transfers e.g. via FTP File Transfer Protocol and or various other approaches.

In response to a connectivity query from a particular current or potential client indicating one or more parameters of desired connectivity between the client s network or devices and the provider network the connectivity coordinator may in some embodiments search through its collected network service offering metadata to find appropriate combinations of connectivity providers that appear capable of providing the desired connectivity. In some cases e.g. upon discovering that some of the collected metadata has not been updated recently the coordinator may dynamically refresh the information it has by communicating with one or more of the connectivity providers after the query is received from the client. Using some combination of the previously collected metadata and or recently refreshed metadata the coordinator may be able to determine a set of candidate connectivity providers suitable to meet the needs indicated the client request. In some cases a single provider may be able to provide the requested connectivity on its own while in other cases the coordinator may be able to find a plurality of connectivity providers that together can meet the client s needs. For example consider a scenario where a client desires a connection between a fairly remote client location A and a provider network endpoint located at B with specified performance and pricing properties. Given these preferences the coordinator may be able to find a pair of connectivity providers CP1 and CP2 such that the CP1 can provide connectivity with the desired characteristics from A to an intermediate location K and CP2 can provide connectivity with the desired connectivity between K and the provider network location B. In general the coordinator in some embodiments may be able to identify N distinct discrete segments of a network path between the client and the provider network such that the N segments together provide the desired connectivity and up to C different connectivity providers implement the N segments the number of connectivity providers involved may differ from the number of discrete segments for example because more than one segment is provided by the same provider or because more than one provider participates in operating a given segment . The number N of distinct segments needed may vary based on the relative locations of the client s network and the provider network endpoints e.g. for more remote client locations more segments may be needed while in cases where the client network happens to be fairly close to a provider network endpoint a single segment and a single connectivity provider may suffice.

In addition to simply determining which sets of providers can individually or collectively physically connect the client network to the provider network the coordinator may also have to take various other properties of the network service offerings of the different providers into consideration such as pricing performance security availability and the like in some embodiments. A client may include indications of various required or preferred properties in the connectivity query sent to the coordinator in some embodiments. In other embodiments at least some of the preferences of a client may be saved beforehand e.g. in a client profile set up by the client or by the coordinator so that each connectivity query does not have to repeat all of the preferences and requirements. If the coordinator is able to find some connectivity providers that match the client requirements a collection or list of candidate connectivity providers and or candidate provider sets i.e. groups of providers that can collectively provide the desired connectivity may be sent to the client in some embodiments in response to the client s query. The client may then decide which if any of the candidates the client wishes to use.

If the client decides to proceed with one of the choices provided by the coordinator in one embodiment the client may submit a connectivity establishment request back to the coordinator indicating one selected connectivity provider or a set of selected connectivity providers. The connectivity coordinator may then initiate e.g. using one or more operational programmatic interfaces an activation of a network connection between the client network and the provider network using the selected provider s . For example if a single connectivity provider were selected by the client the coordinator may invoke one or more operational API calls to that provider to establish a connection between a selected client endpoint and a selected provider network endpoint. If a group of connectivity providers were selected each responsible for a respective segment of the network path to be set up distinct API calls may be submitted to each connectivity provider of the group in some implementations. In some embodiments the network connection establishment may involve multiple phases e.g. first a physical network path may have to be set up if one does not already exist and then a logical connection may be established over the physical path. In one such embodiment the coordinator may be responsible for ensuring that all phases are completed e.g. by issuing respective requests to the connectivity providers for each phase and monitoring the responses to those requests before providing an indication to the client that connectivity has been successfully established. In at least some implementations the coordinator may execute one or more tests to verify that the connection has been set up as specified before informing the client that the connection has been established as requested.

In some scenarios if for example a particular client is already utilizing some services of a connectivity provider and the connectivity provider already serves other clients of the provider network the physical infrastructure e.g. various cables and network devices that could be used to establish a connection between the particular client s network and the provider network may already be physically installed prior to the client sending a connectivity query or connectivity establishment request. In such scenarios in order to set up the desired connectivity the existing infrastructure may simply have to be configured e.g. by programmatically setting some parameters of one or more network devices or activated e.g. by logically or physically switching some set of devices on and no new physical links may need to be established. It may be possible in some implementations for the connectivity coordinator to ascertain whether the physical infrastructure is already in place and to inform the client if it is. For example in one implementation the client may provide an account identifier to the connectivity coordinator indicating that the client has a previously established account set up with a specified connectivity provider. The account identifier may be included in the client s connectivity query in one embodiment or may be provided to the coordinator as part of a different interaction in a different embodiment. Using the provided account identification or any other identification information such as for example the client s name business premise location details or office location the connectivity coordinator may in some implementations be able to determine from the specified connectivity provider whether any new physical links need to be set up or whether existing links will suffice for the desired connectivity. In some such embodiments if the existing infrastructure is sufficient the coordinator may inform the client that only a logical connection enablement is required which may result in a much faster turnaround time for the client while if the existing physical infrastructure is insufficient the coordinator may inform the client that a physical network path is to be established or a new network device brought online before a logical network connection can be activated to enable the requested connectivity.

After a connection is established to the client s satisfaction in some embodiments the connectivity coordinator may provide additional management and or administrative functions for the connection to the client. For example the client s connectivity needs and or budget may change over time. The coordinator may allow the client to submit connection modification requests e.g. indicating that a different bandwidth capacity is required or that some other property of the connection needs to change. In one implementation if the client were previously paying a particular amount for the connection e.g. US X per gigabyte of data transfer for example and now wishes to pay less e.g. US Y per gigabyte the client may submit a request to the connectivity coordinator to determine what options are available for the new pricing constraint. Using its knowledge of the network service offerings of the various providers and the various operational APIs the connectivity coordinator may make a best effort to implement the requested changes or e.g. in the changed pricing constraint scenario to come up with options for the client to consider. For example to change the bandwidth capacity the coordinator may submit one or more API based requests to the connectivity providers currently in use and determine based on the response whether the change is feasible and what the pricing implications if any are. The client may be informed if there are any pricing changes associated with the bandwidth change and if the pricing changes are acceptable one or more additional API requests may be sent to implement the change. To determine what options the client may have in the pricing constraint change scenario in some embodiments the coordinator may once again consult its collected network service offering metadata to find candidate combinations of providers that the client may now be able to use. Instead or in addition the coordinator may contact the currently used providers e.g. again using APIs to determine the best possible performance that can be obtained by the client given the new pricing constraint and inform the client of the supportable performance. The coordinator may thus serve as an intelligent intermediary between the client and the connectivity providers trying to match the client s changing needs as best as possible to the capabilities of the providers. Various other aspects of the connectivity coordinator s services are described below in further detail.

In the depicted embodiment each client may be able to establish network connectivity between its client network and the resources of provider network using one or more intermediary connectivity providers such as connectivity providers A B or C. Each of the connectivity providers may operate their own external network EN e.g. connectivity provider A operates EN A connectivity provider B operates EN B and connectivity provider C operates EN C and at least some of the connectivity providers may be able to collectively or individually provide cross network links connecting the client networks various intermediary external networks and the provider network . The establishment of client connectivity to the provider network may be facilitated by connectivity coordinator in the illustrated embodiment. For example the connectivity coordinator may gather network service offering information from the connectivity providers describing the features of the respective offerings such as supported bandwidth levels security protocols pricing policies and the like. Connectivity coordinator may use various programmatic interfaces e.g. either interfaces defined implemented by the coordinator and used by the connectivity providers to upload the network service offering information or interfaces defined implemented by the connectivity providers and invoked by the coordinator or both types of interfaces to gather the network service offering information in different embodiments. The gathered network service offering information or metadata may be processed e.g. by normalizing metadata obtained from the different connectivity providers into a common format and or stored in an efficiently searchable persistent database in some embodiments. In at least one embodiment a number of indexes may be maintained for the collected network service offering metadata to enable fast searches based on frequently encountered client query criteria.

The connectivity coordinator may define and or implement a set of client accessible programmatic interfaces such as APIs web pages graphical user interfaces or command line tools allowing clients to submit connectivity related requests and queries in the embodiment depicted in . For example in one embodiment a web site may be set up to allow prospective or current clients to submit connectivity queries specifying various properties or parameters of desired network connections between a client network and the provider network . Using such a web interface a client may for example indicate physical locations e.g. via a street address zip code or Common Language Location Identifier CLLI code of client network facilities from which connectivity is desired performance characteristics such as supported bandwidth or latency availability characteristics pricing constraints or preferences and the like. In some implementations a client may specify the client premise or facility location and allow the connectivity coordinator to determine which provider network endpoint locations are best suited for providing the desired connectivity in other embodiments the client may specify not only the client endpoint location s but also a preferred provider network endpoint location to which connectivity is desired. In response to a connectivity query indicating one or more client connectivity parameters the connectivity provider in the depicted embodiment may provide using at least a portion of the network service offering metadata it has collected an indication of a collection of one or more connectivity providers that are capable of providing the desired connectivity indicated by the query parameters. In some scenarios the connectivity provider may need to refresh its network service offering metadata for one or more of the connectivity providers after the query is received before providing the enumeration to the requesting client .

In the illustrated embodiment for example in response to a connectivity query from client A with parameters indicating that connectivity between client network endpoint A and the provider network is desired the set of candidates indicated by the connectivity coordinator may include the combination of connectivity providers B and A. The set of candidates listed in response to a different connectivity query from client B may include the provider C. In order to identify the set of candidate connectivity providers the connectivity coordinator may have to search in its network service offerings metadata collection for providers that have indicated that they offer the appropriate geographical coverage to operate a set of network segments that collectively link the client s endpoint such as endpoint A of client A to a provider network endpoint such as A with properties that match all the desired connectivity parameters specified in the query. In the case of client A for example connectivity provider B s network service offering metadata may indicate that provider B can set up a cross network link B to connect client endpoint A to an endpoint D of provider B s network and another cross network link A from provider B s endpoint C to an endpoint B of connectivity provider A and provider A s metadata may indicate that connectivity from an endpoint A of provider A s network to a provider network endpoint A can be set up using another cross network link D such as the illustrated direct path link . Similarly for client B s query connectivity provider C s network service offering metadata may indicate that a cross network link C can be set up between client B s endpoint B and one of provider C s endpoints F and that another cross network link such as direct path E can be used to connect endpoint E to a provider network endpoint B. In at least some embodiments the network service offering metadata may not include some details about the internal network links within some or all of the external networks e.g. although high level information such as supported bandwidth and or endpoint to endpoint latency may be provided by the connectivity providers internal routing information network device vendors and other details may not be provided in the metadata gathered by the connectivity coordinator . In other embodiments such internal details may also be included in the metadata. It is noted that although shows direct path links D and E being used for connecting to the provider network endpoints A and B in at least some embodiments other types of cross network links may be used.

In some embodiments depending on the volume of provider network service data gathered and the way it is organized the connectivity coordinator may perform iterative search steps to determine the candidate set of providers corresponding to a given client connectivity query. For example in a first step a set of providers that have geographic coverage for the specified location s may be identified then in a second step the supported bandwidth for each of the providers found in the first step may be checked to see of the client s requested bandwidth can be supported and so on. A query optimizer may be used in some embodiments to identify the most efficient sequence of search steps to be taken. In at least some implementations if not all the requirements specified by a client in a connectivity query can be met by any of the combinations of providers that the coordinator is able to analyze within a specified time threshold the coordinator may provide the closest set of candidate providers that it can find. E.g. in one such implementation if a client specifies ten desired connectivity criteria in a query and the connectivity coordinator is only able to find one set of providers CP1 and CP2 collectively that meet eight of the criteria and two sets of providers that each meet seven of the criteria e.g. CP3 and CP4 collectively and CP5 individually the coordinator may notify the client that the best three candidates sets that could be identified are CP1 CP2 CP3 CP4 and CP5 with details about which desired criteria could not be met by each candidate set. In some embodiments clients may designate some connectivity parameters in their queries as being mandatory while others may be designated as non mandatory and the coordinator may take these designations into account when determining feasible candidates.

After a client receives a list or enumeration of candidate connectivity providers the client may choose one of the candidates and send a connectivity establishment request to the connectivity coordinator in some embodiments e.g. using one of the programmatic interfaces implemented by the coordinator. In response to the connectivity establishment request the connectivity coordinator may initiate e.g. using a set of operational programmatic interfaces implemented by the selected connectivity provider s an activation of a network connection between the client network of the client and the provider network such that the connection utilizes the network service offerings of the selected candidate connectivity provider s . In some scenarios the connectivity may have to be established in multiple phases e.g. first one or more physical links may have to be physically connected then the links may be activated or switched on and then logical connections may be established. In other scenarios depending for example on the whether the client network is already physically linked to the appropriate connectivity provider network and on the extent to which the connectivity providers operations are automated it may be possible to activate the desired connectivity in a single step. In some embodiments the connectivity coordinator may be responsible for informing the client of the various phases to be implemented and the approximate schedules for completing the various phases issuing appropriate requests to the connectivity providers involved and verifying that all the phases are completed successfully. In some implementations one or more service level agreements indicating for example the performance and other connection characteristics promised to the client and the price the client is required to pay may be entered into by the relevant parties e.g. the client the set of connectivity providers and the operator of provider network before client traffic is allowed to flow over the network path s that are established.

After connectivity with the desired characteristics is activated the client may in some embodiments continue to use one or more interfaces implemented by the connectivity coordinator to perform additional administrative tasks. For example if at some point the client wishes to change some of the connection parameters such as the bandwidth limit the availability characteristics or the maximum price it is willing to pay a connection modification request may be sent to the connectivity coordinator via one of the interfaces. The coordinator may determine using the network service offering metadata it has already collected or using new queries transmitted to the appropriate connectivity providers based on the requested changes whether the desired changes can be implemented and if so what impact if any the changes will have on the service level agreements in place. If the changes are feasible the coordinator may inform the client of any pricing or other SLA impacts and if the client agrees to proceed the requested changes may be initiated by the coordinator e.g. using operational programmatic interfaces of the connectivity coordinators. In some embodiments the coordinator may also be responsible for acting as a billing intermediary between the clients and the connectivity provider s e.g. the coordinator may collect billing statements from the providers for the use of their services combine collate the charges in a desired format and provide a consolidated billing statement to the client. In some embodiments the consolidated billing statement may exclude details of the individual providers billing amounts e.g. to the client it may not be of interest as to how the total billing amount is distributed among the various providers involved so such details may be omitted from the billing statement provided to the client.

In the depicted embodiment connectivity providers A and B may be willing to use the coordinator defined upload API to submit or push their offering metadata e.g. provider A may push metadata A and provider B may push metadata B to the connectivity coordinator . Another connectivity provider C may define or implement its own API for interested authorized parties such as coordinator to pull network service offering metadata e.g. by submitting queries to which the provider responds with metadata such as C. The connectivity coordinator may thus use a combination of push and pull techniques in some embodiments to collect the information it needs to be able to respond to client connectivity queries. In some embodiments an update protocol may be established with each connectivity provider indicating for example how frequently and under what conditions the metadata from that provider is refreshed acceptable or required intervals between successive metadata submissions in the push scenario or queries in the pull scenario and so on. In at least one embodiment some connectivity providers may also provide information about dynamically changing network conditions or trends regarding their networks e.g. how much of the total installed bandwidth capacity is currently available for new customers to the connectivity coordinator as part of the metadata that can be collected periodically and used to respond to client queries and requests. The metadata collected may be processed e.g. normalized into a single format indexed and saved to database in some embodiments as indicated by the arrow labeled in .

Several examples of the types of constituent elements that may be included in network service offering metadata in some embodiments are also illustrated in . As shown network service offering metadata from connectivity provider B may include for example geographic coverage information indicating locations from which and or to which the provider can operate network connections. The location information may be provided in any of various formats and granularities in different embodiments e.g. using postal codes CLLI identifiers street addresses graphical coverage maps and the like. The metadata may also include several different types of performance specifications in different embodiments such as bandwidth specifications e.g. the supported bandwidth expressed in any desired unit or metric such as peak bandwidth average bandwidth 90or some other percentile and or latency specifications for various message sizes and endpoint location combinations e.g. the logical equivalent of we can transfer a 4 kilobyte packet from postal code P1 to postal code P2 in less than X milliseconds .

In at least some embodiments the metadata may also include establishment time estimates e.g. how long the turnaround time may be for completing various phases of connectivity activation. For example time estimates may be provided for setting up various types of physical links devices for enabling or switching on physical links devices and or for activating various types of logical connections for supported networking protocols. In some embodiments the connectivity provider may also include descriptions or details of various security policies supported in the network service offering metadata e.g. information about physical security of the network infrastructure as well as about security related programmatic protocols that may be employed for various types of connections .

Various connectivity providers may support different types of network isolation features in some embodiments i.e. the extent to which traffic from different clients or from different Internet Protocol IP address ranges can be transmitted using exclusive or unshared network paths may vary from one provider to another. Information on such isolation capabilities may also be included in network service offering metadata in some embodiments. The metadata may also include details of various pricing policies for the services of the connectivity providers . A given pricing policy may include up front or non recurring charges e.g. charges for initially setting up physical and or logical links as well as recurring charges e.g. amounts to be billed to the client based on the total amount of data transferred or the rate at which data is transferred in some embodiments. Some connectivity providers may implement dynamic pricing e.g. the charges for data transfer may vary based on the time of day based on the current traffic level in the provider s network or based on supply and demand and the pricing policy information may include information on the dynamic pricing.

In at least some embodiments a given connectivity provider may indicate interoperability policies describing for example the extent to which it is compatible with other connectivity providers for example depending on the type of networking hardware and or protocols used it may be easier to assemble a network connection using network segments from connectivity providers A and B than to assemble a connection using segments from B and C. In addition to technical reasons affecting interoperability or compatibility between different providers there may also be business or competitive reasons that govern how well different providers can work together in some embodiments for example provider A may not wish to participate in network connection establishment if it involves a competitor provider B. In some embodiments the network service offering metadata may include network infrastructure hardware information e.g. the types of physical links used the vendors and types of network devices used and or networking infrastructure software information e.g. the software or firmware versions supported at various key network devices and or the networking protocols supported . In some embodiments only a subset of the types of constituent elements illustrated in may be included in the network service offering metadata collected from any given provider in other embodiments additional types of information not shown in may be collected. In at least some embodiments the types of metadata information collected from different providers may differ i.e. some providers may release different types of metadata information than others. In one embodiment programmatic interfaces other than APIs or in addition to APIs may be used for network service offering metadata collection e.g. web pages may be set up command line tools may be provided or graphical user interfaces may be implemented.

The client may also include a number of performance related preferences in the connectivity query in some embodiments such as bandwidth requirements and or latency requirements . In some embodiments the performance requirements may be expressed relatively simply e.g. as single values such as Ten gigabits per second for bandwidth while in other embodiments more complex performance requirements may be specified e.g. with time varying components such as Ten gigabits per second sustained between 8 am and 8 pm on weekdays and five gigabits per second between 8 pm and 9 am on weekdays and all day on weekends . In one embodiment the client may indicate one or more timing requirements for the connection such as establishment time requirements e.g. a deadline by which the connectivity is to be activated and or a connection duration e.g. for how long the connection is expected to be used .

In some embodiments the connectivity query may indicate isolation requirements such as whether the client is willing to share a network path or wants an exclusive or dedicated path that is not to be shared with traffic of other clients. A client may also indicate preferences or requirements for specific types of networking infrastructure hardware e.g. optical cables copper cables specific types of routers switches and the like and or networking infrastructure software e.g. specific networking protocols in some implementations.

Clients may also indicate pricing constraints or preferences in their connectivity queries e.g. by indicating the maximum amount they are willing to pay for the desired connections in the depicted embodiment. In some embodiments separate pricing preferences may be provided for recurring and non recurring pricing components. Other types of requirements such as security requirements for physical security of networking equipment to be used for the client s connection and or for protocols used to ensure data security or high availability requirements e.g. that redundant physical or logical paths be implemented may also be included in the query in some embodiments. Not all the types of requirements and preferences shown in may be included within connectivity queries in some implementations and other requirements than those shown in may be incorporated in the connectivity queries in various implementations. As noted earlier in some embodiments clients or the connectivity coordinator may set up client profiles that include default settings for various types of requirements in some implementations so that the client does not have to re specify all the different types of information in each connectivity request . In at least one implementation some of the types of elements of the connectivity query shown in may be designated as mandatory requirements while others may be designated as non mandatory or optional.

In response to the connectivity query the connectivity coordinator may consult its database of network service offerings metadata collected from various providers as indicated by the arrow labeled in . In some implementations the coordinator may refresh its metadata information by contacting some subset or all of the connectivity providers after receiving the client s query as indicated by the arrow labeled . Based on the parameters provided in the query and the metadata collected from various providers the connectivity coordinator may generate a list or collection of candidate connectivity providers or groups of providers that can implement a network with the characteristics indicated by the client . In the illustrated example the list includes two sets of candidate providers a connectivity provider A and b the group of connectivity providers L and M . The list of candidates may be transmitted to the client using the same type of programmatic interface used for the query in some embodiments. After receiving the candidate list the client may select which if any of the candidates to use and if the client determines to use a particular candidate or candidates a connectivity establishment request specifying the selected connectivity providers may be sent to the coordinator . It is notes that in some implementations different types of interfaces may be used for each of the interactions shown in e.g. the establishment request may be sent via e mail in some embodiments in which the connectivity query is submitted via a web page.

In response to a connectivity establishment request shown in from a client the connectivity coordinator may submit an activation request to each of the selected connectivity providers that are to provide the network path to be used by the client. In the depicted embodiment for example activation request A is sent to provider A and activation request B is sent to provider B. An activation request to a given provider may include identifications of the endpoints e.g. endpoint A and B between which the given provider is to establish a network path for the client as well as details of a service level agreement SLA governing the terms of service such as the performance availability pricing of the network connection or segment being activated . In some implementations the endpoint information included in the activation request may specify precise details such as a data center street address the data center room in which the endpoint are located the specific rack within the room and or the specific hardware port to be used. In other implementations fewer specific details may be included in the activation request allowing the connectivity provider to make some of the lower level decisions such as which rack device port to use. The granularity at which service level information is specified in the SLA may also vary from one implementation to another. In some implementations if a multi stage activation is required e.g. if in a first stage a new physical link is to be provisioned and in subsequent stage s the connection is to be logically activated a different activation request may be transmitted by the connectivity coordinator for each stage. In other implementations even if multi stage activation is required a single activation request may suffice e.g. the connectivity provider may implement each of the activation stages in response to a single activation request . In some embodiments after the one or more network segments needed for client connectivity to the provider network have been set up the connectivity coordinator may execute one or more tests to ensure that the network path is working as expected e.g. one or more data transfers may be attempted to check the bandwidth and or latency characteristics of the established paths. As part of network establishment in some embodiments one or more routing table entries may have to be propagated to various network devices e.g. routers of the provider network or external networks .

After the connectivity is established the client may be notified e.g. by the connectivity coordinator using a programmatic interface and the client may begin using the network path as desired. At some point e.g. because of anticipated changes in client workload or measured trends of network usage the client may wish to change some of the characteristics of the connectivity such as the supported bandwidth or latency. In such a scenario the client may submit a connection modification request to the connectivity coordinator in some embodiments indicating the desired changes and the connectivity coordinator may in turn transmit its own modification request to the appropriate connectivity providers . In some cases the request may be straightforward enough that a single modification request may suffice. In other cases if for example a requested increase in maximum supported bandwidth is going to result in a change to the price the client is to pay there may be several interactions between the coordinator the provider s and the client in order to effect the changes. In some embodiments a client may request changes that require non trivial analysis by the coordinator e.g. the client may wish to reduce the amount being paid for connectivity to the provider network and may request the coordinator to provide some options for reducing costs. In such scenarios the coordinator may look up network service offering metadata it has collected for various providers and try to determine whether some provider combinations may be able to provide the client connectivity at a lower price with slightly reduced performance for example. If such providers are found the coordinator may notify the client of the choices available. If the client agrees to use one of the provider combinations that can provide the more economical connectivity the coordinator may initiate termination of the existing connection followed by activation of the new connection in each case using operational APIs supported by the appropriate connectivity providers in some embodiments.

In at least some embodiments in addition to modifying various properties of their network connections clients may be able to request dynamic disablement and enablement of connectivity. For example in some scenarios a given client may need connectivity to the provider network only for some hours in a week and may wish to reduce costs by disabling connectivity during the hours it is not required and enabling it again as needed. In such scenarios the client may submit connection disablement enablement requests to the connectivity coordinator in some embodiments and the connectivity coordinator may transmit corresponding requests using the operational APIs of the connectivity providers involved to disable enable the network paths as requested. In at least one embodiment in addition to or instead of serving as the intermediary between the clients and the connectivity providers the connectivity coordinator and or the connectivity providers may make some subset or all of the operational APIs of the providers available for direct use by the clients . In such embodiments the client may be able to issue connection modification requests disablement enablement requests directly to the connectivity providers instead of transmitting them to the connectivity coordinator .

The coordinator may establish metadata collection protocols for each of the connectivity providers for which programmatic interfaces of either type e.g. coordinator defined or provider defined interfaces are available element . The protocol for a given provider may include such parameters as how often metadata about the service offerings is to be refreshed which party e.g. either the coordinator or the provider is to initiate the metadata transfer update notification policies e.g. which if any changes to properties of existing network service offerings should trigger notifications to the coordinator and how soon such notifications are to be provided and so on. The coordinator may start collecting the metadata from the connectivity providers using the appropriate programmatic interfaces and protocols element . The collected metadata may in some embodiments be processed e.g. by converting information received in different formats from the different connectivity providers into a common shared format indexed and stored in a persistent repository element such as database . Indexes may be created on those metadata attributes that are encountered most frequently in client connectivity queries in some embodiments. In some implementations at least a portion of the network service offering metadata may be collected using e mail FTP transfers or other techniques instead of or in addition to using programmatic interfaces such as APIs or web pages.

Based on the parameters specified in the connectivity query and using at least a portion of the metadata collected from various connectivity providers the coordinator may identify candidate providers that may be suitable for the client to use element . In some cases the coordinator may refresh a portion of the network service offering metadata in real time e.g. after the connectivity query is received to identify candidate providers. Some candidate providers may be able to implement the entire network path needed by the client while in other cases a path may have to be assembled using discrete network segments from several different providers . In at least one embodiment the coordinator may optionally determine whether the physical networking infrastructure e.g. the appropriate networking cables switches etc. is already in place for the desired connectivity element . For example the client may already be using some services provided by a particular connectivity provider and as a result physical links connecting the client network to an external network owned managed by the particular connectivity provider may already have been set up. The client may provide identification information such as an account identifier of an account previously set up with a connectivity provider client data center location or client office location to the coordinator in some embodiments e.g. using one of the programmatic interfaces implemented by the coordinator. The coordinator may use the client identification information and or the client s business entity name to submit a query to the connectivity provider to determine whether previously set up physical infrastructure can be used to implement at least a portion of a network path between the client network and the connectivity provider or whether one or more new physical links or devices are needed. If existing infrastructure components can be used this may reduce the turnaround time needed for the client s connection as only logical activation of the connection may be required.

The coordinator may respond to the client s connectivity query with a list or collection of candidate connectivity providers usable by the client element of . The list may include groups of providers that can collectively provide the desired network path s and or individual providers that can implement the desired connectivity. Various details about the service offerings of the candidates may be provided to the client in some embodiments such as pricing estimates for the requested connectivity ratings or satisfaction levels based on feedback from other customers of the providers the estimated time at which the connectivity can be established and so on. In one embodiment the coordinator may include an indication of whether a new physical link is needed before the desired connection can be logically activated. In at least some implementations when multiple candidate providers are found the coordinator may sort the list of candidates according to one or more client specified criteria and or coordinator selected criteria such as estimated price connectivity establishment times customer satisfaction ratings and so on.

After the client receives the list of candidate connectivity providers the client may select one of the candidates e.g. either a single provider or a combination of providers to implement the connection and send a connectivity establishment request specifying the selection to the coordinator in the illustrated embodiment. When the coordinator receives the connectivity establishment request element it may initiate establishment of the requested connectivity e.g. by transmitting connection activation requests using one or more operational programmatic interfaces supported by the selected connectivity providers element . Connection activation may involve multiple phases such as physical link establishment followed by logical connection establishment in some embodiments and several different operational requests may have to be sent to the connectivity providers in such embodiments. The connectivity provider may receive notifications from the connectivity providers when the connection has been established or when each of the different network segments has been activated . In some implementations the coordinator may execute one or more verification tests to check whether the network path is functional and or whether it can support traffic with the desired performance characteristics. After the connection has been established the coordinator may inform the client that the requested connection is available for client use.

If the client wishes to modify e.g. by increasing the maximum bandwidth or disable the connection at some point the client may send a connection modification disablement request to the coordinator in the illustrated embodiment. Upon receiving the request the coordinator may in turn transmit an appropriate connection change request to one or more of the selected connectivity providers that own manage the network path s that were established at the client s request. The coordinator may use one or more of the operational APIs supported by the connectivity providers to request the connection modification or disablement.

In at least one embodiment the connectivity coordinator may also serve as a billing intermediary between the connectivity providers and clients . For example each of the connectivity providers implementing a portion of the client s network connection to the provider network may transmit respective billing statements to the coordinator for each successive billing period in such an embodiment and the coordinator may present a consolidated bill to the client . In some embodiments the consolidated bill may exclude details of how the total billing amount is split between the various providers involved while in other embodiments details of how much each provider is charging may be included in the consolidated bill. It is noted that in some embodiments the operations illustrated in and may be performed in a different order than that shown and some of the illustrated operations may be performed in parallel in different embodiments. For example one component of the coordinator may collect network service offering metadata while other components respond in parallel to client queries and connectivity establishment requests in some embodiments.

The client may use element to indicate a desired bandwidth for data transfer over the connection. Element may be used to indicate by when the client wants the connection activated and for how long the client wishes to retain the connection once it is established. For example the client may click on the link labeled six months to change the duration for which the connection is requested and the link labeled as soon as possible to change the connection establishment time target in the depicted example. Using element the client may enter additional requirements such as high availability requirements e.g. paired or redundant network paths isolation requirements e.g. dedicated network links not shared by other clients and the like in the embodiment shown.

Element may be used by the client to indicate a pricing constraint such as the maximum price per gigabyte of data transferred over the network connection. In the depicted web page the client may also indicate using element one or more account identifiers for previously established client accounts with one or more connectivity providers to enable the coordinator to determine whether networking infrastructure that may have already been set up originally for purposes other than connections to the provider network may now be usable for providing the requested connectivity to the provider network. Button may be used to submit the query to the coordinator in the illustrated embodiment. In different embodiments some of the elements shown in may be excluded from web based interfaces provided to the client or other elements may be added. In at least one embodiment a client may have the option of using a web based interface similar to that shown in or using a different interface such as a command line tool or a script program with API calls.

The displayed information also includes an estimated connection establishment time for each candidate set in the depicted example as well as an indication of whether a new physical link is required or not. In the case of the provider combination A Company and B Company element indicates that the client already has a physical network path available and that only logical connection activation is required this may contribute to the short establishment time estimate of five minutes . In contrast in the case of candidate provider D Company element indicates that a new physical link is needed before the logical connection can be activated. The client may change the query that was submitted by clicking on button in the depicted example. In different embodiments when presenting the list of candidates to the client the coordinator may sort the candidates based on different criteria e.g. based on price establishment time or a criterion that can be selected or changed by the client. In some embodiments more service details or different combinations of service details may be provided for each of the candidate sets than are shown in the illustrated example of . Upon viewing the list of candidates the client may transmit a connectivity establishment request to the connectivity coordinator by clicking on the button labeled Activate for the selected candidate set in the depicted embodiment. In at least some embodiment further interactions such as the client s acceptance of a service agreement prepared by the various connectivity providers may be required before connections are actually set up.

The techniques described above of centralizing and automating the collection of network service offering metadata from various connectivity providers and implementing easy to use client interfaces for connectivity queries connection enablement disablement and modifications may be used in a variety of environments. For example in geographical regions where well established connectivity providers have already set up substantial networking infrastructure the provider network operator may wish to partner with as many such third party providers as possible so that the provider network operator does not itself have to incur the costs of implementing additional infrastructure. In addition in cases where a provider network operator already provides a set of interfaces for managing computation and or storage resources allocated to clients the implementation of additional interfaces for connectivity queries and connection management may have several benefits. For example the potential reduction in turnaround times for connection setup teardown and modification may attract large numbers of new customers for the provider network operator as well as the connectivity providers. In addition the use of such interfaces may also result in reduced costs for some or all of the parties involved.

In at least some embodiments a server that implements a portion or all of one or more of the technologies described herein including the techniques to implement the functionality of the connectivity coordinator may include a general purpose computer system that includes or is configured to access one or more computer accessible media. illustrates such a general purpose computing device . In the illustrated embodiment computing device includes one or more processors coupled to a system memory via an input output I O interface . Computing device further includes a network interface coupled to I O interface .

In various embodiments computing device may be a uniprocessor system including one processor or a multiprocessor system including several processors e.g. two four eight or another suitable number . Processors may be any suitable processors capable of executing instructions. For example in various embodiments processors may be general purpose or embedded processors implementing any of a variety of instruction set architectures ISAs such as the x86 PowerPC SPARC or MIPS ISAs or any other suitable ISA. In multiprocessor systems each of processors may commonly but not necessarily implement the same ISA.

System memory may be configured to store instructions and data accessible by processor s . In various embodiments system memory may be implemented using any suitable memory technology such as static random access memory SRAM synchronous dynamic RAM SDRAM nonvolatile Flash type memory or any other type of memory. In the illustrated embodiment program instructions and data implementing one or more desired functions such as those methods techniques and data described above are shown stored within system memory as code and data .

In one embodiment I O interface may be configured to coordinate I O traffic between processor system memory and any peripheral devices in the device including network interface or other peripheral interfaces. In some embodiments I O interface may perform any necessary protocol timing or other data transformations to convert data signals from one component e.g. system memory into a format suitable for use by another component e.g. processor . In some embodiments I O interface may include support for devices attached through various types of peripheral buses such as a variant of the Peripheral Component Interconnect PCI bus standard or the Universal Serial Bus USB standard for example. In some embodiments the function of I O interface may be split into two or more separate components such as a north bridge and a south bridge for example. Also in some embodiments some or all of the functionality of I O interface such as an interface to system memory may be incorporated directly into processor .

Network interface may be configured to allow data to be exchanged between computing device and other devices attached to a network or networks such as other computer systems or devices as illustrated in through for example. In various embodiments network interface may support communication via any suitable wired or wireless general data networks such as types of Ethernet network for example. Additionally network interface may support communication via telecommunications telephony networks such as analog voice networks or digital fiber communications networks via storage area networks such as Fibre Channel SANs or via any other suitable type of network and or protocol.

In some embodiments system memory may be one embodiment of a computer accessible medium configured to store program instructions and data as described above for through for implementing embodiments of the corresponding methods and apparatus. However in other embodiments program instructions and or data may be received sent or stored upon different types of computer accessible media. Generally speaking a computer accessible medium may include non transitory storage media or memory media such as magnetic or optical media e.g. disk or DVD CD coupled to computing device via I O interface . A non transitory computer accessible storage medium may also include any volatile or non volatile media such as RAM e.g. SDRAM DDR SDRAM RDRAM SRAM etc. ROM etc that may be included in some embodiments of computing device as system memory or another type of memory. Further a computer accessible medium may include transmission media or signals such as electrical electromagnetic or digital signals conveyed via a communication medium such as a network and or a wireless link such as may be implemented via network interface . Portions or all of multiple computing devices such as that illustrated in may be used to implement the described functionality in various embodiments for example software components running on a variety of different devices and servers may collaborate to provide the functionality. In some embodiments portions of the described functionality may be implemented using storage devices network devices or special purpose computer systems in addition to or instead of being implemented using general purpose computer systems. The term computing device as used herein refers to at least all these types of devices and is not limited to these types of devices.

Various embodiments may further include receiving sending or storing instructions and or data implemented in accordance with the foregoing description upon a computer accessible medium. Generally speaking a computer accessible medium may include storage media or memory media such as magnetic or optical media e.g. disk or DVD CD ROM volatile or non volatile media such as RAM e.g. SDRAM DDR RDRAM SRAM etc. ROM etc as well as transmission media or signals such as electrical electromagnetic or digital signals conveyed via a communication medium such as network and or a wireless link.

The various methods as illustrated in the Figures and described herein represent exemplary embodiments of methods. The methods may be implemented in software hardware or a combination thereof. The order of method may be changed and various elements may be added reordered combined omitted modified etc.

Various modifications and changes may be made as would be obvious to a person skilled in the art having the benefit of this disclosure. It is intended to embrace all such modifications and changes and accordingly the above description to be regarded in an illustrative rather than a restrictive sense.

