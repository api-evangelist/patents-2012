---

title: Method and apparatus for event/alert enrichment
abstract: Methods and apparatus to provide alert enrichment in a cloud storage system. In one embodiment, the system performs alert/event identification with information from an identity matching service for the components of the cloud storage system to generate a resource identifier for the component associated with a first one of the processed alerts/events, and use the resource identifier to identify a service, platform, virtual machine, virtual application, virtual data center, organization and/or platform component associate with the first one of the processed alerts/events.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09170951&OS=09170951&RS=09170951
owner: EMC Corporation
number: 09170951
owner_city: Hopkinton
owner_country: US
publication_date: 20120330
---
As is known in the art storage systems such as so called cloud storage systems contain a large number of hardware devices and components and software applications modules and component. In the presence of a fault alert or other condition needing attention it can be difficult to identify the source of the fault or alert since there are many complex components that may be provided by multiple vendors which may make it difficult to exchange information in an efficient manner.

For example in a cloud storage environment alerts and events from various event sources in platforms normally contain limited information that may not be meaningful and may seem unrelated to the environment from which they originate. It is challenging for IT personnel to extract executable data from the alerts and take appropriate action.

With large volumes of alerts events constantly coming from various sources it is challenging to prioritize the alerts events and take proper actions without putting the alerts or events in the proper context such as organizations business units impacted applications etc. It is time consuming to trouble shoot events alerts errors etc. without associating the alerts and events with their relevant physical or logical topology resources or assets. In addition many of the IT resources are managed in silos by IT personnel specialized in certain technology domains. For example when a blade in the Cisco Unified Computing System UCS fails or has performance issues its impact propagates to the ESX server deployed on the blade to the virtual machines deployed on the ESX server to the applications or critical services running on those virtual machines to the critical business that relies on those services. It may take hours or even days to sort through those alerts or events which may result in significant detrimental impact on an enterprise.

In one aspect of the invention a method comprises receiving alerts events from components of a cloud storage system processing using a computer processor raw data for the alerts events performing alert event identification with information from an identity matching service for the components of the cloud storage system to generate a resource identifier for the component associated with a first one of the processed alerts events and using the resource identifier to identify a service platform virtual machine virtual application virtual data center organization and or platform component associate with the first one of the processed alerts events.

In another aspect of the invention an article comprises a computer readable medium having non transitory stored instructions that enable a machine to perform receiving alerts events from components of a cloud storage system processing using a computer processor raw data for the alerts events performing alert event identification with information from an identity matching service for the components of the cloud storage system to generate a resource identifier for the component associated with a first one of the processed alerts events and using the resource identifier to identify a service platform virtual machine virtual application virtual data center organization and or platform component associate with the first one of the processed alerts events.

In a further aspect of the invention a system comprises a cloud storage system comprising a computer layer a storage layer a network layer coupled between the compute and storage layer and a management layer to control the system the management layer comprising stored instructions to enable the management layer to receive alerts events from components of the cloud storage system process raw data for the alerts events perform alert event identification with information from an identity matching service for the components of the cloud storage system to generate a resource identifier for the component associated with a first one of the processed alerts events and use the resource identifier to identify a service platform virtual machine virtual application virtual data center organization and or platform component associate with the first one of the processed alerts events.

The compute layer comprises components such as blade servers chassis and fabric interconnects that provide the computing power for the platform. The storage layer comprises the storage components for the platform. The network layer comprises the components that provide switching and routing between the compute and storage layers within and between platforms and to the client or customer network.

It is understood that a variety of other configurations having different interconnections and storage configuration can be provided to meet the needs of a particular application.

The management layer can include a number of applications to perform various functions for overall control configuration etc of the various platform components. For example management applications can include a virtualization function such as VSPHERE VCENTER by VMware of Palto Alto Calif. A further management application can be provided as the Unified Computing System UCS by Cisco. It is understood that the blade chassis and fabric interconnection can be considered part of the UCS. Another management application can includes a management interface such as EMC UNISPHERE to provide a flexible integrated experience for managing existing storage systems such as CLARIION and CELERRA storage devices from EMC. A further management application includes a platform element manager such as Unified Infrastructure Manager UIM by EMC for managing the configuration provisioning and compliance of the platform.

The unified infrastructure manager further includes a change and configuration management module a policy based compliance and analysis module a unified infrastructure provisioning module a consolidation topology and event service module and an operational awareness module . The various modules interact with platform elements such as devices in compute network and storage layers and other management applications.

The unified infrastructure manager performs platform deployment by abstracting the overall provisioning aspect of the platform s and offering granular access to platform components for trouble shooting and fault management.

In one aspect of the invention a uniform infrastructure management module includes an alert enrichment module to enrich alerts from platform events and alerts to physical infrastructure logical services virtual applications and tenant organizations. It is understood that cloud environments can provide storage for multiple tenants organizations.

In general a unified infrastructure management module includes functionality to receive events and alerts from platform components identify them with and or roll them up to manageable IT topological resources enrich the events alerts with physical infrastructure logical service virtual application and or tenant organization information. Enriching events alerts to the physical logical virtual and organizational layers enables users to place events alerts in the context of organizations to help the IT organizations categorize them define criticality deliver the required SLA and quickly isolate the alerts to the relevant physical or logical components for trouble shooting.

Exemplary embodiments of the invention enable a unified infrastructure module to identify automatically the events and alerts from various platform components with the high level physical or logical IT resources such as storage array storage volume blade chassis fabric interconnect server virtual machine fibre channel switch IP switch and the like.

In addition exemplary embodiments of the invention are useful to automatically enrich when applicable the platform alerts and events to relevant services configured in UIM provisioning. The configuration and status change events from UIM Provisioning are automatically enriched with the services. Exemplary embodiments of the invention are further useful to automatically enrich whenever applicable platform alerts and events to platform instances as represented in UIM Provisioning to virtual applications such as applications represented in VMware vSphere to organizations such as those represented in VMware vCloud Director. Exemplary embodiments of the invention are further useful to automatically refresh the enrichment whenever the applicable conditions of platform have changed for example when services in UIM Provisioning are commissioned or decommissioned.

It is understood that various vendor specific terminology product name jargon etc. may be used herein. It is further understood that such vendor specific information is used to facilitate an understanding of embodiments of the invention and should not limit the invention in any way. Any specific vendor information should be construed mean a generic product function or module.

Some exemplary items are set forth below. It is understood that one of ordinary skill in the art is familiar with the generic architecture and functionality of a vendor specific terms.

UIM Provisioning or UIM P EMC Unified Infrastructure Management Provisioning that provides simplified management for VCE VBLOCK by managing the components of VBLOCK platforms as a single entity and easily define and create infrastructure service profiles to match business requirements.

VBLOCK A pre architected and pre qualified environment for virtualization at scale storage fabric compute hypervisor management and security.

Model Service Adapter A service that uses the RESTful interface to expose the types of resources and instances of the data sources.

As used herein the term enriched means that alerts events are related to the physical infrastructure the logical services the virtualization and the businesses and organizations that rely on the infrastructure the logical services and virtualizations and are associated with context of the cloud from which they originated.

Alert event collection collects alerts events from various platform components such as fabric switches fabric interconnects storage arrays and platform applications . Alert event processing and normalization is performed on the raw data. Alert event identification and roll up takes the processed alert events and information from an identity matching service to generate resource URLs. A model service adapter coupled to the platform elements provides the identity information about the topology objects or abstractions to the identity matching service . The identity matching service reconciles managed topology objects that are represented differently in one or more data sources.

In an exemplary embodiment information from alert event identification and roll up is provided to modules including an alert event enrichment to service cluster alert event enrichment to platform alert event enrichment to virtual applications and alert event enrichment to virtual data center each of which provides resource URL information for a respective platform virtual application or virtual data center.

As shown in the identity matching service receives events alerts from platform components such as blades chassis fabric interconnects IP switches and fibre channel switches . The identity matching service receives event alerts from storage layer components such as an array and logical storage volume . The identify matching service also receives events alerts from the ESX virtual machine . As is known in the art ESX is an enterprise level computer virtualization product offered by VMware Inc. ESX is a component of VMware Infrastructure which adds management and reliability services to the core server product. Further events alerts can be generated by an organization virtual data center which can be provided as part of VMware vCloud Director.

A client can retrieve match results such as a set of resource URLs from the identity matching service in a number of ways. For example given a resource URL the client returns URLs of matched resources. Also given identifiers of a resource a client returns the URLs of matched resources. For example an alert from Cisco UCS Manager contains the UCS Chassis object ID. The enrichment engine sends a request with the object ID to the identity matching service . Once matches are found the service returns the resource URL of the chassis.

As will be readily understood by one of ordinary skill in the art there are normally multiple representations or perspectives of the same physical or logical resources. And each perspective is created for particular purposes in a particular domain to fulfill particular requirements. And each perspective can be managed by different management solutions and may generate its own alerts and events.

The following tables illustrate the cross domain identity matching between blades on Cisco UCS the VMware ESX server deployed on the blade and UIM blade representation for provisioning purpose. The matching is achieved within the identity matching service via the following rules 

The following table illustrates the cross domain identity matching between the storage volume or LUN on storage arrays and the datastore in VMware vSphere.

As discussed above a platform such as VBLOCK can comprise components for storage network computing and virtualization bound together by technologies from various vendors. As illustrated from the high level resource diagram of multiple domains and vendor technologies are put together via cross domain identity matching as illustrated by the two examples below ESX UIM Blade UCS Blade and Storage Volume and Datastore. By following the relationships shown in an alert can be associated or enriched to various managed resources. For example when a health alert is generated on a chassis in UCS it can be enriched by following the path from UCS Blade to UIM Blade to Vblock or to ESX to Virtual Machine to vDC to Organization. Without the cross domain identity matching the alert would be viewed in the context of UCS and it may not provide the IT personnel enough information to take proper action.

The following table illustrates how the alerts are identified with high level resources. Specific identifiers in various types of alerts or events from multiple sources are automatically selected and requests are made to the identity matching service to match with high level resources.

The logical services defined in UIM Provisioning as UIM Service and sometimes equivalent to the cluster in VMware vSphere are the building blocks of Infrastructure as a service IaaS . The alerts or events are then enriched with logical services UIM Service by following the relationships in .

Processing is not limited to use with the hardware and software described herein and may find applicability in any computing or processing environment and with any type of machine or set of machines that is capable of running a computer program. Processing may be implemented in hardware software or a combination of the two. Processing may be implemented in computer programs executed on programmable computers machines that each includes a processor a storage medium or other article of manufacture that is readable by the processor including volatile and non volatile memory and or storage elements at least one input device and one or more output devices. Programs may be implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the programs may be implemented in assembly or machine language. The language may be a compiled or an interpreted language and it may be deployed in any form including as a stand alone program or as a module component subroutine or other unit suitable for use in a computing environment. A computer program may be deployed to be executed on one computer or on multiple computers at one site or distributed across multiple sites and interconnected by a communication network. A computer program may be stored on a storage medium or device e.g. CD ROM hard disk or magnetic diskette that is readable by a general or special purpose programmable computer for configuring and operating the computer when the storage medium or device is read by the computer to perform processing.

One skilled in the art will appreciate further features and advantages of the invention based on the above described embodiments. Accordingly the invention is not to be limited by what has been particularly shown and described except as indicated by the appended claims. All publications and references cited herein are expressly incorporated herein by reference in their entirety.

