---

title: Delivery and management of status notifications for group messaging
abstract: Systems and methods are provided for managing and delivering status notifications relating to multicast messages transmitted from a sending communication device to multiple recipient communication devices. Each communication device is provided with a status agent for detecting transmission of messages to a recipient device and receipt of messages from a sending device. Upon transmission, the status agent notifies a status service of the outbound message. Upon receipt of the multicast message by one of the recipients or upon the message being marked read, the recipient status agent notifies the status service. The status service then notifies the status agent of the sending device that the message has been received or read by that recipient, so that the sending device's status agent can notify a corresponding messaging application. The status service operates to reconcile outbound message notifications and received or read status updates for multicast messages.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08761737&OS=08761737&RS=08761737
owner: BlackBerry Limited
number: 08761737
owner_city: Waterloo
owner_country: CA
publication_date: 20120105
---
This application claims priority to U.S. Provisional Application No. 61 430 460 filed 6 Jan. 2011 the entirety of which is incorporated herein by reference.

The present disclosure relates generally to management and delivery of electronic message status information.

Messages can be transmitted received or stored in a variety of electronic formats including without limitation email instant or private messages both network based and peer to peer SMS Short Message Service MMS Multimedia Messaging Service VVM Visual Voicemail voicemail and the like. Messages may be transmitted using store and forward or real time systems. Several of these message formats whether by virtue of message size or transmission protocol can be quickly delivered to recipients and thus used to provide reasonably timely information and responses even if relayed using a store and forward system. Since participants in electronic communications typically communicate with other participants in remote locations the immediacy and context of an in person conversation such as the implicit knowledge that the other participants in the conversation have heard or received the speaker s communication may be lost. This disadvantage can be exacerbated when multiple users are participating in an electronic message conversation . User experience with any type of electronic message may be improved by enhancing the apparent immediacy of the communication and augmenting the contextual information available to the participants.

The embodiments described herein provide a computing or communication device service and method providing enhancements to existing messaging infrastructures and systems to improve user experience in electronic messaging by enhancing the apparent immediacy of electronic communication and by augmenting the contextual information available to the participants in the electronic communication. In particular the embodiments herein provide for enhancements to the communication of group messaging which may be implemented in multicast broadcast or other suitable messaging modules. These embodiments will be described and illustrated primarily in relation to communication devices such as wireless communication devices communicating over wireless networks and public networks. It will be appreciated by those skilled in the art however that this description is not intended to limit the scope of the described embodiments to implementation on these particular systems or to wireless devices. For example the methods and systems described herein may be applied to any appropriate communication device or data processing device adapted to communicate with another communication or data processing device over a fixed or wireless connection whether portable or wirelessly enabled or not whether provided with voice communication capabilities or not and additionally or alternatively adapted to process data and carry out operations on data in response to user commands for any number of purposes including productivity and entertainment. Thus the embodiments described herein may be implemented on computing devices adapted for communication or messaging including without limitation cellular phones smartphones wireless organizers personal digital assistants desktop computers terminals laptops tablets handheld wireless communication devices notebook computers entertainment devices such as MP3 or video players and the like. Unless expressly stated a computing or communication device may include any such device.

The embodiments herein will be described and illustrated primarily in relation to instant messages and email. However it will also be appreciated by those skilled in the art that these embodiments extend to other types and formats of messages adaptable for multicast broadcast or other group communication including without limitation private messages SMS Short Message Service MMS Multimedia Messaging Service VVM Visual Voicemail voicemail and the like. The formatting and transmission of all such messages and the implementation of suitable messaging infrastructures to support such communications will be known to those skilled in the art.

For example email messages and services may be constructed and implemented in accordance with known Internet messaging standards including Internet Message Format RFC 5322 and RFC 2822 published by the Internet Engineering Task Force as well as their predecessor successor and companion standards. Instant messages include network based and peer to peer messages and such messages and services may be defined in accordance with known standards such as RFC 2779 and RFC 3921 also published by the Internet Engineering Task Force and their companion predecessor and successor standards. Point to point SMS messages may be implemented in accordance with 3GPP 3Generation Partnership Product Technical Specification 03.40 and optionally extended for transmission of MMS messages as specified by the Open Mobile Alliance Multimedia Messaging Service V1.3 and their companion predecessor and successor standards. All such messages and services intended for use with the within embodiments may also be defined in accordance with proprietary standards and protocols. Messages may be defined formatted and presented using messaging applications implemented on user devices such as the communication devices described above. Such messages are also identifiable by a unique or quasi unique handle or identifier ID implemented within the message format in a suitable location for example in the header of the message. Messages may be interrelated for example associated by cross referencing identifiers thread identifiers subject line or the like. Whether interrelated or not messages exchanged between a given set of participants senders and recipients or originating and recipient or destination devices may be presented by messaging applications in a conversational paradigm chronological order or reverse chronological order or in any other suitable presentation form or order.

The messages contemplated herein also include other user generated or computer generated entities transmitted to recipient communication devices via other types of communication applications or services such as social applications data and news feeds content aggregators and other utilities. Such entities can include messages or other content transmitted from a sender to one or more recipients for receipt at their respective communication devices in a collaborative or groupware environment. For ease of reference the embodiments herein are described primarily with reference to messages such as email and instant messages but are not intended to be exclusive of other message types.

The various forms of electronic messages mentioned above generally lack the immediacy and context of an in person conversation given that the sender and recipients of a message are usually although not always physically separated from each other. Because of the separation the sender cannot know without further express information from the recipient whether one or more of the recipients has received the message. Each recipient cannot know without express feedback from the sender that the sender is aware that the recipient has received the message. Similarly even if the sender knows the message was received he or she cannot know without express information from each recipient whether that recipient has read viewed heard or otherwise consumed the message. Confirmation that a recipient has read or received a message may be inferred if the recipient actually responds to the message or its contents in a subsequent message but there may be a delay between the time the recipient reads a message and responds to it. If the information contained in the message is time sensitive for example if it pertains to an upcoming meeting and the recipient s acknowledgement is required waiting for a recipient to reply to confirm that the message has been read may be particularly inconvenient. Further waiting for the recipient s reply may pre empt the sender from taking some other action in a timely manner such as conveying the necessary information to the recipient by an alternate means or inviting another person to the upcoming meeting in view of the recipient s non reply.

Requiring an express response from a recipient confirming that the message was received or read places additional burden on the messaging infrastructure used to deliver the messages between the sender and each recipient since for each message sent the messaging infrastructure must transmit at least one further message relating to the delivery or reading of the message for receipt by the sender s client messaging application. Such delivery notifications and read receipts thus impose a greater burden on the sender s client messaging application and the sender s communication device which must receive and process the further messages. Conventional message delivery notifications and read receipts in email for example are delivered by email to the sender s client email application. Such conventional notifications therefore must be processed by the sender s client email application either by displaying the received notification or receipt to the user or by correlating the received notification or receipt to a sent message in the user s sent email store.

Further conventional message delivery notifications and read receipts given that they are formatted and transmitted using the same transport as the original message are potentially subject to the same delivery delays and constraints as the original message. This potentially impacts the timeliness with which notifications and receipts are delivered to the sender and detracts from the communication experience with the recipient without knowledge that the recipient has read an initial message the sender may be led to compose a follow up message that would have been deemed unnecessary had the sender known the recipient had read the initial message.

In addition conventional email message delivery notifications and read receipts often must be requested by the sender through flags or values set in the outbound message header and those requests are just as often ignored by the recipient s client messaging application which may not be configured to process the header flag or by the recipient who may expressly instruct his or her client messaging application not to transmit a read receipt message.

Accordingly a system such as that illustrated in the accompanying drawings may be implemented to provide a parallel mechanism for providing message delivery and read status updates to client messaging applications. illustrates a simplified network topology for communicating between two mobile communication devices . It will be appreciated by those skilled in the art that a number of components such as wireless networks and gateways and the like are omitted simply for clarity of presentation in the accompanying figures. In a message M is transmitted from the sender at the originating communication device to the recipient at the destination or receiving communication device using a messaging service not illustrated. The message M is shown as being delivered via a messaging infrastructure supporting the messaging service. The messaging infrastructure may be any suitable infrastructure known in the art for transporting any of the above mentioned message formats and can include both software and hardware components. The messaging infrastructure for example may be implemented using public data networks and or public switched telephone networks. The network components used to facilitate communications between the communication devices and between the devices push service and the status service described below may be integrated with components of or supporting the messaging infrastructure or alternatively may be separate from the messaging infrastructure .

When the message M is transmitted from the originating device a notification indicating that the message M was transmitted from the originating device is also transmitted from the originating device to the status service . The status service is typically located remotely from the communication devices and may be accessible over a public wide area network such as the Internet. The status service receives and stores the notification.

After receipt of the message M at the receiving device at least one status notification is transmitted from the receiving device to the status service . A first status notification can indicate that the message was received by the receiving device i.e. delivered to the receiving device . A second status notification can indicate that the message was read at the receiving device that is to say it was displayed or otherwise rendered and presented for user consumption for example rendered as an audio file or by a text to speech module operating at or in cooperation with the receiving device .

It will be appreciated by those skilled in the art that by referring to a message as read it is meant that the message was either accessed or rendered such that it was presented in a manner enabling a user to peruse or review at least a portion of the message content not displayable or otherwise perceivable in a simple message listing inbox listing or message preview window or display. Thus a read message is not restricted to actual user consumption or comprehension of the message a message may be appropriately considered to be read when the message is opened in a messaging application even if a user did not look at or listen to the message. Further a message received at a communication device may be marked read in response to an express instruction received at the device even if it was not rendered as described above. A message that is unread is one that has not been read or marked read . A synonym for read in this context as would be well understood by the person skilled in the art is opened and a synonym for unread is unopened . In some embodiments the display of a message in whole or in part in a message preview view may not constitute the message being read but only delivered depending on system configuration.

Each of these notifications may be delivered consecutively to the status service or as part of the same notification message if detection that the message was read occurred prior to transmission of the first status notification . Upon receipt of one or more of the status notifications the status service transmits a corresponding status update to the originating device . Upon receipt of the first status notification for example the status service transmits a status update indicating that the message M was delivered. Upon receipt of the second status notification the status service transmits a status update indicating that the message M was read. Thus the originating device receives updated information concerning the status of the message M.

In these embodiments the status updates transmitted from the status service to the originating device are advantageously transmitted via a push service . The push service provides the status updates effectively in real time. When the status service receives a status notification from the receiving device the status service transmits a push request not shown comprising a status update to be transmitted to the originating device to the push service . The push service acknowledges the request and transmits the data to the originating device . The originating device can then transmit a response to the push service acknowledging the pushed data. Confirmation that the status update was received by the originating device may then be provided by the push service to the status service . While the push service is omitted in the following figures portraying network configurations and data flow it will be appreciated that a similar service can be implemented to deliver content to the various communication devices in all of the embodiments described herein. Further in some embodiments the push service or a similar service can also be used to transmit messages to the communication devices although not explicitly illustrated herein.

The various status updates received at the originating device may be used in a client messaging application to denote whether a message transmitted from the device has been received or read by the recipient. Turning to an example graphical user interface for a chat or instant messaging program displayed in a communication device in this case the originating communication device is shown. The interface displays a number of messages . . . here arranged in chronological order illustrating a conversational paradigm. In messages transmitted from the originating device are positioned at the right hand side of the user interface i.e. messages . . . . Each of the messages is displayed with a corresponding message read badge or icon . Typically a visual indicator of message status is provided although other means of indicating the message status may be used such as audible vibratory or tactile indicators. The message read icon displayed for these messages indicates that the communication device has received a status update indicating that messages had been read was received from the status service via the push service . The originating device may have previously received status updates from the status service indicating that the messages had been delivered but in this example the user interface is configured to indicate only the most recent status update. The most recently received status for a given message is given precedent over previously received status information.

The final message is shown with an optional message sent icon which in this example denotes that the message has been sent from the originating device but no status update has been received indicating that the message was delivered to the destination address or read at the receiving device .

Turning to a further graphical user interface for the same application is shown. In this illustration a further status update for the message was received at the communication device for example the status update of indicating that the message was received at the receiving device . Thus in the user interface the final message is marked with a message delivered icon .

As mentioned above status updates may be received concurrently rather than consecutively. In some embodiments the device may infer a status for a previously transmitted message in view of subsequent events. For example the message may still have the status of sent or delivered as in or B when a further instant message in the conversation shown in is received before a status update indicating that the message was read at the receiving device . It can be inferred that composition and transmission of a later message at the receiving device indicates that the last message received at the receiving device namely the message had been read. Thus even if the status service has not yet provided a read status update to the originating device in respect of the message upon receipt of the new message the client messaging application at the originating device can effectively override the last received status of the message with an inferred status and display a message read icon .

To implement the foregoing system of status updates and notifications described in relation to the communication devices participating in the exchange of messages are provided with an application or module for providing message status management here depicted as a status agent . As shown in which illustrates select components or modules of the communication device the status agent is provided with a status data store and interfaces with one or more applications executable on the device such as one or more messaging applications each of which is associated with a corresponding message store one or more contact address book applications provided with a corresponding contact data store one or more social applications provided with a corresponding data store and one or more collaborative applications provided with a corresponding data store . As understood by those skilled in the art the various messaging applications may be associated with user accounts provided by one or more messaging services for example each user account provisioned on the device may be associated with a distinct messaging application or multiple user accounts may be associated with the same messaging application . The messaging application can also include a unified message box application or function that provides a unified view of message or other content information associated with multiple user accounts or message types and which serves as an entry point for access to other messaging services or applications executable on the device . The unified message box may also be known as a unified inbox however a unified message box in particular may contain inbound messages outbound messages or a combination thereof.

The status agent interoperates with one or more of the foregoing types of applications and functions as an interface or proxy with the status service to provide notification and status management services. Access to the status agent may be provided through an API application programming interface . For client applications that make use of messaging functions such as client messaging applications social networking applications and collaborative applications the status agent provides notifications to the status service of outbound messages transmitted from the originating device and receives status update notifications from the status service regarding the status of the outbound messages as received by the recipient device via the communications module implemented on the device for example via a wireless transceiver module not shown in .

The status agent also provides updated status information for client applications that consume received status information. For client applications the status agent can provide updated status information corresponding to the outbound messages originated from those client applications. Other client applications that do not originate outbound messages may still consume status information such as the contacts address book application . For example the contacts application may use status update information which can be associated with a recipient addresses to indicate the potential availability of contacts corresponding to the recipient addresses. If the most recently received status information for a given recipient address is that the recipient has read an outbound message within a recent period then the contacts application may indicate that the recipient is available . If the most recently received status information is only that the outbound message has been delivered then the contacts application may indicate that the recipient is likely unavailable. Similar availability indications may also be implemented by the other applications .

The status agent also detects changes to inbound messages queues at the device and reports detected changes to the status service . When an incoming message for one of the client applications is detected as having been received by the status agent the status agent issues a status update notification to the status service to indicate that the message was received. Similarly when the status agent detects that the incoming message has been read the status agent again notifies the status service that the message has now been read.

The status agent may included within the device s operating system or provided as a separate application. Generally since the status agent can operate without direct user interaction it executes as a background process or processes on the device . In the primary embodiments described herein the status service provides its status updates to the devices using a push service accordingly the status agent on each participating communication device is push enabled and configured to listen for push content comprising status updates at a designated port of the device .

Each application that originates outbound messages can invoke the agent to track each outbound message transmitted by the application for example implementing and providing a callback handler or a defined interface to the agent . Alternatively each application that is configured to originate outbound messages may initially register with the status agent and identify its outbound message queue not shown for monitoring by the status agent . Additionally each application that consumes status update information received by the status agent from the service can either receive notifications from the agent or alternatively may monitor an incoming status notification queue not shown for incoming status updates relevant to the application .

Further to detect the receipt of incoming messages the status agent may be configured to monitor the incoming message queues for each application registered with the agent or alternatively the status agent may wait for each application to issue a notification of message receipt. To detect when incoming messages have been read using a given application the status agent may monitor the application s data store for changes to message status for example when a message is read a messaging application may set a flag associated with the message in the message store to indicate the message has been read. Each application may alternatively maintain a status indicator queue or file comprising recent status updates for received messages that can be monitored by the status agent .

As a preliminary step before status notifications are transmitted or received an initial registration of the status agent with the status service may be required. Registration is carried out to provide the status service with a valid address for each device for receiving status update messages. If access to the status service is restricted then registration may also be required to validate the devices and their corresponding status agents as valid clients of the status service. This initial registration may take place upon initial provisioning of the device for wireless communication or for messaging using the messaging infrastructure . Alternatively the registration may take place after initial provisioning when the user of the device subscribes to the messaging service supported by the messaging infrastructure or installs a client application that will make use of status notifications or when the agent is installed or initialized.

The registration may simply comprise the device transmitting a subscription message to the status service containing a userid or other identifier for the device and or the status agent an optional password and a unique address for receiving push messages. The subscription message is received by the status service and processed by the subscription module to verify the subscription. Subsequently when the status service generates a status update to be delivered to the registered device the status service can provide the unique address together with the status update to the push service . Additionally the push service if it is external to the status service may require registration of the status service and the status agent . Configuring the push service and registering applications and services with the push service will be known to those skilled in the art.

It will also be appreciated that status updates may be transmitted to the devices in response to a request transmitted from a device rather than by the status service pushing the status update to the device. If such a pull methodology is implemented the status agent can periodically poll the status service for any new status updates. However pushing the status updates to the communication device does provide the advantage of having new delivered and read notifications transmitted to the device in a timelier manner since the status service need not wait for the device to request status updates.

An example of communication flow between the originating and receiving devices a client application the status service and messaging infrastructure is illustrated in . The communication flow represented in is simplified as the push service is not illustrated but the node representing the status service in may be considered to include the push service used to transmit status notifications and receive acknowledgements. A client application at the originating device in this example a messaging application prepares a message for transmission from the device . This message may comprise any one of the types of messages described above such as email instant messages SMS MMS and the like. The message may be generated automatically by the client application based on user input data and or contextual or device information for example the client application may automatically generate messages indicating the current location of the device user based on a current location of the device for transmission to a predefined recipient or recipients . The client application assigns or generates a unique or quasi unique message identifier ID or handle for the message. The message ID is advantageously sufficiently distinctive so as to permit the message to be uniquely identified at the status service or by either of the status agents at the originating and receiving devices. For example if the message ID is not inherently sufficiently distinctive it may be generated using a numeric string representing a current timestamp or concatenated with the current timestamp or an application identifier identifying the client application generating the message. The message ID is incorporated into the message for example in a message header or envelope. While the entire message ID may be typically included in the message in some embodiments only a portion of the ID is included although as noted above a sufficiently distinct portion of the ID is used. The message may include some redundancy to ensure the integrity of the message ID. For example a checksum computed from the message ID may be included in the message.

The message ID may include any suitable identifier generated and inserted or appended into the message in accordance with any applicable message standard used for that message format such as the message ID value defined in RFC 5322. For an SMS message the message ID may be the message reference value optionally concatenated or otherwise combined with additional data contained in the message. In a concatenated SMS message the message ID can be the CSMS reference number contained in the user data header as defined in the SMS Point to Point Specification 3GPP TS 23.040. In other embodiments where the message reference values inherent in the applicable message protocol do not yield a sufficiently unique ID value the message payload i.e. the content of the message or a concatenation of predetermined portions of the message and even the entire message itself may be used to define the message ID. For example the message ID could be computed from a hash of the message header and content or as a concatenation of the sender identity e.g. the sender s email address or other identifier associated with the message and another value within the message. If the data entity being transmitted from the device is not a standards defined message but in another format such as data feed content or a file for use with a collaborative or groupware application the message ID may be defined in a custom header or property accompanying the entity. However the message ID is defined or generated the same message ID value is independently locatable within the received message at the receiving device or else is independently derivable from the message itself at the receiving device .

The message is transmitted for delivery to the recipient via the messaging structure and messaging service using the device s communication subsystem generally as known in the art. Typically an acknowledgement is provided to the device from a component of the messaging infrastructure such as a message server associated with the sending device to confirm receipt of the message for relay to the recipient. This acknowledgement thus does not indicate that the message was either received or read by the recipient. The message as transmitted includes the message ID as described above.

The status agent on the originating device is then notified of the outbound message. This notification may be implemented either by the client application providing express notification of the outbound message to the status agent or by the status agent listening on the client application s outbound message queue for new messages indicated at . An express notification comprises at least the message ID included in the message as transmitted or as derived from the message as transmitted and optionally additional identifying information such as a message type identifier indicating the type of message sent e.g. email IM SMS etc. a message timestamp a client application identifier which may include a callback identifier or other metadata such as the recipient s address or other identifier. If the status agent monitors the client application s outbound message queue then the status agent retrieves the message ID and any additional identifying information from the queue or from the application s corresponding data store. The status agent stores the message ID and any other identifying information in the status data store . In the notification is shown without a paired acknowledgement or response transmitted from the status agent to the client application but the status agent may provide such a response to confirm receipt of the notification .

Notification of the outbound message including the message ID is then transmitted from the status agent to the status service . Access to the status service may be provided via a web API with the status agent constructing its notification message in the form of an HTTP Hypertext Transfer Protocol request message for transmission to the status service . A suitable acknowledgement response can then be returned by the status service to the status agent . The content of the notification need not include all information obtained by the status agent regarding the outbound message . In a simple implementation to minimize the amount of data transmitted by the originating device the notification only comprises sufficient data such as the message ID for the status service to reconcile incoming status notifications with a particular outbound message. The status service stores the received message ID and any additional identifying information for use in reconciling incoming status notifications with the outbound message in association with an identifier of the originating device e.g. an address for use in delivering push data received with the notification in its status data store .

It will be appreciated that the relative timing of events depicted in such as the acknowledgements and notifications as well as events described below may vary since the notification and status update procedures are executed asynchronously. For example the notification may be initiated even before the acknowledgement confirming receipt of the outbound message at the messaging infrastructure is received by the originating device . However if the client application does not await the acknowledgement prior to initiating the notification to the status agent it is possible that the status agent will be invoked to monitor the status of a message that was not successfully sent. If no acknowledgement is received within a predefined time or if a delivery failure is reported by the messaging infrastructure to the originating device then the client application upon determining that transmission had failed may provide the agent with a notification that the monitoring of that particular message ID should be cancelled. In turn the agent can then notify the status service of the cancellation so that the status service can delete the record corresponding to that message ID from its store . The agent may then also delete the record for that message ID from its own data store .

In the meantime the message is transmitted through the messaging infrastructure as an inbound message to the receiving device where it is received in an incoming message queue for the client application . An acknowledgement may be provided by the device for example by the client application to the messaging infrastructure the acknowledgement may instead be provided by another module on the device .

The status agent executing on the receiving device monitors the client application s message store or an incoming message queue or else awaits notification from the client application that a new message has arrived. Upon determination that a new message has been received on behalf of the client application the status agent extracts the message ID and any additional identifying information as described above as indicated at . Alternatively the client application provides this information in a notification . The status agent then transmits a delivery notification comprising the message ID any additional identifying information and a status indicator reflecting the incoming message s current status in this case the status indicator indicates that the message has been received by the receiving device to the status service . This notification may be acknowledged by the status service in a response . This delivery notification can be provided using a similar method to that described for the status agent providing the outbound message notification to the status service .

The status service being in receipt of a message ID and any additional identifying information indicated as being delivered queries its status data store for a matching message ID. If a matching stored ID is found the status service then generates a status update message for transmission for example via the push service described above to the originating device identified in association with the stored ID. The status update message comprises the message ID any further identifying information that may be required for the status agent to correlate the status update message with messages identified in the status agent s data store as well as an indicator of the new status in this case delivered or an appropriate code or flag indicating delivered status . The update message again may include a checksum or other redundancy value. The status update message or notification is transmitted to the device where it is provided to the status agent . The status notification may be provided in the form of an XML eXtensible Markup Language or JSON JavaScript Object Notation object or in the form of an HTTP response. Again an acknowledgement may be provided by the device from the status agent or from another module on the device .

The status agent then extracts the message ID and any additional identifying information received in the status notification and identifies a corresponding message ID in its own store . If the message ID is found in the status data store then the agent provides a status update for example in the form of a callback to the application identified in association with the stored message ID. As mentioned above the application may instead monitor an incoming status queue to obtain updated status information as indicated at . The client application may then update its own message store to reflect the new status information for the message i.e. that it has been delivered to the recipient device and update any screens displaying that message or a message listing including that message to reflect the changed status.

In the meantime new status information may be detected by the status agent when the message as received by the receiving device is determined to have been read. A read notification is then generated by the status agent and delivered to the status service and optionally acknowledged and in turn a new status notification is delivered to the device and the status agent indicating the new read status of the message. A further acknowledgement may be provided by the device to the status service . Finally a further status update is provided to the client application indicating that the message is read or alternatively the client application detects the newly received status . The client application can then update its message store and any screens displaying the message to reflect the changed status.

Thus the status agents implemented on the devices and the status service provide a system for tracking the delivered and read status of messages sent from the originating device to the receiving device and for providing updated delivered and read status to the originating device without requiring status messages to be transmitted over the same transport as the originally sent message. Because the status updates are transmitted asynchronously and advantageously using a push service notifications are received promptly and are less likely to be subject to potential delay in the messaging infrastructure . Further the system described herein is adaptable for use with multiple message formats because the delivery of the delivered and read status notifications is message format and transport agnostic. A variety of message types can therefore be enhanced with the display of delivered and read notifications enhancing user experience when interacting with recipients through electronic messaging. Further this system may also enhance reply and forwarded messages generated at the recipient device from the original message. For example if the recipient originates a response to the initial message M this reply message may be assigned a distinct message ID from M by the reply originating device i.e. the receiving device Similarly if the recipient forwards the received message M to another recipient the forwarded message may be assigned a distinct message ID from M by the forwarding device again the receiving device . The respective status agents of the participating communication devices and the status service will be able to track the status of the reply or forwarded message between the sender of the reply or forwarded message and the recipient of that message.

Further by providing status agents for handling the actual notification of the status service and receipt of status updates a variety of messaging applications may be easily adapted to incorporate delivered and read notifications without requiring the messaging applications themselves to be configured to receive and process the status notifications. Correlation of newly received status updates with messages previously transmitted from the originating device is handled by the status agent and notification of the corresponding messaging application of the newly received status information is initiated by the agent . On the receiving device the status agent handles the transmission of status notifications to the status service by monitoring incoming messages on behalf of the messaging applications again avoiding the need for the messaging applications themselves to be configured to transmit delivery notifications to an external service.

Encryption or other security although not expressly described may be applied to the communications described herein. Encryption may be applied to any messages transmitted between the originating device and the receiving device using techniques known in the art. The notifications passed between the originating device status service and receiving device may also be transmitted in encrypted format. However if unencrypted for added security rather than passing the message IDs and other data in their raw or original format some or all of the data may be hashed or otherwise encoded by the devices before it is transmitted to the status service . For example the outbound message notifications and status notifications transmitted by the status agents can contain hashed versions of the message IDs and other data such as recipient addresses contained therein. The status service therefore stores the received hash values. When a status notification is received the hash value in the status notification is matched against the hash values in the status service s store and when a status update is sent to the status agent of the originating device the update message will contain hash values. Accordingly the status agent computes hashed values of the message IDs as well as the message IDs themselves and matches the incoming status notifications to message IDs using the message ID hashes. In this manner access at the status service to potentially sensitive information such as recipient addresses is protected while still permitting the status service to reconcile status updates with outbound messages.

The foregoing system and methods may be implemented with a number of variants. illustrates a network arrangement similar to that in here omitting the push service and select components of the status service for clarity. In this embodiment the originating device and the receiving device each communicate messages such as message M with the messaging infrastructure via wireless networks . The initial outgoing message notification to the status service the status notification from the receiving device to the status service and the status update from the status service to the originating device take place in part over a public network such as the Internet. This arrangement may be used with a number of message formats and protocols. The communication flow between the devices can take place as generally described above.

In and accompanying communication diagram the receiving device is shown in communication with an online service . The online service can be accessed by the receiving device over the public network. The online service may be a webmail or other Internet messaging service. Messaging may be the primary function of the service or offered as an ancillary service such as in a social web application. Users may subscribe or register for the online service. An account is maintained for each registered user and any user generated content such as messages composed by the user for transmission from the online service or messages addressed to the user s account are stored in association with that account in a message store . The message M is sent from the originating device via the wireless network and messaging infrastructure generally as contemplated above with an optional acknowledgement received from the infrastructure and thence via the public network to the online service . At the originating device the client application provides a notification to the status agent comprising the message ID as described above and in turn the status agent provides an outbound message notification to the status service . An acknowledgement is received in response.

In this embodiment the receiving device need not include a status agent. Rather the online service includes a status agent server or component . After the message M is received by the online service the message is stored in the message store . The online service can transmit an acknowledgement to the messaging infrastructure . The status agent component monitors the message store or an incoming message queue for new messages and extracts the message ID of each new message. Alternatively the status agent component receives a notification of the incoming message from a message handler component of the online service . The status agent component then generates a delivered status notification for transmission to the status service as described above. The status service as before provides the status notification to the status agent of the originating device and may receive an acknowledgement from the device . The status agent can then update the client application with the updated status as described above.

In the meantime the online service provides the message to the receiving device . If the online service is a webmail or other web messaging service then the provision of the message M may be accomplished by transmitting a webpage or other code comprising the content of M to the receiving device in response to a request received from the receiving device . Upon provision of the message M to the receiving device the message may be marked as read in the online service message store . The status agent component detects the changed status of the message M and transmits a read status notification including the message s ID to the status service . The status service returns an acknowledgement and provides a status notification to the status agent comprising the message ID reflecting the changed status. The device may acknowledge the notification and finally the status agent updates the status of the message for the client application at again as generally described above.

Turning to the originating device is now the device accessing the online service . The message M is sent from the originating device to the online service via the public network . From the online service the message M is sent to the receiving device via a public network messaging infrastructure and a wireless network . The message may be acknowledged . The online service also provides a notification via its status agent component to the status service as described above and in turn the status service provides an acknowledgement . The message M is transmitted by the messaging infrastructure to the receiving device for receipt on behalf of the client application . An acknowledgement may be transmitted from the device to the messaging infrastructure .

The status agent on the receiving device then detects the received message and provides a delivery status notification identifying the message to the status service . An acknowledgement is received in response. The status service then provides a status update to the online service s status agent component . The updated status that of delivered may then be stored in the message store in association with the message identified by the status update and the status service may receive an acknowledgement in response.

When the message is read at the receiving device the receiving device s agent detects the changed state and transmits a status update comprising the message ID notifying the status service of the new read status. The status service after acknowledging the notification then transmits new status information to the status agent component of the online service . Again an acknowledgement may be transmitted from the online service to the status service . The online service stores the updated status in the message store . Thus the next time the user of the online service accesses his or her account to view a listing of messages sent from the online service from the user s account updated delivered and read status will be available.

In the foregoing embodiments of the status agent of the online service may thus report the status of every message M sent or received. Alternatively the ability to track change status and report status notifications may be set at the user account level so that status reporting may be enabled or disabled for an entire account by the user or an administrator.

As mentioned previously the delivered and read status of sent messages may be displayed in graphical user interfaces on the originating or destination devices . Further examples are shown in . illustrate user interfaces that may be displayed in a chat or instant messaging application. The user interface of displays a list of ongoing chats or instant message conversations that a user of the device may have with individual recipients. Each listing includes a name and avatar of the other participant as well as at least a portion of a last message transmitted from or received at the device . Each of the conversations is marked with an indicator or icon respectively. Conversations and are marked respectively with icons and which in this example denote that the most recent message in the conversation was received at the device from the other participant. The remaining icons and denote that the most recent message in the conversation was transmitted from the device and these icons indicate the status of that message as it was last known at the device . Icons and are read indicators indicating that the last message sent from the device was marked as read at the recipient s device based on a status update notification received from the status service . Icons and are delivered indicators indicating that the last message sent from the device was received at the recipient s device again based on a status update notification received from the status service .

The client messaging application may be configured to permit the user to filter or sort messages according to different criteria. In a further user interface for the same application shown in is illustrated in which the contents of the message listing have been filtered to display sent items only. Thus only conversations and are displayed with their corresponding icons and . Thus the user can easily identify which of his or her recipients has read the messages sent by the user and can determine whether any other action needs to be taken to ensure that the recipient reads and responds to the message.

In it may be noted that one sent message is not denoted with either a delivered or read status icon. This may be the case where the recipient of the message received the message at a receiving device that is not configured with its own corresponding status agent or at a receiving device that may be provided with a status agent but where the receiving messaging application is not configured to interact with the status agent to provide status updates to the status service . If no status is available for the sent message the messaging application defining the user interface may be configured to display a notification to the user of the device that the recipient is not using an application or device supporting status agents. Thus as shown in the user interface of a notification is displayed adjacent to the message . This notification may comprise a user interface element that is actuatable for example by means of a tap or click using a user input interface such as a touchscreen trackpad or button to invoke an instruction on the device to transmit a message to the recipient of the message to download an appropriate application supporting the status agent or to procure a communication device that is configured with a status agent .

The status service also waits for a read status notification at . When the notification is received this new read status is pushed to the device s status agent at and no further updates are expected at . Thus after a further expiry period the status service may purge the record for that message ID from its store. The status service however may retain its records for a period of time for use in audits or diagnostic activities. Also although not shown in an expiry time may be associated with waiting for the read status notification at . If no read notification is received within a given period of time such as 1 week or one month the record for that message ID may be automatically purged from the status service .

As another alternative in some embodiments a message or other data entity may be defined with a expiration date after which date the message is automatically deleted or from the originating device s message store and or the recipient device s message store. This expiration date may be included in the outbound message notification received by the status service at and stored together with the message ID at . If the expiration date is reached prior to receipt of one or both of the delivered and read status notifications from the receiving device then the record comprising the message ID is deleted at the status service and no further status notifications are transmitted to the originating device .

Because outbound message and status notifications are transmitted asynchronously and network delays may occur it is conceivable that in some circumstances status updates may be received by the status service before the corresponding outbound message notification is received. Thus as shown in if the status update from a receiving device is initially received at the status service at the status service first determines at whether the message ID in the status update matches a stored message ID. If there is a match the status service then pushes the status update to the status agent . If however there is no match at the status service stores the status update in association with the message ID and awaits receipt of an outbound message notification from the originating device . If a timeout occurs at then the status update is discarded at . The timeout and deletion of the status update may be carried out as part of a period maintenance routine at the status service. For example on a periodic basis e.g. once per day any records associated with expired timeout periods or past expiration dates are deleted.

A communication device may have more than one messaging or data consuming application installed that makes use of the same types of messages. For example email messages received at a communication device associated with a given user account may be retrieved from a common message store by two different email applications. In that case when the status agent provides the status notification to the messaging application that initiated the outbound message notification the messaging application can then update the message in the common message store. Thus when the second messaging application accesses the same message the current status will retrieved by the second messaging application. However if the messaging applications do not update the message store but rather maintain a separate store of status information for its messages provision of the status update by the status agent to the first messaging application will not result in the update being provided to the second messaging application.

Thus turning to the status agent may be configured to provide updates to multiple applications. Each application on the device that is configured to implement status notifications in conjunction with the status agent may register with the status agent each providing an interface or method to be called for passing status updates to the application. Then a message is transmitted from a first messaging application at and the status agent is notified at . The notification to the status agent includes not only the message ID but also an indicator of the message type transmitted by the messaging application . For example a flag or other code may be appended to the message ID or passed as a separate parameter to the status agent . The status agent receives the outbound message notification from the first messaging application at and transmits a notification to the status service at . The notification transmitted to the service need not include the message type indicator. As described above the status agent receives a status update from the status service at . The status agent determines upon looking up the message ID received in the status update that the message ID is associated with a particular message type. A second messaging application is also registered with the status agent to receive status updates for that message type. Therefore at rather than simply providing the status update to the first application the status agent provides the update to both the first and second applications each of which receives the update respectively at and updates its status store at . If one of the applications is currently displaying the message for which a status update was received then at or the application updates its display of the message to reflect the new status.

As noted above in the foregoing embodiment the data passed to the status service is relatively lightweight including at a minimum the message ID an address for the originating device and a status e.g. delivered . In some embodiments the status notification does not comprise any further data except for optionally a checksum or another redundancy check value for data integrity thus minimizing the amount of data to be transmitted to or from the sending and receiving devices . When the message is a unicast message no identification of the receiving device or recipient address is necessary to provide adequate status information to the originating device . However where a single message is transmitted from the originating device but is addressed and or subsequently delivered by the messaging infrastructure to a number of recipients such as a multicast or broadcast message additional information is provided to the status service to track delivered and read status of each message endpoint. For example when an email message is transmitted from the originating device having a number recipients defined in one or more of the to cc and bcc fields or when a message of a different format addressed to a group comprised of multiple recipients is transmitted identifiers for each of the recipients can be provided to the status service . An implementation of the above status tracking and management system for group messages is described with reference to and following.

A typical scenario in which a message M is multicast is illustrated in . The originating device transmits a single message addressed to a group of recipients to the messaging infrastructure where separate messages are thereafter directed to each of the individual recipients. The generation and addressing of multicast messages will be understood by those skilled in the art. The message M may be addressed at the originating device by specifying a number of recipient addresses or destinations as would be done in an email addressed to several recipients or by specifying a group address or identifier. When the message is received at a server or other relay point in the messaging infrastructure the member recipient addresses referenced by the group address or identifier are used to direct copies of the message to the individual addressees. Thus at the originating device a single instance of the message M exists in the device s message store while a copy of the message M also exists a number of endpoints the receiving devices and . Each of the copies of the message M includes an identification of the recipients of the message whether by means of their individual addresses or by a group address or identifier from which each device can determine the identity of the individual members by address or other identifier. Each device may identify the other individual members by querying a local contact data store for example a contact data store maintained by the messaging application to track group membership.

Multicast messages of this type may be implemented for communications among all members of a defined group for example in an instant messaging context. A group of members is defined which in the embodiments described herein can include the users of the originating device and the receiving devices and for use with an instant messaging application implemented on each of the devices. When the group chat mode of the instant messaging application is invoked any messages composed and transmitted from any of the devices while in that mode are transmitted via the messaging infrastructure to all of the members of the group. Thus every member of the group provided their respective communication device is serviced by an appropriate network and is able to receive messages from the infrastructure will receive the same set of messages. A group may comprise two or more members. In some embodiments the set of recipients comprising the group members is defined prior to transmission of the first message in the group communication session. In other embodiments group members may be added after the initial transmission and may then receive at least the subsequent messages addressed to the group.

In this scenario the status service here illustrated without additional components such as the push service or other network infrastructure components for ease of reference may still be used to track and manage the status of the messages M sent to the receiving devices and . In once the message has been transmitted by the originating device an outbound message notification is transmitted to the status service generally in the manner described above with reference to via the originating device s status agent including the message ID and a sender identifier. The originating device and the receiving devices and in this embodiment are each provided with a corresponding status agent and messaging and other applications . . . and communication flow follows the process illustrated in . At this initial stage the data received by the status service that may be stored in its data store includes the information illustrated in table which represents example data that may be stored in a record of the status service s data store. In this example the data includes a message ID msg ID a sender identifier sender ID referring to the identity of the sender of a message or of a delivered or read status notification and a status indicator. While in these figures the sender identifier is illustrated as an email address the identifier may be a different type of address or identifier such as a mobile number PIN personal identification number or other numeric or alphanumeric address. The sender identifier need not be provided or stored as a separate object from the message ID. For example the outbound message notification may be generated by the status agent such that the sender identifier is appended to the message ID. For the sender of the original message M the status stored at the service system is represented as sent .

The user interface contains a conversation within a defined group of recipients including the sender of the message i.e. the user of the sending device as well as three other recipients and . Avatars or other icons or graphics representative of the other recipients or group members are displayed in a display panel here disposed across the bottom of the screen and overlaying a portion of the conversation window in which the instant messages are displayed. When the number of avatars or other icons representing group members is too large to be displayed at once within the display panel the display panel is scrollable so that other recipients can be displayed. The avatars and in this example correspond to the other recipients who have communicated in the displayed conversation see messages and while no message from the user represented by the first avatar is displayed. At this stage there is no notification that any of the group members have received or read the most recently sent message .

In some circumstances not every device will receive a status update notification from the status service at the same time since one or more of the devices may be out of wireless coverage powered off and so forth. The status service or the push service used to deliver status update notifications may queue undeliverable notifications until such time that the device re enters a wireless coverage area or is otherwise able to receive notifications. In the meantime however the device that fails to receive a status update notification will not display the same delivery read status badges as the other devices within the group.

The foregoing implementation thus provides for delivered and read status notifications for group instant messaging contexts without requiring numerous messages to be delivered from each participating device to every other device. Without the above solution implemented with the devices status agents and the status service in order to advise all members of the group that one of the members had received and or read a message a confirmation message would need to be transmitted from one device to each of the other participating devices a total of three messages when four devices are participating in the group chat. If two of the member devices experienced a status change at the same time then a total of six messages would need to be transmitted among the devices to update the others. Transmitting these additional messages would result in increased battery or power consumption at that device and increase the burden on the messaging infrastructure . With the status service however status updates reflecting changed statuses at two member devices may still be distributed among the four member devices simply by pushing the same message to all four devices one time. Because the status service provides the status update notifications to be pushed to the four devices reliance on the messaging infrastructure for delivering status update messages is reduced. It will be appreciated by those skilled in the art that although the group messaging embodiments herein are described with reference to a multicast message these embodiments may also be implemented with other types of multi party communication using other protocols or methodologies.

Attachments including video audio and file attachments such as calendar invitations may be implemented in conjunction with instant messaging to provide users with a richer communication experience. A member of a group may thus create and attach a calendar invitation to an instant message to be sent to all other members of the group. The other members can accept or decline the invitation or indicate tentative attendance and the event defined by the invitation can be added to the recipient s calendar implemented on the recipient s communication device using methods known in the art. The attachment itself may not be transmitted over the same path as the instant message as the attachment may be larger in size. Instead the attachment can be transmitted vial email while the instant messages continue to be delivered to devices using a push based system. Methods of handling attachments and delivering them to other devices for use in an instant messaging context will be known to those skilled in the art.

The handling of calendar invitation accept and decline messages can be integrated with the presentation of delivered read notifications. Turning to a graphical user interface displaying a calendar event is shown. The invitation for this calendar event may have been transmitted as an attachment to an instant message group turning briefly to it can be seen that the last message includes a calendar icon indicating that an attachment was associated with that message. Thus in the graphical user interface includes a display overlay visually identifying members of the group to whom the invitation was sent. Because the invitation was sent in the instant messaging context the display overlay may include badges indicating the last status of the group member with respect to the last message transmitted to the group . The graphical user interface shown here on the display of device includes the same badges and as shown in C. Since the invitation was included with the last message the badges thus indicate that two recipients had read the message associated with the invitation while one recipient had not yet read it.

The result of the acceptance can be seen in which illustrates a user interface in which the calendar invitation is shown as being accepted by the second recipient as indicated by the changed badge which now depicts a check mark indicating that the calendar invitation was accepted. The other badges and continue to indicate that the first recipient has received the message associated with the invitation and that the third recipient has read the message . Thus at this stage the user of the device knows that one recipient has confirmed attendance at the scheduled event and can infer that the first recipient is not aware of the invitation while the third recipient is aware of the invitation but has not yet replied or is ignoring the invitation. With conventional calendar applications only responses to the calendar invitation are displayed when recipient attendance is viewed meaning that the user may not be able to infer whether non responsive recipients will attend.

By contrast the effect of combining both the delivered read status of the message associated with the invitation with confirmed responses to the invitation itself provides the user of the device with improved knowledge concerning the likely intentions of the invitees without requiring the user to initiate further contact with the others. For example the user may infer that the first recipient will not attend at all since the message was not read as indicated by the badge . The user may also infer that the third recipient will attend because the message had been read as indicated by the badge and the third recipient had participated in the conversation leading to the message see for example message .

The communication flow between two devices the originating device now device and a receiving device is further illustrated in . The originating device using its status agent not shown transmits a read notification for the message to the status service . The status service responds with an acknowledgement . Further the originating device also transmits a response to the calendar invitation in this case declining the invitation which is delivered to the messaging infrastructure . An acknowledgement of that response is received by the device

The messaging infrastructure thereafter transmits the declined invitation response to the receiving device at and an acknowledgement may then be received by the messaging infrastructure confirming receipt of the response. At around the same time the status service has the status update notification indicating that the message has been read transmitted to the status agent of the receiving device . The update may be acknowledged at . The status update is thereafter provided to the client application at . Thus the client application receives two notifications or responses a response to the calendar invitation itself as well as a notification that the message associated with the invitation has been read.

Given the two types of status or responses associated with the recipient at device the client application may display the current status of the recipient in one of two ways either the recipient may be indicated as having read the message or else the recipient may be indicated as having declined the invitation. The response to the calendar invitation therefore takes precedence over the read status of the message since the calendar invitation response constitutes an explicit response. A process for determining how to update the display of the messaging application is illustrated in . At the application displays the group members for example in an overlay as illustrated in the accompanying figures. At it is determined whether a response to an invitation associated with the message has been received. If not the current delivered read status of the messages is retrieved and displayed at . If there is an invitation response available then at the response is retrieved and indicated in the display. An example of the resultant graphical user interface is shown in . Within the overlay the first recipient is shown as having declined the invitation by badge . The second recipient is shown as having accepted the invitation as indicated by the badge . Finally the third recipient has neither accepted nor declined the invitation but has merely read the message as indicated by the badge

The embodiments described herein for implementation on a computing device may be implemented on a communication device such as that illustrated in . The communication device may communicate with other devices over a wireless communication system. The communication device may be a mobile device with two way communication and advanced data communication capabilities including the capability to communicate with other mobile devices or computer systems through a network of transceiver stations. The communication device can also have voice communication capabilities. However it will be appreciated by those skilled in the art that the foregoing embodiments do not require a dual mode communication device it is sufficient for the device to be provisioned for data communication only via a fixed or wireless connection. Wireless connectivity may be provided by means of on board communication hardware such as the communication subsystems described below or using accessories such as a wireless dongle or mobile hotspot device not shown.

The communication subsystem receives messages from and sends messages to a wireless network . In this example embodiment of the communication device the communication subsystem is configured in accordance with one or more of Global System for Mobile Communication GSM General Packet Radio Services GPRS standards Enhanced Data GSM Environment EDGE and Universal Mobile Telecommunications Service UMTS . New standards are still being defined but it is believed that they will have similarities to the network behavior described herein and it will also be understood by persons skilled in the art that the embodiments described herein are intended to use any other suitable standards that are developed in the future. The wireless link connecting the communication subsystem with the wireless network represents one or more different Radio Frequency RF channels operating according to defined protocols specified for GSM GPRS EDGE or UMTS and optionally other network communications. With newer network protocols these channels are capable of supporting both circuit switched voice communications and packet switched data communications.

Other wireless networks can also be associated with the communication device in variant implementations. The different types of wireless networks that can be employed include for example data centric wireless networks voice centric wireless networks and dual mode networks that can support both voice and data communications over the same physical base stations. Combined dual mode networks include but are not limited to Code Division Multiple Access CDMA or CDMA2000 networks GSM GPRS networks third generation 3G networks like EDGE HSPA HSPA EVDO and UMTS or fourth generation 4G networks such as LTE and LTE Advanced. Some other examples of data centric networks include WiFi 802.11 Mobitex and DataTAC network communication systems. Examples of other voice centric data networks include Personal Communication Systems PCS networks like GSM and Time Division Multiple Access TDMA systems.

The mobile device may be provided with additional communication subsystems such as the wireless LAN WLAN communication subsystem also shown in . The WLAN communication subsystem may operate in accordance with a known network protocol such as one or more of the 802.11 family of standards developed by IEEE. The communication subsystem may be separate from or integrated with the communication subsystem or with the short range communications module . As noted above voice communication capabilities and connectivity to voice centric networks is not mandatory for the operation of the communication device with the within embodiments. Thus the wireless communication subsystem may be omitted. If so optionally a dongle or other peripheral device not shown may be connected to the device to provide the device with access to the wireless network .

The main processor also interacts with additional subsystems such as a Random Access Memory RAM a flash memory a display other data and memory access interfaces such as an auxiliary input output I O subsystem or a data port a keyboard a speaker a microphone the short range communications and other device subsystems . The communication device may also be provided with an accelerometer which may be used to detect gravity or motion induced forces and their direction. Detection of such forces applied to the device may be processed to determine a response of the device such as an orientation of a graphical user interface displayed on the display assembly in response to a determination of the current orientation of the device .

In some embodiments the user device may comprise a touchscreen based device in which the display interface is a touchscreen interface that provides both a display for communicating information and presenting graphical user interfaces as well as an input subsystem for detecting user input that may be converted to instructions for execution by the device . The touchscreen display interface may be the principal user interface provided on the device although in some embodiments additional buttons variously shown in the figures or a trackpad or other input means may be provided. In one embodiment a transmissive TFT LCD screen is overlaid with a clear touch sensor assembly that supports single and multi touch actions such as tap double tap tap and hold tap and drag scroll press flick and pinch. The touchscreen display interface detects these single and multi touch actions for example through the generation of a signal or signals in response to a touch which may then be processed by the processor or by an additional processor or processors in the device to determine the location of the touch action whether defined by horizontal and vertical screen position data or other position data. Touch location data may include an area of contact or a single point of contact such as a point at or near a center of the area of contact. The touchscreen display interface may be provided with separate horizontal and vertical sensors or detectors to assist in identifying the location of a touch. A signal is provided to the controller shown in in response to detection of a touch. The controller and or the processor may detect a touch by any suitable contact member on the touch sensitive display .

Some of the subsystems of the communication device perform communication related functions whereas other subsystems can provide resident or on device functions. By way of example the display and the keyboard can be used for both communication related functions such as entering a text message for transmission over the network and device resident functions such as a calculator or task list.

A rendering circuit is included in the device . When a user specifies that a data file is to be viewed on the display the rendering circuit analyzes and processes the data file for visualization on the display . Rendering data files originally optimized or prepared for visualization on large screen displays on a portable electronic device display often requires additional processing prior to visualization on the small screen portable electronic device displays. This additional processing may be accomplished by the rendering engine . As will be appreciated by those of skill in the art the rendering engine can be implemented in hardware software or a combination thereof and can comprise a dedicated image processor and associated circuitry or can be implemented within main processor .

The communication device can send and receive communication signals over the wireless network after required network registration or activation procedures have been completed. Network access is associated with a subscriber or user of the communication device . To identify a subscriber the communication device requires a SIM RUIM UICC card i.e. Subscriber Identity Module Removable User Identity Module Universal Integrated Circuit Card or the like or another suitable identity module to be inserted into a SIM RUIM UICC interface in order to communicate with a network. The SIM RUIM UICC card is one type of a conventional smart card that can be used to identify a subscriber of the communication device and to personalize the communication device among other things. Without the SIM RUIM UICC card the communication device is not fully operational for communication with the wireless network . By inserting the SIM RUIM UICC card into the SIM RUIM UICC interface a subscriber can access all subscribed services. Services can include web browsing and messaging such as e mail voice mail Short Message Service SMS and Multimedia Messaging Services MMS . More advanced services can include point of sale field service and sales force automation. The SIM RUIM UICC card includes a processor and memory for storing information. Once the SIM RUIM UICC card is inserted into the SIM RUIM UICC interface it is coupled to the main processor . In order to identify the subscriber the SIM RUIM UICC card can include some user parameters such as an International Mobile Subscriber Identity IMSI . An advantage of using the SIM RUIM UICC card is that a subscriber is not necessarily bound by any single physical mobile device. The SIM RUIM UICC card can store additional subscriber information for a mobile device as well including datebook or calendar information and recent call information. Alternatively user identification information can also be programmed into the flash memory .

The communication device may be a battery powered device including a battery interface for receiving one or more rechargeable batteries . In at least some embodiments the battery can be a smart battery with an embedded microprocessor. The battery interface is coupled to a regulator not shown which assists the battery in providing power V to the communication device . Although current technology makes use of a battery future technologies such as micro fuel cells can provide the power to the communication device .

The communication device also includes an operating system and software components to which are described in more detail below. The operating system and the software components to that are executed by the main processor are typically stored in a persistent store such as the flash memory which can alternatively be a read only memory ROM or similar storage element not shown . Those skilled in the art will appreciate that portions of the operating system and the software components to such as specific device applications or parts thereof can be temporarily loaded into a volatile store such as the RAM . Select other modules may also be included such as those described herein. Other software components can also be included as is well known to those skilled in the art.

The subset of software applications that control basic device operations including data and voice communication applications will normally be installed on the communication device during its manufacture. Other software applications include a message application that can be any suitable software program that allows a user of the communication device to send and receive electronic messages. Various alternatives exist for the message application as is well known to those skilled in the art. Messages that have been sent or received by the user are typically stored in the flash memory of the communication device or some other suitable storage element in the communication device . In at least some embodiments some of the sent and received messages can be stored remotely from the device such as in a data store of an associated host system with which the communication device communicates.

The software applications can further include a device state module a Personal Information Manager PIM and other suitable modules not shown . The device state module provides persistence i.e. the device state module ensures that important device data is stored in persistent memory such as the flash memory so that the data is not lost when the communication device is turned off or loses power.

The PIM includes functionality for organizing and managing data items of interest to the user such as but not limited to e mail contacts calendar events voice mails appointments and task items. A PIM application has the ability to send and receive data items via the wireless network . PIM data items can be seamlessly integrated synchronized and updated via the wireless network with the mobile device subscriber s corresponding data items stored and or associated with a host computer system. This functionality creates a mirrored host computer on the communication device with respect to such items. This can be particularly advantageous when the host computer system is the mobile device subscriber s office computer system. Some or all of the data items stored at the communication device may be indexed for searching on the device either through a corresponding application such as the PIM or another suitable module. In addition the items may be searchable using a unified search process implemented in the device operating system . For example application data items can be encapsulated in a searchable entity class and registered with a unified search engine on the device that executes searches against all registered data repositories on the device based on received queries. The search engine can also be configured to invoke a search process of external resources such as Internet search engines or remote databases.

The communication device also includes a connect module and an information technology IT policy module . The connect module implements the communication protocols that are required for the communication device to communicate with the wireless infrastructure and any host system such as an enterprise system with which the communication device is authorized to interface.

The connect module includes a set of Application Programming Interfaces APIs that can be integrated with the communication device to allow the communication device to use any number of services associated with the enterprise system or with other systems accessible over the network . The connect module allows the communication device to establish an end to end secure authenticated communication pipe with the host system. A subset of applications for which access is provided by the connect module can be used to pass IT policy commands from the host system to the communication device . This can be done in a wireless or wired manner. These instructions can then be passed to the IT policy module to modify the configuration of the device . Alternatively in some cases the IT policy update can also be done over a wired connection.

Other types of software applications can also be installed on the communication device . These software applications can be third party applications which are added after the manufacture of the communication device . Examples of third party applications include games calculators utilities etc.

The additional applications can be loaded onto the communication device through at least one of the wireless network the auxiliary I O subsystem the data port the short range communications subsystem or any other suitable device subsystem . This flexibility in application installation increases the functionality of the communication device and can provide enhanced on device functions communication related functions or both. For example secure communication applications can enable electronic commerce functions and other such financial transactions to be performed using the communication device .

The data port enables a subscriber to set preferences through an external device or software application and extends the capabilities of the communication device by providing for information or software downloads to the communication device other than through a wireless communication network. The alternate download path can for example be used to load an encryption key onto the communication device through a direct and thus reliable and trusted connection to provide secure device communication. The data port can be any suitable port that enables data communication between the communication device and another computing device. The data port can be a serial or a parallel port. In some instances the data port can be a USB port that includes data lines for data transfer and a supply line that can provide a charging current to charge the battery of the communication device .

The short range communications subsystem provides for communication between the communication device and different systems or devices without the use of the wireless network . For example the subsystem can include an infrared device and associated circuits and components for short range communication. Examples of short range communication standards include standards developed by the Infrared Data Association IrDA Bluetooth and the 802.11 family of standards.

In use a received signal such as a text message an e mail message or web page download will be processed by the communication subsystem and input to the main processor . The main processor will then process the received signal for output to the display or alternatively to the auxiliary I O subsystem . A subscriber can also compose data items such as e mail messages for example using the keyboard in conjunction with the display and possibly the auxiliary I O subsystem . The auxiliary subsystem can include devices such as a touchscreen mouse track ball infrared fingerprint detector or a roller wheel with dynamic button pressing capability. The keyboard may be an alphanumeric keyboard and or telephone type keypad. However other types of keyboards can also be used. A composed item can be transmitted over the wireless network through the communication subsystem . It will be appreciated that if the display comprises a touchscreen then the auxiliary subsystem may still comprise one or more of the devices identified above.

For voice communications the overall operation of the communication device is substantially similar except that the received signals are output to the speaker and signals for transmission are generated by the microphone . Alternative voice or audio I O subsystems such as a voice message recording subsystem can also be implemented on the communication device . Although voice or audio signal output is accomplished primarily through the speaker the display can also be used to provide additional information such as the identity of a calling party duration of a voice call or other voice call related information.

The communication subsystem component may include a receiver transmitter and associated components such as one or more embedded or internal antenna elements Local Oscillators LOs and a processing module such as a Digital Signal Processor DSP in communication with the transmitter and receiver. Signals received by an antenna through the wireless network are input to the receiver which can perform such common receiver functions as signal amplification frequency down conversion filtering channel selection and analog to digital A D conversion. A D conversion of a received signal allows more complex communication functions such as demodulation and decoding to be performed in the DSP. In a similar manner signals to be transmitted are processed including modulation and encoding by the DSP then input to the transmitter for digital to analog D A conversion frequency up conversion filtering amplification and transmission over the wireless network via an antenna. The DSP not only processes communication signals but also provides for receiver and transmitter control including control of gains applied to communication signals in the receiver and the transmitter. When the communication device is fully operational the transmitter is typically keyed or turned on only when it is transmitting to the wireless network and is otherwise turned off to conserve resources. Similarly the receiver is periodically turned off to conserve power until it is needed to receive signals or information if at all during designated time periods. Other communication subsystems such as the WLAN communication subsystem or a WPAN communication subsystem not shown may be provided with similar components as those described above configured for communication over the appropriate frequencies and using the appropriate protocols. The particular design of the communication subsystem or other communication subsystem is dependent upon the communication network with which the communication device is intended to operate. Thus it should be understood that the foregoing description serves only as one example.

The host or enterprise system comprises a number of network components not shown connected to each other by a network. Within the system for example user including administrator computers may be situated on a LAN connection and one or more of these desktop computers can be provided with connection facilities for loading information e.g. PIM data private symmetric encryption keys to facilitate secure communications from the user computer to the communication device and can be particularly useful for bulk information updates often performed in initializing the communication device for use. To facilitate the operation of the communication device and the wireless communication of messages and message related data between the communication device and components of the host system a number of wireless communication support components are provided within the system not shown . In some implementations the wireless communication support components can include one or more data stores a message management server a mobile data server a web server such as Hypertext Transfer Protocol HTTP server a contact server and a device manager module including an information technology policy server and editor. HTTP servers can also be located outside the host or enterprise system as indicated by the HTTP server attached to the network . Those skilled in the art know how to implement these various components. Other components can also be included as is well known to those skilled in the art.

The communication device s access to IP networks and to a public switched telephone network PSTN if applicable can be provided through the wireless network which comprises one or more nodes configured for communication in accordance with a suitable mobile telephony standard. In turn the wireless network provides the communication device with connectivity to the Internet or other public wide area network and thence to the host or enterprise system . At the same time if the communication device is a multiple mode device it may also communicate with the host or enterprise system over an enterprise LAN or WLAN represented by the access point . It will be appreciated by those skilled in the art however that access to the host system need not be limited to access via the enterprise network whether wireless or not . Instead the communication device may access the host or enterprise system over another network such as the wide area IP network via different access means such as an access point located at the communication device user s home or at a public or private Wi Fi hotspot.

In this example embodiment the communication device communicates with the host or enterprise system through node of the wireless network and a shared network infrastructure such as a service provider network or the public Internet. Access to the host or enterprise system can be provided through one or more routers not shown and computing devices of the host or enterprise system can operate from behind a firewall or proxy server . A proxy server provides a secure node and a wireless internet gateway for the host or enterprise system . The proxy server intelligently routes data to the correct destination server within the host or enterprise system .

For some wireless networks or LANs the communication device may be registered or activated with the respective network. A process for identifying a subscriber to a cellular network using a SIM or other identifier card is described above. Other methods of registering or identifying the communication device to various networks will be known to those of ordinary skill in the art. However registration or activation may not be required for all wireless networks LANs or WLANs as some networks may allow access without prior registration or activation. The communication device may also be provisioned or configured to access one or more networks. Methods of provisioning services on a communication device will be generally known to those skilled in the art but as a non limiting example a request for registration may be sent from the communication device to a registration server of a service not shown . If the request is approved the registration server may transmit to the communication device a service book or similar data item containing data and instructions to enable the communication device to provision the service. The service book when received at the communication device may be self executing and permits the user to enter account information relevant to the associated service. This information is then transmitted from the communication device to a provisioning server of the service provider not shown which then creates a service account associated with the communication device . Provisioning may also be carried out in compliance with the OMA DM Open Mobile Alliance Device Management specification version 1.2 or its predecessor or successor versions published by the Open Mobile Alliance Ltd.

One or more online services are accessible over the network by the communication devices by user devices connected to the host or enterprise system LAN or by other user devices not shown in . A push service here represented by push server is accessible by the status service illustrated with data store other components such as the communication interface subscription manager acknowledgement module and push module may be included within the push server or in additional components not illustrated . The push server may be integrated within the push service or directly connected to the push service bypassing the public network . However push services may also be provided as a third party service to multiple services over the network including the online service . A push service may also be provided within the host or enterprise system although such a push service will generally deliver push content only to subscriber devices registered with the enterprise.

There is thus provided a method comprising transmitting a multicast message from a sending communication device for delivery to a plurality of recipients detecting by a status agent executing at the sending communication device transmission of said multicast message transmitting by the status agent for receipt by a status service an outbound message notification for said multicast message receiving by the status agent from the status service a status update message for each of the plurality of recipients indicating delivery of the multicast message to a corresponding receiving communication device for each said recipient the status agent providing at the sending communication device a notification of delivery for each of the plurality of recipients.

In another aspect the method further comprises receiving by the status agent from the status service a status update message for each of the plurality of recipients indicating that the multicast message delivered to the corresponding receiving communication device was read at said corresponding receiving communication device and the status agent providing at the sending communication device a notification that the multicast message was read for each of the plurality of recipients.

In still another aspect the method further comprises the sending communication device upon provision of the notification of delivery for one of the plurality of recipients displaying an indicator indicating that said multicast message was delivered to said recipient and upon provision of the notification that the multicast message was read for one of the plurality of recipients displaying an indicator indicating that said multicast message was read by said recipient.

In another aspect detecting transmission of said multicast message comprises the status agent receiving a notification for said multicast message from a messaging application executing on the sending communication device.

In still another aspect detecting transmission of said multicast message comprises the status agent monitoring an outbound message queue for a messaging application executing on the sending communication device.

In yet another aspect the status agent provides the notifications of delivery or the notifications that each said one of the plurality of messages has been read to the messaging application.

The embodiments herein further provide that the method further comprises receiving an inbound message at the sending communication device detecting by the status agent receipt of said inbound message transmitting by the status agent for receipt by the status service a received message notification for said inbound message the received message notification comprising a message identifier and a recipient identifier for the inbound message detecting by the status agent that said inbound message has been read and transmitting by the status agent for receipt by the status service a read message notification for said inbound message thus read the read message notification comprising the message identifier and the recipient identifier.

In another aspect detecting receipt of said inbound message comprises the status agent receiving from a messaging application executing on the sending communication device a notification for said inbound message or alternatively detecting receipt of said inbound message comprises the status agent monitoring an inbound message queue for a messaging application executing on the sending communication device.

In the embodiments described herein the status service comprises one or more servers in communication with the sending communication device at least in part over a wireless network.

Still further the multicast message may be transmitted for delivery to the plurality of recipients via a messaging infrastructure and the status service is separate from the messaging infrastructure.

The embodiments herein further provide a communication system comprising means adapted to store messages means adapted to enable transmission of a multicast message for delivery to a plurality of recipients and to enable receipt of an inbound message and status agent means comprising means adapted to detect transmission of the multicast message means adapted to detect receipt of the inbound message means adapted to detect when the inbound message has been read at the communication system means adapted to enable transmission of for receipt by a status service an outbound message notification for said multicast message once transmission is detected a received message notification for said inbound message once receipt is detected and a read message notification for said inbound message once detected as being read means adapted to enable receipt from the status service of a delivery status update message for each of the plurality of recipients indicating delivery of the multicast message to a corresponding receiving communication system for each said recipient and a read status update message for each of the plurality of recipients indicating that the multicast message delivered to the corresponding receiving communication system was read at said corresponding receiving communication system means adapted to provide a delivery notification for each of the plurality of recipients once a delivery status update message for said recipient has been received and means adapted to provide a read notification for each of the plurality of recipients once a read status update message for said recipient has been received.

In another aspect the means adapted to detect transmission and said means adapted to detect receipt are each configured to monitor a message queue for said multicast message and said inbound message.

In still another aspect said means adapted to detect transmission and said means adapted to detect receipt are each configured to receive a notification for said multicast message and said inbound message from a messaging application executing at the communication system.

In yet another aspect the means adapted to provide the delivery notification and the means adapted to provide the read notification are each configured to provide said notifications to the messaging application.

Still further the communication system may comprise wireless communication means wherein transmission of said multicast message and outbound message notification received message notification and read message notification and receipt of said inbound message delivery status update message and read status update message is carried out using said wireless communication means.

In another aspect the communication system is comprised in a wireless communication device. Alternatively the communication system comprises one or more servers. Still further the communication system may communicate with said status service over a wide area network. In yet a further aspect the multicast message and the inbound message are instant messages.

There is also provided a communication system comprising at least one data store for storing messages a communications module for transmitting a multicast message for delivery to a plurality of recipients and for receiving an inbound message and one or more processors in communication with said at least one data store and said communications module the one or more processors being configured to execute a status agent adapted to detect transmission of the multicast message detect receipt of the inbound message detect when the inbound message has been read at the communication system initiate transmission of for receipt by a status service an outbound message notification for said multicast message once transmission is detected a received message notification said inbound message once receipt is detected and a read message notification for said inbound message once detected as being read receive via the communications module from the status service a delivery status update message for each of a plurality of recipients indicating delivery of the multicast message to a corresponding receiving communication device for each said recipient and a read status update message for each of the plurality of recipients indicating that the multicast message delivered to the corresponding receiving communication device was read at said corresponding receiving communication device provide a delivery notification for each of the plurality of recipients once a delivery status update message for said recipient has been received and provide a read notification for each of the plurality of recipients once a read status update message for said recipient has been received.

In another aspect the status agent is adapted to detect transmission and detect receipt by monitoring a message queue for said multicast message and said inbound message. Alternatively the status agent is adapted to detect transmission and detect receipt by receiving a notification for said multicast message and said inbound message from a messaging application executing at the communication system.

Further the communications module may be a wireless communications module and transmission of said one or more transmitted messages outbound message notifications received message notifications and read message notifications and receipt of said one or more received messages delivery status update messages and read status update messages is carried out using said wireless communications module.

The communication system may be comprised in a wireless communication device or may be comprised in one or more servers. The communication system may communicate with said status service over a wide area network.

The embodiments described herein also provide a status service system for managing status notifications for multicast messages the status service system comprising means adapted to receive over a network an outbound message notification from a sending communication device for a multicast message addressed to a plurality of recipients means adapted to receive over the network a received message notification from each of a plurality of receiving communication devices each received message notification indicating receipt of the multicast message by a corresponding one of the plurality of recipients means adapted to receive over the network a read message notification from each of the plurality of receiving communication devices each read message notification indicating that the multicast message has been read by the corresponding one of the plurality of recipients reconciliation means adapted to reconcile each of said received message notifications and each of said read message notifications with the outbound message notification to identify the sending communication device means adapted to transmit to the sending communication device a delivery status update message for each of the plurality of recipients once a received message notification for said recipient has been received and means adapted to transmit to the sending communication device a read status update message for each of the plurality of recipients once a read message notification for said recipient has been received.

In one aspect the status service further comprises registration means adapted to register the sending communication device and each one of the plurality of receiving communication devices with the status service system.

There is also provided a status service system for managing status notifications for multicast messages the status service system comprising at least one data store configured to store outbound message notification data a communication subsystem configured to communicate over a network and one or more processors in communication with the at least one data store and the communication subsystem the one or more processors being configured to receive using the communication subsystem an outbound message notification from a sending communication device for a multicast message addressed to a plurality of recipients receive using the communication subsystem a received message notification from each of a plurality of receiving communication devices each received message notification indicating receipt of the multicast message by a corresponding one of the plurality of recipients receive using the communication subsystem a read message notification from each of the plurality of receiving communication devices each read message notification indicating that the multicast message has been read by the corresponding one of the plurality of recipients reconcile each of said received message notifications and each of said read message notifications with the outbound message notification to identify the sending communication device transmit to the sending communication device using the communication subsystem a delivery status update message for each of the plurality of recipients once a received message notification for said recipient has been received and transmit to the sending communication device using the communication subsystem a read status update message for each of the plurality of recipients once a read message notification for said recipient has been received. The processor may be further configured to register the sending communication device and each one of the plurality of receiving communication devices with the status service system.

There is also provided a system for transmission and receipt of messages the system comprising a sending communication device comprising the communication system as described herein a plurality of receiving communication devices each comprising the communication system as described herein each of the plurality of receiving communication devices being configured to receive messages from the sending communication device via a messaging infrastructure and the status service system as described herein the status service system being configured to communicate with the sending communication device and each one of the plurality of receiving communication devices. In one aspect the status service system is separate from the messaging infrastructure.

There is further provided a method of managing status notifications for multicast messages the method comprising receiving over a network an outbound message notification from a sending communication device for a multicast message addressed to a plurality of recipients receiving over the network a received message notification from each of a plurality of receiving communication devices each received message notification indicating receipt of the multicast message by a corresponding one of the plurality of recipients receiving over the network a read message notification from each of the plurality of receiving communication devices each read message notification indicating that the multicast message has been read by the corresponding one of the plurality of recipients reconciling each of said received message notifications and each of said read message notifications with the outbound message notification to identify the sending communication device transmitting to the sending communication device a delivery status update message for each of the plurality of recipients once a received message notification for said recipient has been received and transmitting to the sending communication device a read status update message for each of the plurality of recipients once a read message notification for said recipient has been received. In a further aspect the method further provides for registering the sending communication device and each one of the plurality of receiving communication devices with the status service system.

In the embodiments described herein the outbound message notification comprises a message identifier and a sender identifier for the multicast message. Further the multicast message the inbound message or both are instant messages. Still further the sending communication device and any receiving communication device may be a wireless communication device.

The systems and methods disclosed herein are presented only by way of example and are not meant to limit the scope of the subject matter described herein. Other variations of the systems and methods described above will be apparent to those in the art and as such are considered to be within the scope of the subject matter described herein. For example it should be understood that steps and the order of the steps in the processing described herein may be altered modified and or augmented and still achieve the desired outcome. Throughout the specification terms such as may and can are used interchangeably and use of any particular term should not be construed as limiting the scope or requiring experimentation to implement the claimed subject matter or embodiments described herein.

The systems and methods data may be stored in one or more data stores. The data stores can be of many different types of storage devices and programming constructs such as RAM ROM flash memory programming data structures programming variables etc. It is noted that data structures describe formats for use in organizing and storing data in databases programs memory or other computer readable media for use by a computer program.

Code adapted to provide the systems and methods described above may be provided on many different types of computer readable media including computer storage mechanisms e.g. CD ROM diskette RAM flash memory computer s hard drive etc. that contain instructions for use in execution by a processor to perform the methods operations and implement the systems described herein.

The computer components software modules functions and data structures described herein may be connected directly or indirectly to each other in order to allow the flow of data needed for their operations. Various functional units described herein have been expressly or implicitly described as modules and agents in order to more particularly emphasize their independent implementation and operation. It is also noted that an agent module or processor includes but is not limited to a unit of code that performs a software operation and can be implemented for example as a subroutine unit of code or as a software function unit of code or as an object as in an object oriented paradigm or as an applet or in a computer script language or as another type of computer code. The various functional units may be implemented in hardware circuits comprising custom VLSI circuits or gate arrays field programmable gate arrays programmable array logic programmable logic devices commercially available logic chips transistors and other such components. Modules implemented as software for execution by a processor or processors may comprise one or more physical or logical blocks of code that may be organized as one or more of objects procedures or functions. The modules need not be physically located together but may comprise code stored in different locations such as over several memory devices capable of being logically joined for execution. Modules may also be implemented as combinations of software and hardware such as a processor operating on a set of operational data or instructions.

A portion of the disclosure of this patent document contains material which is or may be subject to one or more of copyright design patent industrial design or unregistered design protection. The rightsholder has no objection to the reproduction of any such material as portrayed herein through facsimile reproduction of the patent document or patent disclosure as it appears in the Patent and Trademark Office patent file or records but otherwise reserves all rights whatsoever.

