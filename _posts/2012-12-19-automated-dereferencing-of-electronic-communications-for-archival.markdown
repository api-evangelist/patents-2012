---

title: Automated dereferencing of electronic communications for archival
abstract: Various methods and systems for automatically obtaining documents that are referenced by an electronic communication, such as an email or instant message, for archival are disclosed. One method involves searching at least a portion (e.g., the header and/or body) of an electronic communication for a reference to a document and, in response to detecting the reference, automatically obtaining an electronic copy of the document. The electronic copy of the document can then be archived.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08788536&OS=08788536&RS=08788536
owner: Symantec Operating Corporation
number: 08788536
owner_city: Mountain View
owner_country: US
publication_date: 20121219
---
This application is a continuation of U.S. patent application Ser. No. 11 647 052 entitled Automated Dereferencing of Electronic Communications for Archival filed Dec. 28 2006 and naming Angshuman Bezbaruah Ankur P. Panchbudhe as the inventors. This application is assigned to Symantec Operating Corporation the assignee of the present invention and is hereby incorporated by reference in its entirety and for all purposes as if completely and fully set forth herein.

This invention relates to managing data and more particularly to archiving electronic communications.

Innovations such as email and instant messaging have changed the way people communicate. These forms of electronic communication allow people to quickly and easily convey information to each other. For example one employee can draft an electronic document and store that document on a server that is accessible to other employees allowing the other employees to access the document at their convenience without having to obtain a physical copy of the document. As another example people can easily send and receive text messages or emails.

As people increase their usage of electronic forms of communication however new problems have begun to arise. One such problem is the management of the electronic communications themselves. For example many corporations archive the emails sent by and received from employees. One purpose of archiving is to preserve the content of each electronic communication at the time each communication was sent and or received. Typical archival systems archive the emails and possibly attachments to those emails. However many emails contain references to other documents e.g. using hyperlinks without actually including those documents as attachments. Thus the referenced documents will not be saved by the archival system. If an archived email containing a reference to for example a web site is later accessed via the archival system the web site may no longer be available or may have been updated subsequent to the sending of the email. Accordingly there may not be a way to obtain a copy of the referenced web site as the web site existed at the time the archived email was sent. As this example shows new techniques for handling archived communications that refer to other documents are desirable.

Various embodiments of methods and systems for automatically obtaining documents that are referenced by an electronic communication such as an email or instant message for archival are disclosed. In one embodiment a method involves searching at least a portion e.g. the header and or body of an electronic communication for a reference to a document and in response to detecting the reference automatically obtaining an electronic copy of the document. The electronic copy of the document can then be archived.

The foregoing is a summary and thus contains by necessity simplifications generalizations and omissions of detail consequently those skilled in the art will appreciate that the summary is illustrative only and is not intended to be in any way limiting. Other aspects inventive features and advantages of the present invention as defined solely by the claims will become apparent in the non limiting detailed description set forth below.

While the invention is susceptible to various modifications and alternative forms specific embodiments of the invention are provided as examples in the drawings and detailed description. It should be understood that the drawings and detailed description are not intended to limit the invention to the particular form disclosed. Instead the intention is to cover all modifications equivalents and alternatives falling within the spirit and scope of the invention as defined by the appended claims.

Dereferencing module is configured to dereference electronic communications. Dereferencing module dereferences an electronic communication by searching for references to other documents within the electronic communication and then obtaining copies of the referenced documents if any. A reference can include a Uniform Resource Locator URL e.g. http followed by www.symantec.com or other Uniform Resource Identifier URI . A reference can also include a file system path name e.g. C WINNT system32 or host123 folder1 file1.pdf .

Dereferencing module identifies references within an electronic communication by searching all or part e.g. the body and or header of the electronic communication for references. Once dereferencing module has identified all references within an electronic communication dereferencing module attempts to obtain copies of the referenced documents if any using the reference e.g. if the reference is a URL a web crawler embedded within dereferencing module can attempt to obtain a copy of the document identified by the URL . Archive server can the store archival copies of the documents obtained by dereferencing module on archive media .

In some embodiments only certain electronic communications are archived and or de referenced. In such embodiments archive server uses policies to determine which electronic communications to archive and or dereference. Also archive server can maintain an index which is used to search archived electronic communications and or documents .

In this example archive server archives electronic communications sent from and or received by messaging client which is implemented on computing device . Messaging client is a client of messaging server . Messaging client can be an email client an instant messaging client a text messaging client e.g. using Short Messaging Service SMS Multimedia Messaging Server MMS or the like BlackBerry client electronic bulletin board client news feed client or any other type of electronic messaging client. Additionally in some embodiments messaging client may implement a facsimile recipient.

Computing device messaging server and archive server are coupled by network . Network can include one or more of a local area network LAN and a wide area network WAN such as the Internet. Network can be implemented using a variety of different topologies and media including electrical optical and or wireless links.

In some embodiments a network appliance is coupled to one of the other components of the system shown in . In this example network appliance is interposed between network and messaging server . Network appliance can intercept electronic communications being conveyed to messaging server and perform various operations e.g. junk mail filtering virus scanning and the like on the intercepted electronic communications.

Policies can identify which electronic communications should be archived. If an electronic communication is not being archived there is no need to dereference that electronic communication. Furthermore it may be desirable to archive but not dereference certain electronic communications. Thus in addition to identifying which electronic communications should be archived policies can identify which electronic communications should be dereferenced.

Some policies can also be applied after dereferencing and before archiving. For example one policy can specify that a document obtained by dereferencing should not be archived if the dereferenced document contains a copyright notice.

In the illustrated system when an electronic communication is sent to the user of messaging client the electronic communication is initially sent to messaging server via network appliance . The user can access the electronic communication via messaging client . At this point both the messaging server and the messaging client can have a copy of the electronic communication.

Archive server can obtain a copy of the electronic communication in a variety of different ways. In one embodiment archive server accesses an application programming interface API provided by messaging server to obtain a copy of the electronic communication. Archive server can routinely e.g. at prespecified intervals poll messaging server in order to obtain copies of new electronic communications received by messaging server subsequent to the last time archive server polled the messaging server.

Alternatively archive server can obtain a copy of an electronic communication by interacting with messaging client . For example messaging client can be configured to forward all or some electronic communications to archive server . Alternatively messaging client can present an API that allows archive server to request electronic communications.

In yet another embodiment all or some of the data stored by computing device is regularly backed up and archive server can obtain copies of electronic communications received by messaging client from a backup of the data stored by computing device . For example the user of computing device may create a backup of one or more emails in a personal folder PST file. Archive server can access the PST file and extract the electronic communication from that PST file.

In the system illustrated in dereferencing module processes each electronic communication that is received by archive server . Dereferencing module can process electronic communications before during or after archival of the electronic communication.

While dereferencing module is shown as part of archive server in the illustrated example it is noted that dereferencing module can alternatively be implemented within any of a variety of different system components. For example dereferencing module can be implemented as part of network appliance messaging server or messaging client . In situations in which dereferencing module is not part of archive server archive server can in some embodiments obtain the documents from the component that includes dereferencing module either dereferencing module can send the documents to archive server as the documents are obtained or archive server can routinely poll dereferencing module for the documents . In other embodiments dereferencing module modifies the electronic communications to include the referenced documents e.g. by incorporating the referenced documents into an unused field within each electronic communication allowing archive server to obtain the referenced documents along with the electronic communications themselves.

In one alternative embodiment dereferencing module is part of network appliance . In this embodiment dereferencing module can dereference electronic communications being sent to and or from messaging server . If it is desired to selectively dereference the electronic communications dereferencing module can maintain its own policies e.g. in an administrator provided configuration file . Dereferencing module can either incorporate the documents obtained by dereferencing into the electronic communications themselves such that the modified electronic communications will be provided to messaging server and then ultimately to archive server store the documents locally to be provided to archive server when the archive server requests them or provide the documents directly to the archive server. If the documents are stored or provided to the archive server directly information identifying the electronic communication that referenced the documents can also be stored or provided in order to allow each document to be correlated with a referencing electronic communication.

In one embodiment archive server is implemented using Enterprise Vault and or IM Manager available from Symantec Corp. of Cupertino Calif. As already noted above archive server can be implemented separately from e.g. on a different computing device than and or as part of a different application than dereferencing module in some embodiments. Additionally in alternative embodiments archive server can be integrated with various other system components such as network appliance messaging server and messaging client .

Interface is configured to obtain electronic communications. For example interface can obtain electronic communications by polling a messaging server for new electronic communications extracting backed up electronic communications from a backup intercepting electronic communications being sent to a messaging server or performing any other technique to obtain a desired set of electronic communications.

Control module controls each of the other components of archive server e.g. by controlling when the other components perform various operations on electronic communications and or how the other components interact with each other . Control module can in some embodiments implement a user interface that allows an archive administrator or user to input and view archival policies perform searches on archived electronic communications view search results and or configure the behavior of archive server .

Policy manager is configured to apply policies to new electronic communications and based on the application of the policies determine whether a given electronic communication should be archived. Policy manager can access a file database or other collection of information that identifies the policies used to determine which electronic communications should be archived and or dereferenced as well as which documents obtained by dereferencing an electronic communication should be archived.

Indexer is configured to generate a search index based upon archived electronic communications as well as archived documents obtained by dereferencing electronic communications. This search index can be used to expedite the performance of user searches for particular information in the archive maintained by archive server .

After a decision is made to dereference an electronic communication e.g. based upon policies as determined by policy manager the communication can be provided to dereferencing module . As noted above dereferencing module includes parser and crawler . When a communication is provided to dereferencing module parser parses the communication s header and or body to identify the references if any within the electronic communication.

Parser identifies references within an electronic communication by searching all or part e.g. the body and or header of the electronic communication for references. For example parser can use regular expressions or other searching techniques that use wildcards to search for common elements of URLs e.g. http any text network paths e.g. any text any text and email addresses e.g. any text any text . any text .

Crawler is configured to obtain documents identified by references found by parser . Crawler can include a web crawler for accessing documents identified by URLs. Various types of documents can be referenced within an electronic communication including web pages portable document format PDF documents spreadsheets e.g. Excel spreadsheet XLS files word processing documents e.g. Word document DOC files text TXT files Word Perfect files WPF and the like and the like. If the document is a web page e.g. a hypertext markup language HTML or extensible markup language XML file both the web page itself and any embedded files audio files graphics files video files or the like can be obtained.

Policy manager can determine which electronic communications should be provided to dereferencing module based upon policies e.g. policies of that control the operation of archive server . Additionally dereferencing module can control which documents identified by references found by parser are actually obtained by crawler based upon the policies. The policies can identify electronic communications to archive and or dereference based upon criteria such as sender receiver subject content size date and the like. For example the policies can indicate that all electronic communications to or from a particular corporate executive or legal officer should be both archived and dereferenced. Similarly the policies can indicate that all electronic communications containing a particular keyword in a header e.g. such as an email or instant message subject line should be archived and dereferenced.

In some embodiments the policies also specify the types of documents e.g. based on file type to actually archive and thus only some of the references identified within an electronic communication may actually be obtained by crawler and or archived by archive server . Dereferencing module and or policy manager can access the policies and selectively control which documents identified by parser are obtained by crawler and or archived by archive server .

The policies can identify documents to archive based upon various characteristics such as file type. Some of these characteristics may not be identifiable until crawler has actually obtained or at least attempted to obtain the document while other characteristics can be identified based on the reference that identifies the document. Examples of characteristics include the Multipurpose Internet Mail Extensions MIME type of the referenced document the size of the referenced document whether the reference identifies a site within an intranet as opposed to identifying a site accessible via an external network . For example one policy can specify that only documents available from the corporate intranet should be archived. Accordingly if a reference identifies a document that is external to the corporate intranet dereferencing module will not cause crawler to obtain that document.

If a decision is made to archive a document referenced by the electronic communication crawler will obtain a copy of that document e.g. for storage on archive media by archive server as shown in . If the reference points to a document e.g. a Word file the whole document will be archived. If the reference points to a web page only the first page i.e. the web page identified by the reference as opposed to any related web pages linked to by the identified web page will be obtained and archived.

If obtaining a copy of a referenced document requires access credentials e.g. a log on name and or password crawler can prompt the user e.g. using email pop ups etc. for the credentials which crawler can use to obtain a copy of and or access the document. If the credentials are needed to open the document e.g. if the document is password protected crawler can cause the credentials to be archived along with the document. In some embodiments crawler is preconfigured e.g. by an administrator to access any web sites and or documents maintained on the intranet of the entity operating archive server .

In some embodiments whenever dereferencing module obtains one or more documents that are referenced in an electronic communication dereferencing module modifies the electronic communication to refer to the documents. This allows the documents to be correlated with the electronic communication after both are archived. For example if the electronic communication is an email the email can be modified to contain a pointer to the storage location within the archive media used to store the archived emails and documents storing the document s referenced by the email.

In some situations a document obtained by crawler may itself contain references to other documents creating a hierarchy of references. For purposes of this discussion the references within the electronic communication itself are referred to as first level references. References within a first level reference are referred to as second level references and so on.

Dereferencing module can in at least some embodiments be configured to dereference documents obtained by dereferencing an electronic communication. For example each time crawler obtains a copy of a referenced document dereferencing module can provide that document to parser . If parser finds any references within the document dereferencing module can provide those references to crawler causing crawler to obtain copies of the referenced documents. The number of levels of dereferencing to perform and which communications and or documents to perform the specified number of levels of dereferencing for can be specified in the policies.

Once crawler has obtained a copy of a document identified by a particular reference crawler can store information e.g. the reference in a table or database or other appropriate storage structure maintained by crawler . Before attempting to obtain a document based on a reference crawler can search this information to make sure that the document has not already been obtained. This can prevent unnecessary document downloads especially in situations in which many electronic communications contain the same reference e.g. as occurs when one email is forwarded to many people within the same organization such that multiple copies of the email each containing the same reference may be provided to archive server .

When archive server archives documents e.g. by storing those documents to a backup archive server can use single instancing techniques to ensure that multiple copies of the same document are not stored. For example each time a document is to be archived archive server can apply a hash function to the document or a portion of the document . If the resulting hash value matches the hash value calculated for an existing document within the archive archive server determines that a copy of the document has already been stored.

In another embodiment archive server can simply search for the document s file name within the archive to determine whether the document has already been archived. In this embodiment archive server can compare information such as file size creation date and modification date to make sure that the document has not been modified subsequent to initially being archived. If the document has been modified archive server can store the new copy of the document despite a version of that document having already been archived.

The method begins at when an electronic communication is received. This electronic communication can be received by an application or device e.g. a messaging client or server a network appliance or an archive server that incorporates the dereferencing module.

A determination can then be made as to whether the electronic communication should be dereferenced as shown at . This determination can be based upon the characteristics e.g. size date of sending and or reception sending and or receiving parties of the electronic communication and or the characteristics e.g. size file type network location and the like of the reference. The particular characteristics to use can be specified in a set of policies e.g. these policies can be created by an administrator and maintained in a file .

It is noted that determination can be omitted from some embodiments. For example in one such embodiment all electronic communications are dereferenced without regard to any policies.

If the electronic communication contains any references as detected at an electric copy of each reference can be obtained as shown at . It is noted that in some embodiments operation is also dependent upon a determination as to whether each of the references should be obtained e.g. based upon the applicable policies if any .

Obtaining an electronic copy of each document as shown at referenced by the electronic communication can involve attempting to contact a web server or file server. In some embodiments if the initial attempt to obtain the document is unsuccessful operation can be reattempted one or more times.

At the electronic copy of each document is archived and at the electronic communication is archived. These operations can be performed by an archive server. Archiving the electronic communication involves storing the electronic communication on an archive media. Archival can also involve updating a database or other metadata to identify the electronic communication and its location on the archive media as well as updating a search index based upon the electronic communication s contents and or characteristics.

Archiving an electronic copy of a document can involve storing the copy of the document on an archive media. Archiving can also involve updating an archival database or other metadata to identify the copy of the document as well as the storage locations storing the copy of the document. If appropriate a search index can also be updated based upon the documents contents and or characteristics.

It is noted that operations and can be performed at the same time at least in part or in a different order than is shown in . For example the electronic communication can be archived prior to archival of the documents referenced in that electronic communication. Similarly other operations of can be performed in different orders and or omitted.

Other operations can be performed in addition to and or instead of those operations shown in . For example as noted above in some embodiments the electronic communication can be modified to contain a new reference that identifies the electronic copy or copies obtained by performing operation e.g. by modifying the electronic communication to include a pointer to a storage location storing the electronic copy or to contain the electronic copy itself. Alternatively an archival database can be updated to identify both the electronic communication and any documents referenced by that electronic communication allowing the copies of the electronic communication and referenced documents in the archive to be correlated with each other.

As illustrated computing device includes one or more processors e.g. microprocessors Programmable Logic Devices PLDs or Application Specific Integrated Circuits ASICs configured to execute program instructions stored in memory . Memory can include various types of RAM Random Access Memory Read Only Memory ROM Flash memory Micro Electro Mechanical Systems MEMS memory magnetic core memory and the like. Memory can include both volatile and non volatile memory. Computing device also includes one or more interfaces . Processor interface and memory are coupled to send and receive data and control signals by a bus or other interconnect.

Interface can include a network interface to various networks and or interfaces to various peripheral buses. For example interface can include a network interface that allows dereferencing module to communicate with an archive server if the dereferencing module is not integrated with the archive server or a messaging server. Thus interface can include an interface to a network such as network of . Interface can also include an interface to one or more storage devices e.g. archive media of . Thus dereferencing module can write documents to an archive media via interface .

In this example program instructions and data executable to implement all or part of dereferencing module are stored in memory . The program instructions and data implementing dereferencing module can be stored on various computer readable media such as memory . In some embodiments such software is stored on a computer readable medium such as a Compact Disc CD Digital Versatile Disc DVD hard disk optical disk tape device floppy disk and the like . In order to be executed by processor the instructions and data can be loaded into memory from the other computer readable medium. The instructions and or data can also be transferred to computing device for storage in memory via a network such as the Internet or upon a carrier medium.

Although the present invention has been described in connection with several embodiments the invention is not intended to be limited to the specific forms set forth herein. On the contrary it is intended to cover such alternatives modifications and equivalents as can be reasonably included within the scope of the invention as defined by the appended claims.

