---

title: Smart proximity priority pairing
abstract: A method for overriding a pairing priority for a slave device connected to a master device, or for connecting a new slave device to the master device and setting a new pairing priority relative to an existing paired slave device over a short-range wireless connection such as BluetoothÂ®. The method includes executing an application and setting a connection priority override on either the slave device or the master device. When a connection between the slave device and master device is requested and negotiated, a priority override is communicated to the master device or queried on the master device, and if the priority override is higher than an existing priority, a connection for that device is completed with the master device, and additional slave devices in a list of last paired devices is adjusted by the master device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09332587&OS=09332587&RS=09332587
owner: BlackBerry Limited
number: 09332587
owner_city: Waterloo, Ontario
owner_country: CA
publication_date: 20120821
---
The present disclosure relates generally to wireless short range communications and more particularly to a methodology for negotiating pairing priority for a plurality of Bluetooth enabled devices predicated on user specified settings.

Typical mobile communications devices such as smart phones tablets and the like are configured for voice and data communications over networks and to execute a variety of applications in such regard. These applications may include but are not limited to the following functions phone media player mapping calendar email instant messaging IM text messaging e.g. for sending and receiving short message service SMS multimedia message MMS messages among others.

Short range wireless connectivity standards technologies enable users to communicatively couple a wide range of devices without the need for physical connectivity. Such expedients provide a high speed mobile connection for the communication of voice and data. Standards include Bluetooth Ultra Wideband UWB IrDA ZigBee WiFi 802.11 and the like.

Bluetooth provides a piconet or Personal Area Network PAN than provides connectivity between a roaster device and a plurality of slave devices such as for mobile phones keyboards headsets and other peripherals. In automotive applications Bluetooth is widely deployed to provide a hands free environment while driving.

Typically a car Bluetooth system provides a pairing priority based on temporal pairing Thus if several passengers carrying phones that have been previously paired to the car system enter the vehicle at the same time the system will assign a priority rank based on the most recently paired phone. If the number of available pairing slots is for example limited to 3 devices where no additional pairing slot is available then the latest paired phone erases the lowest priority and downwardly adjusts the remaining pairing slots to a lower priority. This arrangement has obvious limitations.

For simplicity and clarity of illustration reference numerals may be repeated among the figures to indicate corresponding or analogous elements. Numerous details are set forth to provide an understanding of the illustrative embodiments described herein. The embodiments may be practiced without these details. In other instances well known methods procedures and components hove not been described in detail to avoid obscuring the disclosed embodiments. The description is not to be considered as limited to the scope of the embodiments shown and described herein.

The embodiments described herein generally relate to portable electronic devices. Examples of portable electronic devices include mobile wireless communication devices such as pagers cellular phones Global Positioning System GPS navigation devices and other satellite navigation devices smartphones wireless organizers personal digital assistants and wireless enabled notebook computers. These examples are intended to be non limiting.

In accordance with an aspect of the disclosure a method and device s so configured is disclosed for overriding a pairing priority for a slave device connected to a master device over a short range wireless connection such as Bluetooth . The method includes executing an application and setting a connection priority override on either the slave device or the master device. When a connection between the slave device and master device is requested and negotiated a priority override is communicated to the master device or queried on the master device and if the priority override is higher than an existing priority a connection for that device is completed with the master device and additional slave devices in a list of last paired devices is adjusted by the master device.

In order to facilitate an understanding of one possible environment for implementing illustrative embodiments of the disclosure reference is made to which depicts a block diagram of an exemplary communication system . The communication system comprises a plurality of mobile communication devices which may be networked within system . In this regard several instances of mobile communication devices are depicted in employing different network connections within system . Mobile communication devices are connected to a wireless network which may comprise one or more of a Wireless Wide Area Network WWAN and a Wireless Local Area Network WLAN or other suitable network arrangements. In some embodiments the mobile communication devices are configured to communicate over both the WWAN and WLAN and to roam between these networks. In some embodiments the wireless network may comprise multiple WWANs and WLANs .

The WWAN may be implemented as any suitable wireless access network technology. By way of example but not limitation the WWAN may be implemented as a wireless network that includes a number of transceiver base stations one of which is shown in where each of the base stations provides wireless Radio Frequency RF coverage to a corresponding area or cell. The WWAN is typically operated by a mobile network service provider that provides subscription packages to users of the mobile communication devices . In some embodiments the WWAN conforms to one or more of the following wireless network types Mobitex Radio Network DataTAC GSM Global System for Mobile Communication GPRS General Packet Radio System TDMA Time Division Multiple Access CDMA Code Division Multiple Access CDPD Cellular Digital Packet Data iDEN integrated Digital Enhanced Network EvDO Evolution Data Optimized CDMA2000 EDGE Enhanced Data rates for GSM Evolution UMTS Universal Mobile Telecommunication Systems HSPDA High Speed Downlink Packet Access IEEE 802.16e also referred to as Worldwide Interoperability for Microwave Access or WiMAX or various other networks. Although WWAN is described as a Wide Area network that term is intended herein also to incorporate wireless Metropolitan Area Networks WMAN and other similar technologies for providing coordinated service wirelessly over an area larger than that covered by typical WLANs.

The WWAN may further comprise a wireless network gateway which connects the mobile communication devices to transport facilities and through the transport facilities to a wireless connector system . Transport facilities may include one or more private networks or lines the public Internet a virtual private network or any other suitable network. The wireless connector system may be operated for example by an organization or enterprise such as a corporation university or governmental department which allows access to a network such as an internal or enterprise network and its resources or the wireless connector system may be operated by a mobile network provider. In some embodiments the network may be realised using the Internet rather than an internal or enterprise network.

The wireless network gateway provides an interface between the wireless connector system and the WWAN which facilitates communication between the mobile communication devices and other devices not shown connected directly or indirectly to the WWAN . Accordingly communications sent via the mobile communication devices are transported via the WWAN and the wireless network gateway through transport facilities to the wireless connector system . Communications sent from the wireless connector system are received by the wireless network gateway and transported via the WWAN to the mobile communication devices .

The WLAN comprises a wireless network which in some embodiments conforms to IEEE 802.11x standards sometimes referred to as Wi Fi such as for example the IEEE 802.11a 802.11b and or 802.11g standard. Other communication protocols may be used for the WLAN in other embodiments such as for example IEEE 802.11n IEEE 802.16e also referred to as Worldwide Interoperability for Microwave Access or WiMAX or IEEE 802.20 also referred to as Mobile Wireless Broadband Access . The WLAN includes one or more wireless RF Access Points AF one of which is shown in that collectively provide a WLAN coverage area.

The WLAN comprises a wireless network which in some embodiments conforms to IEEE 802.11x standards sometimes referred to as Wi Fi such as for example the IEEE 802.11a 802.11b and or 802.11g standard. Other communication protocols may be used for the WLAN in other embodiments such as for example IEEE 802.11n IEEE 802.16e also referred to as Worldwide Interoperability for Microwave Access or WiMAX or IEEE 802.20 also referred to as Mobile Wireless Broadband Access . The WLAN includes one or more wireless RF Access Points AP one of which is shown in that collectively provide a WLAN coverage area.

The WLAN may be a personal network of the user an enterprise network or a hotspot offered by an Internet service provider ISP a mobile network provider or a property owner in a public or semi public area for example. The access points are connected to an access point AP interface which may connect to the wireless connector system directly for example if the access point is part of an enterprise WLAN in which the wireless connector system resides or indirectly as indicated by the dashed line if via the transport facilities if the access point is a personal Wi Fi network or Wi Fi hotspot in which case a mechanism for securely connecting to the wireless connector system such as a virtual private network VPN may be required . The AP interface provides translation and routing services between the access points and the wireless connector system to facilitate communication directly or indirectly with the wireless connector system .

The wireless connector system may be implemented as one or more servers and is typically located behind a firewall . The wireless connector system manages communications including email communications to and from a set of managed mobile communication devices . The wireless connector system also provides administrative control and management capabilities over users and mobile communication devices which may connect to the wireless connector system .

The wireless connector system allows the mobile communication devices to access the network and connected resources and services such as a messaging server for example a Microsoft Exchange IBM Lotus Domino or Novell GroupWise email server and a content server for providing content such as Internet content or content from an organization s internal servers and application servers for implementing server based applications such as instant messaging IM applications to mobile communication devices .

The wireless connector system typically provides a secure exchange of data e.g. email messages personal information manager PIM data and IM data with the mobile communication devices . In some embodiments communications between the wireless connector system and the mobile communication devices are encrypted. In some embodiments communications are encrypted using a symmetric encryption key implemented using Advanced Encryption Standard AES or Triple Data Encryption Standard Triple DES encryption. Private encryption keys are generated in a secure two way authenticated environment and are used for both encryption and decryption of data. In some embodiments the private encryption key is stored only in the user s mailbox on the messaging server and on the mobile communication device and can typically be regenerated by the user on mobile communication devices . Data sent to the mobile communication devices is encrypted by the wireless connector system using the private encryption key retrieved from the user s mailbox. The encrypted data when received on the mobile communication devices is decrypted using the private encryption key stored in memory. Similarly data sent to the wireless connector system from the mobile communication devices is encrypted using the private encryption key stored in the memory of the mobile communication device . The encrypted data when received on the wireless connector system is decrypted using the private encryption key retrieved from the user s mailbox.

The wireless network gateway is adapted to send data packets received from the mobile communication device over the WWAN to the wireless connector system . The wireless connector system then sends the data packets to the appropriate connection point such as the messaging server content server or application servers . Conversely the wireless connector system sends data packets received for example from the messaging server content server or application servers to the wireless network gateway which then transmit the data packets to the destination mobile communication device . The AP interfaces of the WLAN provide similar sending functions between the mobile communication device the wireless connector system and network connection point such as the messaging server content server and application server .

The network may comprise a private local area network metropolitan area network wide area network the public Internet or combinations thereof and may include virtual networks constructed using any of these alone or in combination.

A mobile communication device may alternatively connect to the wireless connector system using a computer such as desktop or notebook computer via the network . A link may be provided for exchanging information between the mobile communication device and computer connected to the wireless connector system . The link may comprise one or both of a physical interface and short range wireless communication interface. The physical interface may comprise one or combinations of an Ethernet connection Universal Serial Bus USB connection Firewire also known as an IEEE 1394 interface connection or other serial data connection via respective ports or interfaces of the mobile communication device and computer . The short range wireless communication interface may be a personal area network PAN interface. A personal area network is a wireless point to point connection meaning no physical cables are required to connect the two end points. The short range range wireless communication interface may comprise one or a combination of an infrared IR connection such as an Infrared Data Association IrDA connection a short range radio frequency RF connection such as one specified by IEEE 802.15.1 or the Bluetooth special interest group or IEEE 802.15.3a also referred to as UltraWideband UWB or other PAN connection.

It will be appreciated that the above described communication system is provided for the purpose of illustration only and that the above described communication system comprises one possible communication network configuration of a multitude of possible configurations for use with the mobile communication devices . The teaching of the present disclosure may be employed in connection with any other type of network and associated devices that are effective in implementing or facilitating wireless communication. Suitable variations of the communication system will be understood to a person of skill in the art and are intended to fall within the scope of the present disclosure.

While the present disclosure is primarily described in terms of methods a person of ordinary skill in the art will understand that the present disclosure is also directed to various apparatus such as a handheld electronic device including components for performing at least some of the aspects and features of the described methods be it by way of hardware components software or any combination of the two or in any other manner. Moreover an article of manufacture for use with the apparatus such as a pre recorded storage device or other similar computer readable medium including program instructions recorded thereon or a computer data signal carrying computer readable program instructions may direct an apparatus to facilitate the practice of the described methods. It is understood that such apparatus articles of manufacture and computer data signals also come within the scope of the present disclosure.

The term computer readable medium as used herein means any medium which can store instructions for use by or execution by a computer or other computing device including but not limited to a portable computer diskette a hard disk drive HDD a random access memory RAM a read only memory ROM an erasable programmable read only memory EPROM or flash memory an optical disc such as a Compact Disc CD Digital Versatile Disc DVD or Blu ray Disc and a solid state storage device e.g. NAND flash or synchronous dynamic RAM SDRAM .

Reference is now made to which illustrates a mobile communication device in which example embodiments described in the present disclosure can be applied. The mobile communication device is a two way communication device having at least data and possibly also voice communication capabilities and the capability to communicate with other computer systems for example via the Internet. Depending on the functionality provided by the mobile communication device in various embodiments the device may be a data communication device a multiple mode communication device configured for both data and voice communication a smartphone a mobile telephone or a PDA personal digital assistant enabled for wireless communication or a computer system with a wireless modem.

The mobile communication device includes a controller comprising at least one processor such as a microprocessor which controls the overall operation of the mobile communication device and a wireless communication subsystem for exchanging radio frequency signals with the wireless network . The processor interacts with the communication subsystem which performs communication functions. The processor interacts with additional device subsystems including a display screen such as a liquid crystal display LCD screen with a touch sensitive input surface or overlay connected to an electronic controller that together make up a touchscreen display . The touch sensitive overlay and the electronic controller provide a touch sensitive input device and the processor interacts with the touch sensitive overlay via the electronic controller .

The processor interacts with additional device subsystems including flash memory random access memory RAM read only memory ROM auxiliary input output I O subsystems data port such as serial data port such as a Universal Serial Bus USB data port speaker microphone control keys switch short range communication subsystem and other device subsystems generally designated as . Some of the subsystems shown in perform communication related functions whereas other subsystems may provide resident or on device functions.

The communication subsystem includes a receiver a transmitter and associated components such as one or more antenna elements and local oscillators LOs and a processing module such as a digital signal processor DSP . The antenna elements and may be embedded or internal to the mobile communication device and a single antenna may be shared by both receiver and transmitter as is known in the art. As will be apparent to those skilled in the field of communication the particular design of the wireless communication subsystem depends on the wireless network in which mobile communication device is intended to operate.

The mobile communication device may communicate with any one of a plurality of fixed transceiver base stations of the wireless network within its geographic coverage area. The mobile communication device may send and receive communication signals over the wireless network after the required network registration or activation procedures have been completed. Signals received by the antenna through the wireless network are input to the receiver which may perform such common receiver functions as signal amplification frequency down conversion filtering channel selection etc. as well as analog to digital A D conversion. A D conversion of a received signal allows more complex communication functions such as demodulation and decoding to be performed in the DSP . In a similar manner signals to be transmitted are processed including modulation and encoding for example by the DSP . These DSP processed signals are input to the transmitter for digital to analog D A conversion frequency up conversion filtering amplification and transmission to the wireless network via the antenna . The DSP not only processes communication signals but may also provide for receiver and transmitter control. For example the gains applied to communication signals in the receiver and the transmitter may be adaptively controlled through automatic gain control algorithms implemented in the DSP .

The processor operates under stored program control and executes software modules stored in memory such as persistent memory for example in the flash memory . As illustrated in the software modules comprise operating system software software applications comprising a user interface module and a media player module for providing a media player application. The user interface module renders and displays the GUI of the device in accordance with instructions of the operating system and applications as applicable .

The modules may among other things each be implemented through stand alone software applications or combined together in one or more of the operating system and applications . In some example embodiments the functions performed by each of the above identified modules may be realized as a plurality of independent elements rather than a single integrated element and any one or more of these elements may be implemented as parts of other software applications.

Those skilled in the art will appreciate that the software modules or parts thereof may be temporarily loaded into volatile memory such as the RAM . The RAM is used for storing runtime data variables and other types of data or information as will be apparent to those skilled in the art. Although specific functions are described for various types of memory this is merely one example and those skilled in the art will appreciate that a different assignment of functions to types of memory could also be used.

The software applications may include a range of applications including for example an address book application a messaging application i.e. SMS MMS a calendar application and or a notepad application. In some embodiments the software applications include an email message application a push content viewing application a voice communication i.e. telephony application a map application and a media player application. Each of the software applications may include layout information defining the placement of particular fields and graphic elements e.g. text fields input fields icons etc. in the user interface i.e. the display device according to the application. As described further below with particular reference to illustrative embodiments the applications or modules are so configured to enable enhanced messaging functionality from either an in call or call log UI. Such programming can be implemented by those skilled in the art based on the teachings herein.

In some embodiments the auxiliary input output I O subsystems may comprise an external communication link or interface for example an Ethernet connection. The mobile communication device may comprise other wireless communication interfaces for communicating with other types of wireless networks for example a wireless network such as an orthogonal frequency division multiplexed OFDM network or a GPS transceiver for communicating with a GPS satellite network not shown . The auxiliary I O subsystems may comprise a vibrator for providing vibratory notifications in response to various events on the mobile communication device such as receipt of an electronic communication or incoming phone call or for other purposes such as haptic feedback touch feedback .

In some embodiments the mobile communication device also includes a removable memory card typically comprising flash memory and a memory card interface . Network access typically associated with a subscriber or user of the mobile communication device via the memory card which may be a Subscriber Identity Nodule SIM card for use in a GSM network or other type of memory card for use in the relevant wireless network type. The memory card is inserted in or connected to the memory card interface of the mobile communication device in order to operate in conjunction with the wireless network .

The mobile communication device stores data in an erasable persistent memory which in one example embodiment is the flash memory . In various embodiments the data includes service data comprising information required by the mobile communication device to establish and maintain communication with the wireless network . The data may also include user application data such as email messages address book and contact information calendar and schedule information notepad documents image flies and other commonly stored user information stored on the mobile communication device by its user and other data. The data stored in the persistent memory e.g. flash memory of the mobile communication device may be organized at least partially into a number of databases each containing data items of the same data type or associated with the same application. For example email messages contact records and task items may be stored in individual databases within the device memory.

The serial data port may be used for synchronization with a user s host computer system not shown . The serial data port enables a user to set preferences through an external device or software application and extends the capabilities of the mobile communication device by providing for information or software downloads to the mobile communication device other than through the wireless network . The alternate download path may for example be used to load an encryption key onto the mobile communication device through a direct reliable and trusted connection to thereby provide secure device communication.

In some embodiments the mobile communication device is provided with a service routing application programming interface API which provides an application with the ability to route traffic through a serial data i.e. USB or Bluetooth connection to the host computer system using standard connectivity protocols. When a user connects their mobile communication device to the host computer system via a USB cable or Bluetooth connection traffic that was destined for the wireless network is automatically routed to the mobile communication device using the USB cable or Bluetooth connection. Similarly any traffic destined for the wireless network is automatically sent over the USB cable or Bluetooth connection to the host computer system for processing.

The mobile communication device also includes a battery as a power source which is typically one or more rechargeable batteries that may be charged for example through charging circuitry coupled to a battery interface such as the serial data port . The battery provides electrical power to at least some of the electrical circuitry in the mobile communication device and the battery interface provides a mechanical and electrical connection for the battery . The battery interface is coupled to a regulator not shown which provides power V to the circuitry of the mobile communication device .

The short range communication subsystem is an additional optional component which provides for communication between the mobile communication device and different systems or devices which need not necessarily be similar devices. For example the subsystem may include an infrared device and associated circuits and components or a wireless bus protocol compliant communication mechanism such as a Bluetooth communication module to provide for communication with similarly enabled systems and devices.

A predetermined set of applications that control basic device operations including data and possibly voice communication applications will normally be installed on the mobile communication device during or after manufacture. Additional applications and or upgrades to the operating system or software applications may also be loaded onto the mobile communication device through the wireless network the auxiliary I O subsystem the serial port the short range communication subsystem or other suitable subsystem other wireless communication interfaces. The downloaded programs or code modules may be permanently installed for example written into the program memory i.e. the flash memory or written into and executed from the RAM for execution by the processor at runtime. Such flexibility in application installation increases the functionality of the mobile communication device and may provide enhanced on device functions communication related functions or both. For example secure communication applications may enable electronic commerce functions and other such financial transactions to be performed using the mobile communication device .

The mobile communication device may provide two principal modes of communication a data communication mode and an optional voice communication mode. In the data communication mode a received data signal such as a text message an email message or Web page download will be processed by the communication subsystem and input to the processor for further processing. For example a downloaded Web page may be further processed by a browser application or an email message may be processed by an email message application and output to the display . A user of the mobile communication device may also compose data items such as email messages for example using the touch sensitive overlay in conjunction with the display device and possibly the control buttons and or the auxiliary I O subsystems . These composed items may be transmitted through the communication subsystem over the wireless network .

In the voice communication mode the mobile communication device provides telephony functions and operates as a typical cellular phone. The overall operation is similar except that the received signals would be output to the speaker and signals for transmission would be generated by a transducer such as the microphone . The telephony functions are provided by a combination of software firmware i.e. the voice communication module and hardware i.e. the microphone the speaker and input devices . Alternative voice or audio I O subsystems such as a voice message recording subsystem may also be implemented on the mobile communication device . Although voice or audio signal output is typically accomplished primarily through the speaker the display device may also be used to provide an indication of the identity of a calling party duration of a voice call or other voice call related information.

Referring now to there are depicted a plurality of mobile communications devices e.g. smartphones generally characterized by the reference numerals and an exemplary environment in accordance with aspects of the disclosure. Each device is Bluetooth enabled and may be communicatively coupled to a master device such as for example a vehicle Bluetooth entertainment system or dedicated Bluetooth communications device. When the devices come within range a boundary thereof shown generally at of the master device default pairing places the last paired device at the top of a priority list in the exemplary case shown as device . It will be appreciated by those skilled in the art that the master device may request each device to handshake therewith prior to initiating a negotiation. Thus a security step may be implemented before negotiation takes place. An illustrative environment for implementing aspects of the present disclosure is shown as a vehicle generally denoted by the reference numeral . It should be understood that the boundary range for the connection may vary depending on the respective transmission power of each device in the system and that the pairing request negotiation may take place at a longer range than what is illustrated in the drawing. In accordance with an aspect of the disclosure a priority override is established either by executing a Bluetooth application on the master device or via a Bluetooth application running on the device . Furthermore the master device may be configured so as to dynamically change the priority of any slave device based on user defined settings. Additionally any structured object device may be added in a conventional manner in addition to the exemplary devices shown and described herein. Unknown devices may be dynamically added as new devices. As shown for device application enables the user to set a pairing priority override based upon the user s name phone number a notification i.e. calendar email instant message trigger or the like alert or emergency high priority setting . Thus if device is set to raise its priority to the highest on the master device list by virtue of one of these specified settings being triggered the priority of device will move to the number one rank and sequentially adjust the priority of the other devices downwardly with device in this instance moving to the number one rank followed by c b and d. By another approach and as stated above the Bluetooth application on the master device can set the priority override for devices through a Set Priority function in a similar fashion. For example if the user sets a high priority for emergency alerts then any one of the devices that receives an incoming emergency call or an emergency alert may have its priority raised to the highest. Moreover a hierarchal arrangement may be set wherein a particular device having an alert has a higher priority over another device receiving a simultaneous alert based upon additional conditions such as a user ID or telephone number. In this regard if the user set s Tom s device to a default higher priority in the event of an emergency over Jim s device then Tom s will appear in the number one slot and his device will pair first. A user interface associated with the slave device may be configured to enable the user to optionally select any one of the listed devices for immediate pairing if desired thus overriding and or bumping the currently paired device in the number one position to a lower priority. In this manner the priority settings may be selected and assigned by either the sender or the recipient of respective calls. As each device comes within proximity of the master device it may or may not immediately negotiate a connection. However when a pairing priority request is received such as for example a phone call the device initiates a connection request with the master device to override the existing priority pairing s . It will be appreciated by those skilled in the art that although shown and described herein with respect to Bluetooth a variety of short range mobile communications standards may be employed to implement the functionality and advantages of the present disclosure.

The various embodiments presented above are merely examples and are in no way meant to limit the scope of this disclosure. Variations of the innovations described herein will be apparent to persons of ordinary skill in the art such variations being within the intended scope of the present application. In particular features from one or more of the above described embodiments may be selected to create alternative embodiments comprised of a sub combination of features which may not be explicitly described above. In addition features from one or more of the above described embodiments may be selected and combined to create alternative embodiments comprised of a combination of features which may not be explicitly described above. Features suitable for such combinations and sub combinations would be readily apparent to persons skilled in the art upon review of the present application as a whole. The subject matter described herein and in the recited claims intends to cover and embrace all suitable changes in technology.

