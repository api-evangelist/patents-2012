---

title: Generating query suggestions from user generated content
abstract: An improved query suggestion system can allow a user to more effectively search for items they would like to purchase online. The present invention provides a computer-implemented method for generating query suggestions based on user-generated content. A user may begin an online shopping venture by entering a keyword into the search function on a shopping website or other search engine interface. The search engine can launch a search of user generated content on the Internet, such as product related blogs, product reviews, or question-and-answer articles. The search engine can extract frequently repeated bigrams from the content. The search engine may combine the bigrams to generate candidate composite words and select a final query suggestion list from the candidate words. The query suggestion list is displayed to the user in the search interface. The user may select one of the suggested queries if it more accurately defines his search.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08700621&OS=08700621&RS=08700621
owner: Google Inc.
number: 08700621
owner_city: Mountain View
owner_country: US
publication_date: 20120320
---
The present disclosure relates to online query suggestions and more particularly to a method for generating query suggestions from user generated content.

The retail market has seen a significant amount of growth in online shopping since the advent of the Internet. On the Internet users may search for locate and purchase nearly everything that can be purchased at a physical marketplace.

The difficulty for online shoppers has become identifying the product that they would like to purchase. With the rapidly multiplying outlets for purchasing products available online and the abundance of competing brands and model numbers within a brand it can be difficult for a shopper to locate the product that he desires.

In many existing shopping search engines the user will enter one or more keywords and the search engine will offer a number of suggested queries to assist the user. The user may select one of the queries to enhance his search or he may ignore them and continue the search with his own keyword selection. Currently many search engines gather the suggested queries from the previous queries of other shoppers. However these query suggestions based on historical search entries may not be effective as many shoppers are not knowledgeable enough about the product to enter useful queries. As a result ineffective searches are repeated again and again by subsequent users.

An aspect of the present invention provides a computer implemented method for generating query suggestions based on User Generated Content UGC . A Search Engine System SES can install code on the SES server to interact with the Online Shopping System OSS . A user may begin an online shopping venture by entering a keyword into the search function on a shopping website or other search engine interface. The SES can launch a search of UGC on the Internet such as product related blogs product reviews question and answer articles and other user generated content relating to the product. The SES can extract frequently repeated bigrams from the UGC. The SES may combine the bigrams to generate candidate composite words and select a final query suggestion list from the candidate words. The query suggestion list is displayed to the user in the search interface. The user may select one of the suggested queries if it more accurately defines his search.

Another aspect of the present invention provides a computer program product that is installed on a server located in an SES for generating query suggestions based on UGC. The computer program product includes a non transitory computer readable storage device having computer readable program instructions stored therein. The computer readable program instructions include computer program instructions for recognizing a keyword or phrase entered by a user of the search engine interface searching the Internet for UGC extracting bigrams from the UGC combining the bigrams to generate candidate composite words selecting a final query suggestion list and displaying the query suggestion list to the user.

Another aspect of the present invention provides an apparatus for generating query suggestions based on UGC. The apparatus includes an SES user interface displayed on an OSS web browser application. The SES is configured for offering query suggestions to a user when the user enters a keyword or phrase into the search engine interface. The apparatus includes an SES server configured for recognizing a keyword or phrase entered by a user of the search engine interface searching the Internet for UGC extracting bigrams from the UGC combining the bigrams to generate candidate composite words selecting a final query suggestion list and displaying the query suggestion list to the user.

The exemplary embodiments provide a Search Engine System SES that is operating on an online shopping website. The SES may employ a user interface to allow a user to enter keywords or phrases into the SES. The keywords may be a single word relating to the product for which the user would like to shop two or more related words or a phrase relating to the product. As used throughout the specification any combination of one or more keywords or phrases will be referred to simply as keywords . A user may open the online shopping website and enter keywords related to the product on the SES interface. As used throughout the specification the term product s should be interpreted to include tangible and intangible products as well as services.

The SES searches the Internet for User Generated Content UGC based on the keywords entered by the user. UGC may refer to any content created by users of the product. The content may be in the form of blogs about the product user reviews of the product question and answer sections of a website about the product or any other product related content that might be generated by a user of the product.

The SES can extract bigrams from the UGC. The extracted bigrams may be two word combinations that occur most frequently in the UGC. The exemplary embodiment may require that the number of occurrences of the bigrams be above a minimum threshold to be included in the extracted bigram list. In alternate exemplary embodiments of the invention the SES may extract words or phrases other than two word bigrams. The SES may extract single word unigrams three word trigrams or any other length that the SES may find useful for this method.

The SES generates a list of composite phrases by combining the bigrams into different order combinations. That is the words of each bigram are repeatedly combined with one or more words from other extracted bigrams to form new composite phrases. When a duplicate to an existing composite phrase is generated the SES eliminates the duplicate. The SES evaluates the relevance of each new composite phrase. The SES may evaluate the relevance by counting the number of occurrences in the results of the original keywords search. The composite phrases are sorted by the SES according to the count of the occurrences originality of words contained in the composite phrase or other factors affecting the relevance and usefulness of the suggested queries. The SES may additionally use the process to generate new composite phrases of three or more words.

The SES selects a predetermined number of the composite phrases to present to the user as query suggestions. The SES may determine the number of composite phrases to present based on the space provided by the website on which the SES is operating the number of useful composite phrases generated ease of use for the user or any other criteria that might determine the useful number of query suggestions. The SES presents the selected query suggestions to the user in the user interface or on the OSS website.

The SES may be implemented as a server operating in the SES. The SES can interact with the web browser application of the Online Shopping System OSS or be embodied as a companion application of the web browser application and execute within the web browser application.

Turning now to the drawings in which like numerals represent like but not necessarily identical elements throughout the figures exemplary embodiments of the invention are described in detail.

Referring to the system includes network devices such as a User Generated Content UGC system an Online Shopping System OSS a Search Engine System SES and a user network device associated with a user . Each of the network devices is configured to communication with other network devices via a network .

The user device may be a mobile device for example notebook computer tablet computer netbook computer personal digital assistant PDA video game device GPS locator device cellular telephone smartphone or other mobile device a personal computer or other appropriate technology that includes or is coupled to a web browser application module such as GOOGLE S CHROME MICROSOFT S INTERNET EXPLORER or MOZILLA S FIREFOX. Although depicted in as a web browser application the web browser application may be implemented as non browser type application on the user device where the application can communicate information to and receive information from the network .

In certain exemplary embodiments the web browser application is an HTML5 compliant web browser. HTML5 compliant web browsers include a cross document messaging application programming interface API and a local storage API that previous HTML versions did not have. The cross document messaging API of HTML5 compliant web browsers enables documents such as web pages to communicate with each other. For example a first document can send a message to a second document requesting information. In response the second document can send a message including the requested information to the first document. The local storage API of HTML5 compliant web browsers enables the web browser to store information on a client device upon which the web browser is installed or is executing such as the user device . Websites also can employ the local storage API to store information on a client device. Other web browsers having cross document messaging and or local storage capabilities also may be used in certain exemplary embodiments.

The user can use the web browser application to view download upload or otherwise access documents or web pages via a distributed network .

The network includes a wired or wireless telecommunication system or device by which network devices including devices and can exchange data. For example the network can include a local area network LAN a wide area network WAN an intranet an Internet storage area network SAN personal area network PAN a metropolitan area network MAN a wireless local area network WLAN a virtual private network VPN a cellular or other mobile communication network Bluetooth NFC or any combination thereof or any other appropriate architecture or system that facilitates the communication of signals data and or messages. Throughout the discussion of exemplary embodiments it should be understood that the terms data and information are used interchangeably herein to refer to text images audio video or any other form of information that can exist in a computer based environment.

The web browser application can interact with web servers or other computing devices connected to the network the web server of the UGC system the web server of the OSS and the web server of the SES .

The SES can be used to search the Internet for websites and other Internet accessible data for the purpose of online shopping or other online searching functions. The SES may collect the websites or other online locations of the searched product and display the results to the user. The SES server represents the computer implemented system that the SES employs to perform Internet searches. The SES server can include a set of computer readable program instructions for example using JavaScript that enable the SES to interact with the OSS and the UGC system to search documents websites and other data and submit search results and query suggestions. The SES website may represent any web based interface that allows users to interact with the SES to enter search data and choose from query suggestions. The SES user interface can interact with the website application of the OSS or be embodied as a companion application of the website application and execute within the website application. In certain exemplary embodiments the SES can be implemented in a stand alone configuration in which the user can search multiple merchant online shopping systems .

The user device includes a data storage unit accessible by the web browser application . The exemplary data storage unit can include one or more tangible computer readable media. The data storage unit can be stored on the user device or can be logically coupled to the user device . For example the data storage unit can include on board flash memory and or one or more removable memory cards or removable flash memory.

The OSS utilizes an OSS server . The OSS server may represent the computer implemented system that the OSS employs to configure user accounts create the online marketplace host the SES interface communicate with the SES and complete transactions with the user device . The OSS website may represent any web based interface that allows users to interact with the OSS to search for products browse products and make purchases. The OSS may include a data storage unit accessible by the server of the OSS . The data storage unit can include one or more tangible computer readable storage devices.

The UGC system can employ a UGC system web server . The server may represent the computer implemented system that the UGC system employs to host the UGC system website . The UGC system website may host the UGC for which the SES is searching. The UGC may be blogs user reviews question and answer articles or other content that is related to the product being searched and is created by users or reviewers of the product. The UGC system may include a data storage unit accessible by server of the UGC system . The data storage unit can include one or more tangible computer readable storage devices.

It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers and devices can be used. Moreover those having ordinary skill in the art having the benefit of the present disclosure will appreciate that the user device UGC system OSS and SES illustrated in can have any of several other suitable computer system configurations. For example a user device embodied as a mobile phone or handheld computer may not include all the components described above.

The components of the exemplary operating environment are described hereinafter with reference to the exemplary methods illustrated in . The exemplary embodiments can include one or more computer programs that embody the functions described herein and illustrated in the appended flow charts. However it should be apparent that there could be many different ways of implementing aspects of the exemplary embodiments in computer programming and these aspects should not be construed as limited to one set of computer instructions. Further a skilled programmer would be able to write such computer programs to implement exemplary embodiments based on the flow charts and associated description in the application text. Therefore disclosure of a particular set of program code instructions is not considered necessary for an adequate understanding of how to make and use the exemplary embodiments. Further those skilled in the art will appreciate that one or more acts described may be performed by hardware software or a combination thereof as may be embodied in one or more computing systems.

With reference to in block the user opens a website on an Online Shopping System OSS . The user may access the website by a mobile device for example notebook computer tablet computer netbook computer personal digital assistant PDA video game device GPS locator device cellular telephone smartphone or other mobile device a personal computer or other appropriate technology that includes or is coupled to a web browser application module such as GOOGLE S CHROME MICROSOFT S INTERNET EXPLORER or MOZILLA S FIREFOX.

In block the user locates a search engine user interface on the shopping website . The search engine system may be embodied as a companion application of the website and execute within the website application. Alternatively in an alternate embodiment the website may simply host the user interface of the SES and allow the SES to operate as a separate application.

In block the user utilizes a user interface of the website to enter a keyword or phrase relating to the item for which they are searching. The keywords may be a single word relating to the product for which the user would like to shop two or more related words or a phrase relating to the product. As used throughout the specification any combination of one or more keywords or phrases will be referred to simply as keywords .

In block the SES offers the user suggestions for alternate or additional keyword queries that may more accurately or completely represent the product for which the user is searching. The SES generates the query suggestions from an analysis of User Generated Content UGC accessible on the Internet. The content may be product related blogs user reviews product question and answer articles or other product related content that is user generated. Block will be discussed in more detail with reference to which depicts a method for a SES to offer query suggestions based on UGC according to an exemplary embodiment.

In block the user selects one of the suggested queries to search. The user may alternately ignore the suggested queries and search based on the original keywords or any alternate user entry.

In block the SES will complete the search based on the selection of the user. The results of the search are displayed on the user interface of the online shopping website . The user may select the result that most closely matches the product for which the user was shopping. In certain exemplary embodiments the SES communicates the search results to the user device which presents the search results to the user via a user interface of the user device .

With reference to in block the SES installs computer readable program instructions on the SES server for interacting with the online shopping website of the OSS . Additionally the OSS installs computer readable program instructions on the OSS server for interacting with the SES . In an exemplary embodiment these computer readable program instructions may be implemented as an embedded script such as JavaScript in the OSS server . The OSS may display a user interface of the SES while the SES maintains all of the searching functions on the SES server . Alternately the OSS may embed the SES as an application operating on the OSS server and displaying on the OSS website .

The SES server also comprises computer readable program instructions to interact with the UGC via the network .

In block the SES monitors the user interface keyword entry location on the OSS website and receives the keywords entered by the user . In certain exemplary embodiments when the user conducts a search via a search engine that searches multiple merchant online shopping systems the user may submit the keywords for the search query directly into the SES in which case the SES also may perform functions of the OSS described herein.

In block the SES searches the Internet for UGC relating to the product represented by the keywords. The content may be product related blogs user reviews product question and answer articles or other product related content that is user generated. The UGC may reside on a UGC system server and be accessible through the UGC website . The method employs UGC in the exemplary embodiment to access the features of the product being searched that are most relevant to the user . As the UGC is provided by users of the product the content may be particularly relevant to the users experience and thus may provide query content that may be more applicable to a new user searching for that product than a query based on historical keyword entries. Additionally the UGC system server may search the Internet for other information represented by the keywords such as merchant web sites.

In block the SES extracts bigrams from the UGC. The bigrams extracted may be two word combinations that are repeated often in the UGC. An exemplary embodiment may require that the number of occurrences of the bigrams be above a configurable threshold to be included in the extracted bigram list. The threshold can be established to capture word combinations that statistically represent a useful result for the query. In alternative embodiments the SES may extract words or phrases other than two word bigrams. For example the SES may extract single word unigrams three word trigrams or any other length that statistically represents a useful result for the query. Longer word combinations such as trigrams or four grams may provide more meaningful results. However longer word combinations may result in a reduction in the total number of word combinations extracted. Fewer word combinations may limit the usefulness of the queries generated. The length of the word combinations can be configured to obtain a desired accuracy of the results.

In block the SES generates a list of composite phrases by combining the bigrams into different order combinations. That is one or more words of each bigram are combined with one or more words from other extracted bigrams to form new composite phrases. When a duplicate to an extracted word combination is generated the SES eliminates the duplicate. The SES then evaluates the relevance of each new composite phrase. For example the SES may evaluate the relevance of each new composite phrase by counting the occurrences of the phrase in the UGC similar to evaluating the relevance of the extracted word combinations. In an exemplary embodiment the words of the phrase must appear in a sentence or other portion for example a paragraph table chart or the entire contents of a particular item of the UGC in the same order as the composite phrase to be considered an occurrence. Alternatively this action may still be considered an occurrence even if the words are not consecutive in a sentence providing that the words of the phrase appear in the same order in the sentence or other portion of the UGC as ordered in the new composite phrase. If the composite phrase meets the predetermined threshold for occurrences the composite phrase is added to the list of candidate queries.

In an alternate exemplary embodiment the SES may additionally generate new composite phrases of three or more words. The SES may generate the candidate list of two word composite phrases as described in block and add a third non repeated word to the composite phrases. The third word added to the composite phrase may be selected from a different composite phrase on the candidate list of composite phrases. The newly generated three word composite phrase is evaluated in the same manner as the two word phrases in block . That is the SES may count the occurrences of the phrase in the UGC.

The SES may additionally generate the candidate list of three word composite phrases as described in the alternate exemplary embodiment of block and combine each composite phrase with one or more words in the extracted bigrams to form four word composite phrases. The fourth word added to the composite phrase may be a non repeated word to the composite phrases. The newly generated four word composite phrase is evaluated in the same manner as the two word phrases in block . That is the SES may count the occurrences of the phrase in the UGC.

The SES may continue the process and generate longer composite phrases until the count of occurrences fails to meet a predetermined threshold.

In block the SES selects a final query suggestion list. The SES first sorts the composite phrases. Any phrases that contain duplicate words to another phrase even if the words are in a different order may be removed from the candidate list. A composite phrase that contains a word not found in any of the other composite phrases but meeting the threshold of occurrences can be added to the final query suggestion list to improve the diversity of the results. The remaining composite phrases are sorted according to the count of their occurrences in the original keywords search. The SES compares the candidate list to the user interface on the OSS website and determines the number of suggested queries that are needed. The interface may have a limit on the maximum number of suggested queries that the interface can display. The SES may provide this number if the SES has generated that quantity of acceptable suggested queries. If the SES has not generated the maximum number of suggested queries that meet a predetermined threshold only the number of qualified query suggestions may be provided to the user interface of the OSS website . The number of suggested queries may additionally or alternatively be determined by user configuration or any other suitable factor that may control the quantity of suggested queries.

In block the user interface on the OSS website displays the suggested queries to the user. For example the OSS can communicate the suggested queries to the user device via the network for presentation to the user . After block the method may proceed to block of method as referenced in .

Users may in appropriate circumstances limit or otherwise affect the operation of the features disclosed in the specification. For example users may be given an initial opportunity to opt in or opt out of the collection or use of certain data or the activation of certain features. In addition a user may change the manner in which the features are employed including for situations in which a user may have concerns regarding his privacy. Instructions may be provided to users to notify the users regarding policies about the use of information including personally identifiable information and receipt information and manners in which the users may affect such use of information.

One or more aspects of the invention may comprise a computer program that embodies the functions described and illustrated herein wherein the computer program is implemented in a computer system that comprises instructions stored in a machine readable medium and a processor that executes the instructions. However it should be apparent that there could be many different ways of implementing the invention in computer programming and the invention should not be construed as limited to any one set of computer program instructions. Further a skilled programmer would be able to write such a computer program to implement an embodiment of the disclosed invention based on the appended flow charts and associated description in the application text. Therefore disclosure of a particular set of program code instructions is not considered necessary for an adequate understanding of how to make and use the invention. Further those skilled in the art will appreciate that one or more aspects of the invention described herein may be performed by hardware software or a combination thereof as may be embodied in one or more computing systems. Moreover any reference to an act being performed by a computer should not be construed as being performed by a single computer as the act may be performed by more than one computer. The inventive functionality of the invention will be explained in more detail in the following description read in conjunction with the figures illustrating the program flow.

The exemplary embodiments described herein can be used with computer hardware and software that perform the methods and processing functions described previously. The systems methods and procedures described herein can be embodied in a programmable computer computer executable software or digital circuitry. The software can be stored on computer readable media. For example computer readable media can include a floppy disk RAM ROM hard disk removable media flash memory memory stick optical media magneto optical media CD ROM etc. Digital circuitry can include integrated circuits gate arrays building block logic field programmable gate arrays FPGA etc.

The exemplary methods and acts described in the embodiments presented previously are illustrative and in alternative embodiments certain acts can be performed in a different order in parallel with one another omitted entirely and or combined between different exemplary embodiments and or certain additional acts can be performed without departing from the scope and spirit of the invention. Accordingly such alternative embodiments are included in the inventions described herein.

Although specific embodiments have been described above in detail the description is merely for purposes of illustration. It should be appreciated therefore that many aspects described above are not intended as required or essential elements unless explicitly stated otherwise. Modifications of and equivalent acts corresponding to the disclosed aspects of the exemplary embodiments in addition to those described above can be made by a person of ordinary skill in the art having the benefit of the present disclosure without departing from the spirit and scope of the invention defined in the following claims the scope of which is to be accorded the broadest interpretation so as to encompass such modifications and equivalent structures.

