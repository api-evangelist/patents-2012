---

title: Mobile apparatus and print controlling method
abstract: A mobile apparatus is disclosed. The mobile apparatus includes a user interface unit which is selected with a web page to be printed, an obtaining unit which obtains a size of the selected web page, a calculating unit which calculates a plurality of capture areas regarding the web page based on the obtained size of the web page so that there is not repeated area, an image processing unit which generates a capture image regarding the web page per calculated plurality of capture area, and combines the generated capture images to generate a print image, and a communication interface unit which transmits the generated print image to the image forming apparatus.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09250836&OS=09250836&RS=09250836
owner: SAMSUNG ELECTRONICS CO., LTD.
number: 09250836
owner_city: Suwon-Si
owner_country: KR
publication_date: 20120504
---
This application claims priority benefit from Korean Patent Application No. 2011 0108338 filed in the Korean Intellectual Property Office on Oct. 21 2011 the disclosure of which is incorporated herein by reference.

Embodiments relate to a mobile apparatus and print controlling method and more particularly to a mobile apparatus for printing a webpage in an image capture method and a print controlling method having the same.

In general an image forming apparatus refers to an apparatus which prints print data generated in a terminal such as a computer on recording paper. A copier printer facsimile and multi function peripheral MFP which embodies multi functions of a copier printer and facsimile in one apparatus are examples of such an image forming apparatus.

Nowadays as it is possible to connect to the internet in a mobile apparatus such as a mobile phone PMP and MP3 player it also became possible to perform a printing operation of a webpage in a mobile apparatus. However since a printer driver is not installed in a mobile apparatus unlike in a print controlling terminal such as a PC in a mobile apparatus a printing operation is performed by generating a plurality of capture images of a webpage combining the generated capture images and transmitting the combined images to the image forming apparatus.

More specifically an image is generated by capturing a portion of a webpage while scrolling the webpage by portions using a capture API inside a browser installed in a mobile apparatus cutting out repetitive areas among a plurality of captured images and then combining them.

However this conventional method takes a long time due to the process of cutting out repetitive areas among the plurality of captured images.

In addition the capturing process also takes a long time since capturing a webpage depends on whether or not scrolling is possible. Moreover in the conventional method printing operation itself is not possible in a browser which does not have a capture API.

An aspect of embodiments relates to a mobile apparatus for printing a web page in an image capture method and a print controlling method having the same.

According one or more embodiments there is provided a mobile apparatus connectible to an image forming apparatus and internet may include a user interface unit which is selected with a web page to be printed a size obtaining unit which obtains a size of the selected web page a calculating unit which calculates a plurality of capture areas regarding the web page in such a manner that there is no repeated area based on the obtained size of the web page an image processing unit which generates a capture image regarding the web page per calculated plurality of capture areas and combines the generated capture images to generate a print image and a communication interface unit which transmits the generated print image to the image forming apparatus.

The size obtaining unit may obtain a size of the web page using a size calculation API Application Programming Interface of a web browser which displays the web page.

The calculating unit may divide the web page into a plurality of capture areas by a predetermined capture size in such as manner that there is not repeated area and calculate x y coordinates per divided capture area.

The predetermined capture size may be a size of the web page which can be displayed in the user interface unit in the case of displaying the web page without any expansion.

The image processing unit may control so that the calculated plurality of capture areas are displayed consecutively on the user interface unit and generate a screen displayed consecutively as a capture image.

The image processing unit may control so that the plurality of capture areas are displayed consecutively on the user interface unit using the Javascript function to generate a plurality of capture images.

The image processing unit may combine the generated plurality of capture images to correspond to the capture area and cut out an area which does not correspond to the size of the web page to generate a print image.

The user interface unit may receive information of a size of a paper where the print image is to be printed and the image processing unit may perform at least one processing from among an expansion processing reduction processing and dividing processing on the combined capture image according to the received size of the paper to generate a print image.

According to one or more embodiments there is provided a print controlling method in a mobile apparatus connectible to an image forming apparatus and internet may include being selected a web page to be printed obtaining a size of the selected web page calculating a plurality of capture areas regarding the web page so that there is no repeated area based on the obtained size of the web page generating a capture image regarding the web page per calculated plurality of capture areas combining the generated capture images to generate a print image and transmitting the generated print image to the image forming apparatus.

The obtaining the size may obtain a size of the web page using a size calculation API Application Programming Interface of a web browser which displays the web page.

The calculating may divide the web page into a plurality of capture areas by a predetermined capture size in such a manner that there is no repeated area and calculate x y coordinates per divided capture area.

The predetermined capture size may be a size of a web page area which can be displayed in the user interface unit in the case of displaying the web page without any expansion.

The generating the capture image may control so that the calculated plurality of capture areas are displayed consecutively on the user interface unit and generates a screen displayed consecutively as a capture image.

The generating the capture image may control so that the plurality of capture areas are displayed consecutively on the user interface unit using the Javascript function to generate a plurality of capture images.

The generating the print image may combine the generated plurality of capture images to correspond to the capture area and cut out an area that does not correspond to the size of the web page to generate a print image.

The print controlling method may further include receiving information of a size of a paper where the print image is to be printed and the generating the print image may perform at least one processing from among an expansion processing reduction processing and dividing processing on the combined capture image according to the size of the paper to generate a print image.

Reference will now be made in detail to embodiments examples of which are illustrated in the accompanying drawings wherein like reference numerals refer to like elements throughout. Embodiments are described below by referring to the figures.

In the following description like drawing reference numerals are used for the like elements even in different drawings. The matters defined in the description such as detailed construction and elements are provided to assist in a comprehensive understanding of exemplary embodiments. However exemplary embodiments can be practiced without those specifically defined matters. Also well known functions or constructions are not described in detail since they would obscure the application with unnecessary detail.

With reference to the mobile apparatus may consist of a communication interface unit communication interface a user interface unit user interface a storage unit a size obtaining unit a calculating unit a calculator an image processing unit image processor and a controlling unit a controller . Such a mobile apparatus includes a mobile phone portable media player PMP and MP3 player.

The communication interface unit is formed to connect the mobile apparatus with an external apparatus is connected to an image forming apparatus through Local Area Network LAN the Internet network and wireless communication systems such as global system for mobile communication GSM universal mobile telephone system UMTS and long term evolution LTE .

In addition the communication interface may transmit a print image to the image forming apparatus . More specifically the communication interface may transmit the print image generated in an image processing unit to be explained hereinbelow to the image forming apparatus .

The user interface unit has a plurality of function keys through which a user may set or select various functions that the mobile apparatus supports and displays various information that the mobile apparatus provides. The user interface may be embodied as an apparatus where input and output are embodied simultaneously such as a touch pad and may be embodied as an apparatus through combination of a mouse and a monitor.

The user interface unit displays a web page. More specifically the user interface unit may display a web page received through the communication interface unit according to a control of a web browser installed in the mobile apparatus . Herein the user interface unit may expand reduce and then display the web page according to a control of the user or the web browser. More specifically the web browser installed in the mobile apparatus stores a screen to be displayed in the user interface unit to a display data buffer. Therefore the user interface unit may obtain information stored in the display data buffer and display the web page.

The user interface unit is selected with a web page to be printed. More specifically the user may post a web page address to be printed on a user interface window displayed on the user interface unit and select the web page to be printed. In addition the user may input a print command regarding the displayed web page through the web browser and select the web page to be printed.

In addition the user interface unit may receive information on a size of a paper where the print image is to be printed. More specifically the user interface may receive information on a size of a paper where print image is to be printed for example A4 B5 or width length height length of the print paper .

In addition the user interface unit may set a layout of a print image. More specifically the user may set expansion reduction of the print image location on the print paper on the user interface window provided in the user interface unit.

In addition the user interface unit may display a preview regarding the generated print image. More specifically the user interface unit may display the print image generated in the processing unit to be explained hereinbelow as a preview. The user may check the displayed preview image and determine whether or not to proceed with the print operation.

The storage unit may include a display data buffer. Herein the display data buffer is a configuration of a web browser temporarily storing a screen to be displayed on the user interface unit and the user interface unit may display the web page using the information stored in the display data buffer and the image processing unit to be explained hereinbelow may obtain the information stored in the display data buffer and generate the capture image.

The storage unit may store the capture image. More specifically the storage unit may store the screen displayed on the user interface unit as the capture image.

In addition the storage unit may store the combined capture image. More specifically the storage unit may store the combined capture image regarding the plurality of capture images in the image processing unit to be explained hereinbelow. Herein in the case where there is an unnecessary area in the combined capture image an image from which the unnecessary area has been removed may be stored in the storage unit .

In addition the storage unit may store the generated print image. More specifically the storage unit may store the print image generated in the image processing unit to be explained hereinbelow.

Moreover the storage unit may store a default viewport of the web browser. Herein the default viewport is a pixel count displayed on the user interface unit in a case where there is no additional viewport set on the web page. Default width pixel count per web browser is illustrated in . For example when the web browser is android the default width pixel count is 800 and thus the user interface unit may display 800 pixel width of the web page on one screen.

The storage unit may be embodied as a storage medium inside the mobile apparatus and outer storage medium for example a removable disk including a universal serial bus USB and web server through network.

A size obtaining unit obtains a size of the selected web page. More specifically when the web browser installed in the mobile apparatus has a size calculation API Application Programming Interface the size obtaining unit may obtain a width or height value of the selected web page using the size calculation API. When the selected web page is expanded or reduced and displayed the size obtaining unit may obtain an actual pixel size of the selected web page in proportion to the expansion reduction ratio.

When the web browser installed in the mobile apparatus does not have a size calculation API the size obtaining unit may obtain the size of the selected web page using a Javascript function. More specifically the size obtaining unit may obtain the width and height value of the web page and obtain the size of the selected web page using the Javascript function which enables the obtained width and height value to be stored in a cookie of the web browser. Such a Javascript function may obtain the width and height value using document.body.clientHeight and document.body.clientWidth which are separate Javascript functions that could obtain the width and height value of the web page. The width and height value obtained through the Javascript may be converted into the actual pixel size considering the expansion reduction ratio and viewport.

Although an embodiment explained the case of obtaining the width and height value of the web page using document.body.clientHeight and document.body.clientWidth this is merely an example. That is functions such as document.body.scrollHeight or document.body.offsetHeight can obviously be used but all Javascript functions that could obtain the width and height value of the web page can obviously be used in the size obtaining unit.

A calculating unit calculates a plurality of capture areas regarding the web page in such a manner that there is no repeated area based on the size of the obtained web page. More specifically the calculating unit may divide the web page into a plurality of capture areas by a predetermined capture size so that there is no repeated area and calculate x y coordinates per divided capture area. Herein the predetermined capture size is the size of the web page area which can be displayed in the user interface unit when displaying the web page without any expansion. In an example where the displayed web page is a mobile web page the width of the mobile web page is suited to the width of the user interface window and thus the calculating unit may divide the web page into a plurality of capture areas with only a y coordinate.

The image processing unit generates a capture image regarding the web page per calculated plurality of capture areas. More specifically the image processing unit may control so that the calculated plurality of capture areas are displayed consecutively on the user interface unit and capture the screen displayed consecutively to generate the capture image. More specifically in a case where the web browser installed in the mobile apparatus has a scrolling API the image processing unit may control so that the calculated plurality of capture areas are displayed consecutively on the user interface unit using the scrolling API and perform an operation of obtaining the screen stored in the display data buffer to generate a capture image. As such in that the image processing unit according to this exemplary embodiment obtains the screen stored in the display data buffer and generates a capture image it becomes able to perform a capture operation in a browser which does not have a capture API.

In an example where the web browser installed in the mobile apparatus does not have a scrolling API the image processing unit may control so that the plurality of capture areas are displayed consecutively on the user interface unit using the Javascript function such as scrollTo and generate a plurality of capture images.

In addition the image processing unit combines the generated capture images. More specifically the image processing unit may generate one capture image by combining the captured plurality of capture images in such a manner that they each correspond to the area location of each capture image. The combined capture image may or may not have an unnecessary area. For example in a case where the web page is divided as in or the combined capture image does not have an unnecessary area. Therefore as illustrated in the image processing unit may output the combined capture image as a print image without additional image processing.

However when the web page is divided as in the combined capture image has an unnecessary area which does not correspond to the web page. Therefore the image processing unit may cut out an area which does not correspond to the size of the web page from the combined image and generate a print image.

In addition the image processing unit may perform at least one processing from among expansion processing reduction processing and dividing processing according to the size of the paper which received the combined image and generate a print image. More specifically the image processing unit may edit the combined capture image based on the information on the paper size and layout command received from the user and generate a print image.

For example in a case where the size of the paper input by the user is A4 and the width of the combined capture image is greater than the width of A4 as illustrated in the image processing unit may divide the combined capture image and generate two print images. Otherwise in a case where the size of the paper input by the user is A4 and where the user input a layout command to suit the width of the web page to the size of the paper the image processing unit may reduce the combined capture image and generate a print image as in .

A controlling unit controls each configuration inside the mobile apparatus . More specifically when a web page to be printed is selected through the user interface unit the controlling unit may control the size obtaining unit so that the size of the selected web page is obtained. In addition when the size of the web page is obtained the controlling unit may control the calculating unit so that a plurality of capture areas are calculated and control the image processing unit so that capturing of the calculated plurality of capture areas is performed.

In addition the controlling unit may control the image processing unit so that a final print image which corresponds to the size of the paper predetermined by the user is generated. In addition the controlling unit may control the communication interface unit so that the generated print image is transmitted to the image forming apparatus .

Therefore in that the mobile apparatus according to this exemplary embodiment calculates the area to be captured and generates a capture image prior to performing the capture operation it is unnecessary to perform additional processing of cutting out the repeated area regarding the capture image thereby improving the print processing time. In addition in that the area to be captured is calculated in advance capturing can be performed promptly. Moreover the mobile apparatus according to this exemplary embodiment may perform capture operation regarding the web page even in a web browser which does not have a capture API and scrolling API.

In explaining the size obtaining unit calculating unit image processing unit and controlling unit were explained to be separate configurations but they can be embodied as one configuration where the aforementioned functions are combined.

More specifically is a view for explaining the operation of calculating a plurality of capture areas regarding a general web page. In addition is a view for explaining the operations of calculating a plurality of areas regarding a mobile web page.

The calculating unit calculates the plurality of capture areas to be the predetermined size so that there is no repeated area based on the obtained size of the web page . Therefore the web page such as is divided into a plurality of capture areas so that there is no repeated area.

In an example of the mobile web page the width of the web page is suited to the width of user interface window and thus is divided into a plurality of capture areas of vertical directions so that there is no repeated area.

With reference to the image processing unit may have a first capture area to be displayed on the user interface window and perform capturing regarding the first capture area to generate a first capture image. In addition the image processing unit may scroll the web page vertically or horizontally and have a second capture area displayed on the user interface window and perform capturing regarding the second capture area to generate a second capture image. In addition the image processing unit may perform this process to all capturing areas and generate a plurality of capture images regarding the web page.

With reference to the web page as in is divided into six capture areas and thus six capture images are generated as in . Therefore the image processing unit may combine the six capture images to correspond to the capture areas and generate one capture image .

With reference to the web page as in is divided into six capture areas and thus six capture images are generated as in . Therefore the image processing unit may combine the six capture images to correspond to the capture areas and generate the capture image as in . However in the capture image there exists an unnecessary area which has nothing to do with an area of the web page unlike in and thus the image processing unit may cut out the area which does not correspond to the size of the web page on the capture image and generate one capture image as in

The capture image generated by can be directly used as a print image but in a case where information of the size of the paper or layout information has been received from the user the image processing unit may image process one capture image generated and generate a print image.

With reference to in the case where the size of the paper input by the user is A4 and the width of the combined capture image is greater than the width of A4 the image processing unit may divide the combined capture image and generate two print images .

With reference to in the case where the user input a layout command to suit the width of the web page in addition to the condition as in the image processing unit may reduce the combined capture image reduced combined capture image and generate one print image of A4 size.

With reference to in the case where the user input a print command regarding the mobile web page and input the size of the paper to be A4 and a layout command that the location of the web page is the center the image processing unit may generate a print image where one combined capture image is located in the center of A4.

With reference to in the case where the user input a print command regarding the mobile web page and input the size of the paper to be A4 and input a 2 up layout command to the web page the image processing unit may divide the one combined capture image into two and generate a print image where two divided capture images are located in A4.

With reference to the user interface window displays an area for receiving a print command in an icon format. In the case where the user selected the area a user interface window such as may be displayed.

With reference to the user interface window displays various areas for receiving the printing objects in icon formats.

A picture area is an area for receiving a command for printing an image stored in the mobile apparatus . When the picture area is selected the mobile apparatus may display the image stored in the mobile apparatus and may be selected with the image where print operation is to be performed from among the displayed images. The selected image may be transmitted to the image forming apparatus by the direct printing method and be printed.

The web page area is an area for receiving a command to print the web page. When the web page area is selected a user interface window such as may be displayed.

A mail area is an area for receiving a command for printing a mail. When the mail area is selected the mobile apparatus may display the received mail and be selected with the mail where printing operation is to be performed from among the displayed mails. The selected mail may be imaged and the imaged mail may be transmitted to the image forming apparatus and be printed. Otherwise the selected mail file itself may be transmitted to the image forming apparatus and be printed.

A document area is an area for receiving a command for printing a document file. When the document area is selected the mobile apparatus may display a document file stored in the mobile apparatus and be selected with a document file where printing operation is to be performed from among the displayed documents files. The selected document file may be transmitted to the image forming apparatus by the direct printing method and be printed.

With reference to the user interface window may include a first area a second area and a third area .

A third area is an area for receiving a capture command or print command regarding the web page displayed on the first area .

With reference to first of all a web page to be printed is selected S. More specifically a web page address may be received on the user interface window and the web page to be printed may be selected. It may be embodied to input the print command regarding the web page displayed through the web browser and select the web page to be printed.

In addition the size of the selected web page is obtained S. More specifically in the case where the web browser installed in the mobile apparatus has a size calculation API Application Programming Interface the width and height of the selected web page may be obtained using the size calculation API. In an example where the web browser installed in the mobile apparatus does not have a size calculation API the size of the selected web page may be obtained using the Javascript function.

In addition based on the obtained size of the web page a plurality of capture areas regarding the web page is calculated in such a manner that there is no repeated area S. More specifically it is possible to divide the web page into a plurality of capture areas by a predetermined capture size so that there is no repeated area and calculate x y coordinates per divided capture area. In an example where the displayed web page is a mobile web page the width of the mobile web page is suited to the width of the user interface window and thus it is possible to divide the web page into a plurality of capture areas with only y coordinates.

In addition a capture image regarding the web page is generated per calculated plurality of capture areas S. More specifically it may be controlled so that the calculated plurality of capture areas are displayed consecutively on the user interface unit and that the screen displayed consecutively is captured to generate a capture image. More specifically in the case where the web browser installed in the mobile apparatus has a scrolling API the calculated plurality of capture areas may be displayed on the user interface window consecutively using the scrolling API and the screen displayed consecutively may be captured to generate a capture image. When the web browser installed in the mobile apparatus does not have a scrolling API a plurality of capture areas may be displayed on the user interface unit consecutively using the Javascript such as scrollTl to generate a plurality of capture images.

In addition the generated capture images are combined to generate a print image S. More specifically the plurality of capture images can be combined in such a manner that they correspond to the area location of each capture image. The combined capture image may or may not have an unnecessary area. Therefore in the case where there is an unnecessary area an area that does not correspond to the size of the web page from among the one combined capture image that is the unnecessary area may be cut out and generate a print image. In an example where the information of the size of the paper and the layout command have been received from the user an image processing such as expansion processing reduction processing and dividing processing may be performed regarding the combined capture image based on the received information of the size of the paper and the layout command to generate a print image.

In addition the generated print image is transmitted to the image forming apparatus S. More specifically the generated print image may be transmitted to the image forming apparatus so that the generated print image can be printed in a direct printing method.

With reference to an application is driven S. More specifically as illustrated in when a mobile print icon is selected the application which performs a print control operation is driven as aforementioned.

In addition a web print is selected S. More specifically when the application which performs a print control operation is driven a user interface window such as is displayed and when a web page area is selected in the displayed user interface window the user interface window as in is displayed and a web page to be printed on the second area of the displayed user interface window may be selected.

In addition the selected web page is connected S. More specifically when the web page to be printed is selected on the second area the selected web page may be loaded and the loaded web page may be displayed on the first area .

When the loading of the web page is completed S a capture command regarding the corresponding web page is received from the user S. More specifically when the web page is loaded on the first area a third area is selected by the user and a capture command regarding the corresponding web page may be received.

When the capture command is received it is determined whether or not the web browser has a size calculation API S and when the web browser does not have a size calculation API S No the size of the web page is calculated using the Javascript S the calculated size of the web page may be recorded in the cookie S and the size of the web page recorded in the cookie may be obtained to obtain the size of the web page S. When the web browser does have a size calculation API S Yes the size of the web page may be obtained using the size calculation API S.

When the size of the web page is obtained the plurality of capture areas regarding the web page are calculated in such a manner that there is no repeated area based on the obtained size of the web page S.

When the plurality of capture areas are calculated the user interface window currently displayed is captured S and it is determined whether or not all capture areas are captured S.

When not all capture areas are captured S No it is determined whether or not the web browser has a scrolling API S and when the web browser does have a scrolling API the user interface window which corresponds to a next capture area is displayed using the scrolling API S and when the web browser does not have a scrolling API the user interface window which corresponds to the next capture area may be displayed using the Javascript S S.

In the case where all capture areas are captured S Yes the plurality of capture images are combined to generate a print image S.

In addition the generated print image is displayed as a preview image S. The user may input a final print command regarding the corresponding web page through the displayed preview image.

When the print command is input from the user S Yes the generated print image may be transmitted to the image forming apparatus to perform a print operation S. If a print command is not input by the user S No the aforementioned operation may be repeated.

Therefore the print control method according to an embodiment improves the print processing time in that the area to be captured is calculated in advance to generate the capture image before performing the capture operation and thus it is needless to perform an additional processing of cutting out the repeated area regarding the capture image. In addition in that the area to be captured is calculated in advance it is possible to perform a capturing operation promptly. Moreover it becomes able to perform a capture operation on the web page even in a web browser which does not have a capture API and a scrolling API. Print controlling method as in can be performed in a mobile apparatus having the configuration of and also in a mobile apparatus having other configurations.

Print controlling processes functions methods and or software in mobile apparatuses described herein may be recorded stored or fixed in one or more non transitory computer readable storage media computer readable recording medium that includes program instructions computer readable instructions to be implemented by a computer to cause one or more processors to execute or perform the program instructions. The media may also include alone or in combination with the program instructions data files data structures and the like. The media and program instructions may be those specially designed and constructed or they may be of the kind well known and available to those having skill in the computer software arts. Examples of non transitory computer readable storage media include magnetic media such as hard disks floppy disks and magnetic tape optical media such as CD ROM disks and DVDs magneto optical media such as optical disks and hardware devices that are specially configured to store and perform program instructions such as read only memory ROM random access memory RAM flash memory and the like. Examples of program instructions include machine code such as produced by a compiler and files containing higher level code that may be executed by the computer using an interpreter. The described hardware devices may be configured to act as one or more software modules that are recorded stored or fixed in one or more computer readable storage media in order to perform the operations and methods described above or vice versa. In addition a non transitory computer readable storage medium may be distributed among computer systems connected through a network and computer readable codes or program instructions may be stored and executed in a decentralized manner. In addition the computer readable storage media may also be embodied in at least one application specific integrated circuit ASIC or Field Programmable Gate Array FPGA.

Therefore each block may be carried out as computer recordable codes on a recording medium readable by a computer. A computer readable recording medium may be a device which can store data which can be read by a computer system.

Although a few embodiments have been shown and described it would be appreciated by those skilled in the art that changes may be made in these embodiments without departing from the principles and spirit of the disclosure the scope of which is defined in the claims and their equivalents.

