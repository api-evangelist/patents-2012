---

title: Methods and apparatus for use in mapping identified visual features of visual images to location areas
abstract: In one example, a computer device includes one or more processors and a camera module coupled to the one or more processors. The camera module is configured to capture visual images. The one or more processors are configured to analyze image data of a visual image for identifying whether the visual image includes a visual feature, and produce a message which includes a visual feature indication and a location indication. The visual feature indication indicates whether the visual image includes the visual feature, and the location indication indicates a location at which the visual image was captured.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09313344&OS=09313344&RS=09313344
owner: BlackBerry Limited
number: 09313344
owner_city: Waterloo, Ontario
owner_country: CA
publication_date: 20120601
---
The present disclosure relates generally to techniques involving computer devices which are configured to capture and or store visual images such as photographic images.

A computer device such a portable battery powered wireless telephony device may be configured to connect in a communication network for communications. For example such a device may be configured for communications in cellular telecommunication networks and or wireless local area networks WLANs .

Such a device may be further configured to capture and or store visual images such as photographic images. A large number of visual images may be captured at different devices located at different locations. The visual images may include different visual features captured at these various locations. However no means exists for efficiently assessing and sharing information pertaining to these visual features captured at the different locations.

There is a need for efficiently sharing information regarding visual images in these and similar environments.

In one illustrative example of the present disclosure a computer device is configured to analyze image data of a visual image for identifying whether the visual image includes a visual feature produce a message which includes a visual feature indication which indicates whether the visual image includes the visual feature and a location indication which indicates a location at which the visual image was captured and send this message to a server. The server is configured to produce for a plurality of location areas an aggregate count or ratio of visual feature indications from a plurality of messages received from a plurality of computer devices for visual images captured within the same location area and map the aggregate counts or ratios to location area indications corresponding to the location areas.

To illustrate one environment within which the techniques of the present disclosure may be practiced illustrates a wireless communication device which may communicate in a communication system . Wireless device is one type of a computer device which may make use of the techniques of the present disclosure. In the communication system wireless device may communicate with one or more wireless communication networks. For example wireless device may communicate with a wireless communication network which is a wireless local area network WLAN . Here wireless network and wireless device may operate in accordance with IEEE 802.11 standards.

In this example wireless network has a plurality of wireless access points APs and for wireless communications with wireless device . WLANs may be identified by a wireless device with use of a wireless network identifier which is communicated from the WLAN. The wireless network identifier may be for example a Set Service Identifier SSID or Extended SSID ESSID . In this example wireless network includes one or more servers a redirect server and a gateway . Server may provide data applications and or functionality for communication services for wireless device .

Wireless network may be a public Wi Fi hotspot for so public use and include what may be referred to as a captive portal or walled garden. For devices connected in wireless network via one of wireless APs and gateway is configured to permit or deny access to the data applications and or functionality as well as to permit or deny external access outside of wireless network to Internet . To do this gateway has a set of IP address filters which define a set of addresses that are permissible impermissible if any at all for access by devices. Access by a device depends on whether or not a device has been authorized and what access rights are given upon authorization.

Typically when a request by a device in wireless network is made prior to proper authorization gateway is configured to redirect the request to redirect server . In response redirect server is configured to respond to wireless device to provide data for producing information e.g. Web page information which is rendered in a visual display of wireless device via a Web browser application. The information may solicit a user response. For example the information may solicit a user registration or login with user fields for entering a user name and or password information. Gateway identifies whether the received user response is sufficient e.g. whether the user name and password match stored user name and password information whether the user payment is accepted whether the user acceptance is confirmed etc. . If the user response is deemed sufficient gateway permits access to the data applications and or functionality in or outside of wireless network .

Wireless device may also operate for communications in other different wireless networks such as a wireless network which is also a WLAN. In this example wireless network is a private communication network of an enterprise e.g. an organization a company a corporation etc. of wireless device . Similar to wireless network wireless network has a plurality of wireless APs and one or more servers and a gateway . For devices connected in wireless network via one of wireless APs and gateway may be configured to permit or deny access to the data applications and or functionality offered via wireless network depending on whether or not a device has been authorized and what access rights are given upon authorization. For devices attempting to access wireless network via Internet gateway is configured to permit or deny internal access to the data applications and or functionality in wireless network .

Such wireless networks e.g. infrastructure WLANs may provide or allow access to various data and communication services to its terminals. For example the wireless networks may provide for communication access to Internet via the Web browser application or voice telephony communication service with use of Voice over IP VoIP communication or other communication services. For push type data or message synchronization services for example wireless device may be enabled to maintain data synchronization with a server e.g. server or for user data of an application associated with a user account. The application of wireless device and the server may be or include for example an electronic mail e mail application program for the communication of e mail messages.

Wireless device may be additionally configured to access communication services via a Public Land Wireless Network PLMN e.g. a cellular telecommunications network . PLMN includes a core network a plurality of base station controllers such as a base station controller BSC coupled to core network and a plurality of base stations such as a base station BS and a base station coupled to associated BSCs . Core network BSC and BS operate in a conventional fashion as well documented. Other PLMNs in the environment have a similar or the same architecture as PLMN . For communication with PLMNs wireless device may be configured in accordance with one or more cellular telecommunication standards such as Global Systems for Mobile GSM and or General Packet Radio Service GPRS technologies. However such wireless device may additionally or alternatively operate in accordance with other such cellular standards such as Enhanced Data rates for GSM Evolution EDGE or Enhanced GPRS EGPRS Universal Mobile Telecommunications System UMTS Long Term Evolution LTE or EVolution Data Only EV DO for CDMA technologies as a few examples.

Reference will now be made to which illustrates one example of a schematic block diagram of wireless device . In the illustrated example wireless device is a communication device and more particularly is a mobile communication device having data and voice communication capabilities and configured to communicate with other computer systems e.g. via the Internet . It will however be appreciated that wireless device may take other forms.

Depending on the functionality provided by wireless device in various examples wireless device may be a multiple mode communication device configured for both data and voice communication a mobile telephone such as a smartphone a wearable computers such as a watch a tablet computer such as a slate so computer a personal digital assistant PDA or a computer system. Wireless device may take other forms apart from those specifically listed above. The electronic device may also be referred to as a mobile communications device a communication device a mobile device and in some cases as a device.

Wireless device includes a controller including one or more processors such as a microprocessor which controls the overall operation of wireless device . The processor interacts with device subsystems such as a wireless communication subsystem for exchanging radio frequency signals with wireless network to perform communication functions. The processor is communicably coupled with additional device subsystems including one or more output interfaces such as a display and or a speaker and or electromagnetic EM radiation source one or more input interfaces such as a camera microphone keyboard not shown control buttons not shown a navigational input device not shown and or a touch sensitive overlay not shown associated with a touchscreen display an orientation subsystem memory such as flash memory random access memory RAM read only memory ROM etc. auxiliary input output I O subsystems a data port which may be a serial data port such as a Universal Serial Bus USB data port a near field communications NFC subsystem a short range wireless communication subsystem and other device subsystems generally designated as . Some of the subsystems shown in perform communication related functions whereas other subsystems may provide resident or on device functions.

In at least some examples wireless device may include a touchscreen display which acts as both an input interface i.e. touch sensitive overlay and an output interface i.e. display . The touchscreen display may be constructed using a touch sensitive input surface which is connected to an electronic controller and which overlays the display . The touch sensitive overlay and the electronic controller provide a touch sensitive input interface and the processor interacts with the touch sensitive overlay via the electronic controller. In at least some examples the touch sensitive overlay may have a touch sensitive input surface which is larger than the display . For example in at least some examples the touch sensitive overlay may extend overtop of a frame of which surrounds the display . In such example the frame of may be referred to as an active frame since it is capable of acting as an input interface . In at least some examples the touch sensitive overlay may extend to the sides of wireless device .

As noted above in some examples wireless device may include a communication subsystem which allows wireless device to communicate over wireless network . The communication subsystem includes a receiver a transmitter and associated components such as one or more antenna elements and local oscillators LOs and a processing module such as a digital signal processor DSP . The antenna elements and may be embedded or internal to wireless device and a single antenna may be shared by both receiver and transmitter. The particular design of the wireless communication subsystem depends on wireless network in which wireless device is intended to operate.

In at least some examples wireless device may communicate with any one of a plurality of stations or access points APs of wireless network within its geographic coverage area. Wireless device may send and receive communication signals over wireless network after the required network registration or activation procedures have been completed. Signals received by the antenna through wireless network are input to the receiver which may perform such common receiver functions as signal amplification frequency down conversion filtering channel selection etc. as well as analog to digital A D conversion. A D conversion of a received signal allows more complex communication functions such as demodulation and decoding to be performed in the DSP . In a similar manner signals to be transmitted are processed including modulation and encoding for example by the DSP . These DSP processed signals are input to the transmitter for digital to analog D A conversion frequency up conversion filtering amplification and transmission to wireless network via the antenna . The DSP not only processes communication signals but may also provide for receiver and transmitter control. For example the gains applied to communication signals in the receiver and the transmitter may be adaptively controlled through automatic gain control algorithms implemented in the DSP .

In some examples the auxiliary input output I O subsystems may include an external communication link or interface for example an Ethernet connection. Wireless device may include other wireless communication interfaces for communicating with other types of wireless networks for example a wireless network such as an orthogonal frequency division multiplexed OFDM network. The auxiliary I O subsystems may include a vibrator for providing vibratory notifications in response to various events on wireless device such as receipt of an electronic communication or incoming phone call or for other purposes such as haptic feedback touch feedback .

The data port may be used for synchronization with a user s host computer system not shown . The data port enables a user to set preferences through an external device or software application and extends the capabilities of wireless device by providing for information or software downloads to wireless device other than through wireless network . The alternate download path may for example be used to load an encryption key onto wireless device through a direct reliable and trusted connection to thereby provide secure device communication.

In at least some examples wireless device also includes a device orientation subsystem including at least one orientation sensor which is connected to the processor and which is controlled by one or a combination of a monitoring circuit and operating software. The orientation sensor detects the orientation of the device or information from which the orientation of the device can be determined such as acceleration. In some examples the orientation sensor is an accelerometer such as a three axis accelerometer. An accelerometer is a sensor which converts acceleration from motion e.g. movement of the device or a portion thereof due to the strike force and gravity which are detected by a sensing element and converted into an electrical signal producing a corresponding change in output . Accelerometers may be available in one two or three axis configurations. Higher order axis configurations are also possible. Accelerometers may produce digital or analog output signals depending on the type of accelerometer.

An orientation sensor may generate orientation data which specifies the orientation of wireless device . The orientation data in at least some examples specifies the orientation of the device relative to the gravitational field of the earth.

In some examples the orientation subsystem may include other orientation sensors instead of or in addition to accelerometers. For example in various examples the orientation subsystem may include a gravity sensor a gyroscope a tilt sensor an electronic compass or other suitable sensor or combinations thereof. In some examples the device orientation subsystem may include two or more orientation sensors such as an accelerometer and an electronic compass.

Wireless device may in at least some examples include a near field communications NFC subsystem . The NFC subsystem is configured to communicate with other wireless devices and or tags using an NFC communications protocol. NFC is a set of short range wireless technologies which typically require a distance of 4 cm or less for communications. The NFC subsystem may include an NFC chip and an NFC antenna.

Wireless device may include a microphone and or one or more speakers. In at least some examples wireless device may include a plurality of speakers . For example in some examples wireless device may include two or more speakers . The two or more speakers may for example be disposed in spaced relation to one another. That is in at least some examples wireless device may include a first speaker and a second speaker and the first speaker and the second speaker may be spatially separated from one another within wireless device . In at least some examples the display may be disposed between the first speaker and the second speaker of the electronic device. In such example the first speaker may be located at one side of the display and the second speaker may be located at another side of the display which is opposite the side of the display where the first speaker is located. For example the first speaker may be disposed at a left side of the display and the second speaker may be disposed at a right side of the display. In at least some examples each speaker may be associated with a separate audio channel. The multiple speakers may for example be used to provide stereophonic sound which may also be referred to as stereo .

Wireless device may also include one or more cameras . The one or more cameras may be capable of capturing images in the form of still photographs or motion video. In at least some examples wireless device includes a front facing camera . A front facing camera is a camera which is generally located on a front face of wireless device . The front face is typically the face on which a display is mounted. That is the display is configured to display content which may be viewed from a side of wireless device where the camera is directed. The front facing camera may be located anywhere on the front surface of the electronic device for example the camera may be located above or below the display . Alternatively or additionally camera may be located on a rear face of wireless device . The camera may be a fixed position camera which is not movable relative to the display of wireless device and or the housing of wireless device . In such examples the direction of capture of the camera is always predictable relative to the display and or the housing. In at least some examples the camera may be provided in a central location relative to the display to facilitate image acquisition of a face.

In at least some examples wireless device includes an electromagnetic EM radiation source . In at least some examples the EM radiation source is configured to emit electromagnetic radiation from the side of the electronic device which is associated with a camera of that wireless device . For example where the camera is a front facing camera wireless device may be configured to emit electromagnetic radiation from the front face of wireless device . That is in at least some examples the electromagnetic radiation source is configured to emit radiation in a direction which may visible by the camera. That is the camera and the electromagnetic radiation source may be disposed on wireless device so that electromagnetic radiation emitted by the electromagnetic radiation source is visible in images obtained by the camera.

In some examples the electromagnetic radiation source may be an infrared IR radiation source which is configured to emit infrared radiation. In at least some examples the electromagnetic radiation source may be configured to emit radiation which is not part of the visible spectrum. The camera may be a camera which is configured to capture radiation of the type emitted by the electromagnetic radiation source . Accordingly in at least some examples the camera is configured to capture at least some electromagnetic radiation which is not in the visible spectrum.

In some examples wireless device is provided with a service routing application programming interface API which provides an application with the ability to route traffic through a serial data i.e. USB or BLUETOOTH BLUETOOTH is a registered trademark of Bluetooth SIG Inc. connection to a host computer system using standard connectivity protocols. When a user connects their wireless device to the host computer system via a USB cable or BLUETOOTH connection traffic that was destined for wireless network is automatically routed to wireless device using the USB cable or BLUETOOTH connection. Similarly any traffic destined for wireless network is automatically sent over the USB cable BLUETOOTH connection to the host computer system for processing.

Wireless device also includes a battery as a power source which is typically one or more rechargeable batteries that may be charged for example through charging circuitry coupled to a battery interface such as the data port . The battery provides electrical power to at least some of the electrical circuitry in wireless device and the battery interface provides a mechanical and electrical connection for the battery . The battery interface is coupled to a regulator not shown which provides a regulated voltage V to the circuitry for powering wireless device .

Wireless device includes a short range communication subsystem which provides for wireless communication between wireless device and other wireless devices . The short range communication subsystem may be used to provide a preferred device mode between wireless device and another wireless device which may in at least some examples be a wireless device which is the same or similar to wireless device discussed with reference to . In at least some examples the short range communication subsystem is a wireless bus protocol compliant communication mechanism such as a BLUETOOTH communication module to provide for communication with similarly enabled systems and devices.

Wireless device stores data in an erasable persistent memory which in one example is the flash memory . In various examples the data includes service data including information required by wireless device to establish and maintain communication with wireless network . The data may also include user application data such as email messages address book and contact information calendar and schedule information notepad documents image files and other commonly stored user information stored on wireless device by its user and other data. The data stored in the persistent memory e.g. flash memory of wireless device may be organized at least partially into one or more databases or data stores. The databases or data stores may contain data items of the same data type or associated with the same application. For example email messages contact records and task items may be stored in individual databases within the device memory.

Wireless device may in some examples be a mobile communication device which may provide two principal modes of communication a data communication mode and a voice communication mode. In the data communication mode a received data signal such as a text message an email message or Web page download will be processed by the communication subsystem and input to the processor for further processing. For example a downloaded Web page may be further processed by a browser application or an email message may be processed by an email messaging application and output to the display . A user of wireless device may also compose data items such as email messages for example using the input devices in conjunction with the display . These composed items may be transmitted through the communication subsystem over wireless network .

In the voice communication mode wireless device provides telephony functions and operates as a typical cellular phone. The overall operation is similar except that the received signals would be output to the speaker and signals for transmission would be generated by a transducer such as the microphone . The telephony functions are provided by a combination of software firmware i.e. a voice communication module and hardware i.e. the microphone the speaker and input interfaces . Alternative voice or audio I O subsystems such as a voice message recording subsystem may also be implemented on wireless device . Although voice or audio signal output is typically accomplished primarily through the speaker the display screen may also be used to provide an indication of the identity of a calling party duration of a voice call or other voice call related information.

The processor operates under stored program control and executes software modules stored in memory such as persistent memory for example in the flash memory . As illustrated in the software modules include operating system software and other software applications such as device mode module . In the example of the device mode module is implemented as a stand alone application . However in other examples the device mode module could be implemented as part of the operating system or another application .

The software applications on wireless device may also include a range of additional applications including for example a notepad application Internet browser application voice communication i.e. telephony application mapping application or a media player application or any combination thereof. Each of the software applications may include layout information defining the placement of particular fields and graphic elements e.g. text fields input fields icons etc. in the user interface e.g. the display according to the application.

The software modules or parts thereof may be temporarily loaded into volatile memory such as the RAM . The RAM is used for storing runtime data variables and other types of data or information as will be apparent to those skilled in the art. Although specific functions are described for various types of memory this is merely one example and those skilled in the art will appreciate that a different assignment of functions to types of memory could also be used.

A predetermined set of applications that control basic device operations including data and possibly voice communication applications will normally be installed on wireless device during or after manufacture. Additional applications and or upgrades to the operating system or software applications may also be loaded onto wireless device through wireless network the auxiliary I O subsystem the data port the short range communication subsystem or other suitable subsystem . The downloaded programs or code modules may be permanently installed for example written into the program memory i.e. the flash memory or written into and executed from the RAM for execution by the processor at runtime.

Referring now to a front view of an example wireless device which is a smartphone is illustrated. The smartphone is a mobile phone which offers more advanced computing capability than a basic non smartphone cellular phone. For example the smartphone may have the ability to execute third party applications which are stored on the smartphone.

The smartphone may include the components discussed above with reference to or a subset of those components. The smartphone includes a housing which houses at least some of the components discussed above with reference to .

In the example illustrated the smartphone includes a display which may be a touchscreen display which acts as an input interface . The display is disposed within the smartphone so that it is viewable at a front side of the smartphone . That is a viewable side of the display is disposed on the front side of the smartphone. In the example illustrated the display is framed by the housing .

The example smartphone also includes other input interfaces such as one or more buttons keys or navigational input mechanisms. In the example illustrated at least some of these additional input interfaces are disposed for actuation at the front side of the smartphone.

The example smartphone also includes a speaker . In the example illustrated the smartphone includes a single speaker which is disposed vertically above the display when the smartphone is held in a portrait orientation where its height is longer than its width. The speaker may be disposed on the front face of the smartphone .

While the example smartphone of includes a single speaker in other examples the smartphone may include a greater number of speakers . For example in at least some examples the smartphone may include a second speaker which is disposed vertically below the display when the smartphone is held in a portrait orientation where its height is longer than its width i.e. the orientation illustrated in .

The example smartphone also includes a microphone . In the example illustrated the microphone is vertically disposed below the display when the smartphone is held in the portrait orientation. The microphone and at least one speaker may be arranged so that the microphone is in close proximity to a user s mouth and the speaker is in close proximity to a user s ear when the user holds the phone to their face to converse on the smartphone.

The example smartphone also includes a front facing camera which may be located vertically above the display when the smartphone is held in a portrait orientation where its height is longer than its width. The front facing camera is located so that it may capture images of objects which are located in front of and or surrounding the front side of the smartphone .

The example smartphone also includes an electromagnetic radiation source . The electromagnetic radiation source is disposed on the front side of the smartphone . In this orientation electromagnetic radiation which is produced by the electromagnetic radiation source may be projected onto objects which are located in front of and or surrounding the front side of the smartphone . Such electromagnetic radiation or the projection of electromagnetic radiation onto objects may be captured on images obtained by the camera .

The wireless device may be a tablet computer tablet one of which is illustrated in . Tablet computer of may include many of the same features and components of the smartphone of . However tablet computer of is generally larger than the smartphone of . Tablet computer may include the components discussed above with reference to or a subset of those components. Tablet computer includes a housing which houses at least some of the components discussed above with reference to .

Tablet computer includes a display which may be a touchscreen display which acts as an input interface . The display is disposed within tablet computer so that it is viewable at a front side of tablet computer . That is a viewable side of the display is disposed on the front side of tablet computer . In the example illustrated the display is framed by the housing with use of a frame which surrounds the display . The frame is portion of the housing which provides a border around the display . In at least some examples the frame is an active frame . That is the frame has a touch sensitive overlay which allows wireless device to detect a touch applied to the frame thereby allowing the frame to act as an input interface of .

The example tablet computer includes a plurality of speakers . In the example illustrated the tablet includes two speakers . The two speakers are disposed on opposing sides of the display . More particularly when tablet computer is held in a landscape orientation such as the orientation illustrated in where its width is longer than its height one of the two speakers is disposed on a right side of the display and one of the speakers is disposed on the left side of the display . Both speakers are disposed on the front side of tablet computer .

The example tablet computer also includes a microphone . In the example illustrated the microphone is vertically disposed below the display when the tablet computer is held in the landscape orientation illustrated in . The microphone may be located in other locations in other examples.

The example tablet computer also includes a front facing camera which may be located vertically above the display when tablet computer is held in a landscape orientation i.e. the orientation of . The front facing camera is located so that it may capture images of objects which are located in front of and or surrounding the front side of tablet computer .

The example tablet computer also includes an electromagnetic radiation source . The electromagnetic radiation source is disposed on the front side of tablet computer . In this orientation electromagnetic radiation which is produced by the electromagnetic radiation source may be projected onto objects which are located in front of and or surrounding the front side of tablet computer . Such electromagnetic radiation or the projection of electromagnetic radiation onto objects may be captured on images obtained by the camera .

Although a specific wireless device has just been described for use with the techniques of the present disclosure any suitable device may be utilized. For example a camera which may be a digital single lens reflex DSLR camera or a point and shoot camera that records images to a memory card e.g. flash card and subsequently copied to a computer for further processing per the present techniques may be employed.

Beginning at a start block of the device identifies whether a request to produce a visual image has been received or detected step of . The request may be for example a request received via a user interface of the device. In addition the request may be a request to capture a photographic image with use of the camera module of the device see e.g. description in relation to camera .

If a request has been received or detected in step then the device identifies its current geographic location step of . The geographic location represents the location at which the visual image has been or will be produced or captured at the device.

The current geographic location of the device may be obtained through use of a Global Positioning System GPS module of the device. The current geographic location may include latitude and longitude coordinates but other information may be or include altitude bearing distance accuracy data and or place names. The association of geographic location with visual images may be or be referred to as geotagging . Alternatively the geographic location may be a current address at which the wireless device is currently located.

The device also identifies a current date and or time step of . This current date and or time represents the date and or time at which the device has or will capture the visual image.

The device then obtains the visual image step of . In this step the device may obtain a photographic image by commanding the camera module to capture the photographic image. The visual image that was captured in step is then stored in memory of the device step of . The visual image may be stored in association with the current location and the current date and or time obtained in steps and . Thus in steps and the device may capture and geotag the image with location data corresponding to its current location.

The device then performs additional processing step of . This additional processing may be the processing as described below in relation to . The method of repeats at step for additional requests for producing visual images at the device.

Note that in some examples step is performed at a different time than that depicted in . For example step may be performed in response to detecting or identifying a predetermined condition or event such as identifying when a predetermined number of visual images have been newly captured in response to an expiration of a timer after a plurality of new visual images have been captured and or saved or in response to a request received via the user interface of the device or the communication subsystem of the device.

Beginning at a start block of the device analyzes image data of the visual image for identifying whether the visual image includes a visual feature step of . The visual feature may be any suitable visual feature of interest.

In some examples the visual feature is a facial expression indicative of mood of a person. For example the facial expression may be a smile which is indicative of a happy mood. Other alternative facial expressions may be identified such as a yawn or a frown for example or expressions indicative of sadness anger surprise disgust fear confusion excitement desire or contempt as other examples.

In other examples the visual feature may be or include an object for example. The object may be any animate or inanimate object such as a cell phone the sun a cloud a dog a tree a guitar a skyscraper building etc.

Next the device produces based on the analyzing a visual feature indication indicating whether the visual image includes the visual feature step of . In some examples the visual feature indication may be or include a count of how many times the visual feature has been identified in the visual image.

The device may also produce a strength indication indicating the strength regarding the accuracy of whether the visual image includes this visual feature step of . The strength indication is provided to indicate an accuracy and or inaccuracy of detection as there may be some uncertainty as to whether the visual feature was indeed accurately detected as it may be relatively small and or difficult to accurately detect.

The strength indication may be a value e.g. a value from 1 to 10 or 1 to 100 or a percentage indicative of the strength. In some examples there is a strength indication for each visual feature identified in the visual image alternatively there is a single strength indication for all visual features identified in the visual image.

The device may also produce an additional visual feature indication indicating whether the visual image includes an additional visual feature step of . Any additional visual feature indication may be or include a count of how many times the additional visual feature has been identified in the visual image. Note that a plurality of additional visual feature indications for a plurality of additional visual features may be produced.

In some examples especially where the visual feature indication is a facial expression indicative of mood e.g. a smile the additional visual feature identified in the visual image may be a human face. Here the additional visual feature indication may be or include a count of the number of times the visual image includes the face. In such examples a ratio or percentage of facial expressions to faces may be determined from the count of the facial expressions e.g. smiles to the total number of human faces in the visual image. This may be viewed as how relatively happy people are in the visual image.

Smile and or face detection in a captured photographic image may be performed with use of any suitable detection technique. For example many algorithms implement face detection as a binary pattern classification task i.e. classifying the members of a given set of objects into two groups on the basis of whether they have some property or not . The content of a given part of an image is transformed into features after which a classifier e.g. which is trained on example faces decides whether that particular region of the image is a face or not. A window sliding technique over the image may be employed. The classifier may be used to classify the usually square or rectangular portions of an image at all locations and scales as either faces or non faces background pattern .

One or more face models which contain the appearance and shape of a face may be utilized for such classification. There are several shapes of faces common ones are oval rectangle round square heart and triangle shapes. The models may be passed over the image to identify faces. On the other hand a face characteristic may be found based on a match of skin color e.g. using a plurality of different skin colors . Further a combined approach may be utilized e.g. detecting color shape and or texture. For example a skin color model may be employed first to select objects of that color and then face models may be employed with the selected objects to eliminate false detections from the color models and or to extract facial features such as eyes nose and mouth. Detection of smiles and or other facial expressions may be performed in the same or similar fashion.

The device produces a visual image data record which includes the indications of steps and or step of . The visual image data record may include additional or alternative indications in additional or alternative fields of the data record. Additional or alternative indications may be or include a computer device identifier which uniquely identifies the computer device or user associated with the visual image data record e.g. a hardware address a telephone number or an e mail address of the computer device a visual image identifier which uniquely identifies or names the data record or visual image e.g. the name of the file of the visual image and a visual feature identifier which uniquely identifies or names the visual feature e.g. a smile the sun a dog . Note that a plurality of visual feature identifiers and visual feature indications may be provided in a single data record associated with the visual image.

The device then produces a message which includes the visual image data record step of . The device then sends the message which includes the visual image data record to a server step of . The message may be suitably formatted for delivery via the communication network within which the device is connected. Where the computer device is a wireless communication device configured to communicate in a wireless communication network the device sends the message to the server by wirelessly transmitting the message to the server via the wireless communication network. The method of may be repeated for each additional visual image.

Note that the device sends the message to the server without ever sending the visual image itself. In other examples however the device also sends the visual image to the server.

As will be described in relation to below the server is configured to receive a plurality of such messages from a plurality of computer devices for producing an aggregate count of visual feature indications for visual images captured at the same location.

Beginning at a start block of the server identifies whether a new visual image data record is identified or received step of . A new visual image data record may be identified from for example a new message received from a computer device as described earlier in relation to step of . Note that the server may receive the message from the device without ever receiving the visual image itself.

If there is a new visual image data record identified in step then the server receives and or reads the data record step of . In particular the server reads from the data record the location indication which indicates the location at which the visual image was captured step of . The device then identifies which location area the location indication or location should be associated with or grouped into step of . In general the location area is larger than and encompasses a plurality of locations. The location area may be a city state province or country as examples. In other examples the location area is the name of an establishment such as a restaurant bar company school or the like.

The server also reads from the data record the date and or time indication which indicates the date and or time at which the visual image was captured step of . The device then identifies whether the date and or time should be associated with or grouped into the date and or time frame of interest step of . In general the frame of interest encompasses a plurality or a range of times or dates. The frame of interest may be a current date and or time frame of interest. The frame of interest may be the daytime or nighttime hours of a particular day the weekend the past week or the past month as examples.

If yes in step the visual feature indication or count is read from the data record step of and included in the aggregate count associated with the location area step of . Here the aggregate count associated with the location area is incremented as many times as is indicated. Other aggregate counts may be incremented as well. If no in step the visual feature indication or count is excluded from the aggregate count. The method then repeats beginning again at step for yet another new visual image data record which may be received from a different message and or a different computer device.

Thus for data records indicating locations within the same location area the technique counts the number of times the visual feature is indicated by the visual feature indications in the data records for producing an aggregate count of the visual features identified within the same location area. Such counting is repeated and or performed for a plurality of different location areas. The aggregate counts may be stored in association with the location indications and or location area indications. At any given time these aggregate counts or ratios or percentages based on such aggregate counts may be mapped to the location area indications corresponding to the location areas.

In some examples the server may be alternatively or additionally configured to interact with computer devices directly performing the additional processing of step of i.e. the steps of and produce and save the data records in its own memory for processing in relation to .

Beginning at a start block a request for map information is received at the server step of . The request may specify or include one or more names of locations or location areas or location coordinates and or a visual feature of interest for example. In response to the request the server provides map information for mapping the aggregate counts to location area indications corresponding to various location areas step of . Alternatively ratios or percentages based on these aggregate counts may be mapped to the location area indications corresponding to the location areas. The flowchart of ends at an end block but may be repeated for subsequent requests. Note that is an illustrative example of a mapping which may be provided by the technique of .

In this example of the visual feature is a facial expression indicative of mood e.g. a smile which includes the additional visual feature of a human face so that a ratio or percentage of smiles to faces is determined from the count of the facial expressions e.g. smiles to the total number of human faces in the visual image. This may be indicative of how relatively happy people are in the corresponding location areas. In this example it appears that the state of California is the most happiest at 94 whereas the country of Mexico is the least happy at 64 .

Although illustrates one type of mapping which utilizes a map and text which indicates the counts ratios or percentages any suitable type of mapping may be utilized. For example a chart or graph for mapping the geographic locations to the counts ratios or percentages may be produced and displayed. As another example a heat map for mapping location to the counts ratios or percentages may be produced and displayed. A heat map is a data visualization in the form of a map which uses color or shading to represent the data values. There are many different types of heat maps used in different disciplines each of which may use various visualization techniques.

As provided herein methods and apparatus for use in mapping identified visual features of visual images to location areas has been described. In one illustrative example a computer device is configured to analyze image data of a visual image for identifying whether the visual image includes a visual feature produce a message which includes a visual feature indication which indicates whether the visual image includes the visual feature and a location indication which indicates a location at which the visual image was captured and send the message to a server. The server is configured to produce for a plurality of location areas an aggregate count of visual feature indications from a plurality of messages received from a plurality of computer devices for visual images captured within the same location area and map the aggregate counts to location area indications corresponding to the location areas.

The above described embodiments of the present disclosure are intended to be examples only. Those of skill in the art may affect alterations modifications and variations to the particular embodiments without departing from the scope of the application. The invention described herein in the recited claims intends to cover and embrace all suitable changes in technology.

