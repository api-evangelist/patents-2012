---

title: Systems and methods for a cognitive radio having adaptable characteristics
abstract: Systems and methods for configuring a network of radios for dynamic spectrum access are described. A network radio can include hardware and/or software modules for detecting a radio environment and negotiating common communications channels with a plurality of other radios in the network. Network radio behavior can be defined by a plurality of predefined policies which are used in combination with the information about the radio environment to select common operating parameters.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08767556&OS=08767556&RS=08767556
owner: Shared Spectrum Company
number: 08767556
owner_city: Vienna
owner_country: US
publication_date: 20120502
---
This application is a continuation of U.S. application Ser. No. 11 839 496 filed Aug. 15 2007 now U.S. Pat. No. 8 184 653 the disclosure of which is incorporated by reference in its entirety.

The work leading to this invention was funded in part by the Defense Advanced Research Projects Agency DARPA grant number FA8750 05 C 0150. The U.S. Government may have certain rights in this invention.

The following is related to a radio frequency RF device operable in a network that dynamically adapts to its environment to establish and maintain communications with other radios in the network.

Cellular phones personal digital assistants walkie talkies garage door openers computers routers and other communication devices all incorporate radio technology to establish and maintain communications over the air. Some RF devices such as cordless telephones may automatically search for a channel to establish communications and then release the channel when the radio is finished. These radios may operate according to rules parameters and limitations imposed upon them by government regulation an owner or operator a network radio frequency requirements or limitations of the physical environment. Most of these radios however are unable to automatically adapt to significant or challenging changes within the network or environment.

Some of these devices operate within a network which may be interconnected to other networks such as a public switched telephone network or the Internet. A radio may be part of a network over which it sends and receives information to other radios or devices. A networked radio device typically does not possess the capability of adapting to its operating environment without manual intervention by a user e.g. by a user manually tuning it to another frequency or channel that has improved reception or without receiving rudimentary signaling information and instructions from its network.

Networked radios designed to operate within one particular band or sets of particular channels cannot operate outside of the designated band or channels without appropriate authorization from regulatory authorities or spectrum owners. For example a radio may search a specified band to find an open channel for communications with the network. The radio will sequentially or randomly step or hop through the band until an open channel is found or an indication is given e.g. through a control signal that the network is otherwise busy e.g. no channels are available . Such a radio however does not determine a new band or frequency range from which to search for channels if a channel is not found. The radio either works within its prescribed frequency band according to its fixed characteristics such as transmit power bandwidth and modulation scheme or it does not work at all.

If a typical radio confronts harmful interference then its communications signals will not be transmitted or received. The radio also might receive a command from a base station to shut down for any number of reasons. For example under U.S. government regulations radios operating on certain frequencies in the 5 GHz band must cease transmissions on that channel within a specified time from the detection of radar signals which have priority over radio transmissions. A typical radio however is not able to adjust or is not agile in the sense that it can determine on its own how to overcome interference problems. Further if the radio encounters different parameters or a change within its environment that demands different parameters then the radio were unable to determine the parameters impacted or what behavioral modifications should be made.

For example public safety radios used by firefighters often have problems working in the basements of buildings on a frequency assigned to the radio. If the radio is able to dynamically sense its environment and adjust its frequency modulation power and network parameters then the radio would be able to maintain connectivity even under challenging conditions. Radios that do not have a dynamic capability to adapt to the environmental and user changes result in a loss of service. Moreover if regulatory parameters change then the radios become incapable of being re programmed to support new rule sets without costly refurbishing at a facility or location away from the users.

Some radios known as software defined radios can be reconfigured to adapt to a changing environment. These radios however are not able to dynamically adjust their operating behavior outside of a predetermined fixed set of parameters without uploading new software to the radio or modifying its hardware. Furthermore these radios generally are not able to achieve performance objectives aside from normal communications such as avoiding interference or conversely maintaining communications even at the expense of causing interference to radios outside the network or with lower priority.

Other radios use simple spectrum access techniques generally to operate within a single frequency band and strive to achieve basic communications within narrow slices of unused spectrum. These radios methods however are not suitable for operating across a broad cross section of frequency bands.

The headings provided herein are for convenience only and do not necessarily affect the scope or meaning of the claimed invention.

In a broad sense systems and methods for configuring a radio are disclosed in detail below. The systems and methods described herein can efficiently detect environmental conditions and configure the radio in response.

The system and methods disclosed herein can operate according to dynamic spectrum access principles. A networked radio node can dynamically adapt to its channel and or RF environment to maintain reliable communications with other network radios and can do so without interference to non network i.e. non cooperative radios. Furthermore a radio node can operate within certain policy constraints which may vary depending upon geographic location time of day regulatory requirements and other situational factors.

In some embodiments a radio node can operate over a very wide bandwidth or in multiple frequency bands by rapidly detecting interference adjusting its operating frequency power occupied bandwidth or other parameters when it does so. The software executing on the radio can use a detector to sense its channel and or RF environment by periodically or continually scanning some or all of the spectrum for channels that are either clear for use off limits due to interference or regulatory restrictions or have other radio signals operating on them. With this information the radio software can maintain a list of candidate channels that it may use to communicate with other radio nodes.

Radio nodes within a certain operating region may sense different RF characteristics of their channel and or RF environment. Based on this sensed information a negotiation rendezvous is performed among the nodes in order to select a common operating channel. An operating channel selected can be one that has improved performance. When non cooperative interference e.g. interference from a RF source outside of the network appears within a network or a subnetwork of radio nodes a new rendezvous operation may be performed resulting in a new operating channel for all or most radio nodes. Detection of non cooperative interference by one radio node in a network does not require that a new operating frequency will be used by its entire network of nodes rather the objective is to maintain communication for the majority of nodes. For example if only one or a few out of many radio nodes detect interference those nodes may cease communication while other nodes which remain out of range of interference can continue operating. In some embodiments radio nodes can be configured to not interfere with other non cooperative nodes and can maintain reliable communications subject to the non interference and policy constraints.

The principal software modules hardware components and application programmer interfaces APIs of one example embodiment are illustrated in . These software modules include spectrum manager rendezvous policy manager and database manager . Rendezvous can coordinate with other network radio nodes while complying with non interference requirements. Policy manager can inform spectrum manager of any policy constraints. Detector interface API provides detector scan information to spectrum manager and database manager can provide persistent storage for detector results and other information.

Systems and method for performing channel and or RF environment detection are further described in U.S. patent application Ser. No. 11 839 503 filed Aug. 15 2007 entitled METHODS FOR DETECTING AND CLASSIFYING SIGNALS TRANSMITTED OVER A RADIO FREQUENCY SPECTURM now U.S. Pat. No. 8 055 204 the contents of which are hereby incorporated by reference in their entirety.

The principal APIs include the radio interface API and the detector interface API . In some embodiments the radio interface API is used by a radio hardware manufacturer for integrating the radio software modules and the radio hardware such as a modem . Radio interface API can provide interfaces for configuration data communication and status. In some embodiments the detector interface API can also be used by a radio manufacturer for integrating a detector . Detector interface API can be used to provide interfaces for controlling signal detection. As illustrated in multiple software configuration interfaces can be included such as policy management interface and configuration interface . Because the radio software architecture is modular a third party can utilize other proprietary or standardized modules or hardware.

The functionality of the principal modules of the radio is described in more detail below and further illustrated in . While the description herein is provided with reference to certain software and hardware embodiment the functions described can be performed by any combination of hardware software or firmware operating alone or in combination.

Referring now to both spectrum manager can use information from the detector interface API as well as the policy manager to manage frequency spectrum usage to maintain reliable communications while avoiding interference and complying with any other policy constraints that may be imposed. The spectrum manager through scheduler can control the detector and modem to ensure conformance with radio policies and to control detection timing. For example spectrum manager can also maintain information that rendezvous can use to negotiate an operating frequency with other networked radios. Spectrum manager can maintain list of candidate channels that rendezvous may use to negotiate an operating frequency with other network radios. Spectrum manager can use scan information from detector interface API as well as policy information to maintain the candidate channel list. Spectrum manager can also maintain or access channel information as seen by neighboring network radio nodes.

The rendezvous subsystem establishes a control channel over which an operating frequency is determined for a particular network of radio nodes. Rendezvous behavior can depend on the type of radio node. In some embodiments two radio node types are supported base station BS nodes and subscriber SU nodes.

If a non cooperative radio is detected or a reset is received in step an advertise request packet can be transmitted in step . After a reply to the advertise request packet is received in step a new channel can be determined in step . If a decision is made to switch to the new channel in step then a channel switch is transmitted in step . After waiting for a flush the channel can be changed in step and the radio can resume sending periodic keep alive packets and advertise request packets in step . If a decision is made not to switch to the new channel in step no switch will be made and the radio can resume sending periodic keep alive packets and advertise request packets in step .

Considered in further detail rendezvous module can operate in at least three modes a startup b channel maintenance and c channel switching. In some embodiments channel switching can be triggered by the detection of non cooperative interference. These modes are discussed in more detail below.

Upon cold start the process for determining an operating channel frequency is begun. The process can vary depending upon the type of radio node.

For BS nodes in startup mode a free channel is selected from a candidate channel list. See step in . In some embodiments the candidate channel list is provided by the spectrum manager. The selection from the candidate channel list can be performed such that the channel with a low or the lowest frequency in Hz is chosen to optimize or otherwise improve RF propagation. See step in . The radio through the radio interface module is then commanded to operate on the selected frequency and a keep alive packet is then transmitted. See step in and step in As illustrated in the message sequence chart of the base station can identify a suggested transmission channel and transmit a keep alive packet to a subscriber unit in step . After transmission of the keep alive packet the base station radio can transition to a steady state in step .

As non limiting examples the keep alive packet transmitted by the base station can include channel information such as 

a a preferred receive frequency on which other nodes can operate. In some embodiments the frequency is the same frequency selected by the BS on which the keep alive is sent 

c a number of candidate channels that are cleared for use. In some embodiments the number is limited to 40 channels and

The keep alive packet can also carry the geo location of the BS radio node. In some embodiments the geo location can be latitude longitude data. After the keep alive is transmitted the BS node transitions into channel maintenance mode which is described in more detail below.

For SU nodes in startup mode a synchronize packet SYN is first sent to the BS radio node. See step in . In some embodiments the SU node acquires the BS node identifier and the BS preferred operating frequency from a file or database. The SYN packet can contain some or all of the types of channel information discussed above with regard to the keep alive packet. After sending the SYN packet an SU node waits for an acknowledgement ACK from the BS node. See step in . The ACK packet can contain a preferred frequency and other channel information or parameters upon which the SU should operate. After receiving and processing the ACK packet an SU node transitions to the channel maintenance mode. See step in . 

As illustrated in the message sequence chart of the subscriber unit can obtain a base station node ID based on a network ID supplied by a database in step . A SYN packet can be transmitted to one or more base stations in step . After receiving an acknowledgment from the base station in step the subscriber unit can enter a steady state in step .

A series of packets can be exchanged in the process of channel maintenance. illustrates a message sequence chart summarizing channel maintenance behavior.

As illustrated in a SU can send a keep alive packet in step . A BS node in channel maintenance mode can periodically send a keep alive packet and send an advertise request packet ARP . After receipt of advertise reply by the base station the process can repeat in steps . In some embodiments the periodic time interval PingTimeoutMsec can be determined by policy manager . The time interval could be set for any value and in some embodiments can be set to one second. These packets transmitted by the base station can be used to inform the subscriber units about the channel and or RF environment as detected by the base station. As non limiting examples the channel and or RF environment data can include preferred receive frequency known network channels and channel list. This information can be stored in a subscriber unit s neighborhood data structure as discussed above.

An SU node in channel maintenance mode will periodically send a keep alive packet to its associated BS as illustrated by steps and in . The time interval for sending the packet can be determined by the policy maker and in some embodiments can be set to one second. In addition an SU can respond with an advertise reply packet each time it receives an advertise request packet from the BS. See steps and in . These packets can be used to inform the BS of the channel and or RF environment as detected by the neighboring subscriber units. As non limiting examples the channel and or RF environment can include preferred receive frequency known network channels and candidate channel list. This information can be stored the BS s neighborhood data structure as discussed above and can be used during channel switching.

At any time during channel maintenance mode a radio node may detect a problem with the current operating channel via the spectrum manager subsystem. Some possible reasons for a problem with the current channel can include lost neighbors an empty channel and detection of a non cooperative radio. Detection of a problem can cause the node to transition into channel switching mode.

Detecting a non cooperative radio designates the current operating channel as a primary channel. For SU nodes the lost neighbors and empty channel cases can result in the node behaving as if it were at the beginning of the startup mode. In this mode a BS node will find a new channel from its candidate list and transmit a keep alive packet. An SU node will send a SYN packet to a preconfigured BS ID on a preconfigured channel as described above. In the case of a node detecting a non cooperative radio the behavior is different for each type of radio node.

The channel switching protocol for a base station is illustrated in . In step a BS node will transmit an advertise request upon detecting a non cooperative radio. The BS will then wait for an advertise reply from one or more of the SUs. In some embodiments the BS can be configured to wait for 200 msec for the SUs to respond. A variable such as MAX TIME TO WAIT FOR RESPOND can be used for this purpose. The advertise replies step received within this time frame provide the BS with information concerning the available channels identified by the responding SU. The BS can then select a new channel frequency to which to switch. In some embodiments the selection can be based on the available channel that is most common to most or all of the SUs. The BS then transmits a channel switch request packet to SUs in step notifying them of the new operating frequency. In some embodiments the BS node can be configured to wait for 100 msec before commanding its own radio to the new operating frequency for both transmit and receive . A variable such as TIME TO WAIT FOR RF TO FLUSH can be used for this purpose. The BS node will then transition back to the channel maintenance mode. An SU node that receives the channel switch request can change its operating channel frequency accordingly and then switch itself back to channel maintenance mode.

A channel switching protocol for a base station is illustrated in . An SU node can send a reset packet to the BS upon detecting a non cooperative radio. The BS will determine if a better channel is available taking into account some or all known SUs. In some embodiments the BS will check for the most common channel among all SUs. If this check results in the currently operating channel then the BS takes no action and lets the SU drop off. However if the common channel check results in a new channel frequency the BS will start the channel switch process as described above as if the BS had itself detected a non cooperative node. In this case the BS sends an advertise request step waits for and then processes any advertise replies and then determines a new most common channel. By this procedure the BS may be provided with the most recent information before selecting and switching to a new channel. After determining a new channel the BS then sends a channel switch request packet step before switching its own radio to the new channel and transitioning back to channel maintenance mode. The SU nodes that receive the channel switch request change their operating channel frequency accordingly and then operate in channel maintenance mode.

The spectrum manager can be configured to maintain the state of multiple logical channels and establish the basis for the candidate channel list that rendezvous uses and detecting when non cooperative interference occurs on a channel. In some embodiments the spectrum manager can operate according to one or more policies set by the policy manager. In such embodiments the policy manager can provide multiple operating parameters as well as the list of allowable channels governed by the policy. Channels that are not available per the policy can be automatically marked as Not Allowed. 

The spectrum manager analyzes the output of the detector subsystem and characterizes allowable channels according to their RF signatures. Channels can be periodically analyzed and if an appropriate signature is found then the channel can be marked as a control channel. Similarly if a non cooperative transmitter is detected then the channel can be marked as a primary channel the rendezvous subsystem can be immediately notified and a channel switch potentially triggered. Channels that have neither network nor non cooperative signals are marked as cleared. Furthermore a channel state can be marked as cleared if the channel had previously been marked as either network or non cooperative and a certain amount of time has elapsed without another detection of network or non cooperative signals. In some embodiments channels for which there is not enough data from the detector shall be marked as non cleared.

The state of multiple channels can be maintained in real time or near real time as the spectrum manager periodically analyzes and updates channel states. In some embodiments the analysis and update can be performed every 100 milliseconds as well as whenever the detector completes a scan. The channels marked as network and cleared can be included in the list of candidate channels that is utilized by rendezvous. Network signals may be relevant to SUs while cleared channels may be relevant to BSs.

Note that the designations of a logical channel are not limited to designations as either network or primary i.e. non cooperative . Additional designations can include cooperative signal present only cooperative signal and weak uncooperative detected cooperative signal and strong uncooperative detected weak uncooperative signal detected strong uncooperative signal detected network signal present with weak uncooperative signal network signal present with strong uncooperative signal network signal present with cooperative and weak uncooperative signals network signal present with cooperative and strong uncooperative signals network signal present over 80 of snapshot and strong noise present.

The spectrum manager module can be implemented by a spectrum exec module. The spectrum exec module is illustrated in as a unit of spectrum manager . The spectrum exec module can operate according to certain parameters set by the policy manager. These parameters can include channel size e.g. 2 MHz comprised of 1.75 MHz signal bandwidth plus a 0.25 MHz guard band maximum number of channels spectrum low spectrum high scan timeout relevant to time to live time to live time period to keep a channel marked as primary after no more detections network time to live time period to keep a channel marked as network after no more detections policy start frequency policy stop frequency predetermined detection threshold detect frequency low in some embodiments the same as spectrum low frequency and detect frequency high in some embodiments the same as spectrum high frequency .

Additional parameters can include the bin bandwidth which in some embodiments can be set to be 25 kHz. The detector outputs the RF energy contained within each bin and spectrum exec determines the state of channels by analyzing bins within the channel.

As described above the spectrum exec can maintain the state of a channel based on information from both the policy manager and the detector. The primary outputs of spectrum exec can include the candidate channel list that is used by rendezvous and a trigger that is sent to rendezvous upon detecting non cooperative interference.

The spectrum exec can define multiple channel states. As non limiting examples a channel may be defined to have one or more of the following states 

b Not cleared In some embodiments can be set if channel frequency is outside bounds of detect frequency range. In other embodiments can be set when not enough data has been collected to determine a valid state of the channel.

c Cleared Indicates that neither network nor non cooperative signals were recently detected on the channel.

Spectrum exec can be triggered by any one of multiple events. For example spectrum exec can be triggered by a periodic timer e.g. set for 100 msec and one generated by a wide band FFT detector after a scan has been performed and via a callback function . In some embodiments a proprietary detector can be used.

When triggered by the detector the spectrum exec can execute two primary steps to update the channel state for some or all of the channels. First a look through process described in more detail below divides a logical channel into bins and characterizes a channel based on the RF energy within the bins as measured by the detector. Second a channel update process updates the channel state by analyzing both the output of the look through process and timing information the current time and the elapsed time since the latest network or non cooperative signal detection .

The look through process considers the RF energy within the bin for some or all of the channels. For those channels look through counts the number of bins where the detected network power level is greater than a predetermined threshold parameter in some embodiments specified in dbm . When the number of bins is greater than a certain percentage in some embodiments 20 the same number of bins of an abstract representation of the channel are marked as network and the abstract representation is time stamped with the current time.

If the channel does not qualify as a network channel then the process is repeated with a lower threshold predetermined threshold minus threshold variation under certain circumstances e.g. when the new threshold is above a certain estimated noise level . If the channel still does not meet the criteria e.g. more than 20 of bins above the lower threshold but does have at least one bin above the original threshold then the same number of bins of the abstract representation of the channel are marked as primary and the abstract representation is time stamped with the current time.

At the conclusion of the look through process the channel update process can be invoked. The channel update process analyzes the abstract representation of logical channels constructed by the look through process. For some or all of the logical channels between spectrum low and spectrum high in some embodiments these are the same as the scan bandwidth the state of the channel is updated. For updated channels its state is marked as not cleared when the channel frequency is either below the detect low frequency or above the detect high frequency parameters.

If not marked as not cleared the bins for the abstract representation as defined by the look through process of each channel are processed. If any bin within a channel has been marked as primary and has not expired i.e. the time since the last non cooperative detection is less than the time to live parameter value then the channel state is marked as primary. Furthermore when a logical channel is newly marked as primary i.e. a non cooperative signal is first detected then rendezvous can be notified.

If no bins are marked as primary then the abstract representation is checked for network designation. If a sufficient percentage the same percentage used by the look through process for example 20 of bins are marked as network and this designation has not expired i.e. the time since the last network detection is less than the network time to live parameter value then the channel state is marked as control.

If the checks for not cleared primary and control fail then the channel state is set to cleared concluding the channel update process. The cleared state corresponds to the case when neither a network signature nor a primary detection has occurred on a valid channel within the last time to live timeframe.

When spectrum exec is triggered by a periodic timer the channel update process described above is executed. The periodic update to the channel states serves as a collector so that when the detector is off the state of the channels is validated by designating a channel state as cleared when the time to the last detection has exceeded the corresponding time to live limit.

The detector interface subsystem provides the interface wrapper around the detector. The interface can support any type of detector including for example wide band FFT detector narrow band ultra high sensitivity detector group sensing detector and other proprietary or non proprietary devices.

To control operation the detector interface generates a periodic scan request to the detector. The detector interface controls the operation of the detector through parameter settings that are governed by the policy. The detector interface also processes scan results sent from the detector and forwards them to the spectrum manager module.

In some embodiments the detector interface subsystem can be implemented on wide band FFT and or other detector modules. The detector interface can be implemented with two threads of control one for periodically sending scan requests to the detector by a scan scheduler and the other for asynchronously reading and processing the scan results from the detector.

The detector interface can use a parameter e.g. Requested Scans Per Second set by policy manager. The detector interface can also use certain parameters that characterize a particular detector s capabilities such as scan bin size Hz maximum bins per scan and scan Hz per msec.

The spectrum manager can control the initial operation of the detector interface by enabling an autoscan function and by specifying the high and low frequencies between which the detector can operate. Once autoscan is enabled and the frequency range is set the detector interface periodically triggers the detector with a scan request. The amount of time that elapses between each scan request is set by policy manager. In some embodiments the time can be set to 100 milliseconds e.g. Requested Scans Per Second 10 .

The frequency range over which a particular scan is performed may be a sub band within the entire frequency range of the radio node depending on the scan width that is set by the detector s hardware profile. In some embodiments multiple scan results may be requested for each scan cycle e.g. 100 msec .

For a given scan request the detector interface subsystem can specify the following control parameters bin size in some embodiments 25 kHz high and low frequency for the scan sample size number of FFT points processing window to use for power spectral estimation e.g. Rectwin Hanning Hamming Bartlett Welch and Blackman attenuation dB averaging and spur reduction.

Before sending the scan request to the detector the detector subsystem can synchronize itself with the modem. In some embodiments the detector interface can disable the modem transmitter in other embodiments the detector interface can synchronize to the modem power amplifier turning off. Once this occurs the scan request is sent to the detector. While a detection is in process access to the detector is restricted e.g. additional scan requests are disallowed 

The detector interface can also read scan results from the detector as a response to a scan request. Upon receiving a scan result packet from the detector the detector interface processes the results. If multiple scans were requested and the limit has not been reached at this point a new scan request is sent to the detector. In some embodiments 5 scans per request are performed as per the hardware configuration file. Once the requested scans are complete the detector interface processes the results and sends them to the spectrum manager subsystem. In some embodiments only the results of the last scan are sent. In the case of a wide band FFT detector the modem transmitter may also be re enabled.

As non limiting examples the following results can be compiled before sending to spectrum manager detected power levels for some or al of the bins scan width the sub band that was scanned center frequency scan completion time approximate time when scan results were received max bins per scan in some embodiments equal to 4096 per the detector hardware profile . The scan results are then sent to the spectrum manager triggering the look through and channel update processes.

To detect hardware faults and other potential anomalies the detector interface also includes a watchdog function. The watchdog runs periodically to determine whether a certain amount of time has elapsed without hearing from the detector. In some embodiments the time is three seconds and is based on a parameter in the hardware configuration file. If this time period has elapsed then the detector interface pings the detector. If no response to this ping or scan requests is heard within the same time period then the detector is logged as lost.

In some embodiments the policy manager can be used to load a policy file. As non limiting examples parameters that are set in the policy file can include NodeId MaxTxPower MaxNodes NumPolicies UpdateChannelTime RequestedScansPerSec ScanTimeout StrongDetectionThreshold NodeTimeout MaxReadChannelsToCheckAtOnce AllowRendezvousToForceChanSwitch AllowedFreqMin Max NodeType and InitialNetworkId.

Additionally frequency low frequency high and channel size parameters can be loaded for further policy options. In some embodiments only a single policy is implemented. Spectrum Low a parameter used system wide specifies the lowest end of the frequency range for the radio node and can be set to be the lowest frequency among all of the Frequency Low values of the policies. In some embodiments 306 MHz can be specified as the Spectrum Low. Spectrum High a parameter used system wide specifies the highest end of the frequency range for the radio node and can be set to be the highest frequency among all of the Frequency High values of the policies. In some embodiments 407 MHz can be specified as the Spectrum Low. Channel Size a parameter used system wide can be set to be the narrowest frequency channel among all of the Channel Size values of the policies. In some embodiments 1.75 MHz can be specified as the Channel Size.

Upon power up the radio interface subsystem configures its own transmit receive buffers and UDP IP sockets for communication with the modem. It can set the transmit power based on the policy and initializes the modem hardware. After initialization the radio interface waits for packets inbound from the modem. When a packet is received it processes the packet by invoking the appropriate subsystem e.g. a process packet function in rendezvous . The radio interface also provides the interface used by the rendezvous module to set transmit and receive frequencies and for transmitting packets through the modem.

The database manager interface or spectrum database manager can be used to provide the interface to a database e.g. SQLite that is used to store detector scan results. Upon power up this module sets up internal data structures e.g. FIFOs and access pools and creates a database to store detector results. The database manager provides an interface for reading from and writing to the detector database. The write interface can be used by spectrum exec to store results.

One or more configuration files can be used by the system. In some embodiments one file can be used for policy configuration PolicyFile.ini and the other for hardware configuration HwIniFile.ini .

An example policy file is illustrated in . In some embodiments additional parameters can be implemented such as NumPolicies NodeType InitialNetworkId ScanHzPerScan and ScanHzPerMsec.

Many specific details of certain embodiments of the invention are set forth in the description and in to provide a thorough understanding of these embodiments. A person skilled in the art however will understand that the invention may be practiced without several of these details or additional details can be added to the invention. Well known structures and functions have not been shown or described in detail to avoid unnecessarily obscuring the description of the embodiments of the invention. As used herein one or more components coupled to each other can be coupled directly i.e. no other components are between the coupled components or indirectly i.e. one or more other components can be placed between the coupled components .

Unless the context clearly requires otherwise throughout the description and the claims the words comprise comprising and the like are to be construed in an inclusive sense as opposed to an exclusive or exhaustive sense that is to say in the sense of including but not limited to. Additionally the words herein above below and words of similar import when used in this application shall refer to this application as a whole and not to any particular portions of this application. Where the context permits words in the above Detailed Description using the singular or plural number may also include the plural or singular number respectively. The word or in reference to a list of two or more items covers all of the following interpretations of the word any of the items in the list all of the items in the list and any combination of the items in the list.

The above detailed description of embodiments of the invention is not intended to be exhaustive or to limit the invention to the precise form disclosed above. While specific embodiments of and examples for the invention are described above for illustrative purposes various equivalent modifications are possible within the scope of the invention as those skilled in the relevant art will recognize. For example while processes or blocks are presented in a given order alternative embodiments may perform routines having steps or employ systems having blocks in a different order and some processes or blocks may be deleted moved added subdivided combined and or modified to provide alternative or subcombinations. Each of these processes or blocks may be implemented in a variety of different ways. Also while processes or blocks are at times shown as being performed in series these processes or blocks may instead be performed in parallel or may be performed at different times.

The teachings of the invention provided herein can be applied to other systems not necessarily the system described above. The elements and acts of the various embodiments described above can be combined or altered to provide further embodiments.

These and other changes can be made to the invention in light of the above Detailed Description. While the above description describes certain embodiments of the invention and describes the best mode contemplated no matter how detailed the above appears in text the invention can be practiced in many ways. Details of the system may vary considerably in its implementation details while still being encompassed by the invention disclosed herein.

The terminology used in the Detailed Description is intended to be interpreted in its broadest reasonable manner even though it is being used in conjunction with a detailed description of certain specific embodiments of the invention. Certain terms may even be emphasized however any terminology intended to be interpreted in any restricted manner will be overtly and specifically defined as such in this Detailed Description section. In general the terms used in the following claims should not be construed to limit the invention to the specific embodiments disclosed in the specification unless the above Detailed Description section explicitly defines such terms. Accordingly the actual scope of the invention encompasses not only the disclosed embodiments but also all equivalent ways of practicing or implementing the invention under the claims.

