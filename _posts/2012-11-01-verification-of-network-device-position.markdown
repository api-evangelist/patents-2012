---

title: Verification of network device position
abstract: In one aspect of the invention, a method for verifying locations of devices is provided. The method is implemented in a system having at least a client device, a network device and a server (collectively the “endpoints”.) At least a first token, a device listing information and an authorization parameter are transmitted in the system via a browser or any web application, to enable endpoints to verify that the client device has logged in to the server and the client device and the network device are in a same network. In another embodiment, a method for verifying locations of devices implemented on a server is provided. In yet another embodiment, a method for verifying locations of devices implemented on a network device is provided.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09094431&OS=09094431&RS=09094431
owner: miiiCasa Taiwan Inc.
number: 09094431
owner_city: Taipei
owner_country: TW
publication_date: 20121101
---
The present invention relates generally to a device location verification method and more specifically to a device location verification method implemented in a system having at least a client device a network device and a server.

Ordinary instant messaging software applications such as Windows MSN or skype or peer to peer software applications verify whether two network devices are in a same network before performing a file transmission. If the two network devices are not in a same network a server will establish a connection between each network device respectively and the file is transferred from one network device to another via the server. On the other hand if the two network devices are in a same network a direct connection between the two devices is established. In this way the total travelling distance of the data is shortened the data transmission delay is reduced the resource of the network device is preserved and the loading of the server is relieved.

Conventional measure for an application to locate other network devices is through asking the operating system to broadcast on the data link layer of the open systems communication OSI model in a local area network. The result of the broadcast can then be used to verify that the two network devices are in a same local area network. Specifically identification codes of the network devices are retrieved corresponding to the broadcast. Then information is retrieved from the server to verify that such identification codes do represent the network devices that direct data transmission i.e. peer to peer data transmission is to be established later.

However the broadcasting mechanism cannot be implemented in some applications such as the browser. One reason is that browsers only support the Hypertext Transfer Protocol HTTP and cannot use other communication protocols to ask the operating system to broadcast and capture responses on the data link layer of the OSI model so as to explore other network devices in a same local area network. In addition application developers need to customize their applications according to the protocol that the operating system of the network device uses instead of using the common HTTP. Complexity of application development is accordingly increased. Therefore there is a need in the art for a browser or other applications not capable of requesting an operating system to broadcast and capture response on the data link layer of the OSI model to verify whether it is in a same local area network with other network devices.

In one embodiment a method for verifying locations of devices implemented in a system having at least a server a client device and a network device is provided. The verification method includes receiving in the server a first request to login from a client device. If the login succeeds the server transmits a first response to the client device. The first response includes at least a first token and a network device listing information and the first token enables the client device to control the network device. In addition the verification method includes receiving in the server a second request asking at least an authorization parameter from the client device and the server correspondingly transmitting a second response to the client device. The second response includes at least the authorization parameter. Moreover the verification method includes receiving in the network device a first authorization request from the client device. If the first authorization request includes at least the first token and the authorization parameter the network device transmits a second authorization request having at least the authorization parameter to the server. The verification method further includes receiving in the server the second authorization request from the network device and verifying in the server the second authorization request includes the authorization parameter.

Furthermore the verification method may include receiving in the network device a third request from the client device. The client device correspondingly transmits a third response to the client device. The third response includes at least a device information. The verification method may further include transmitting from the server a second token to the client device and later the client device transmits the second token to the network device. The second token may enable the client device to access the network device. The verification method may also include generating in the server a verified result if the server verifies that the second authorization request includes at least the authorization parameter. The server may transmit the verified result to the client device directly. Alternatively the server may transmit the verified result to the network device so the network device may transmit the verified result to the client device.

Accordingly the verification method of the present invention enables the client device the sever and the network device to verify that the client device and the network device are in a same network and that the client device has logged in to the server via a browser or an application utilizing HTTP or any protocol not capable of requesting an operating system to broadcast and capture response on the data link layer of the OSI model. As a result communication within a same local area network between the client device and the network device may be established and data may be transmitted between the client device and the network device without going through the server outside such local area network.

It should be understood however that this Summary may not contain all aspects and embodiments of the present invention that this Summary is not meant to be limiting or restrictive in any manner and that the invention as disclosed herein will be understood by one of ordinary skill in the art to encompass obvious improvements and modifications thereto.

In accordance with common practice the various described features are not drawn to scale and are drawn to emphasize features relevant to the present disclosure. Like reference characters denote like elements throughout the figures and text.

The present invention will now be described more fully hereinafter with reference to the accompanying drawings in which exemplary embodiments of the invention are shown. This invention may however be embodied in many different forms and should not be construed as limited to the embodiments set forth herein. Rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the scope of the invention to those skilled in the art. Like reference numerals refer to like elements throughout.

The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of the invention. As used herein the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will be further understood that the terms comprises and or comprising or includes and or including or has and or having when used herein specify the presence of stated features regions integers steps operations elements and or components but do not preclude the presence or addition of one or more other features regions integers steps operations elements components and or groups thereof.

It will be understood that when an element is referred to as being on another element it can be directly on the other element or intervening elements may be present therebetween. In contrast when an element is referred to as being directly on another element there are no intervening elements present. As used herein the term and or includes any and all combinations of one or more of the associated listed items.

It will be understood that although the terms first second third etc. may be used herein to describe various elements components regions parts and or sections these elements components regions parts and or sections should not be limited by these terms. These terms are only used to distinguish one element component region part or section from another element component region layer or section. Thus a first element component region part or section discussed below could be termed a second element component region layer or section without departing from the teachings of the present invention.

Furthermore relative terms such as lower or bottom and upper or top may be used herein to describe one element s relationship to another element as illustrated in the Figures. It will be understood that relative terms are intended to encompass different orientations of the device in addition to the orientation depicted in the Figures. For example if the device in one of the figures is turned over elements described as being on the lower side of other elements would then be oriented on upper sides of the other elements. The exemplary term lower can therefore encompasses both an orientation of lower and upper depending of the particular orientation of the figure. Similarly if the device in one of the figures is turned over elements described as below or beneath other elements would then be oriented above the other elements. The exemplary terms below or beneath can therefore encompass both an orientation of above and below.

Unless otherwise defined all terms including technical and scientific terms used herein have the same meaning as commonly understood by one of ordinary skill in the art to which this invention belongs. It will be further understood that terms such as those defined in commonly used dictionaries should be interpreted as having a meaning that is consistent with their meaning in the context of the relevant art and the present disclosure and will not be interpreted in an idealized or overly formal sense unless expressly so defined herein.

As used herein around about or approximately shall generally mean within 110 percent preferably within 100 percent and more preferably within 5 percent of a given value or range. Numerical quantities given herein are approximate meaning that the term around about or approximately can be inferred if not expressly stated.

The description will be made as to the embodiments of the present invention in conjunction with the accompanying drawings in . Reference will be made to the drawing figures to describe the present invention in detail wherein depicted elements are not necessarily shown to scale and wherein like or similar elements are designated by same or similar reference numeral through the several views and same or similar terminology. In accordance with the purposes of this invention as embodied and broadly described herein this invention 

The first network in the present invention may be a local area network which may be a wired or wireless setting. The second network may be a local area network a wide area network a mobile communication network or the Internet. The first client device in the present invention may be any computing device with Internet connectivity such as a desktop computer a laptop computer a tablet computer or a handheld device such as a personal digital assistant or a smart phone. The server of the present invention may be a single server a server group constituted of several servers or a data center. The first network device in the present invention may be any device with Internet access and storage including but not limited to network attached storage NAS a storage area network SAN a work station a modem a gateway a proxy server a wireless access point a wireless hot spot a femtocell an Internet TV and a set up box. Alternatively the first network device may be any device with Internet access and that can generate content including but not limited to an IP camera a sensor a surveillance camera a video recorder a digital camera and a scanner. It is to be noted that the aforementioned devices are merely exemplary and the present invention is not so limited.

The verification method of the present invention includes a user at the first client device logs in to the server and the sever correspondingly transmits a first token and a network device listing information. The first token enables the first client device to control the first network device to transmit an authorization request to the server when the first client device and the first network device are in a same network. That is the first token enables the first network device to verify that it is in a same network as the first client device when the first network device receives the first token from the first client device . Moreover the network device listing information may include a listing of all the network devices potentially in the same network as the first client device the uniform resource locator URL of the application programming interface API of the network devices or the names of the network devices but the present invention is not so limited. By performing the aforementioned steps the first client device and the server both verify that a user at the first client device has logged in to the server . In one embodiment the server may determine the location of the first client device in the first network according to the source IP address of the login request from the first client device . According to the source IP address the server may collect relevant information of the network devices potentially in the first network combine the information into device listing information and transmit the device listing information to the first client device . Specifically the device listing information may include IP address URL name of device API version or web service port number of the network devices potentially in the first network . Accordingly the first client device may communicate with all the network devices potentially in the first network and utilizes the verification method of the present invention.

The verification method of the present invention further includes the first client device transmitting a first request to the server . Correspondingly the server transmits an authorization parameter to the first client device . The authorization parameter is later used by the first client device to prove to the server that it has logged in to the server and that the first client device and the first network device are in a same network. Furthermore a second token may be transmitted along with the authorization parameter to the first client device . The second token include information enabling the first client device to access the first network device . In further detail the first client device may access specific data file folder directory or document in the first network device . The second token may be later transmitted to the first network device so the first network device may verify that the first client device has logged in to the server .

The verification method of the present invention further includes the first client device transmitting a first authorization request to the first network device according to the device listing information. The first authorization request comprises the first token and the authorization parameter. The first token enables the first network device to know that the first client device and the first network device are in a same network. In detail the first token may trigger the first network device to broadcast in the local area network and determine whether the source of the response is within a same local area network. If yes specific performance at the first network device may be executed. In other words the first token enables the first network device to verify that the first client device and the first network device are in a same network. If yes the first client device may be authorized to control the first network device to perform specific operations such as responding specific information. In addition the first client device may control the first network device to transmit a second authorization request to the server corresponding to the first client device . Thereafter the first network device verifies that the first authorization request does comprise the authorization parameter and the first token. If no the first network device transmits an error message to the first client device . If yes the first network device is triggered by the first token and transmits a second authorization request having the authorization parameter to the server . Moreover the first authorization request may comprise the second token. When the first network device verifies that the first authorization request comprises the second token the first network device may verify that the first client device has logged in to the server .

The verification method of the present invention further includes the server verifying whether the second authorization request comprises the authorization parameter. If no the server transmits an error message to the first network device . If yes the server generates a verified result. The aforementioned steps enable the server to verify that the first client device and the first network device are in the same network and that the user at the first client device has logged in to the server . Furthermore the verified result is transmitted to the first network device . By receiving the verified result the first network device verifies that the user at the first client device has logged in to the server . Thereafter the verified result is transmitted by the first network device to the first client device . By receiving the verified result the first client device verifies that it is in the same network as the first network device . Alternatively the verified result may be first transmitted to the first client device and then to the first network device . It is to be noted that the second token may be transmitted to the first network device by the first client device along with the verified result so the first network device may verify that the first client device has logged in to the server .

Accordingly the verification method of the present invention enables the first client device the sever and the first network device to verify that the first client device and the first network device are in a same network and that the first client device has logged in to the server via a browser or application utilizing HTTP or any protocol. Specifically protocols not capable of requesting an operating system to broadcast and capture response on the data link layer of the OSI model can also be used to implement the verification method of the present invention. As a result communication within a same local area network between the first client device and the first network device may be established and data may be transmitted between the first client device and the first network device without going through the server outside such local area network.

Here the first network device is capable of generating content. For example the first network device may be a video recorder as illustrated a digital camera a surveillance camera . . . etc. Specifically the first network device may possess zero or limited storage capacity. Therefore peripheral storage apparatus may be linked through wire or wirelessly to the first network device to expand the storage capacity of the first network device . In this embodiment after each of the first client device the server and the first network device verifies that the first client device and the first network device are in a same network and that the user at the first client device has logged in to the server a connection within a same local area network may be established between the first client device and the first network device . As a result the first client device may access the peripheral storage apparatus which is linked to the first network device . It is to be noted that the peripheral storage apparatus may be a thumb drive an external hard drive a magnetic hard discs optical discs floppy discs flash memories or forms of electrically programmable memories EPROM or electrically erasable and programmable EEPROM memories but the present invention is not so limited.

In one embodiment after first client device the sever the first network device and the second network device verify that the first client device the first network device and the second network device are in a same network and that the first client device has logged in to the server the first client device may generate an output display showing the first network device and the second network device . The output display enables a user at the first client device to choose to transmit data between the first network device or the second network device . The output display further enables such user at the first client device to control the first network device and the second network device to transmit data via the first client device .

In step S a user at the first client device logs in to the server and in step S the sever correspondingly transmits a first token and a network device listing information. The first token enables the first client device to control the first network device to transmit an authorization request to the server when the first client device and the first network device are in a same network. That is the first token enables the first network device to verify that it is in a same network as the first client device when the first network device receives the first token from the first client device . Moreover the network device listing information may include a listing of all the network devices potentially in the same network as the first client device the uniform resource locator URL of the application programming interface API of the network devices or the names of the network devices but the present invention is not so limited. In one embodiment the server may determine the location of the first client device in the first network according to the source IP address of the login request from the first client device . According to the source IP address the server may collect relevant information of the network devices potentially in the first network combine the information into device listing information and transmit the device listing information to the first client device . Specifically the device listing information may include IP address URL name of device API version or web service port number of the network devices potentially in the first network . Accordingly the first client device may communicate with all the network devices potentially in the first network and utilizes the verification method of the present invention. In steps S and S the first client device and the server both verify that a user at the first client device has logged in to the server .

In step S the first client device transmits a first request to the server . In step S the server correspondingly transmits an authorization parameter to the first client device . The authorization parameter is later used by the first client device to prove to the server that it has logged in to the server and that the first client device and the first network device are in a same network. Furthermore a second token may be transmitted along with the authorization parameter to the first client device in step S. Not illustrated. The second token include information enabling the first client device to access the first network device . In further detail the first client device may access specific data file folder directory or document in the first network device . The second token may be later transmitted to the first network device so the first network device may verify that the first client device has logged in to the server .

In step S the first client device transmits a first authorization request to the first network device according to the device listing information. The first authorization request comprises the first token and the authorization parameter. The first token enables the first network device to know that the first client device and the first network device are in a same network. In detail the first token may trigger the first network device to broadcast in the local area network and determine whether the source of the response is within a same local area network. If yes specific performance at the first network device may be executed. In other words the first token enables the first network device to verify that the first client device and the first network device are in a same network. If yes the first client device may be authorized to control the first network device to perform specific operations such as responding specific information. In addition the first client device may control the first network device to transmit a second authorization request to the server corresponding to the first client device . In step S the first network device verifies that the first authorization request does comprise the authorization parameter and the first token. If no the first network device transmits an error message to the first client device . If yes the first network device is triggered by the first token and transmits a second authorization request having the authorization parameter to the server in step S. Moreover the first authorization request may comprise the second token. In step S when the first network device verifies that the first authorization request comprises the second token the first network device may verify that the first client device has logged in to the server .

In step the server verifies whether the second authorization request comprises the authorization parameter. If no the server transmits an error message to the first network device . If yes the server generates a verified result. Through steps S S the server verifies that the first client device and the first network device are in the same network and that the user at the first client device has logged in to the server . In step S the verified result is transmitted to the first network device . By receiving the verified result the first network device verifies that the user at the first client device has logged in to the server . In step S the verified result is transmitted by the first network device to the first client device . By receiving the verified result the first client device verifies that it is in the same network as the first network device . Alternatively the verified result may be first transmitted to the first client device and then to the first network device . It is to be noted that the second token may be transmitted to the first network device by the first client device along with the verified result so the first network device may verify that the first client device has logged in to the server .

In one embodiment the first client device may generate an output display. The output display allows the user to control the data transmission between the first client device and the first network device . In another embodiment the first client device may generate an output display having the network device listing information transmitted by the server in step S. The user may select a specific network device from the displayed network device listing information. Thereafter steps S S of the verification method of the present invention may be implemented on the network device selected by the user. In another embodiment the first client device may generate a user interface and the user may select relevant data access instructions for the first network device from the user interface. In addition such data access instructions may be transmitted along with the second token to the first network device to have the first network device execute such data access instructions.

Accordingly the verification method of the present invention enables the first client device the sever and the first network device to verify that the first client device and the first network device are in a same network and that the first client device has logged in to the server via a browser or application utilizing HTTP or any protocol. Specifically protocols not capable of requesting an operating system to broadcast and capture response on the data link layer of the OSI model can also be used to implement the verification method of the present invention. As a result communication within a same local area network between the first client device and the first network device may be established and data may be transmitted between the first client device and the first network device without going through the server outside such local area network.

Accordingly the verification method of the present invention enables the first client device the sever and the first network device will verify that the first client device and the first network device are in a same network and that the client device has logged in to the server via a browser or application utilizing HTTP or any protocol. Specifically protocols not capable of requesting an operating system to broadcast and capture response on the data link layer of the OSI model can also be used to implement the verification method of the present invention. As a result communication within a same local area network between the first client device and the first network device may be established and data may be transmitted between the first client device and the first network device without going through the server outside such local area network.

In step S a user at the first client device logs in to the server and in step S the sever correspondingly transmits a first token and a network device listing information. The first token enables the first client device to control the first network device to transmit an authorization request to the server when the first client device and the first network device are in a same network. That is the first token enables the first network device to verify that it is in a same network as the first client device . Moreover the network device listing information may include a listing of all the network devices potentially in the same network as the first client device the URL of API of the network devices or the names of the network devices but the present invention is not so limited. In steps S and S the first client device and the server verifies that a user at the first client device has logged in to the server .

In step S the first client device transmits a request having the first token to the first network device according to the device listing information. The first token and the device listing information may trigger the browser of the first client device to transmit such request. Alternatively the user at the first client device may select which network device to transmit such request according to the device listing information displayed in the browser. After the first network device verifies that such request comprises the first token the first network device correspondingly transmits a device information to the first client device in step S. The device information may comprise an API version so as to enable the first client device to verify that it s in the same network as the first network device . In addition the API version may enable the first client device to verify that the first network device is accessible i.e. is powered on. Moreover the first network device may transmit the update information as disclosed in step S which includes API version device ID manufacturer name model information firmware version number wide area network IP and web service port number of the first network device to the first client device in step S. Such information may be later transmitted to the server to compare with the update information transmitted in step S such that the server may verify that the first client device and the first network device are in a same network.

In step S the first client device transmits a first request to the server . In addition the first client device may transmit the update information to the server along with the first request. The server then compares the update information transmitted from the first client device in step S and the update information transmitted from the first network device in step S to verify that the first client device and the first network device are in a same network. In step S the server correspondingly transmits a second token and an authorization parameter to the first client device . The authorization parameter is later used by the first client device to prove to the server that it has logged in to the server and that the first client device and the first network device are in a same network. The second token includes information enabling the first client device to access the first network device . In further detail the first client device may access specific data file folder directory or document in the first network device . The second token is later transmitted to the first network device so the first network device may verify that the first client device has logged in to the server .

In step S the first client device transmits a first authorization request to the first network device according to the device listing information. The first authorization request comprises the first token the authorization parameter and the second token. In step S the first network device verifies that the first authorization request does comprise the authorization parameter and the first token. If no the first network device transmits an error message to the first client device . If yes the first network device is triggered by the first token and transmits a second authorization request having the authorization parameter to the server in step S. In addition in step S when the first network device verifies that the first authorization request comprises the second token the first network device verifies that the first client device has logged in to the server .

In step S the server verifies whether the second authorization request comprises the authorization parameter. If no the server transmits an error message to the first network device . If yes the server generates a verified result. Through steps S S the server verifies that the first client device and the first network device are in the same network and that the user at the first client device has logged in to the server . In step S the verified result is transmitted to the first network device . By receiving the verified result the first network device verifies that the user at the first client device has logged in to the server . In step S the verified result is transmitted by the first network device to the first client device . By receiving the verified result the first client device verifies that it is in the same network as the first network device . Thereafter the first client device may transmit the second token along with a request asking data transmission to the first network device . As a result the first network device may verify that the first client device has logged in to the server and further respond to such request. Alternatively the verified result may be first transmitted to the first client device and then to the first network device .

Accordingly the verification method of the present invention enables the first client device the sever and the first network device to verify that the first client device and the first network device are in a same network and that the first client device has logged in to the server via a browser or application utilizing HTTP or any protocol. Specifically protocols not capable of requesting an operating system to broadcast and capture response on the data link layer of the OSI model can also be used to implement the verification method of the present invention. As a result communication within a same local area network between the first client device and the first network device may be established and data may be transmitted between the first client device and the first network device without going through the server outside such local area network.

After implementing steps S S of the present invention the first client device the sever and the first network device verify that the first client device and the first network device are in a same network and that the first client device has logged in to the server . Thereafter in step S the first client device transmits a first invitation request to the first network device and the first network device correspondingly transmits a second invitation request to the server in step S. In response to the second invitation request the server transmits a message having an URL to the second client device in step S. The URL enables the second client device to login to the server . The message may be in the form of an electronic mail. In step S the second client device connects to the URL and logs in to the server . In step S the server transmits a verification result to the second client device . The verification result is used by the first network device to verify that the second client device is invited by the first client device to access the first network device . In step S the second client device requests data from the first network device according to the verification request. As a result the verification method of the present invention enables the first client device and the first network device to verify that they are in a same network and correspondingly allows the first client device to invite a device that is not in such same network to access the first network device .

In addition in step S the first network device executes steps S and S of the embodiment disclosed in . That is in step S the first network device receives the verified result from the server and transmits the verified result to the first client device . The verified result is first generated by the server after the server verifies that a second authorization request transmitted from the first network device to the server comprises the authorization parameter. By receiving the verified result the first network device verifies that the user at the first client device has logged in to the server . In addition by receiving the verified result the first client device verifies that it is in the same network as the first network device . Alternatively the first network device may receive the verified result from the first client device in step S. Not illustrated. That is the verified result is first transmitted to the first client device before being transmitted to the first network device . It is to be noted that the first network device may receive the second token from the first client device along with the verified result so the first network device may verify that the first client device has logged in to the server in step S. Not illustrated. 

Accordingly the verification method of the present invention enables the first client device the sever and the first network device to verify that the first client device and the first network device are in a same network and that the first client device has logged in to the server via a browser or application utilizing HTTP or any protocol. Specifically protocols not capable of requesting an operating system to broadcast and capture response on the data link layer of the OSI model can also be used to implement the verification method of the present invention. As a result communication within a same local area network between the first client device and the first network device may be established and data may be transmitted between the first client device and the first network device without going through the server outside such local area network.

In step S the server transmits an authorization parameter to the first client device in response to a first request from the first client device . The authorization parameter may be used by the first client device to prove to the server that it has logged in to the server and that the first client device and the first network device are in a same network. Furthermore a second token may be transmitted along with the authorization parameter to the first client device in step S. Not illustrated. The second token includes information enabling the first client device to access the first network device . The second token may later be transmitted from the first client device to the first network device so the first network device may verify that the first client device has logged in to the server .

In step S the server receives a second authorization request from the first network device and if the second authorization request comprises the authorization parameter the server generates a verified result and transmits the verified result to the first network device . The second authorization request is generated by the first network device in response to the first authorization request transmitted from the first client device . The first authorization request comprises a first token and the authorization parameter. The first token enables the first network device to know that the first client device and the first network device are in a same network. In detail the first token may trigger the first network device to broadcast in the local area network and determine whether the source of the response is within a same local area network. If yes specific performance at the first network device may be executed. In other words the first token enables the first network device to verify that the first client device and the first network device are in a same network. If yes the first client device may be authorized to control the first network device to perform specific operations such as responding specific information. In addition the first client device may control the first network device to transmit a second authorization request to the server corresponding to the first client device . Moreover the second token may be transmitted along with the first authorization request to the first network device . When the first network device verifies that the first authorization request comprises the second token the first network device may verify that the first client device has logged in to the server . In steps S S the server verifies that the first client device and the first network device are in the same network and that the user at the first client device has logged in to the server . Moreover the verified result transmitted to the first network device enables the first network device to verify that the user at the first client device has logged in to the server . The verified result is then transmitted to the first client device so that the first client device may verify that it is in the same network as the first network device . Alternatively the server may first transmit the verified result to the first client device and then from the first client device to the first network device . It is to be noted that the second token may be transmitted to the first network device by the first client device along with the verified result so the first network device may verify that the first client device has logged in to the server .

Accordingly the verification method of the present invention enables the first client device the sever and the first network device to verify that the first client device and the first network device are in a same network and that the first client device has logged in to the server via a browser or application utilizing HTTP or any protocol. Specifically protocols not capable of requesting an operating system to broadcast and capture response on the data link layer of the OSI model can also be used to implement the verification method of the present invention. As a result communication within a same local area network between the first client device and the first network device may be established and data may be transmitted between the first client device and the first network device without going through the server outside such local area network.

In step S the first network device executes steps S and S of the embodiment disclosed in . That is the first network device receives a request having a first token from the first client device and correspondingly transmits a device information to the first client device . The first token enables the first client device to control the first network device to transmit an authorization request to the server when the first client device and the first network device are in a same network. That is the first token enables the first network device to verify that it is in a same network as the first client device . The device information may comprise an API version so as to enable the first client device to verify that it s in the same network as the first network device . In addition the API version may enable the first client device to verify that the first network device is accessible i.e. is powered on. Moreover the first network device may transmit the update information as disclosed in step S which includes API version device ID manufacturer name model information firmware version number wide area network IP and web service port number of the first network device to the first client device . Such information may be later transmitted to the server by the first network device to be compared with the update information transmitted in step S such that the server may verify that the first client device and the first network device are in a same network.

In step S the first network device receives a first authorization request from the first client device verifies that the first authorization request comprise the first token and the authorization parameter and correspondingly transmits a second authorization request having the authorization parameter to the server .

In step S the first network device receives a verified result from the server and transmits the authorization result to the first client device . The verified result is generated by the server after the server verifies that the second authorization request comprises the authorization parameter. By receiving the verified result the first network device verifies that the user at the first client device has logged in to the server . By receiving the verified result the first client device verifies that it is in the same network as the first network device .

In step S the first network device receives a second token which was transmitted from the server to the first client device from the first client device . The second token includes information enabling the first client device to access the first network device . Further the second token enables the first network device to verify that the first client device has logged in to the server . Alternatively the second token may be received by the first network device along with the first authorization request in step S.

Accordingly the verification method of the present invention enables the first client device the sever and the first network device to verify that the first client device and the first network device are in a same network and that the first client device has logged in to the server via a browser or application utilizing HTTP or any protocol. Specifically protocols not capable of requesting an operating system to broadcast and capture response on the data link layer of the OSI model can also be used to implement the verification method of the present invention. As a result communication within a same local area network between the first client device and the first network device may be established and data may be transmitted between the first client device and the first network device without going through the server outside such local area network.

In step S the server executes steps S and S of the embodiment disclosed in . That is the server receives a login request from the user of the first client device and correspondingly transmits a first token and a network device listing information in step S. The first token enables the first client device to control the first network device to transmit an authorization request to the server when the first client device and the first network device are in a same network. That is the first token enables the first network device to verify that it is in a same network as the first client device . Moreover the network device listing information may include a listing of all the network devices potentially in the same network as the first client device the URL of API of the network devices or the names of the network devices but the present invention is not so limited. In step S the first client device and the server verifies that a user at the first client device has logged in to the server .

In step S the server executes steps S and S of the embodiment disclosed in . That is the server receives a first request from the first client device and correspondingly transmits an authorization parameter to the first client device . The authorization parameter is later used by the first client device to prove to the server that it has logged in to the server and that the first client device and the first network device are in a same network. In addition the server may receive the update information from the first client device . The server then compares the update information transmitted from the first client device in step S and the update information transmitted from the first network device in step S to verify that the first client device and the first network device are in a same network.

In step S the server receives a second authorization request from the first network device and if the second authorization request comprises the authorization parameter the server transmits a verified result to the first network device . The second authorization request is generated by the first network device after the first network device receives a first authorization request from the first client device and verifies that the first authorization request comprises the first token and the authorization parameter. The verified result may then be transmitted to the first client device from the first network device . By receiving the verified result the first network device verifies that the user at the first client device has logged in to the server . By receiving the verified result the first client device verifies that it is in the same network as the first network device . Alternatively the verified result may be first transmitted to the first client device and then to the first network device . Not illustrated. Through steps S and S the server verifies that the first client device and the first network device are in the same network and that the user at the first client device has logged in to the server .

In step S the server receives a request from the first client device asking for a second token. The second token includes information enabling the first client device to access the first network device . In further detail the first client device may access specific data file folder directory or document in the first network device . The second token may be later transmitted to the first network device so the first network device may verify that the first client device has logged in to the server . Moreover the request received from the first client device is transmitted by the first client device after the first client device receives the verified result from the first network device . By receiving the verified result the first client device verifies that it is in the same network as the first network device .

In step S the server correspondingly transmits the second token to the first client device . Thereafter the first client device may transmit the second token to the first network device such that the first network device may verify that the first client device has logged in to the server .

Accordingly the verification method of the present invention enables the first client device the sever and the first network device to verify that the first client device and the first network device are in a same network and that the first client device has logged in to the server via a browser or application utilizing HTTP or any protocol. Specifically protocols not capable of requesting an operating system to broadcast and capture response on the data link layer of the OSI model can also be used to implement the verification method of the present invention. As a result communication within a same local area network between the first client device and the first network device may be established and data may be transmitted between the first client device and the first network device without going through the server outside such local area network.

In addition the memory is capable of storing the instructions of the device location verification method of the present invention. Consequently the processing unit can access the memory and execute the instructions stored therein. The memory may be a volatile memory which includes random access memories RAM dynamic random access memories DRAM static random access memories SRAM and other forms of volatile memories known in the art. Alternatively the memory may be non volatile storage memory which includes magnetic hard discs optical discs floppy discs flash memories or forms of electrically programmable memories EPROM or electrically erasable and programmable EEPROM memories. Moreover the communication interface may be a network interface card an Ethernet card an optical transceiver a radio frequency transceiver or any other type of device that can send and receive information. Examples of the communication interface may further include wireless interfaces such as Bluetooth 3G and WiFi radios or wired interface such as USB.

The device location verification method described herein may also be embodied or encoded in an article of manufacture including a computer readable storage medium encoded with instructions. Instructions embedded or encoded in an article of manufacture including an encoded computer readable storage medium may cause one or more programmable processors or other processors to implement one or more of the techniques described herein such as when instructions included or encoded in the computer readable storage medium are executed by the one or more processors. Computer readable storage media may include random access memory RAM read only memory ROM programmable read only memory PROM erasable programmable read only memory EPROM electronically erasable programmable read only memory EEPROM flash memory a hard disk a compact disc ROM CD ROM a floppy disk a cassette magnetic media optical media or other computer readable media. In some examples an article of manufacture may comprise one or more computer readable storage media.

The methods and apparatus of the present invention may also be practiced via communications embodied in the form of program code that is transmitted over some transmission medium such as over electrical wiring or cabling through fiber optics or via any other form of transmission wherein when the program code is received and loaded into and executed by a machine such as an EPROM a gate array a programmable logic device PLD a client computer etc. the machine becomes an apparatus for practicing the invention. When implemented on a general purpose processor the program code combines with the processor to provide a unique apparatus that operates to invoke the functionality of the present invention. Additionally any storage techniques used in connection with the present invention may invariably be a combination of hardware and software.

Previous descriptions are only embodiments of the present invention and are not intended to limit the scope of the present invention. Many variations and modifications according to the claims and specification of the disclosure are still within the scope of the claimed invention. In addition each of the embodiments and claims does not have to achieve all the advantages or characteristics disclosed. Moreover the abstract and the title only serve to facilitate searching patent documents and are not intended in any way to limit the scope of the claimed invention.

