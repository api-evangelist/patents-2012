---

title: Grid from depositional space
abstract: A method can include providing, in a geological domain, a conformal mesh, conformal to geological discontinuities of a geological model, that includes depositional domain coordinates associated with a depositional domain; providing, in the depositional domain, an initial, at least vertically structured, multidimensional grid that includes initial nodes that define grid cells; referencing the conformal mesh to identify a set of grid cells of the initial grid traversed by the geological discontinuities; splitting each of the grid cells in the set to form sub cells, each of the sub cells defined at least in part by one or more new nodes; and assigning geological domain coordinates associated with the geological domain to at least the new nodes to generate a final grid that includes the initial nodes, the new nodes and geological domain coordinates associated with the geological domain. Various other apparatuses, systems, methods, etc., are also disclosed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08965745&OS=08965745&RS=08965745
owner: Schlumberger Technology Corporation
number: 08965745
owner_city: Sugar Land
owner_country: US
publication_date: 20120411
---
This application claims priority to and the benefit of European Patent Application No. EP 11162524.0 filed on Apr. 14 2011 entitled Method System Apparatus and Computer Readable Medium for Building a 3D Hybrid Grid from a Depositional Space to inventor Francois Lepage the disclosure of which is incorporated by reference herein in its entirety.

Phenomena associated with a sedimentary basin may be modeled using various equations. For application of a numerical technique such equations may be discretized using a grid that includes nodes cells etc. Where a basin includes various types of features e.g. stratigraphic layers faults etc. nodes cells etc. of a grid may represent or be assigned to such features. In turn discretized equations may better represent the basin and its features. Various technologies techniques etc. described herein pertain to grids.

A method can include providing a mesh and a grid of nodes in a depositional domain and referencing the mesh to identify grid cells defined by the nodes of the grid for splitting where such splitting can form sub cells defined at least in part by one or more new nodes. One or more computer readable storage media can include instructions to access a mesh access a grid and split grid cells of the grid in a depositional domain based at least in part on the mesh. One or more computer readable storage media can include instructions to access a grid that includes one or more unstructured portions defined at least in part by a mesh of a depositional domain to assign properties to the grid and to perform a simulation using the grid and the properties. Various other apparatuses systems methods etc. are also disclosed.

This summary is provided to introduce a selection of concepts that are further described below in the detailed description. This summary is not intended to identify key or essential features of the claimed subject matter nor is it intended to be used as an aid in limiting the scope of the claimed subject matter.

The following description includes the best mode presently contemplated for practicing the described implementations. This description is not to be taken in a limiting sense but rather is made merely for the purpose of describing the general principles of the implementations. The scope of the described implementations should be ascertained with reference to the issued claims.

Phenomena associated with a sedimentary basin e.g. a subsurface region whether below a ground surface water surface etc. may be modeled using various equations e.g. stress fluid flow phase etc. . For application of a numerical technique such equations may be discretized using a grid that includes nodes cells etc. For example a numerical technique such as the finite difference method can include discretizing a 1D differential heat equation for temperature with respect to a spatial coordinate to approximate temperature derivatives e.g. first order second order etc. . Where time is of interest a derivative of temperature with respect to time may also be provided. As to the spatial coordinate the numerical technique may rely on a spatial grid that includes various nodes where a temperature will be provided for each node upon solving the heat equation e.g. subject to boundary conditions generation terms etc. . Such an example may apply to multiple dimensions in space e.g. where discretization is applied to the multiple dimensions .

As another example of a numerical technique consider the finite element method where space may be represented by one dimensional or multi dimensional elements . For one spatial dimension an element may be represented by two nodes positioned along a spatial coordinate. For multiple spatial dimensions an element may include any number of nodes. Further some equations may be represented by all nodes while others are represented by fewer than all nodes e.g. consider an example for the Navier Stokes equations where fewer than all nodes represent pressure . The finite element method may include providing nodes that can define triangular elements e.g. tetrahedra in 3D higher order simplexes in multidimensional spaces etc. or quadrilateral elements e.g. hexahedra or pyramids in 3D etc. or polygonal elements e.g. prisms in 3D etc. . Such elements as defined by corresponding nodes of a grid may be referred to as grid cells.

Yet another example of a numerical technique is the finite volume method. For the finite volume method values for model equation variables may be calculated at discrete places on a grid for example a node of the grid that includes a finite volume surrounding it. The finite volume method may apply the divergence theorem for evaluation of fluxes at surfaces of each finite volume such that flux entering a given finite volume equals that leaving to one or more adjacent finite volumes e.g. to adhere to conservation laws . For the finite volume method nodes of a grid may define grid cells.

Another approach to modeling of a sedimentary basin includes a pillar grid composed of nodes pillars and cells. For example in three dimensions eight nodes may define a cell which may be referred to as a grid cell e.g. a pillar grid cell . In a pillar grid model grid cells may be indexed in an indexical domain using indexes i j and k e.g. an indexical coordinate system . For example a cubic grid cell i.e. defined by eight corner nodes may be indexed at its shallowest lower left corner and the number of grid cells may be a product of the model s i j and k dimensions. In such an example each grid cell may be defined by its eight nodes which may be labeled according to height and compass directions e.g. basesouthwest topsouthwest basenorthwest topnorthwest etc. . Pillar grids can model for example faults e.g. a surface that cuts a pillar grid horizons e.g. k index zones e.g. volume between two horizons segments e.g. contiguous block of grid cells bounded by fault planes etc. and may be used to specify properties e.g. earth properties .

Where a sedimentary basin e.g. subsurface region includes various types of features e.g. stratigraphic layers faults etc. nodes cells etc. a grid may represent or be assigned to such features. In turn discretized equations may better represent the sedimentary basin and its features.

In various examples a depositional space or a depositional domain is mentioned. For a sedimentary basin a depositional domain may be characterized for example as a domain i where isochrons conformable horizons identified within a geological domain tend to be planar and parallel ii where each point of the depositional domain located inside a stratigraphic sequence includes one corresponding location in a later day geological domain e.g. a present day space and iii where geometry of a geological domain tends to be physically relevant e.g. representative of actual physical features .

As to a stratigraphic sequence a sedimentary basin may include sedimentary deposits grouped into stratigraphic units for example based on any of a variety of factors to approximate or represent time lines that place stratigraphy in a chronostratigraphic framework. While sequence stratigraphy is mentioned lithostratigraphy may be applied for example based on similarity of lithology of rock units e.g. rather than time related factors .

As an example a method can include providing in a geological domain coordinate system a conformal mesh conformal geological discontinuities and optionally to stratigraphic units of a geological model where the conformal mesh includes depositional domain coordinates associated with a depositional domain coordinate system providing in the depositional domain coordinate system an initial at least vertically structured multidimensional grid that includes initial nodes that define grid cells referencing the conformal mesh to identify a set of grid cells traversed by the geological discontinuities splitting each of the grid cells in the set to form sub cells each of the sub cells defined at least in part by one or more new nodes and assigning geological domain coordinates associated with the geological domain coordinate system to at least the new nodes to generate a final grid that includes the initial nodes the new nodes and geological domain coordinates associated with the geological domain. Where the initial nodes have not been so assigned such assigning may assign geological domain coordinates associated with the geological domain coordinate system to the new nodes and the initial nodes otherwise assigning may be for new nodes e.g. initial nodes already assigned .

As an example a grid may conform to structural features like y faults x faults low angle unconformities salt bodies intrusions etc. e.g. geological discontinuities to more fully capture complexity of a geological model. As an example a grid may optionally conform to stratigraphy e.g. in addition to one or more geological discontinuities . As to geological discontinuities these may include model discontinuities such as one or more model boundaries. As an example a grid may be populated with property fields generated for example by geostatistical methods. As an example a grid may be mostly structured e.g. may include some small unstructured portions which can ease computations demands enhance accuracy etc. e.g. for model based simulations .

As mentioned a grid may be built with respect to a depositional domain. As an example a depositional domain may be a three dimensional computational space defined by three depositional coordinates u v w which may be stored on nodes of a mesh representing a geological domain e.g. specified in a Cartesian coordinate system with coordinates x y z . Such a mesh may be referred to as a background mesh. A background mesh can include the property of being conformal to geological discontinuities and optionally conformal to stratigraphy or optionally conformal to both stratigraphy and geological discontinuities e.g. faults unconformities intrusions model boundaries etc. . As an example distribution of depositional coordinates in a background mesh is such that when mapped to a depositional domain coordinate system e.g. u v w the geological domain is unfaulted and unfolded e.g. all post depositional deformations having altered material therein has been removed .

As an example a method for building a grid can include 1 generating an initial at least vertically structured e.g. sugar cube or other type of grid etc. grid covering a depositional domain e.g. optionally an entire depositional domain of a model 2 identifying grid cells that are traversed by geological discontinuities e.g. in the initial grid and splitting each of these grid cells into several polyhedral sub cells e.g. for three dimensional domains 3 removing grid cells lying outside of model boundaries and 4 associating geological domain coordinates e.g. x y z to nodes of the grid. Where initial nodes may already be associated the new nodes may be associated whereas if the initial nodes have not been associated then the new nodes and the initial nodes may be associated.

In the example of the management components include a seismic data component an additional information component e.g. well logging data a processing component a simulation component an attribute component an analysis visualization component and a workflow component . In operation seismic data and other information provided per the components and may be input to the simulation component .

In an example embodiment the simulation component may rely on entities . Entities may include earth entities or geological objects such as wells surfaces reservoirs etc. In the system the entities can include virtual representations of actual physical entities that are reconstructed for purposes of simulation. The entities may include entities based on data acquired via sensing observation etc. e.g. the seismic data and other information .

In an example embodiment the simulation component may rely on a software framework such as an object based framework. In such a framework entities may include entities based on pre defined classes to facilitate modeling and simulation. A commercially available example of an object based framework is the MICROSOFT .NET framework Redmond Wash. which provides a set of extensible object classes. In the .NET framework an object class encapsulates a module of reusable code and associated data structures. Object classes can be used to instantiate object instances for use in by a program script etc. For example borehole classes may define objects for representing boreholes based on well data.

In the example of the simulation component may process information to conform to one or more attributes specified by the attribute component which may include a library of attributes. Such processing may occur prior to input to the simulation component . Alternatively or in addition the simulation component may perform operations on input information based on one or more attributes specified by the attribute component . In an example embodiment the simulation component may construct one or more models of the geologic environment which may be relied on to simulate behavior of the geologic environment e.g. responsive to one or more acts whether natural or artificial . In the example of the analysis visualization component may allow for interaction with a model or model based results. Additionally or alternatively output from the simulation component may be input to one or more other workflows as indicated by a workflow component .

In an example embodiment the management components may include features of a commercially available simulation framework such as the PETREL seismic to simulation software framework Schlumberger Limited Houston Tex. . The PETREL framework provides components that allow for optimization of exploration and development operations. The PETREL framework includes seismic to simulation software components that can output information for use in increasing reservoir performance for example by improving asset team productivity. Through use of such a framework various professionals e.g. geophysicists geologists and reservoir engineers can develop collaborative workflows and integrate operations to streamline processes. Such a framework may be considered an application and may be considered a data driven application e.g. where data is input for purposes of simulating a geologic environment .

In an example embodiment various aspects of the management components may include add ons or plug ins that operate according to specifications of a framework environment. For example a commercially available framework environment marketed as the OCEAN framework environment Schlumberger Limited Houston Tex. allows for seamless integration of add ons or plug ins into a PETREL framework workflow. The OCEAN framework environment leverages .NET tools Microsoft Corporation Redmond Wash. and offers stable user friendly interfaces for efficient development. In an example embodiment various components may be implemented as add ons or plug ins that conform to and operate according to specifications of a framework environment e.g. according to application programming interface API specifications etc. .

The model simulation layer may provide domain objects act as a data source provide for rendering and provide for various user interfaces . Rendering may provide a graphical environment in which applications can display their data while the user interfaces may provide a common look and feel for application user interface components.

In the example of the domain objects can include entity objects property objects and optionally other objects. Entity objects may be used to geometrically represent wells surfaces reservoirs etc. while property objects may be used to provide property values as well as data versions and display parameters. For example an entity object may represent a well where a property object provides log information as well as version information and display information e.g. to display the well as part of a model .

In the example of data may be stored in one or more data sources or data stores generally physical data storage devices which may be at the same or different physical sites and accessible via one or more networks. The model simulation layer may be configured to model projects. As such a particular project may be stored where stored project information may include inputs models results and cases. Thus upon completion of a modeling session a user may store a project. At a later time the project can be accessed and restored using the model simulation layer which can recreate instances of the relevant domain objects.

In the example of the geologic environment may be outfitted with any of a variety of sensors detectors actuators etc. For example equipment may include communication circuitry to receive and to transmit information with respect to one or more networks . Such information may include information associated with downhole equipment which may be equipment to acquire information to assist with resource recovery etc. Other equipment may be located remote from a well site and include sensing detecting emitting or other circuitry. Such equipment may include storage and communication circuitry to store and to communicate data instructions etc.

As to using at least a portion of a final grid as an example consider a flow simulation performed for a portion of a final grid surrounding a geological discontinuity such as a fault e.g. or a side of a fault etc. . In such an example the portion of the final grid would include some of the initial nodes of the initial grid and some new nodes that resulted from splitting to form sub cells.

The method is shown in in association with various computer readable media CRM blocks and . Such blocks generally include instructions suitable for execution by one or more processors or cores to instruct a computing device or system to perform one or more actions. While various blocks are shown a single medium may be configured with instructions to allow for at least in part performance of various actions of the method . As an example a computer readable medium CRM may be a computer readable storage medium.

In an example embodiment a method can include providing in a geological domain coordinate system a conformal mesh conformal to geological discontinuities of a geological model e.g. and optionally to stratigraphic units of a geological model that includes depositional domain coordinates associated with a depositional domain coordinate system see e.g. blocks and providing in the depositional domain coordinate system an initial at least vertically structured multidimensional grid that includes initial nodes that define grid cells see e.g. blocks and referencing the conformal mesh to identify a set of grid cells traversed by the geological discontinuities see e.g. blocks and splitting each of the grid cells in the set to form sub cells each of the sub cells defined at least in part by one or more new nodes see e.g. blocks and and assigning geological domain coordinates associated with the geological domain coordinate system to at least the new nodes see e.g. blocks and for example to generate a final grid that includes the initial nodes the new nodes and geological domain coordinates associated with the geological domain. Where the initial nodes have not been so assigned such assigning may assign geological domain coordinates associated with the geological domain coordinate system to the new nodes and the initial nodes otherwise assigning may be for new nodes e.g. initial nodes already assigned .

In the foregoing example providing a conformal mesh may include providing an unstructured conformal mesh an irregular conformal mesh or an unstructured and irregular conformal mesh. As an example providing an initial at least vertically structured multidimensional grid can include providing a structured multidimensional grid aligned with the conformable horizons in the depositional domain.

As an example splitting grid cells in a set of grid cells into sub cells can include splitting each of the grid cells in the set to form unstructured sub cells. For an example with three dimensions in space splitting can include splitting each of the grid cells in the set to form sub cells shaped as polyhedra.

In various examples a conformal mesh can include tetrahedra which may be space filling within a domain. As an example nodes of an at least vertically structured multidimensional grid may define hexahedral grid cells.

As to splitting as an example splitting may include computing an intersection between a line of a conformal mesh that represents a geological discontinuity and a line of a grid cell. In such an example the line may be a line in two dimensions or a line in three dimensions. As another example splitting may include computing an intersection between a plane of a conformal mesh that represents a geological discontinuity and a plane of a grid cell e.g. in a three dimensional domain .

As an example one or more computer readable storage media can include computer executable instructions to instruct a computing device to access a conformal mesh conformal to geological discontinuities of a geological model e.g. and optionally to stratigraphic units of a geological model that includes depositional domain coordinates associated with a depositional domain coordinate system see e.g. block access an initial at least vertically structured multidimensional grid that includes initial nodes that define grid cells and that include depositional domain coordinates associated with the depositional domain coordinate system see e.g. block reference the conformal mesh to identify a set of grid cells of the initial grid traversed by the geological discontinuities see e.g. block split each of the grid cells in the set to form sub cells each of the sub cells defined at least in part by one or more new nodes see e.g. block and assign geological domain coordinates associated with the geological domain coordinate system to at least the new nodes see e.g. block for example to generate a final grid that includes the initial nodes the new nodes and geological domain coordinates associated with the geological domain.

As an example one or more computer readable storage media can include computer executable instructions to instruct a computing device to access a grid that includes unstructured portions the unstructured portions defined at least in part by unstructured nodes that conform to a mesh defined with respect to a depositional domain for a geological model assign properties to the grid and perform a simulation using the grid to simulate phenomena that depends at least in part on the assigned properties. As an example instructions may be provided to instruct a computing device to discretize equations that describe the phenomena with respect to a grid e.g. an accessed grid . As an example grid nodes may be associated with coordinates of a coordinate system for a depositional domain and associated with coordinates of a coordinate system for a geological domain. As an example instructions may be provided to instruct a computing device to form a grid by splitting cuboid grid cells of an initial grid using a conformal mesh e.g. by referencing the mesh to identify a set of grid cells of the initial grid traversed by geological discontinuities represented by the mesh .

In general a relationship exists between node spacing and phenomenon or phenomena being modeled. Various scales may exist within a geologic environment for example a molecular scale may be on the order of 10to 10meters a pore scale may be on the order of 10to 10meters bulk continuum may be on the order of 10to 10meters and a basin scale on the order of 10to 10meters. As an example nodes of a mesh may be selected based at least in part on the type of phenomenon or phenomena being modeled e.g. to select nodes of appropriate spacing or spacings .

Some data may be involved in building an initial geological model and a corresponding mesh and thereafter a model and a corresponding mesh may optionally be updated in response to model output changes in time physical phenomena additional data etc. Data may include one or more of the following depth or thickness maps and fault geometries and timing from seismic remote sensing electromagnetic gravity outcrop and well log data. Furthermore data may include depth and thickness maps stemming from fades variations e.g. due to seismic unconformities assumed to following geological events iso times and data may include lateral facies variations e.g. due to lateral variation in sedimentation characteristics .

Given some examples of a geological model in a geological domain a conformal mesh in a geological domain and stratigraphic units in a depositional domain various examples of aspects of building a grid are described.

As an example given a depositional domain an initial at least vertically structured grid may be created that covers at least a portion of the depositional domain. For example the initial at least vertically structured grid may cover a portion of the depositional domain that includes one or more stratigraphic units. To create the initial at least vertically structured grid a mesh defined by nodes in a geological domain may be provided that includes depositional domain coordinates associated with each of the nodes. For example for the mesh of each of the nodes in the geological domain may include or otherwise be associated with coordinates for the depositional domain of . Thus in such an example a mapping may occur for a node of the mesh to a position in the depositional domain . As the mesh is a conformal mesh the stratigraphic units and geological discontinuities of the geological model may be mapped to the depositional domain . Accordingly the mesh may serve as a reference for features that exist in the geological model . As an example a mesh a grid nodes grid cells etc. may be represented by one or more data structures populated with various information e.g. coordinates of one or more coordinate systems etc. . As an example such a data structure may be stored in a data store e.g. a data storage device .

As an example in the three dimensional depositional domain U V W eight points defined as min min min max min min max max min min max min min min max max min max max max max and min max max define a cuboid in which a produced grid may fit e.g. that includes grid cells and optionally sub cells . Assuming a grid is defined by i j k indices in an indexical coordinate system I J K and that a number of grid cells in each of the indexical coordinate system directions I J and K are known as Nand N respectively then former points may be respectively associated with grid nodes with indices 0 0 0 N 0 0 N N 0 0 N 0 0 0 N N 0 N N N N and 0 N N . In such an example the I and J directions align with the U and V directions respectively noting that as a general case I and J directions may be oriented in any of a variety of orientations in a depositional domain. To facilitate grid building however the K direction of the indexical coordinate system may be aligned with the W direction of the depositional domain coordinate system e.g. as a height or depth dimension as in a pillar grid .

As shown in the example of for the initial grid cells where the K direction is oriented vertically a k value may be assigned to each horizon identified between the top k Nby convention and the bottom k 0 by convention of a geological model. Such a k value k depends of a number of grid cells nfor each layer Lof a model e.g. which may be assumed to be known k sum j 1 to i n. The w coordinates attached to the k values may be known where they correspond to horizons in the depositional domain see e.g. example horizons in the deposition domain of . For w coordinates attached to remaining k values these may be computed using for example a linear interpolation inside a layer to which they belong. As to u and v coordinates of grid nodes these may be computed as follows for examples where grid geometry is regular with respect to their directions u i j k min i max min N and v i j k min j max min N . In the examples of the depositional geometry of an at least vertically structured grid may be defined where grid nodes may optionally include consistent depositional coordinates u v w . As shown in the example of the initial grid cells may be regular cuboids that may be specified according to grid cell indices e.g. in the indexical coordinate system I J K . In the example of the initial grid cells may include shapes other than regular cuboids e.g. where they are at least vertically structured .

Referring again to the method of the initial grid cells of e.g. or the initial grid cells may correspond to the provision block that provides a grid in the depositional domain that includes nodes that define grid cells. In the example of the initial grid cells as well as the nodes that define these cells are structured and horizons e.g. iso w as in the example of are assigned to specific k coordinates according to a number of layers e.g. three layers and a number of desired cells in each of the layers e.g. 4 2 and 7 respectively . In the example of the grid of the initial grid cells is regular in the I and J directions which are aligned respectively with the U and V directions noting again that these axes of the grid may have another orientation in a depositional domain.

As mentioned a three dimensional geological domain e.g. X Y Z may be represented by a three dimensional mesh with depositional coordinates u v w defined on nodes of the mesh. Such a mesh may be composed of arbitrary shapes defined by its nodes e.g. structured or and unstructured regular or and irregular and where conformal such a mesh honors at least one geological discontinuity e.g. some of its nodes shape faces etc. locally approximate geometry of a geological discontinuity .

As indicated in the example of a grid cell is identified as to be traversed by a geological discontinuity if its border or its interior at least partially intersects one mesh feature e.g. node line shape face etc. representing the geological discontinuity. For example where the mesh includes tetrahedra defined by nodes a fault may be represented by faces of some of the tetrahedra. Where one of these faces intersects a grid cell that grid cell may be identified as belong to a set of grid cells that are traversed by one or more geological discontinuities.

As an example a geometrical test may be applied for identification of one or more grid cells. As an example such a test may optionally be reduced to a box triangle intersection test e.g. depending on shapes involved . As an example if faces defined by nodes of a mesh representing one or more geological discontinuities are shaped as polygons each of the faces may be subdivided into an equivalent connex set of triangles.

The example of shows an example of a process as to how a mesh shape or shapes defined by mesh nodes may be split by lines or planes defining a grid cell. The process may be part of a process for splitting a grid cell given a mesh that identifies the grid cell as being traversed by a geological discontinuity. In the process a set of mesh nodes or one or more mesh shapes e.g. optionally a set of mesh shapes may be associated with a grid cell.

In the example of the process can include defining new nodes and identifying nodes that may be nodes of an initial grid. For example where an initial grid includes initial nodes that define grid cells an intersection may be identified as being a node that corresponds to an existing initial node of the initial grid. As explained a process can split a grid cell of an initial grid to form a sub cell where the sub cell may be defined by one or more new nodes that do not belong to the initial nodes. Such a sub cell may include a combination of one or more new nodes and one or more initial nodes.

For the example of a mesh shape is shown e.g. a triangle as including a line or a surface that represents a fault e.g. a geological discontinuity . In such an example the mesh shape may be represented by three or more mesh nodes e.g. it may be a single mesh shape or a set of mesh shapes associated with a grid cell .

In the process for a face of a grid cell in a depositional coordinate system W U e.g. which may further include a coordinate for a third dimension four intersecting actions and are performed. The order of the actions and may be performed in any particular order. The action includes intersecting the mesh shape with an edge of a grid cell at a value u min. As shown the edge intersects the mesh shape at two points see open circles which may be deemed new nodes whether permanent or temporary e.g. ultimately not part of a sub cell formed by grid cell splitting . Given these intersection points two triangles may be formed e.g. in two dimensions by drawing one line from one of the intersection points to a node of the mesh shape e.g. to form triangles A and B and by drawing another line between the two intersection points e.g. to form triangle C from triangle B . In the example of the triangles A B and C are members of a set of triangles S.

The action includes intersecting the mesh shape and its set of triangles S with another edge of the grid cell at a value u max. The action includes forming a set of triangles S e.g. including seven triangles . Further the action includes defining three new nodes which may be permanent or temporary. The action includes intersecting the mesh shape and its set of triangles S with another edge of the grid cell at a value w max. The action includes forming a set of triangles S e.g. including 13 triangles . As the action occurs after the action one of the intersections corresponds to a node of the initial grid. Thus the action identifies a node of the initial grid as well as defines three new nodes e.g. which may be permanent or temporary . The action includes intersecting the mesh shape and its set of triangles S with another edge of the grid cell at a value w min. The action includes forming a set of triangles S e.g. including 23 triangles . The action also identifies two nodes of the initial grid along with five new nodes which may be permanent or temporary. The process for the actions and covers two dimensions. For a three dimensional process additional sets would be formed for example for tetrahedra e.g. S and S . For example where the third dimension is V e.g. U V and W as in the example of initial grid cells of an action for v minand an action for v maxmay be performed. Further each of the actions may involve intersecting using planes e.g. planes that define boundaries of a three dimensional grid cell . In a three dimensional example the fault e.g. geological discontinuity may be a plane that intersects a three dimensional grid cell defined by maximum and minimum values for u v and w in a U V W coordinate system.

As mentioned the process may be part of a process for splitting a grid cell. For example in the method of the splitting block may include a process such as the process e.g. for two or three dimensions . The resulting set S or other resulting set e.g. S from such a process may be provided for purposes of splitting a grid cell into sub cells for example with respect to a geological discontinuity such as the fault of the example of .

As to the intersection points resulting from actions and one or more of these intersection points may become a permanent new node e.g. a final new node for a grid upon splitting a grid cell into sub cells one or more others may be temporary. As an example a process pertaining to new nodes is described with respect to . As shown in the process may provide for a sub cell that includes at least one new node e.g. a permanent or final new node and optionally one or more nodes that are initial nodes from an initial grid.

Prior to providing a detailed description of the process of as described in the examples of and a grid cell to be split may be defined by i j k coordinates see e.g. and mesh nodes shapes etc. may form a set due to being included in a corresponding u v w box of the grid cell or by intersecting the grid cell s borders see e.g. . Given such a set a splitting process may commence that aims to split the grid cell into sub cells where such a process includes first forming a set of triangles tetrahedra etc. from the set of mesh nodes shapes etc. see e.g. . Thus a first set may be a set of mesh nodes shapes etc. while a second set may be set of nodes shapes etc. e.g. including or defined by new nodes formed at least in part by intersecting the grid cell and the first set.

As an example consider forming a first set of mesh nodes or mesh shapes S using a geometrical test e.g. a box tetrahedron intersection test . Where shapes of a mesh e.g. a conformal mesh are made by general polyhedra these polyhedra may be subdivided into equivalent connex sets of tetrahedra see e.g. for a process in two dimensions .

For a three dimensional depositional domain U V W with u v and w coordinates consider the u coordinate where an identified grid cell can be associated with a depositional domain coordinate range delta equal to u i j k u i 1 j 1 k 1 . Each mesh shape e.g. tetrahedra or other shape of a set S is then cut by a plane defined by u min delta creating new tetrahedra gathered in a new set S see e.g. the action of for a two dimensional representation . Next each tetrahedron of the new set S may be cut by a plane defined by u max delta creating new tetrahedra gathered in another new set S see e.g. the action of for a two dimensional representation .

After completing actions with respect to the u coordinate the v coordinate may be considered where tetrahedra of set S are in turn cut by a plane defined by v min delta with deltaequal to v i j k v i 1 j 1 k 1 creating new tetrahedra gathered in a new set S. Each tetrahedron of the set S may then be cut by a plane defined by v max delta creating a new set of tetrahedra S. Finally the w coordinate may be considered where the tetrahedra of the set S are in turn cut by a plane defined by w min delta with deltaequal to w i j k w i 1 j 1 k 1 creating new tetrahedra gathered in a new set S. Next each tetrahedron of the set S may be cut by a plane w max delta creating a final set of tetrahedra S see e.g. the example of where w corresponds to sets S and S .

For a three dimensional scenario tetrahedra contained in a final set e.g. set S can include properties such as a they are by construction conformal to the geological discontinuities e.g. properties inherited from a conformal mesh and optionally conformal to stratigraphy of a geological model and b they are also by construction conformal to the borders of the considered grid cell e.g. from an at least vertically structured grid .

Given the foregoing three dimensional examples and two dimensional descriptions the process of may be explained. shows the process as including four actions and . For a two dimensional scenario the action includes providing a final set S while for a three dimensional scenario the action may include providing a final set S.

Given a final set e.g. S or S the action may be applied to remove all triangles of the set S or all tetrahedra or other shapes of the set S that have a barycenter lying outside a box corresponding to a current grid cell being split. In the example of various nodes in the set S are labeled as having been identified for removal e.g. along with any legs or surfaces as in a three dimensional scenario . In the example of as the set S includes some nodes identified as being those of an initial grid e.g. initial grid cell nodes it is possible that the process may preserve these e.g. one or more may form part of a sub cell .

In the example of the action produces a final set F of triangles tetrahedra etc. As shown in the final set F is conformal to the geological discontinuities e.g. and optionally conformal to stratigraphy of a geological model. The foregoing property allows for further division into n several connex components F i 0 . . . n 1 . The fourth action of the process provides for removing temporary nodes for example based on an envelope of each of the connex components F which as shown can define a general polygon P which in a three dimensional scenario would be a general polyhedron P. In the example of the sub cell e.g. as represented by the polygon Pi is defined at least in part by one new node and more particularly two new nodes e.g. permanent or final nodes resulting from the processes and . A final grid that defines the resulting sub cell includes initial nodes as well as new nodes. In such an example initial nodes may be at least vertically structured see e.g. the nodes of initial grid for the action whereas the new nodes may be unstructured see e.g. the final new nodes for the action .

For the three dimensional scenario faces of polyhedron either correspond to a boundary of the considered grid cell e.g. which may correspond to a horizon or to a geological discontinuity. As an example even in situations where they may be unstructured such polyhedra may be consistently associated with indices e.g. i j k of an indexical coordinate system of a considered initial grid cell. Such an association may facilitate for example populating properties in a produced final grid. As an example a method may include simplifying geometry of polyhedra e.g. without modifying their topology . As an example a set of such polyhedra may define an unstructured portion of a produced grid.

As an example consider choosing a random representative grid cell for each group of grid cells and testing if its barycenter lies inside one of the shapes of a conformal mesh e.g. a mesh conforming to geological discontinuities that include model boundaries and conforming to stratigraphy . If a barycenter does lie inside this may mean that the considered group of grid cells lies entirely inside the geological model if not this may mean that the considered group of grid cells lies entirely outside the geological model and for example all of its grid cells may be flagged as undefined.

As an example a set of undefined grid cells may be further enlarged by considering flagged grid cells that are traversed by the geological model boundaries and not traversed by other types of geological discontinuities e.g. not faults unconformities or intrusions . In the example of a graphic shows some sets of undefined grid cells in for example a top view of a depositional domain coordinate system e.g. V U .

Thus the process is illustrated in as an example where undefined cells can be identified in a grid. For example grid cells traversed by one or more geological discontinuities may be flagged e.g. black boxes and at least some of the remaining grid cells recursively scanned for example starting with a non visited grid cell and going to its neighbors e.g. if is not flagged . In the example of the process may produce five groups of connex unflagged grid cells e.g. where one group is an interior group of grid cells .

Referring again to the example method of the assignment block includes assigning geological domain coordinates to at least the new nodes that define at least in part sub cells of a split grid cell. Where many grid cells are split such new nodes may be assigned geological domain coordinates. As mentioned where initial nodes of an initial grid have not been previously assigned geological domain coordinates an assignment block may assign such coordinates for both new nodes and initial nodes for example of a final grid. Where splitting to form sub cells occurs region by region unit by unit geological discontinuity by geological discontinuity etc. assignment may occur upon formation of a sub cell or at another time. For example splitting may occur to form sub cells for multiple stratigraphic units and thereafter all new nodes may be assigned geological domain coordinates. In such an example where initial nodes were not previously assigned new nodes and initial nodes may be assigned geological domain coordinates for example to provide a final grid.

As an example an assignment process may include assigning or otherwise associating geological domain coordinates e.g. x y z to at least some of the grid nodes including at least some of the new grid nodes that result from a splitting process that splits a grid cell into sub cells noting that the splitting process was performed in a depositional domain e.g. with depositional domain coordinate u v w .

As an example an assignment process may distinguish two kinds of grid nodes a first category of grid nodes made of initial or original grid nodes and a second category of grid nodes made of grid nodes of an unstructured portion of the grid.

As to the first category to find the respective x y z location for each node it may be possible to first find the nodes or shapes of the conformal mesh that contain each grid node and to then compute a corresponding x y z location using an interpolation scheme for example between the x y z locations of mesh nodes. Such an interpolation scheme may optionally be reduced to a barycentric interpolation scheme. For example if shapes of a conformal mesh are general polyhedra these polyhedra may be subdivided into equivalent connex sets of tetrahedra.

As to the second category of grid nodes e.g. grid nodes of an unstructured portion of the grid as mentioned in a three dimensional scenario each of these grid nodes is located at an intersection between a tetrahedron s edge and an iso u iso v or iso w plane e.g. in a depositional domain . As a consequence the respective x y z location for each of the grid nodes of the second category may be computed for example using a linear interpolation between two x y z locations of nodes defining the edge.

As an example a final geometry of a grid may be defined with grid nodes having consistent coordinates x y z . shows examples of a final grid in a depositional domain e.g. in a vertical cross section view of W U plane and that final grid in a geological domain e.g. in a vertical cross section view of Z X plane . In the examples of the grid conforms to the horizons and to the discontinuities. Referring to the indexical coordinate system I J K and the depositional domain coordinate system U V W these can provide for grids that do not include for example gaps interpenetrating areas or repeated grid cells. Such features can facilitate property population. As an example a grid may include a proportion of unstructured grid cells that in relationship to structured grid cells is small.

As an example a grid construction process can make use of a mesh and by such a process a produced grid may conform to surfaces of the mesh. Such a mesh may be a conformal mesh that conforms to geological discontinuities of a geological model. A mesh may be irregular and unstructured irregular and structured etc. As an example a mesh may include unstructured nodes shapes etc. as such an approach may add flexibility as to ability to conform to complex geometries of a geological model.

As an example fault geometries including fault branching relationships may be taken into account in a grid construction process. As an example complexity of a geological model can be taken into account in a grid construction process e.g. including stratigraphy unconformities intrusions etc. optionally with a feature for adding small unstructured portions.

As an example a grid may be initially generated in a depositional domain which can provide that the grid follows at least some stratigraphy of a geological model. For example as a depositional domain may be a suitable framework for running geostatistical algorithms and generating realistic property fields a produced grid may be populated with such properties. As an example a geostatistical algorithm or algorithms may be run on a grid e.g. optionally before grid cells traversed by one or more geological discontinuities are split . As an example a method may include populating one or more unstructured grid portions with suitable reservoir properties. As an example grid cells including the unstructured split ones may have a consistent regular i j k indexation. Such a produced grid may be compatible with a flow simulator capable of handling lists of connectivities.

As an example unstructured portions of a grid may be built by computing geometrical intersections between some volume shapes of a mesh and various planes of iso depositional coordinates. As an example a process may proceed even in the instance where some mesh shapes of a mesh overlap each other for example in a neighborhood of a fault or faults which can add robustness and flexibility to a simulation process.

As an example a produced grid may find use in a simulation that include two point flux approximation e.g. at locations where a perpendicular bisector PEBI property is satisfied .

As an example a grid may be constructed by computing intersections between some volumes of a background mesh and various planes of iso depositional coordinates. In such an example the volumes of the background mesh may be defined by nodes of the background mesh. Such volumes may be tetrahedra or other shapes. Such a background mesh may be a conformal mesh that conforms to one or more types of discontinuities e.g. geological discontinuities that include model discontinuities such as for example model boundaries .

In an example embodiment components may be distributed such as in the network system . The network system includes components . . . N. For example the components may include the processor s while the component s may include memory accessible by the processor s . Further the component s may include an I O device for display and optionally interaction with a method. The network may be or include the Internet an intranet a cellular network a satellite network etc.

Although only a few example embodiments have been described in detail above those skilled in the art will readily appreciate that many modifications are possible in the example embodiments. Accordingly all such modifications are intended to be included within the scope of this disclosure as defined in the following claims. In the claims means plus function clauses are intended to cover the structures described herein as performing the recited function and not only structural equivalents but also equivalent structures. Thus although a nail and a screw may not be structural equivalents in that a nail employs a cylindrical surface to secure wooden parts together whereas a screw employs a helical surface in the environment of fastening wooden parts a nail and a screw may be equivalent structures. It is the express intention of the applicant not to invoke 35 U.S.C. 112 paragraph 6 for any limitations of any of the claims herein except for those in which the claim expressly uses the words means for together with an associated function.

