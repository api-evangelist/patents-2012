---

title: Electronic device and computer program product
abstract: An electronic device has, as operation modes, a first mode and a second mode reduced in power consumption from the first mode. The electronic device includes a main unit an operation of which is suppressed in the second mode; and a sub-unit. The sub-unit includes a communicating unit that performs communication via a communication line; and an operation mode controller that changes the operation modes from the second mode to the first mode when the communication with a predefined prescribed device is requested during the second mode and changes the operation modes from the first mode to the second mode at a timing corresponding to termination of the communication.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09049331&OS=09049331&RS=09049331
owner: RICOH COMPANY, LIMITED
number: 09049331
owner_city: Tokyo
owner_country: JP
publication_date: 20120905
---
The present application claims priority to and incorporates by reference the entire contents of Japanese Patent Application No. 2011 192623 filed in Japan on Sep. 5 2011.

The present invention relates to an electronic device and a computer program product that have as operation modes a normal mode and an energy saving mode reduced in power consumption as compared with that of the normal mode.

In a conventional image forming apparatus like a multifunction printer MFP that implements a plurality of functions such as a scanner function a printer function a copying function and a facsimile function in a single housing the power consumption in a standby state and others is reduced to achieve energy conservation. Furthermore monitoring the status of the image forming apparatus is performed conventionally by remote management that uses communication.

As the communication applicable for the remote management of an image forming apparatus known is a communication method that uses Transmission Control Protocol Internet Protocol TCP IP as a communication protocol. As one example by connecting an image forming apparatus and a management device remotely located with respect to the image forming apparatus through a network such as a local area network LAN the communication between the image forming apparatus and the management device is performed using the TCP IP. A given command and others is then transmitted from the management device to the image forming apparatus and a response of the image forming apparatus to the transmitted command is received by the management device whereby monitoring of the status of the image forming apparatus by remote operation can be implemented.

In an image forming apparatus a technique in which TCP IP processing is performed in the kernel of an operating system OS is already known. Furthermore there is a known technique in which TCP IP processing is sub systematized chipped in the kernel of an OS and the power is supplied to the sub system even when a main system is in a power off state an energy saving state . In this case a packet transmitted from the outside through a network is detected by the sub system and the sub system controls the power to the main system so as to return the main system to a normal state from the energy saving state.

The controller includes a main central processing unit CPU a synchronous dynamic random access memory SDRAM a flash memory a hard disk drive HDD a remote management system memory and a peripheral component interconnect bus PCI and the foregoing are connected to an application specific integrated circuit ASIC to communicate with one another.

Likewise connected to the ASIC are an operation panel an FCU a plotter scanner engine unit and data I Fs and each corresponding to for example universal serial bus USB and Institute of Electrical and Electronics Engineers IEEE 1394. The FCU performs facsimile communication in accordance with G3 standard or G4 standard. The plotter scanner engine unit performs a printer function and a scanner function. A peripheral device is for example an automatic document feeder ADF and is used in the housing of the image forming apparatus being attached to a printer scanner portion. The ASIC provides sharing of the respective units connected that are objects of the control of the main CPU and mediates data transfer performed among the respective units.

The main CPU controls the operation of the respective units connected to the ASIC in accordance with a program and others stored in advance in the flash memory or the HDD using the SDRAM as a work memory. For example the main CPU controls the FCU and the plotter scanner engine unit in response to user operation performed on the operation panel to perform functions such as facsimile communication printing and copying.

The PCI is connected with a modem that performs communication through a public telephone network . The remote operation of the image forming apparatus through the public telephone network is performed by the communication with the modem using the remote management system memory .

The sub system includes a sub CPU a random access memory RAM a read only memory ROM a remote management system memory the power controller and a PCI and the foregoing are connected to communicate with one another by an interface ASIC . The interface ASIC provides sharing of the respective units connected that are objects of the control of the sub CPU and mediates data transfer performed among the respective units.

The sub CPU controls the operation of the respective units connected to the interface ASIC in accordance with a program stored in advance in the ROM using the RAM as a work memory. The power controller controls the operation of the PSU . Furthermore a network interface card NIC that controls connection to a network such as a local area network LAN and the Internet is connected to the PCI .

In the image forming apparatus thus configured when the operation of the image forming apparatus is in an energy saving mode under the control of the power controller for example the supply of power to the controller is set to off and the power is supplied only to the sub system . During the energy saving mode when a packet transmitted to the image forming apparatus through the network is received by the NIC the sub CPU is notified of that via the PCI and the interface ASIC . The sub CPU then in response to the notice controls the power controller to turn on the supply of power to the controller .

In the image forming apparatus in conventional technology illustrated in contemplated is only a situation in which a packet is received from an external management device. Now considered is a remote management system that performs dial up communication with a management device by the modem using the TCP IP and Point to Point Protocol PPP through the public telephone network . In the remote management system PPP processing is performed by the kernel of the OS in the managed functions of the image forming apparatus . Therefore any of the following restrictions arise.

Firstly in order to respond to an incoming call from the external management device and to perform dial up communication as needed the power to the controller must always be set to on. Secondly if the operation mode of the image forming apparatus is in the energy saving mode and thus the power to the controller is set to off the image forming apparatus cannot respond to an incoming call from the external management device.

In this regard Japanese Patent Application Laid open No. 2000 295386 discloses a device with an energy saving mode that temporarily changes a return condition by confirmation control so as not to return to a normal mode from the energy saving mode depending on a signal transmitted from an ISDN network. In accordance with Japanese Patent Application Laid open No. 2000 295386 by the confirmation control of incoming mail during the energy saving mode unnecessarily returning to the normal mode is prevented whereby an energy saving effect by the energy saving function can be achieved effectively.

Furthermore there has been a proposed technique in which communication from the outside is detected during an energy saving mode and the operation modes are automatically returned to a normal mode from the energy saving mode when the detected communication is from a prescribed device.

Meanwhile in a device having an energy saving mode as in the foregoing the change in operation mode from the normal mode to the energy saving mode is often performed automatically corresponding to the presence of a request to the device from the outside such as user operation. More specifically the length of time in which user operation is not performed in the normal mode is measured and when the measured time comes to a given length of time the operation mode is automatically changed to the energy saving mode.

The same applies when the operation mode is automatically returned to the normal mode from the energy saving mode in response to the request made from the external management device and others through the communication. In this case conventionally the operation mode is not changed to the energy saving mode unless a given time is passed from the time the operation mode is returned to the normal mode and thus it takes time until the operation mode is returned to the energy saving mode.

Particularly because the communication with the external device occurs at a timing not intended by the user of the device an ideal energy saving effect may not be achieved.

Therefore there is a need for an electronic device capable of enhancing the energy saving effect when returning from the energy saving mode that is caused by the communication from the external device.

According to an embodiment there is provided an electronic device has as operation modes a first mode and a second mode reduced in power consumption from the first mode. The electronic device includes a main unit an operation of which is suppressed in the second mode and a sub unit. The sub unit includes a communicating unit that performs communication via a communication line and an operation mode controller that changes the operation modes from the second mode to the first mode when the communication with a predefined prescribed device is requested during the second mode and changes the operation modes from the first mode to the second mode at a timing corresponding to termination of the communication.

The above and other objects features advantages and technical and industrial significance of this invention will be better understood by reading the following detailed description of presently preferred embodiments of the invention when considered in connection with the accompanying drawings.

With reference to the accompanying drawings an embodiment of an electronic device and a control method of an electronic device will be described in detail in the following. schematically illustrates a configuration of a remote management system applicable to the embodiment. An image forming apparatus is for example a multifunction printer MFP that realizes a plurality of functions such as a printing function a scanner function and a facsimile communication function in a single housing. A management device is for example a commonly used computer. The image forming apparatus and the management device are connected with modems and respectively supporting for example AT commands and are enabled to communicate with each other through a public telephone network by the modems and . The management device can perform by the communication using the modem the remote management of the image forming apparatus through the public telephone network .

In the remote management system to realize remote operation of the image forming apparatus by the management device both the management device and the image forming apparatus are made to transmit and receive a request and a response of the process for a method of a mutually implemented application by remote procedure call RPC . Both the management device and the image forming apparatus are implemented with protocols such as Point to Point Protocol PPP Transmission Control Protocol Internet Protocol TCP IP Simple Object Access Protocol SOAP and Hyper Text Transfer Protocol HTTP and after a PPP connection is established the RPC is realized by performing TCP IP and SOAP HTTP communication.

In the PPP connection due to security considerations packet communication with the image forming apparatus directly from the outside is prohibited. To perform the remote management of the image forming apparatus by the management device for example the management device calls up the image forming apparatus by dial up and the image forming apparatus disconnects the line after the call is received and then calls up a specified party the management device held in the image forming apparatus .

The controller includes a central processing unit CPU a read only memory ROM a random access memory RAM a hard disk drive HDD and others and the CPU controls the operation of the whole management device in accordance with a program stored in advance in the HDD or the ROM using the RAM as a work area. The operating unit includes a pointing device such as a mouse a keyboard and a display unit so as to receive user operation and to provide information to the user.

The storage unit is composed of for example an HDD and a non volatile semiconductor memory and has a parameter storage area and an information storage area . The parameter storage area stores therein data entered by the user operation performed through the operating unit . The information storage area stores therein for example information of a managed device such as the image forming apparatus .

The communicating unit controls the modem in accordance with commands from the controller to perform communication with the image forming apparatus that is a managed device through the public telephone network .

The controller is a portion that performs main operation of the image forming apparatus and includes a main CPU a synchronous dynamic random access memory SDRAM a flash memory an HDD and a remote management system memory and the foregoing are connected to communicate with one another by an application specific integrated circuit ASIC .

The SDRAM stores therein various programs and is a memory used by the main CPU when the main CPU performs processing. The flash memory is a non volatile semiconductor memory and stores therein a boot program and an operating system OS image in advance. The flash memory further stores therein various types of data required to be non volatile for example a model name a model number and an IP address of the image forming apparatus .

The remote management system memory stores therein information used for the remote management of the image forming apparatus . For example the remote management system memory stores therein the information indicative of a status of the controller . The status information includes for example operating histories of a plotter scanner engine unit and an FCU described later. The information stored in the remote management system memory is updated each time the status of the controller is changed in the image forming apparatus .

Furthermore connected to the ASIC are an operation panel the FCU the plotter scanner engine unit and data I Fs and each corresponding to for example universal serial bus USB and Institute of Electrical and Electronics Engineers IEEE 1394. A peripheral device is for example an automatic document feeder ADF and is used in the housing of the image forming apparatus being attached to a printer scanner portion. The ASIC provides sharing of the respective units connected that are objects of the control of the main CPU and mediates data transfer performed among the respective units.

The FCU performs in accordance with the control of the controller facsimile communication according to G3 standard or G4 standard. The plotter scanner engine unit implements in accordance with the control of the controller a printer function and a scanner function. The operation panel includes operators to receive user operation and a display unit to provide the user with information.

The main CPU controls the operations of the respective units connected to the ASIC in accordance with a program and others stored in advance in the flash memory or the HDD using the SDRAM as a work memory. For example the main CPU in response to the user operation performed on the operation panel controls the FCU and the plotter scanner engine unit to perform functions such as facsimile communication printing and copying.

The sub system includes a sub CPU a RAM a ROM a remote management system memory the power controller and peripheral component interconnect buses PCIs A and B and the forgoing are connected to communicate with one another by an interface ASIC . The interface ASIC provides sharing of the respective units connected that are objects of the control of the sub CPU and mediates data transfer performed among the respective units.

The sub CPU controls the operations of the respective units connected to the interface ASIC in accordance with a program stored in advance in the ROM using the RAM as a work memory. The power controller controls the operation of the PSU . The remote management system memory backs up the status information of the controller that is stored in the remote management system memory of the controller . The remote management system memory further stores therein identification information of the management device that performs the remote management of the image forming apparatus . The identification information of the management device is for example a caller telephone number a caller number of the management device the modem .

The PCI A is connected with a network interface card NIC that controls connection to a network such as a local area network LAN and the Internet. The PCI B is connected with the modem that performs communication through the public telephone network . The image forming apparatus performs communication with the management device through the public telephone network using the modem to receive the remote management by the management device .

The sub CPU of the sub system and the main CPU of the controller are made to communicate with each other via the interface ASIC and the ASIC respectively.

The NRS application has a function concerning remote management through a network such as conversion of data when transmitting and receiving the data through the network and a scheduler function. More specifically the NRS application has a function to notify the management device of information indicative of status of a managed device including information of various counters and of information indicative of firmware version. The NRS application further has a function to transmit requests such as a firmware update or command execution in units of method. Furthermore the NRS application has a function to perform an abnormality report a supply report and an activation report to the management device on a regular basis or at given timing.

The service module layer includes various service programs to use the respective applications in the application module layer. More specifically the service module layer includes an OCS module that controls the operation panel an ECS module that controls an engine unit the plotter scanner engine unit an MCS module that performs memory control an NCS module that causes a mediation process between the network and each of the applications in the application module layer to be performed an FCS module that realizes the facsimile function an SCS module that performs activation management and termination management of the respective applications in the application layer corresponding to command content a DCS module that transmits and receives an image file stored in the HDD or a memory on a controller board using Simple Mail Transfer Protocol SMTP and File Transfer Protocol FTP and a UCS module that manages address information registered by a device user user information corresponding to the address information and others.

The service module layer further includes an SRM module and an IMH module that perform mediation between each of the above described modules and a versatile OS. More specifically the SRM module performs system control and resource management. The IMH module manages a memory that temporarily stores therein image data.

A versatile OS is for example an operating system such as Unix registered trademark and Linux registered trademark . The versatile OS performs mediation between the service module layer and hardware the plotter scanner engine unit via a remote application programming interface RAPI I F. The versatile OS further includes a sub system compatibility I F and performs mediation between the service module layer and the sub system via a sub system I F.

In the controller each of the programs makes the main CPU via the ASIC run a boot program in the flash memory read out an OS image and then load the OS image read out onto the SDRAM to expand the OS image as the versatile OS so as to launch the versatile OS . Furthermore as the need arises a program such as each of the applications and services in the flash memory can be read out loaded onto the SDRAM to expand and launch the program so as to implement the respective functions.

The sub system includes TCP IP PPP an NRS dial up control module a modem driver and others and provides sharing of communication system devices. The sub system further includes an OS independent from the versatile OS not illustrated .

In the sub system as the same as those in the controller each of the programs makes the sub CPU via the interface ASIC run a boot program in the ROM read out an OS image and then load the OS image read out onto the RAM to expand the OS image as an OS so as to launch the OS. Additionally as the need arises a program such as each of the applications and services in the ROM can be read out loaded onto the RAM to expand and launch the program so as to realize the respective functions.

Now the process of changing operation modes from a normal mode to an energy saving mode will be schematically described. The image forming apparatus in the normal mode by a user operation performed on the operation panel or by a request from the user through a network such as a LAN activates the FCU and the plotter scanner engine unit to perform an operation of the function such as the facsimile communication function printing function copying function or scanning function. In such a situation where the operation of the function in the image forming apparatus is performed by the user request if there is no further request present to perform any function until a predetermined change wait time is passed after the operation is performed the image forming apparatus changes the operation mode from the normal mode to the energy saving mode. The predetermined change wait time in this case is for example approximately from a few minutes to a few dozen minutes.

It is assumed here that after the initialization the operation mode of the image forming apparatus is changed to the energy saving mode. In the energy saving mode the sub system suppresses the operation of the controller thereby cutting down the power consumption in the controller and in the FCU and the plotter scanner engine unit that are controlled by the controller .

The suppression of operation of the controller can be realized for example by suppressing the power supply to the controller . More specifically when the operation mode is changed into the energy saving mode in the image forming apparatus for example in the sub system the sub CPU gives a command to the power controller to suppress the power supply to the controller . The power controller controls the PSU in response to the command so as to suppress the power supply for example halting the power supply to the controller .

The suppression of operation of the controller is not limited to the suppression of the power supply to the controller . For example during the energy saving mode setting a clock frequency of a clock signal for controlling the operation of the controller lower than that in the normal mode suppresses the operation of the controller whereby the power consumption can be reduced. Furthermore a portion to which the power is supplied in the controller may be restricted so as to suppress the operation thereof and to reduce the power consumption. Moreover it can be contemplated that the suppression of operation is carried out by combining the foregoing to realize the reduction in power consumption.

When the management device performs the remote management of the image forming apparatus through the public telephone network for example the management device issues a communication request to the image forming apparatus . More specifically in the management device the communicating unit outputs a given AT command for example ATDxxxxx to the modem to call up the modem of the image forming apparatus SEQ . The modem dials a call destination corresponding to this AT command that is a telephone number of the modem of the image forming apparatus SEQ .

By this calling a notice of caller number telephone number of a caller is delivered and a ringing signal is output to the modem of the image forming apparatus in sequence through the public telephone network SEQ . The modem after the above described initialization is constantly detecting an incoming call Step S . When the ringing signal from the management device is output to the modem the modem detects the incoming call.

When the modem detects the incoming call the modem determines whether an originator of the incoming call is a predefined prescribed device. More specifically when the modem detects the incoming call the modem forwards the caller number delivered with the ringing signal to the sub CPU of the sub system SEQ . The sub CPU determines whether the caller number forwarded matches a caller number stored in the remote management system memory Step S . If not matched the sub CPU issues a request to disconnect the communication to the modem .

On the other hand when the caller number acquired by the incoming call matches the caller number stored in the remote management system memory it can be determined that the originator of the incoming call is the prescribed device. In this case the sub CPU determines whether the current operation mode of the image forming apparatus is the energy saving mode. The current operation mode of the image forming apparatus can be known for example by referring to an operation mode flag held in the remote management system memory and determining whether the flag is indicating the energy saving mode.

When it is determined that the image forming apparatus is in the energy saving mode the sub CPU outputs to the controller a request to return the operation mode from the energy saving mode to the normal mode SEQ and sets an energy saving mode return flag to on that is a value indicating that the operation mode is returned to the normal mode Step S . The energy saving mode return flag is stored for example in the remote management system memory . The controller notifies the sub system of reception of the request to return from the energy saving mode at SEQ SEQ .

When the sub CPU outputs to the controller the request to return to the normal mode at SEQ the sub CPU further issues a request to the power controller to cancel the suppression of power supply in the energy saving mode. The power controller controls the PSU in response to the request to resume the power supply to the controller . When the supply of power to the controller is resumed the controller returns the operation of the units in the controller to the operation in the normal mode Step S .

Meanwhile in the sub system the sub CPU issues a command to the modem in parallel with the request to return from the energy saving mode at SEQ to disconnect the line with the management device SEQ . When the sub CPU receives a message NO CARRIER indicating that the line has been disconnected by the modem SEQ the sub CPU issues a request to the modem to dial the caller number held in advance in the remote management system memory that is the telephone number of the modem the management device callback SEQ .

The modem dials the caller number upon receiving the request SEQ . By the dialing a ringing signal is delivered to the modem of the management device SEQ . When the ringing signal is delivered the modem sends a message RING to the communicating unit SEQ . The communicating unit outputs to the modem a given AT command for example ATA for answering an incoming call in response to the message RING SEQ . The modem after going off hook in response to the AT command received SEQ transmits an answer tone to the modem SEQ .

When the modem receives the answer tone from the modem negotiation is performed between the modem and the modem Step S and a connection state is established between the modem and the modem . When the connection state is established a message CONNECT indicative of that is sent from the modem to the communicating unit SEQ . In a similar manner a message CONNECT is sent from the modem to the sub CPU of the sub system SEQ and is further sent from the sub CPU to the controller SEQ .

When the main CPU in the controller receives the message CONNECT the main CPU performs communication with the modem of the management device through the public telephone network using the modem . The communication allows commands to be exchanged between the image forming apparatus and the management device by SOAP HTTP communication Step S . For example an exchange in which the management device transmits a request to the image forming apparatus with a command getDeviceControllerInformation and the image forming apparatus responds to the request by collecting status information of the controller is performed.

When the exchange between the management device and the image forming apparatus is finished in the image forming apparatus the controller issues a request to the sub system to disconnect the line with the management device SEQ . In response to the request the sub CPU of the sub system issues a request to the modem to disconnect the line SEQ .

When the sub system receives the request to disconnect the line from the controller at SEQ the sub system checks the energy saving mode return flag stored in the remote management system memory Step S . As a result when the value of the energy saving mode return flag is on the sub system issues a request to the controller to change into the energy saving mode SEQ and issues a request to the power controller to suppress the supply of power to the controller . The power controller controls the PSU in response to the request to suppress the supply of power to the controller . Consequently the operation mode is changed into the energy saving mode Step S .

In this example the sub system issues a request to the controller to change into the energy saving mode at the timing that is immediately after checking the energy saving mode return flag is checked at Step S. However it is not limited to this and the sub system may output the request to the controller to change into the energy saving mode at a timing when a predetermined transition time is passed after the energy saving mode return flag is checked at Step S.

In this case for example the predetermined transition time is stored in advance in the remote management system memory . When the sub CPU checks that the value of the energy saving mode return flag is on at Step S the sub CPU waits for the transitional time stored in the remote management system memory to elapse and then outputs a request to the controller to change into the energy saving mode.

Accordingly outputting a request to change into the energy saving mode after an elapse of a given time from the disconnection of the line allows the controller to perform various processes necessary for changing into the energy saving mode before receiving the request to change into the energy saving mode at SEQ.

The modem disconnects the line in response to the request to disconnect the line at above described SEQ. By the line being disconnected a message NO CARRIER is sent from the modem to the controller via the sub CPU SEQ SEQ . Likewise in the management device a message NO CARRIER is sent from the modem to the communicating unit SEQ .

At Step S the sub system waits for an incoming call through the public telephone network to be detected. When an incoming call is detected the sub system moves the process on to Step S and determines whether the incoming call detected at Step S is from a prescribed device. More specifically in the sub system the modem acquires a caller number of an originator of the incoming call and forwards it to the sub CPU . The sub CPU then determines whether the caller number forwarded from the modem matches the caller number stored in advance in the remote management system memory .

If the caller number forwarded from the modem does not match the caller number stored in advance in the remote management system memory it can be determined that the incoming call is not from the prescribed device. In this case the sub system moves the process on to Step S described later.

On the other hand when the caller number forwarded from the modem matches the caller number stored in advance in the remote management system memory it can be determined that the incoming call is from the prescribed device. Accordingly the sub system moves the process on to Step S and determines whether the current operation mode of the image forming apparatus is the energy saving mode. For example in the sub system the sub CPU determines the current operation mode based on the operation mode flag held in the remote management system memory . If the current operation mode is the normal mode but not the energy saving mode the sub system moves the process on to Step S described later.

Meanwhile when the current operation mode is the energy saving mode the sub system moves the process on to Step S. At Step S the sub system resumes the supply of power to the controller to cancel the suppression of operation of the controller and make the operation mode return from the energy saving mode to the normal mode. More specifically when the current operation mode is the energy saving mode the sub CPU . issues a request to the power controller to cancel the suppression of power supply to the controller . The power controller controls the PSU in response to the request and resumes the supply of power to the controller . The sub system then moves the process on to Step S.

At Step S the sub system sets the value of the energy saving mode return flag stored in the remote management system memory to on that is the value indicating that the operation mode has been returned to the normal mode from the energy saving mode.

When the energy saving mode return flag is set at Step S the process is moved on to Step S. At Step S the sub system transmits status information of the controller to the management device . For example the sub system acquires the status information held in the remote management system memory of the controller and transmits the status information acquired to the management device through the public telephone network using the modem . However it is not limited to this for example the sub system may issue a request to the controller to collect the status information. When the status information is transmitted the sub system moves the process on to Step S.

At Step S the sub system disconnects the connection through the public telephone network . At subsequent Step S the sub system then determines whether the value of the energy saving mode return flag stored in the remote management system memory is on. If the value of the energy saving mode return flag is not on the sub system returns the process to Step S.

On the other hand when the value of the energy saving mode return flag is on at Step S the sub system moves the process on to Step S. At Step S the sub system outputs a request to change the operation mode into the energy saving mode. More specifically the sub system outputs a request to the controller to change the operation mode into the energy saving mode and issues a request to the power controller to suppress the supply of power to the controller . The power controller controls the PSU in accordance with the request to suppress the supply of power to the controller . Consequently the operation mode is changed into the energy saving mode.

When the sub system changes the operation mode into the energy saving mode the sub system initializes the value of the energy saving mode return flag and returns the process to Step S.

As in the foregoing in accordance with the present embodiment when the communication from the prescribed device is accepted while the operation mode is the energy saving mode the operation mode is returned to the normal mode from the energy saving mode. After the communication is finished the operation modes are immediately changed from the normal mode to the energy saving mode without waiting for a predetermined time to elapse. Consequently the effect of reduction in power consumption in the energy saving mode can be further enhanced.

While the present embodiment has been explained to be applied when the communication is performed through the public telephone network in the foregoing it is not limited to this example. More specifically the embodiment can be applied when the communication is performed through a LAN or the Internet. In this case whether a communication sender is a prescribed device can be known for example by an Internet Protocol IP address.

For example considered is a situation in which the management device and the image forming apparatus are connected through a LAN. On the side of the management device a NIC not illustrated connecting with the communicating unit is connected to the LAN. On the side of the image forming apparatus a NIC is connected to the LAN. Upon receiving the communication from the management device through the LAN while the image forming apparatus is in the energy saving mode the image forming apparatus changes the operation modes from the energy saving mode to the normal mode. When the communication with the management device is finished the image forming apparatus then changes the operation modes from the normal mode to the energy saving mode immediately without waiting for a predetermined time to elapse. Even in this example because the operation mode is immediately changed into the energy saving mode from the normal mode the effect of reduction in power consumption in the energy saving mode can be further enhanced.

Next a modification example of the above described embodiment will be described. illustrates an example of a communication procedure performed between the management device and the image forming apparatus in the modification example. In the portions common to those in the above described communication procedure in are given with the same reference numerals and their detailed explanations are omitted. In the modification example because the configurations of the remote management system the management device and the image forming apparatus explained with reference to and the process explained with reference to can be used as is their detailed explanations are omitted.

In the above described embodiment as explained with reference to after the operation mode is returned to the normal mode by the communication with the management device the sub system outputs to the controller a request to change the operation mode into the energy saving mode immediately after the line of the communication performed with the management device is disconnected SEQ in .

In contrast in the modification example as illustrated as Step S in the sub system changes the operation mode into the energy saving mode at a timing that is after a message NO CARRIER is received at SEQ.

More specifically when the sub system receives the message NO CARRIER from the modem the sub system sends the message NO CARRIER received to the controller SEQ and checks the energy saving mode return flag stored in the remote management system memory Step S . As a result if the value of the energy saving mode return flag is on the sub system issues a request to the controller to change into the energy saving mode SEQ . In response to the request the controller changes the operation mode into the energy saving mode Step S . At the same time the sub system issues a request to suppress the supply of power to the controller . The power controller controls the PSU in response to the request so as to suppress the supply of power to the controller .

Even in the modification example as the same as that in the above described embodiment the timing of the sub system to output a request to change into the energy saving mode to the controller is not limited to that of immediately after the energy saving mode return flag is checked at Step S but may be defined at a point in time after a predetermined transition time is passed from the checking.

In this case for example the predetermined transition time is stored in advance in the remote management system memory . When the sub CPU confirms that the value of the energy saving mode return flag is on at Step S the sub system waits for the transition time stored in the remote management system memory to elapse and then outputs to the controller the request to change into the energy saving mode.

Because the process of changing into the energy saving mode is started after the message NO CARRIER is received a situation in which the line is disconnected by an unexpected cause such as a communication error can be dealt with.

According to the present invention when returning from the energy saving mode that is caused by the communication from an external device the energy saving can be enhanced.

Although the invention has been described with respect to specific embodiments for a complete and clear disclosure the appended claims are not to be thus limited but are to be construed as embodying all modifications and alternative constructions that may occur to one skilled in the art that fairly fall within the basic teaching herein set forth.

