---

title: Control of storage device
abstract: Sensor data and audio data are received by a controller. The controller determines if the audio data is above a threshold level. The controller also determines if the sensor data is above a threshold level. The controller can suspend operation of a hard drive based on the data being above or below the threshold level.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09218837&OS=09218837&RS=09218837
owner: Hewlett-Packard Development Company, L.P.
number: 09218837
owner_city: Houston
owner_country: US
publication_date: 20120523
---
Portable computing devices can include hard disk drives that may be damaged if the portable computing device is dropped. The hard disk drive may include a park state that the hard disk drive can enter to protect the drive and the data on the drive from damage if the hard drive experiences a shock. A portable computing device may include an accelerometer that can be used to cause the hard disk drive to park the disk heads in anticipation of an impact such as the portable computing device falling and impacting a surface such as a floor or table.

A portable computing device that includes a hard disk drive that parks the heads in anticipation of an impact also causes the data to stop being accessed. When the heads on the hard disk drive are parked the hard disk drive cannot access data on the disks as the heads cannot read the data when parked. The heads of a disk drive read and write the data to the disks to do so the heads move back and forth along the surface of the spinning disk.

A portable computing device may include an audio output device. The audio output device may include multiple speakers. Speakers can be engineered to produce sound in a frequency range. Speakers produce sound by moving air to move the air a speaker vibrates. Lower frequencies require more air to be moved than higher frequencies. The more air that is moved the more vibration the speaker transfers to the computing device. The vibrations from a speaker may cause a sensor such as an accelerometer to produce sensor data over a sensor threshold causing the storage device such as a hard disk drive to park the heads in anticipation of an impact. Data access on the hard disk drive is stopped if the hard disk drive heads are parked causing the audio to stop playing or other data to stop being retrieved or written to the hard disk drive.

To prevent the parking of the heads in a storage device the portable computing system can consider multiple factors such as the volume of the audio the thresholds of the accelerometer and the direction of the vibrations detected by the accelerometer. In one implementation a portable computing device can include an accelerometer capable of determining movement in at least two directions and a speaker to play audio which may be capable of vibrating the system. The portable computing device can include a controller to suspend operation of a storage device when the portable computing system accelerometer data is above a threshold level. If the system receives accelerometer data above a threshold along a first axis and not above the threshold in a second axis and the speaker is playing audio the system does not suspend operation of the storage device.

In another implementation a method of controlling the stoppage of a storage drive can include receiving by a controller accelerometer data from an accelerometer. Audio data can be received by the controller. The operation of the storage device should be stopped based on whether the audio is playing and whether the data from the accelerometer is above an accelerometer threshold.

A portable computing device can include a sensor such as an accelerometer capable of determining movement in at least two directions. The directions can be for example the represented by 2 of the 3 axis in an x y z coordinate system. In one example the sensor may determine movement along at least the z axis and one of the x and y axis.

The portable computing device can include a speaker to play audio. The speaker may be part of an audio module which can include the sound card. The sound card may drive the speaker and process audio data. The audio data may be for example music system audio or another audio source. The audio may be stored as MP3 AAC WAV or another format.

The portable computing device can include a storage device . Connected to the storage device can be a controller . The controller may be internal to or external to the chassis of the storage device . The controller is to suspend operation of the storage device . The controller may send a signal to the storage device to park the heads of the storage device . Parking the heads can prevent damage to the storage device and the data stored on the storage device due to a force above a failure threshold such as generated in an impact from a drop or fall.

The controller determines whether to send the signal to park the heads of the storage device based on whether accelerometer data is above a threshold level. The controller may also determine not to park the heads of the storage device if the portable computing device is only moving in one direction according to the accelerometer. The controller may also take into consideration whether the audio module is playing audio through the speaker . For example if the controller determines that the audio is not being played and the accelerometer data is above a threshold amount along the z axis it may park the heads but if the audio is playing the accelerometer threshold may be different along the z axis causing the controller not to park the heads of the storage device . In other words the threshold may vary dependent upon whether audio is playing.

The portable computing device may be a notebook form factor where the display is in a housing that is connected to a base housing with a hinge. The portable computing device may include a display switch . The display switch may be a reed switch mechanical switch or another type of switch that can determine if the display housing is closed against the base or open away from the base. The accelerometer threshold can be adjusted higher or lower if the display is closed or open. For example a notebook computer is more likely to be dropped if the display is closed the computer is also less likely to be impacted by a stoppage of the data when the heads are parked if the display is closed. The display switch may also be a button that a user activates to turn off the display on a tablet form factor computer.

The portable computing device may include an internal power source to power the system when the portable computing device is not connected to an external power source such as an alternating current wall outlet. The internal power source may be a battery or another portable supply of power. The threshold may be adjusted higher or lower if the portable computing device is on internal power such as a battery. For example if the portable computing device is on internal power the threshold for the accelerometer may be adjusted lower thereby making it more likely to reach the threshold and if on external power the threshold may be adjusted higher making it less likely to reach the threshold since it is more likely the that portable computing device may be dropped if on internal power and less likely to be dropped if it is stationary when connected to an external power source.

The portable computing device may adjust the threshold higher or lower based on the volume level of the audio playing. The volume level of the audio may cause the system to vibrate and cause the controller to mistake the vibrations as a fall and park the heads. For example audio at a low volume may not vibrate the system over the accelerometer threshold but a high volume may vibrate the system over the accelerometer threshold causing the controller to park the head of the hard drive. Since the volume of the audio playing may cause the system to vibrate and confuse the controller into parking the heads of the hard drive the volume level may cause a change in the accelerometer threshold so that at high volume vibrations from the audio do not cause the heads of the hard drive to be parked.

To get the audio level information to the controller an application programming interface API can be used. An API is a specification used as an interface by software components to communicate with each other. The API may communicate between the audio module and the controller . Audio may also be determined by a microphone or by analyzing the audio data file. For example the system may determine characteristics of the audio from the audio data file such as an MP3 file WAV file or another audio file.

A basic input output system BIOS can modify the registers of the accelerometer. For example the BIOS may include instructions that cause a change to the registers of the accelerometer . The registers may include for example a threshold level for detected movement along an axis. The registers may include the sensitivity level for example may reduce the number of levels of force that can be distinguished such that on a scale of 0 to 7 the threshold may be 5 but on a scale of 0 to 3 the threshold may be 2 thereby changing the amount of force required to cause the controller to park the heads of the hard drive .

An advanced configuration and power interface ACPI may be part of the BIOS to cause changes to the threshold level. ACPI defines platform independent interfaces for hardware discovery configuration power management and monitoring. The specification relates to Operating System directed configuration and Power Management OSPM . ACPI can instruct the controller how to interact with the hard drive and the accelerometer causing a change to the thresholds to park the heads of a hard drive . For example the ACPI may determine that the portable computer device is operating on battery power or a battery controller may signal the controller to change the threshold that causes the parking of the heads of the hard drive . For example if the portable computing device is operating on portable battery power rather than operating on Alternating Current from an external power supply the portable computing device is more likely mobile and therefore more likely to be dropped therefore changing the threshold that causes the controller to park the heads of the hard drive .

The accelerometer data can include data representing movement in each of a set of axis for example x y and z. The threshold can be different for each axis of the set of axis.

A computer readable medium includes code that if executed by a controller in a computing device causes the controller to receive accelerometer data from an accelerometer . The code can also cause the controller to receive audio data and determine if the operation of the storage device should be stopped based on whether the audio is playing and whether the data from the accelerometer is above an accelerometer threshold. Audio data may be provided by an audio module about the output of a speaker .

The code if executed may stop the storage device if the accelerometer data is above the accelerometer threshold along less than two axis and the audio is playing above the audio threshold.

The techniques described above may be embodied in a computer readable medium for configuring a computing system to execute the method. The computer readable media may include for example and without limitation any number of the following non transitive mediums magnetic storage media including disk and tape storage media optical storage media such as compact disk media e.g. CD ROM CD R etc. and digital video disk storage medial holographic memory nonvolatile memory storage media including semiconductor based memory units such as FLASH memory EEPROM EPROM ROM ferromagnetic digital memories volatile storage media including registers buffers or caches main memory RAM etc. and the Internet just to name a few. Other new and various types of computer readable media may be used to store the software modules discussed herein. Computing systems may be found in many forms including but not limited to mainframes minicomputers servers workstations personal computers notepads personal digital assistants various wireless devices and embedded systems just to name a few.

In the foregoing description numerous details are set forth to provide an understanding of the present invention. However it will be understood by those skilled in the art that the present invention may be practiced without these details. While the invention has been disclosed with respect to a limited number of embodiments those skilled in the art will appreciate numerous modifications and variations therefrom. It is intended that the appended claims cover such modifications and variations as fall within the true spirit and scope of the invention.

