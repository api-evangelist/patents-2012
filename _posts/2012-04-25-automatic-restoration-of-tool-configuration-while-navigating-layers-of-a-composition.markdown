---

title: Automatic restoration of tool configuration while navigating layers of a composition
abstract: A selection of a layer is received from a plurality of layers of a composition. A tool type and one or more tool setting(s) are obtained based at least in part on the selected layer, where in the event the selected layer was previously selected at least once, the obtained tool type and tool setting(s) were in use a last time the selected layer was selected. A tool is automatically configured using the obtained tool type and tool setting(s), where the tool is associated with manipulating the composition.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08635587&OS=08635587&RS=08635587
owner: Adobe Systems Incorporated
number: 08635587
owner_city: San Jose
owner_country: US
publication_date: 20120425
---
This application is a continuation of co pending U.S. patent application Ser. No. 11 823 655 entitled AUTOMATIC RESTORATION OF TOOL CONFIGURATION WHILE NAVIGATING LAYERS OF A COMPOSITION filed Jun. 28 2007 now U.S. Pat. No. 8 214 793 which is incorporated herein by reference for all purposes.

Software applications are used to edit and or create a variety of compositions such as still images or video. For example an animator may use a software application to create an animated cartoon or a graphic designer may use a software application to create a cover for a book. Often a composition has multiple layers. For example if the composition is a book cover the bottom layer may be cover art the middle layer may be an author photograph for the back cover and the top layer may be text for the front and back covers. In some cases a composition has many layers and it is inconvenient or time consuming for users to work with such compositions using existing software applications. It would be desirable to develop more user friendly software applications for working with compositions that have layers.

The invention can be implemented in numerous ways including as a process an apparatus a system a composition of matter a computer readable medium such as a computer readable storage medium or a computer network wherein program instructions are sent over optical or communication links. In this specification these implementations or any other form that the invention may take may be referred to as techniques. A component such as a processor or a memory described as being configured to perform a task includes both a general component that is temporarily configured to perform the task at a given time or a specific component that is manufactured to perform the task. In general the order of the steps of disclosed processes may be altered within the scope of the invention.

A detailed description of one or more embodiments of the invention is provided below along with accompanying figures that illustrate the principles of the invention. The invention is described in connection with such embodiments but the invention is not limited to any embodiment. The scope of the invention is limited only by the claims and the invention encompasses numerous alternatives modifications and equivalents. Numerous specific details are set forth in the following description in order to provide a thorough understanding of the invention. These details are provided for the purpose of example and the invention may be practiced according to the claims without some or all of these specific details. For the purpose of clarity technical material that is known in the technical fields related to the invention has not been described in detail so that the invention is not unnecessarily obscured.

Composition includes three layers. The top layer of composition is layer and includes text that says Clear as a summer day . . . The bottom layer is layer and is a blue background with a gradient change e.g. a gradual change from a darker shade of blue to a lighter shade of blue . Between layers and is layer which includes two white clouds. In this example composition is a still image. In other embodiments a composition is some other type of composition such as a video.

Layers of a composition are positioned or ordered along a z axis of the composition e.g. normal to the page . Each layer includes one or more objects or pieces of data e.g. text lines shapes photographs images color effects etc. . In some embodiments a layer is transparent where there is no object e.g. so that an object in a lower layer is visible to a viewer . In some embodiments other types of data e.g. in addition to or as an alternative to visual data are included in a layer. For example if a software application associated with movie editing is configured to perform the techniques disclosed herein a layer in such an embodiment may include audio e.g. the actors speaking background music etc. .

In some embodiments in order to make changes to an object or piece of data in a given layer a user first selects that layer. Some examples of edits a user is able to perform on a selected layer include editing an existing object adding a new object or deleting an object. A user may also be able to if so desired add a new layer or delete a layer and the objects in it .

Layers dialog box includes a thumbnail of each layer and a description next to each thumbnail indicating the layer number. The current layer that is selected is highlighted in layers dialog box in this figure layer is highlighted indicating layer is selected. In this example a user can interact with layers dialog box to select a layer. For example a user may click on layer in layers dialog box thus changing the selected layer from layer to layer . In some embodiments some other interaction e.g. right click and select from pull down menu or input device e.g. keyboard stylus etc. is used in addition to or as an alternative to clicking on a desired layer in layers dialog box to select a layer.

Using some other software applications tool configurations remain the same as a user traverses through the layers of a composition. As used herein a tool configuration includes the tool type e.g. a text tool and associated tool settings e.g. for a text tool font type font size or effects such as bold italic underline etc. . For example if the user has his tool set to a text tool with certain text settings and then selects a new layer to work on the tool type remains the same in some other software applications. This can be annoying or inconvenient for the user because he may need to change the tool type and or tool settings each time he selects a new layer to work on. For example if he were working on composition using this other software application and had the text tool selected because he was working on layer when he moved to layer he would need to change the tool type from a text tool to a paintbrush tool. The user may also be required to change default paintbrush settings to desired settings to edit layer .

What is disclosed is a technique for automatically restoring tool type and associated tool settings. The last used configuration i.e. tool type and associated tool settings for the tool type for a particular layer are saved the next time that layer is selected the saved configuration is automatically restored. Using a software application that is so configured a user would not have to re set the tool type and or tool settings each time he selects a different layer in a composition. For example he would not need to perform some prescribed sequence or combination of keystrokes or make a selection from a pull down menu in order to change a tool type and or re set the tool setting s by selecting deselecting checkboxes or entering values into boxes.

Software application is configured to remember the last tool configuration that was used when layer was last selected and restores this configuration automatically. In this example the last time the user was working on layer of composition he used the paintbrush tool. As a result the tool type changes automatically to a paintbrush tool. Settings properties or other values associated with the paintbrush tool are also restored such as the color being applied by the paintbrush tool. This reconfiguration is performed automatically without requiring user direction or intervention.

Cursor is changed automatically. For example if the user goes from the state shown in where layer is selected to the state shown in this figure where layer is selected cursor is automatically changed from a text type cursor to a paintbrush type cursor. If the user goes from the state shown in where layer is selected cursor is automatically changed from a gradient type cursor to a paintbrush type cursor. As described above the end result state of automatically restoring a tool configuration does not necessarily depend upon the layer or configuration that a user is leaving. For example in when a user switches to layer the tool is changed to the same tool type i.e. paintbrush tool and the same tool properties are applied i.e. color white regardless of whether the previous selected layer was layer or layer .

Although in the examples shown in cursor is shown automatically changing even though it is not located over composition in some embodiments a cursor is a selection type cursor when it not located over a composition. In some embodiments a cursor automatically changes to a stored or remembered type when it is moved over a composition. For example from using previous versions of a particular software application a user may be expecting the cursor to be a selection type cursor when the cursor is not located over the composition. A user is working on layer may be surprised if the cursor is a paintbrush type cursor even when the cursor is not above a composition and or may be confused if he wants to choose a windows menu option but the cursor shows a paintbrush type of cursor.

In some embodiments a dialog box associated with an automatically restored tool is automatically presented or displayed to a user. In this figure for example application may be configured to automatically present a gradient dialog box associated with the gradient tool e.g. where a gradient percentage and gradient colors are set and displayed . In some embodiments whether or not a dialog box is automatically presented depends upon whether that dialog box was open the last time that particular layer was selected. In such embodiments if a user closes a dialog box before leaving a layer the next time that layer is selected the dialog box is not automatically displayed.

The left column of table indicates the layer for which information is stored. In this example information is sorted in ascending order based on the layer i.e. the top row is used to store information for layer and the bottom row is used to store information for layer .

The middle column of table is used to store the tool type last used when a particular layer was selected. In this example the last used tool type for layers are gradient tool paintbrush tool and text tool respectively. In various embodiments information is encoded or represented in a variety of ways. In some embodiments unique alpha numeric codes are assigned to all possible tool types and these coded values are stored.

The right column is used to store the tool properties or settings for the corresponding tool type stored in the middle column. The settings for the text tool associated with layer are font Times New Roman and font size 12 point. The paintbrush tool associated with layer has settings of color white and paintbrush type puffy. The gradient tool associated with layer has settings of color blue and gradient 5.

Table is managed and updated as appropriate. In some embodiments every time the user changes a tool or tool property setting table is updated. Alternatively information is updated in some embodiments when a user switches layers and the last used configuration is stored in table for the layer being exited. For example if the user goes through a number of tool changes it may not be necessary to store all the changes except for the last one.

In some embodiments some information in addition to that shown in this example is stored. For example in embodiments where dialog boxes are automatically restored or presented table may be expanded to include a column to record the dialog boxes if any that were open the last time a particular layer was selected.

The techniques disclosed in the above examples may be used with any software application that uses layers and tools. In some embodiments a software application associated with print publications such as Adobe InDesign is configured to perform the techniques disclosed above. In some embodiments a software application associated with creating or developing web pages is configured to perform these techniques. Similarly the types of tools and tool properties shown above are merely examples other embodiments use other types of tools and or tool properties. Some examples of other tool types include a pencil tool a history brush tool an art history brush tool a dodge tool a burn tool a sponge tool a blur tool a sharpen tool an eraser tool a background eraser tool a magic eraser tool a clone stamp tool a pattern stamp tool a spot healing brush tool or a healing brush tool. Some examples of tool settings include size shape texture angle or any setting corresponding to the above example tool types.

At the type of layer is determined. The layer in the decision at is the layer being switched to i.e. selected by a user . If it an existing layer a stored tool type and settings for the layer are obtained at . For example table or a similar data structure may be accessed and information for that layer is retrieved. If it is a new layer a default tool type and settings for a new layer are obtained at . For example a user may create a new layer and a default configuration is obtained. In some embodiments automatic restoration is not performed for a new layer. For example if the user was using a certain tool with certain tool settings when he created the new layer and selected the new layer the tool type and settings would not necessarily change.

At a tool is configured using the obtained tool type and settings. In some embodiments this includes changing the type of cursor associated with a mouse or other input device. At edits if any are received from a user and are applied to the current layer in the composition. For example if the composition is a digitally synthesized picture of a park the user may add or edit clouds trees people etc. to the selected layer.

An indication is received from a user to change layers and a tool type and settings are stored at . In various embodiments information is stored at in a variety of ways. In some embodiments a dumb process is used and information is always saved without first determining whether or not it needs to updated e.g. because no change occurred . Alternatively in some embodiments stored information is accessed is compared to the current configuration and any out of date pieces of information are updated. Storing information at is performed at a variety of times or is triggered by a variety of events. In some embodiments information is stored every time there is a change to the tool type and or settings. In some embodiments information is stored when a new layer is selected and the last configuration of the old layer is saved e.g. to minimize the number of save operations .

It is determined at if the process is done. In some embodiments a software application is only configured to remember configurations for the duration of a single session and the process ends when the software application is closed. If the process is not done at the type of the newly selected layer is determined.

In some cases it would be desirable for a software application to have the ability to automatically restore tool configurations even if a software application is closed since the last time a given layer was selected. For example at the end of the day a user may close the software application and turn off his computer. It would be desirable if on the next day when the user restarted the application the software application could automatically restore the tool types and settings from the previous day. The following figure illustrates an embodiment of a process to provide such a capability.

At a software application is started. In the examples of Adobe Photoshop is started. At a selection of a composition to open is received and the selected composition is opened. For example composition in is selected from a list and opened.

At stored tool type and settings are obtained for the selected composition. In various embodiments stored tool types and settings are stored in a variety of locations. In some embodiments this information is stored in persistent memory associated with or allocated to the software application e.g. register files associated with Adobe Photoshop . In some embodiments stored tool types and settings are stored with the composition file for example as metadata. In some applications this is desirable because the tool types and settings are transported with the composition if the file is moved to another device. For example if the user puts the composition file on a USB flash drive and transfers the composition file to another device the software application installed on the destination device will be able to automatically restore tool configurations since it has access to the proper information.

At while the software application is running tool type and settings are automatically restored as the user navigates through layers of the composition. In some embodiments the example process of is used to perform step . At an indication to close the software application is received and stored tool type and settings are updated as needed. In some embodiments this includes updating information stored in metadata of the composition file in some embodiments this includes writing to persistent memory associated with the software application. At the software application is closed.

In various embodiments automatic restoration of a tool configuration is set or controlled in various ways. In some embodiments a user can place a mouse pointer or other pointer above icons or and right click on the icon causing a list to be displayed . The user can then select either On or Off from the list. In some embodiments layer toolbar selection in toolbar is pulled down and a control panel is presented to the user. Using a checkbox or other control in the control panel a user can turn on off automatic restoration of tool configurations for a particular layer.

In some embodiments the techniques disclosed above are expanded to include storing or remembering multiple configurations for a particular layer of a composition. The following figure illustrates an embodiment of a table used to store multiple configurations for layers of a composition.

Table is configured to store a maximum of two configurations for each layer of composition shown in . For layer the current i.e. most recent configuration is the gradient tool with settings of color blue and gradient 5. For the configuration prior to that the tool type is the same i.e. gradient tool but the settings are color blue and gradient 0. For example the user may have decided he wanted a slight gradient for layer and changed the gradient from 0 to 5. Similarly for layer both the most recent configuration and the configuration before that have the tool type as the paintbrush tool with color white but for the former configuration the paintbrush type puffy and for the latter configuration the paintbrush type regular. For example the paintbrush tool may initially default to the regular type and the user decides he wants the puffy type of paintbrush instead and changes the type of paintbrush.

Although table has space for the two most recent configurations no information is stored for the configuration prior to the current one for layer . For example the configuration stored in the current configuration space may be an initial or default one and there was no prior configuration selected by the user.

The information stored in table is presented to a user and or is interacted with by a user in a variety of ways in various embodiments. In some embodiments a user is shown a clipboard or display that shows the saved configurations for the layer that is selected. Such a display may be configured to be automatically updated as a user traverses the layers of a composition and selects different layers. In some embodiments a clipboard or display is configured to receive a user selection of a saved configuration. For example a user may double click on a particular configuration e.g. presented or represented in a display and that configuration is restored.

Although the foregoing embodiments have been described in some detail for purposes of clarity of understanding the invention is not limited to the details provided. There are many alternative ways of implementing the invention. The disclosed embodiments are illustrative and not restrictive.

