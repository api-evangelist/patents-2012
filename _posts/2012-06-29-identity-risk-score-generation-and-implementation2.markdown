---

title: Identity risk score generation and implementation
abstract: Embodiments are directed to providing an identity risk score as part of an authentication assertion, applying operating heuristics to determine an operating application's validity and to providing identity risk scores to requesting third parties. In one scenario, an authentication server receives from a cloud service portal various user credentials from a user. The user credentials identify a user to the authentication server. The authentication server verifies the user's identity using the received credentials and generates an identity risk score based on one or more identity factors. The identity factors indicate a likelihood that the user is a valid user. The authentication server encapsulates the generated identity risk score in an authentication assertion and sends the authentication assertion that includes the generated identity risk score to the cloud service portal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09639678&OS=09639678&RS=09639678
owner: Microsoft Technology Licensing, LLC
number: 09639678
owner_city: Redmond
owner_country: US
publication_date: 20120629
---
Computers have become highly integrated in the workforce in the home in mobile devices and many other places. Computers can process massive amounts of information quickly and efficiently. Software applications designed to run on computer systems allow users to perform a wide variety of functions including business applications schoolwork entertainment and more. Software applications are often designed to perform specific tasks such as word processor applications for drafting documents or email programs for sending receiving and organizing email.

In some cases software applications allow access to other computer systems. For instance a web browser may allow a user to retrieve information from another computer system such as a web server. Other applications may allow users to access services provided by distributed systems such as cloud computer systems. These applications may allow a user to log in to a cloud portal and access computing resources such as services or virtual machines. The user s identity may be validated initially but it typically not validated thereafter. Moreover once validated a user s use of the cloud services or computational resources is not heavily monitored.

Embodiments described herein are directed to providing an identity risk score as part of an authentication assertion applying operating heuristics to determine an operating application s validity and to providing identity risk scores to requesting third parties. In one embodiment an authentication server receives from a cloud service portal various user credentials from a user. The user credentials identify a user to the authentication server. The authentication server verifies the user s identity using the received credentials and generates an identity risk score based on one or more identity factors. The identity factors indicate a likelihood that the user is a valid user. The authentication server encapsulates the generated identity risk score in an authentication assertion and sends the authentication assertion that includes the generated identity risk score to the cloud service portal.

In another embodiment a computer system applies operating heuristics to determine an operating application s validity. The computer system accesses various application operation heuristics including a generated identity risk score that is associated with a cloud service user. The identity risk score is based on one or more identity factors that indicate the likelihood that the user is a valid user. The computer system applies the application operation heuristics to an application initiated by the cloud service user that is in operation to determine whether the application is being used fraudulently or legitimately. Upon determining that the application is being used fraudulently the computer system limits use of the application by a specified amount and upon determining that the application is being used legitimately permits continued use of the application.

In yet another embodiment a computer system provides identity risk scores to requesting third parties. The computer system receives a request from a third party for an identity risk score which is generated based on identity factors that indicate the likelihood that a specified cloud service user is a valid user. The computer system validates the third party requestor s identity as one who is authorized to receive identity risk scores for the specified cloud service user and accesses the requested identity risk score. The computer system then sends the requested identity risk score to the third party requestor.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter.

Additional features and advantages will be set forth in the description which follows and in part will be apparent to one of ordinary skill in the art from the description or may be learned by the practice of the teachings herein. Features and advantages of embodiments of the invention may be realized and obtained by means of the instruments and combinations particularly pointed out in the appended claims. Features of the embodiments of the present invention will become more fully apparent from the following description and appended claims or may be learned by the practice of the invention as set forth hereinafter.

Embodiments described herein are directed to providing an identity risk score as part of an authentication assertion applying operating heuristics to determine an operating application s validity and to providing identity risk scores to requesting third parties. In one embodiment an authentication server receives from a cloud service portal various user credentials from a user. The user credentials identify a user to the authentication server. The authentication server verifies the user s identity using the received credentials and generates an identity risk score based on one or more identity factors. The identity factors indicate a likelihood that the user is a valid user. The authentication server encapsulates the generated identity risk score in an authentication assertion and sends the authentication assertion that includes the generated identity risk score to the cloud service portal.

In another embodiment a computer system applies operating heuristics to determine an operating application s validity. The computer system accesses various application operation heuristics including a generated identity risk score that is associated with a cloud service user. The identity risk score is based on one or more identity factors that indicate the likelihood that the user is a valid user. The computer system applies the application operation heuristics to an application initiated by the cloud service user that is in operation to determine whether the application is being used fraudulently or legitimately. Upon determining that the application is being used fraudulently the computer system limits use of the application by a specified amount and upon determining that the application is being used legitimately permits continued use of the application.

In yet another embodiment a computer system provides identity risk scores to requesting third parties. The computer system receives a request from a third party for an identity risk score which is generated based on identity factors that indicate the likelihood that a specified cloud service user is a valid user. The computer system validates the third party requestor s identity as one who is authorized to receive identity risk scores for the specified cloud service user and accesses the requested identity risk score. The computer system then sends the requested identity risk score to the third party requestor.

The following discussion now refers to a number of methods and method acts that may be performed. It should be noted that although the method acts may be discussed in a certain order or illustrated in a flow chart as occurring in a particular order no particular ordering is necessarily required unless specifically stated or required because an act is dependent on another act being completed prior to the act being performed.

Embodiments described herein may comprise or utilize a special purpose or general purpose computer including computer hardware such as for example one or more processors and system memory as discussed in greater detail below. Embodiments described herein also include physical and other computer readable media for carrying or storing computer executable instructions and or data structures. Such computer readable media can be any available media that can be accessed by a general purpose or special purpose computer system. Computer readable media that store computer executable instructions in the form of data are computer storage media. Computer readable media that carry computer executable instructions are transmission media. Thus by way of example and not limitation embodiments described herein can comprise at least two distinctly different kinds of computer readable media computer storage media and transmission media.

Computer storage media includes RAM ROM EEPROM CD ROM solid state drives SSDs that are based on RAM Flash memory phase change memory PCM or other types of memory or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium which can be used to store desired program code means in the form of computer executable instructions data or data structures and which can be accessed by a general purpose or special purpose computer.

A network is defined as one or more data links and or data switches that enable the transport of electronic data between computer systems and or modules and or other electronic devices. When information is transferred or provided over a network either hardwired wireless or a combination of hardwired or wireless to a computer the computer properly views the connection as a transmission medium. Transmission media can include a network which can be used to carry data or desired program code means in the form of computer executable instructions or in the form of data structures and which can be accessed by a general purpose or special purpose computer. Combinations of the above should also be included within the scope of computer readable media.

Further upon reaching various computer system components program code means in the form of computer executable instructions or data structures can be transferred automatically from transmission media to computer storage media or vice versa . For example computer executable instructions or data structures received over a network or data link can be buffered in RAM within a network interface module e.g. a network interface card or NIC and then eventually transferred to computer system RAM and or to less volatile computer storage media at a computer system. Thus it should be understood that computer storage media can be included in computer system components that also or even primarily utilize transmission media.

Computer executable or computer interpretable instructions comprise for example instructions which cause a general purpose computer special purpose computer or special purpose processing device to perform a certain function or group of functions. The computer executable instructions may be for example binaries intermediate format instructions such as assembly language or even source code. Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the described features or acts described above. Rather the described features and acts are disclosed as example forms of implementing the claims.

Those skilled in the art will appreciate that various embodiments may be practiced in network computing environments with many types of computer system configurations including personal computers desktop computers laptop computers message processors hand held devices multi processor systems microprocessor based or programmable consumer electronics network PCs minicomputers mainframe computers mobile telephones PDAs tablets pagers routers switches and the like. Embodiments described herein may also be practiced in distributed system environments where local and remote computer systems that are linked either by hardwired data links wireless data links or by a combination of hardwired and wireless data links through a network each perform tasks e.g. cloud computing cloud services and the like . In a distributed system environment program modules may be located in both local and remote memory storage devices.

Additionally or alternatively the functionally described herein can be performed at least in part by one or more hardware logic components. For example and without limitation illustrative types of hardware logic components that can be used include Field programmable Gate Arrays FPGAs Program specific Integrated Circuits ASICs Program specific Standard Products ASSPs System on a chip systems SOCs Complex Programmable Logic Devices CPLDs and other types of programmable hardware.

Still further system architectures described herein can include a plurality of independent components that each contribute to the functionality of the system as a whole. This modularity allows for increased flexibility when approaching issues of platform scalability and to this end provides a variety of advantages. System complexity and growth can be managed more easily through the use of smaller scale parts with limited functional scope. Platform fault tolerance is enhanced through the use of these loosely coupled modules. Individual components can be grown incrementally as business needs dictate. Modular development also translates to decreased time to market for new functionality. New functionality can be added or subtracted without impacting the core system.

In some cases when a new or existing user e.g. attempts to login to the cloud service portal the portal may already know at least some information about that user. For example the portal may know whether the user has been involved in fraudulent activities either directly or indirectly. For instance if the user attempts to log in from a known bad set of internet protocol IP addresses that user may be associated with other users who have used the cloud services portal in a fraudulent manner. Alternatively if the user has a history of normal use within predefined parameters the user may be identified as a good user or even a very important user.

For each user that attempts to log in to the cloud services portal and or to the authentication server an identity risk score may be generated e.g. by identity risk score determining module . The identity risk score may indicate a numerical value corresponding to the level of risk the user provides to the cloud services portal. For example a user may have a very low identity risk score which in general means that the user is a good user and has not used the portal in a fraudulent manner e.g. has not attempted to gain access to processing time or processing cores than the user has paid for . If the user has a high identity risk score the user may be more likely to use the portal in a fraudulent manner. Such users may be watched more carefully and if certain thresholds are met the user s application use may be throttled. The identity risk score may be based on various factors which will be explained in greater detail below.

The generated identity risk score may be sent from the authentication server to the cloud services portal as part of an authentication assertion or claim. In some cases that claim may be a Security Assertion Markup Language SAML claim. In these cases the claims or assertions are generated and transmitted in a standards based manner. As such a service e.g. may directly consume the identity risk score without needing to perform secondary connections to the authentication server or to another anti fraud service. A common user identity may be generated that is used across applications and services. The common user identity may be based upon an encoded 128 bit value and may be a durable reference to that identity. This may be referred to herein as a security principal and the identity risk score can be associated with the security principal.

As various users use the services provided by cloud service portal fraud conditions may change over time. As the fraud conditions change the identity risk score can updated and stored in a central directory associated with that security principal. In this manner even if the user is currently logged in a service can query the central directory using various directory application programming interfaces APIs for any updated risk scores. This would allow the calling service to evict users even while the users are currently authenticated. Thus fraudulent users may be evicted in a quick and efficient manner.

As mentioned above the identity risk score may be transmitted as a SAML claim. As such it may be discoverable by developers using the cloud service portal s directory. As one can never absolutely trust an identity even if for example that identity is attested and owned by a large multinational corporation precautions are to be taken with every user. For instance a user s machine may become infected with a computer virus. The user may use that same machine to log in to the cloud services portal. Then any services used by the user may be privy to the user s updated identity risk score. The user s applications may receive a set of SAML claims which indicate that the user s account is considered risky . Based on this information the user may be denied access to his or her applications and an alarm may be raised to the user s IT administrators. The IT administrators may then launch an investigation and determine that the user s machine has been compromised.

Each service may have its own set of policies identifying actions to be taken based on certain preset thresholds in the identity risk score being met. For example a score of 80 may be risky enough to limit certain key actions on the user s account until further proof of ownership can be provided. For instance the user may be required to wait 30 days e.g. one full billing cycle before being pulled out of quarantine and granted full rights to use all aspects of the service. These concepts will be explained further below with regard to methods and of respectively.

In view of the systems and architectures described above methodologies that may be implemented in accordance with the disclosed subject matter will be better appreciated with reference to the flow charts of . For purposes of simplicity of explanation the methodologies are shown and described as a series of blocks. However it should be understood and appreciated that the claimed subject matter is not limited by the order of the blocks as some blocks may occur in different orders and or concurrently with other blocks from what is depicted and described herein. Moreover not all illustrated blocks may be required to implement the methodologies described hereinafter.

Method includes an act of an authentication server receiving from a cloud service portal one or more user credentials from a user the user credentials identifying a user to the authentication server act . For example communication module of cloud services portal may receive user credentials from user . The credentials identify the user to the cloud service portal and or to the authentication server. The authentication server may be a separate server or may be incorporated into functionality provided by the cloud service portal. The credentials supplied by the user may include a user name a password biometric information or other type of information that would identify the user.

Method also includes an act of the authentication server verifying the user s identity using the received credentials act . For example identity verifying module may verify user s identity using the received user credentials. The authentication server then generates an identity risk score based on one or more identity factors act . The identity factors indicate a likelihood that the user is a valid user. As shown in embodiment of the identity factors may include the geographic location A from which the user is authenticating known techniques can be used to determine the user s current approximate location . If the user is authenticating from a country which produces a lot of fraudulent activity the user may be more of a risk.

Identity factors may also include the user s IP address B. If the user is attempting to authenticate from known bad set of IP addresses the user may be more of a risk for fraudulent activity. Still further the identity factors may include the number of ports open C by the user s services. The cloud service portal may allow the user to open various ports for the user s various hosted services. If the user is opening an inordinate number of ports the user may be more of a risk for fraudulent use. Likewise with user name patterns D user names that include certain strings of characters or numbers may often be associated with users that are using the portal fraudulently. It will be understood that the above are merely examples of identity factors and that many other factors or combinations of factors may be used to determine the degree of risk a user provides.

Method next includes an act of the authentication server encapsulating the generated identity risk score in an authentication assertion act . Thus authentication server may add identity risk score to authentication assertion . This authentication assertion may be sent to the communication module of the cloud service portal act . As mentioned above the authentication assertion may be a Security Assertion Markup Language SAML claim. Such SAML claims may be routinely transferred between the authentication server and the cloud service portal.

In some embodiments existing cloud services or applications including those currently running and those not currently running may send requests to the authentication server for a specified user s identity risk score. The identity risk score determining module may generate a new identity risk score if one does not already exist for that user based on the identity factors or may update the user s identity risk score based on the identity factors. If the identity risk score is above a threshold level the cloud service portal may determine that the user is currently logged in to the cloud service portal may immediately evict the user from the cloud service portal. Because the user s risk score high enough i.e. beyond the specified threshold the user was determined to be a threat and was evicted. If the identity risk score is above another specified threshold level and the user currently logged in to the cloud service portal various actions relating to running or managing applications may be prohibiting until the user provides further authentication credentials.

Still further if the identity risk score is above a specified threshold level and the user is not currently logged in to the cloud service portal the user may be prevented from logging in to the cloud service portal for a specified amount of time. Alternatively if the identity risk score is below a specified threshold level and the user is currently logged in to the cloud service portal the user may be determined to be a good valuable user and the level of service provided to that user may be increased by the cloud service portal e.g. more processing time more open ports more threads etc. . Accordingly if a user s score is above or below a threshold number the user s account may be limited or increased in functionality. This determination may be made while the user is logged in or while the user is logged out. Moreover this determination may be made periodically at predetermined intervals or may be made on demand. The user s level of service may be dynamically increased or decreased accordingly. Penalties may be applied and lifted as the user s identity risk score is updated based on the identity factors. At least in some cases a customizable policy may be used to specify which actions to be taken when predetermined thresholds high or low are met in the identity risk score.

Method includes an act of accessing one or more application operation heuristics including a generated identity risk score that is associated with a cloud service user the identity risk score being based on one or more identity factors that indicate the likelihood that the user is a valid user act . For example the cloud service portal may access application operation heuristics which include the identity risk score associated with user . The heuristics may include various use patterns login patterns processing patterns network patterns or other data. The application operation heuristics may include at least one of the following geographic location of the user a determination that the user is authenticating from within a specified range of IP addresses and the number of open ports currently in use by the user s cloud services. A security principal i.e. a durable user identifier may be generated for each cloud service user. The security principal identifies the user across multiple cloud services and or cloud service domains.

Method also includes an act of applying the application operation heuristics to an application initiated by the cloud service user that is in operation to determine whether the application is being used fraudulently or legitimately act . Accordingly the cloud service portal may implement the use determining module to determine whether one or more of the user s services hosted on the portal are being used fraudulently. Various use patterns including the heuristics listed above may be used to determine whether the application is being used fraudulently. If the use determining module determines that the application is being used fraudulently use of that application may be limited by a specified amount act . For instance the throttling module may throttle resources for the application including processing power network resources use privileges or other items. The resources may be throttled to the extent that the user s use is determined to be fraudulent. Accordingly if the user s application is definitively determined to be fraudulent the throttling module may block all access to the application by the user .

On the other hand if the use determining module determines that the application is being used legitimately the user may be permitted continued use of the application act . Still further if the user has an identity risk score below a specified threshold level i.e. the user does not pose a substantial risk or poses no risk the cloud service portal may provide an increased level of computing resources to the application based on the user s identity risk score. In some embodiments each cloud service user is ranked against various other cloud service users according to the user s associated identity risk score. Thus each of the cloud service portal s users may be ranked in their degree or likelihood of risk. In such cases each user may be provided with a commensurate level of services i.e. those users with a high level of risk receive a lower level of service and those users with a low level of risk receive a higher level of service . Alternatively each user may receive the same level of service unless or until that user s level of risk is high enough that throttling is initiated.

Next illustrates a flowchart of a method for providing identity risk scores to requesting third parties. The method will now be described with frequent reference to the components and data of environment .

Method includes an act of receiving a request from a third party for an identity risk score the identity risk score being generated based on one or more identity factors that indicate the likelihood that a specified cloud service user is a valid user act . For example third party user may send request to the cloud service portal requesting an identity risk score for a specified user. The validation module may validate the third party requestor s identity as one who is authorized to receive identity risk scores for the specified cloud service user act . The third party may want to know the identity risk score for a specified individual for a specified group of individuals or for various individuals anonymously. The cloud service portal may access the requested identity risk score act and send it to the third party requestor act . The identity risk score may identify the user s or may be sent in an anonymized fashion so that individual cloud service users are not identifiable from the identity risk score.

Accordingly methods systems and computer program products are provided which provide an identity risk score as part of an authentication assertion. Moreover methods systems and computer program products are provided which apply operating heuristics to determine an operating application s validity and provide identity risk scores to requesting third parties.

Embodiments described herein may be embodied in other specific forms without departing from its spirit or essential characteristics. The described embodiments are to be considered in all respects only as illustrative and not restrictive. The scope of the invention is therefore indicated by the appended claims rather than by the foregoing description. All changes which come within the meaning and range of equivalency of the claims are to be embraced within their scope.

