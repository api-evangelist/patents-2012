---

title: Caller ID for text messaging
abstract: Systems and methods for providing caller ID information for text messaging. In one embodiment, a message center receives a text message from a sender, and identifies a name of the sender. The message center then inserts the sender name in the text message, and transmits the text message towards a recipient.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09161187&OS=09161187&RS=09161187
owner: Alcatel Lucent
number: 09161187
owner_city: Boulogne-Billancourt
owner_country: FR
publication_date: 20120521
---
Telecommunication networks provide many types of communications to its end user. The traditional mode of communication is a voice call. When a caller places a call to a called party a switch in the network receives a call request e.g. DTMF from the caller s phone. The switch then routes the call request through the network until the call reaches the terminal of the called party.

Another type of communication is text messaging. Text messaging has become as popular or more popular than voice calls in many mobile or wireless networks. One example of text messaging is Short Message Service SMS which is a set of communication protocols allowing the exchange of short text messages i.e. 160 characters or less between devices. While the term text message traditionally referred to text only messages sent using SMS it has been extended to include multimedia messages such as images video sound content etc. The multimedia messages may be sent using Multimedia Message Service MMS protocol.

To send an SMS message for example the sender enters text into his her end user device and the device encodes the text into an SMS message. The end user device then sends the SMS message to a serving element in the network e.g. a Mobile Switching Center MSC through the appropriate signaling protocol. The serving element then forwards the SMS message to an SMS Center SMSC where the message is stored and queued for delivery to its intended recipient.

Regardless of the mode of communication chosen by an end user service providers offer many services. One service provided for voice calls is caller identification caller ID . A caller ID service transmits the caller s number and the caller s name if available to the called party s terminal while the call is being set up but before the call is answered i.e. during the ringing signal for the call . Thus the called party is able to see who is calling before answering the call. These and other services generate revenue for the service providers so they are continually trying to find new services to offer to their customers.

Embodiments described herein provide caller ID services for text messages. When a text message is sent a message center is able to identify a name for the sender and to send information on the name of the sender to the recipient along with the text message. The end user device of the recipient is then able to display the name of the sender to the recipient. Therefore even if the recipient receives a text message from someone who is not in their contact list the name of the sender will be displayed to the recipient.

One embodiment comprises a message center configured to receive a text message from a sender and to identify a name of the sender. The message center is further configured to insert the sender name in the text message and to transmit the text message towards a recipient.

In another embodiment the message center is further configured to insert the sender name in a header of the text message such as in a new parameter of the header of the text message.

In another embodiment the message center is further configured to insert the sender name into a payload of the text message.

In another embodiment the message center is further configured to process policy rules to determine whether to insert the sender name in the text message such as to process an identity of the recipient to determine whether to insert the sender name in the text message.

In another embodiment the message center is further configured to identify a plurality of names defined for the sender and to select one of the names based on policy rules.

Another embodiment comprises an end user device that is configured to receive a text message and to identify a sender name inserted in the text message. The end user device is further configured to determine if the sender name corresponds with a contact name stored in a contact list. If the sender name corresponds with a contact name stored in the contact list then the end user device is further configured to determine whether to display the sender name from the text message or the contact name from the contact list.

In another embodiment the end user device is further operable to determine that the sender name from the text message has precedence over the contact name from the contact list and to display the sender name from the text message to the recipient.

In another embodiment if the sender name does not correspond with a contact name then the end user device is further configured to display the sender name from the text message to the recipient.

In another embodiment the end user device is further configured to provide an audible notification indicating the determined name.

The figures and the following description illustrate specific exemplary embodiments of the invention. It will thus be appreciated that those skilled in the art will be able to devise various arrangements that although not explicitly described or shown herein embody the principles of the invention and are included within the scope of the invention. Furthermore any examples described herein are intended to aid in understanding the principles of the invention and are to be construed as being without limitation to such specifically recited examples and conditions. As a result the invention is not limited to the specific embodiments or examples described below but by the claims and their equivalents.

In this embodiment message center includes an interface and a controller . Interface comprises any device component or system that is able to send and receive text messages according to a signaling protocol. For example the signaling protocol may comprise Mobile Application Part MAP protocol Session Initiation Protocol SIP Short Message Peer to Peer SMPP protocol etc. Controller comprises any device component or system that controls the operation of message center to insert caller ID information into text messages.

Message center may optionally include a database . Database comprises any storage system that is able to store names for end users that send text messages. For instance database may store one or more names that are mapped to a directory number a Public User ID PUID or some other identifier for a sender. Based on the information stored in database controller is able to identify a name for a sender based on some identification that is included in a received text message such as a directory number.

Network provides a text messaging service to an end user device and other devices not shown in . End user device may comprise a mobile phone a computer a tablet PC etc. Device executes a texting application that receives input from an end user not shown for a text message. The application then encodes the input into a text message based on a signaling protocol used by network . For example the application may generate a Protocol Description Unit PDU that includes a header and a payload. The header includes metadata for transporting the text message such as an originating address for the text message a destination address for the text message etc. The payload includes the actual content for the text message that was input by the end user. The format of the PDU may depend on the signaling protocol used within network .

Assume for this embodiment that an end user of device wants to send a text message to an end user of device . When this occurs device generates the text message as described above based on input from the end user and sends the text message to message center . Message center is considered the home message center for device . Message center is enhanced in this embodiment to insert caller ID information in the text message before sending the text message to its recipient which is further illustrated in .

In step interface receives the text message from the sender i.e. from device . Because this text message originated in device the text message at this point may be considered a Mobile Originated MO text message. Those skilled in the art understand that text messages may also originate from some type of automated system such as an External Short Messaging Entity ESME . In those instances the text message would be considered an Application Originated AO text message.

In step controller identifies a name for the sender of the text message. To do so controller may parse the header or payload of the text message to locate identification information for the sender. For example the header of a text message typically includes a parameter for the originating address of the text message such as a MAP SMS OriginalOriginatingAddress parameter. This parameter of a text message may include the directory number of the sender or some other information that uniquely identifies the sender. Controller may then query database using the originating address or may query an external database such as a Home Location Register HLR or a Home Subscriber Server HSS using the originating address to acquire a name that is associated with the originating address in network .

There may be instances where a sender has multiple names defined within network . When this occurs controller may select which name is appropriate for this text message based on policy rules. For example controller may parse the text message to identify a terminating address of the intended recipient of the text message and select the name of the sender based on an identity i.e. address of the recipient. Controller may select the name of the sender based on the type of text message that is sent such as SMS MMS etc. Controller may process other data along with the policy rules to select which name to use for the sender.

In step controller inserts the sender name in the text message. Controller may insert the sender name in the header of the text message or in the payload of the text message. For example controller may insert the sender name in an existing parameter of the header of the text message such as in a sub address parameter. SMPP protocol for instance includes an originating sub address parameter that uses ASCII coding and no digit limit. Controller may insert the sender name in this existing parameter. In another example MAP protocol for SMS defines a TP Originating Address TP OA parameter. The length of the TP OA parameter may be expanded so that controller may insert the sender name in this parameter.

In another embodiment a new parameter may be defined in the protocol used in network . The new parameter may be considered on extension of the protocol that is able to carry the sender name. The new parameter may be labeled caller name sender name or something similar. If added to text messaging protocols the new parameter should include at least coding type length and value sub fields. Controller may then insert the sender name into the new parameter of the protocol.

In step interface transmits the text message toward the recipient which is end user device in this embodiment. Device may not be served by message center . Therefore interface may send the text message to another message center not shown that serves device to a gateway for another network or to some other entity that will deliver the text message to device .

Before inserting the sender name into the text message in step of message center may process policy rules to determine whether the sender name is authorized to be inserted. For example the subscribers i.e. end users or the network operator may provision rules that define whether or not to populate a text message with a sender name based on conditions such as 

There may be instances where the text message already includes a sender name. For example an Application Originated AO text message may have the sender name already inserted such as Bank of America . If a sender name already exists in a MO or AO text message then controller may decide not to replace the sender name in the text message and forward the text message with the sender name that was inserted by the originating device.

When message center sends the text message toward the terminating side of the network there may be a different message center that serves the recipient. This scenario is illustrated in . illustrates another communication network in an exemplary embodiment. Network includes another message center that serves device . Message center may include similar components as message center see which are not shown for the sake of brevity. When message center transmits the text message toward the recipient the text message is routed to message center . Message center may then operate as described further in .

In step message center receives the text message intended for the recipient. Because this text message is being terminated in device that is served by message center the text message at this point may be considered a Mobile Terminated MT text message. If the text message were being terminated in an automated system the text message would be considered an Application Terminated AT text message. In step message center determines if the text message includes a sender name. If the text message does not include a sender name then message center may operate as described in to insert a sender name in the text message.

If the text message includes a sender name then message center determines whether to override the sender name that is already inserted in the text message in step . Message center may process policy rules defined by the recipient or the network operator to determine whether to override the sender name. If the determination is not to override then message center transmits the text message to the recipient with the sender name that was previously inserted step . If the determination is to override then message center identifies an alternate name for the sender of the text message in step . Message center then inserts the alternate name in the text message step and transmits the text message to the recipient with the alternate name in step .

Eventually the text message will be delivered to device of the recipient either by message center message center or another network element. Device may then operate as described further in . is a flow chart illustrating a method of handling a text message that includes caller ID information in an end user device in an exemplary embodiment. The steps of method will be described with reference to end user device in but those skilled in the art will appreciate that methods described herein may be performed in other systems.

In step device receives the text message. In step device identifies the sender name inserted in the text message. For example device may parse the header of the text message to identify the parameter that includes the sender name and then extract the sender name from this parameter. In step device determines whether the sender name from the text message corresponds with a contact name stored in a contact list or phonebook on device . Most mobile devices provide a function where an end user is able to store a contact list. A typical contact list includes a name for a contact which may be a full given name first middle last or nickname. The contact list also includes one or more directory numbers an email address a physical address etc. Thus device compares the sender name from the text message to the contact list stored locally.

If the sender name from the text message does not correspond with a contact name from the contact list then device displays the sender name along with the text message in step . If the sender name from the text message corresponds with a contact name from the contact list then device determines whether to display the sender name from the text message or the contact name in step . Device may process policy rules defined by the recipient to determine which name to display. For example the policy rules may define that the sender name inserted from the text message takes precedence over a contact name from the contact list. Device then displays the determined name along with the text message in step . illustrates device displaying a name along with the text message in an exemplary embodiment. When device displays the text message to the recipient the sender name is also displayed to the recipient which is Randy Johnson in this example.

In addition to displaying a name of the sender in steps and device may provide an audible alert or notification when the text message is received indicating the name of the sender.

The above embodiments advantageously provide a caller ID type of service for text messaging. By inserting a sender name in a text message the recipient is able to see who a text message is from. Even if the sender is not part of the contact list of the recipient s phone the recipient is still able to see the name of the person who sent the text message.

Any of the various elements shown in the figures or described herein may be implemented as hardware software firmware or some combination of these. For example an element may be implemented as dedicated hardware. Dedicated hardware elements may be referred to as processors controllers or some similar terminology. When provided by a processor the functions may be provided by a single dedicated processor by a single shared processor or by a plurality of individual processors some of which may be shared. Moreover explicit use of the term processor or controller should not be construed to refer exclusively to hardware capable of executing software and may implicitly include without limitation digital signal processor DSP hardware a network processor application specific integrated circuit ASIC or other circuitry field programmable gate array FPGA read only memory ROM for storing software random access memory RAM non volatile storage logic or some other physical hardware component or module.

Also an element may be implemented as instructions executable by a processor or a computer to perform the functions of the element. Some examples of instructions are software program code and firmware. The instructions are operational when executed by the processor to direct the processor to perform the functions of the element. The instructions may be stored on storage devices that are readable by the processor. Some examples of the storage devices are digital or solid state memories magnetic storage media such as a magnetic disks and magnetic tapes hard drives or optically readable digital data storage media.

Although specific embodiments were described herein the scope of the invention is not limited to those specific embodiments. The scope of the invention is defined by the following claims and any equivalents thereof.

