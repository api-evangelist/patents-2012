---

title: Provisioning radio resources in a radio access network
abstract: A radio resource request in a radio access network (RAN) may be handled differently depending whether provision of the requested radio resource has been specified as optional (discretionary) or not optional (not discretionary). In the former case, the radio resource request may be discarded, rejected or delayed. In the latter case, the radio resource request may be accepted. In one embodiment, a running timer at a UE may indicate that a radio resource optionally to be provided was not provided by a RAN. When a subsequent request for the radio resource is accepted, the timer may be cleared. One or more UE applications may accordingly selectively subject user-plane data to be exchanged via the RAN, to a back-off delay scheme, to promoting acceptable responsiveness at UE applications that are, e.g. being actively used by a user. Radio resource requests may including RRC Connection Request and Cell Update messages.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09088976&OS=09088976&RS=09088976
owner: BlackBerry Limited
number: 09088976
owner_city: Waterloo, Ontario
owner_country: CA
publication_date: 20120429
---
This disclosure pertains to wireless communication systems and in particular to provisioning of radio resources such as radio resource connections or radio access bearers for carrying user plane data in a radio access network.

In a radio access network such as a 2G 3G or Long Term Evolution LTE network a user equipment UE such as a smartphone laptop computer tablet computer or the like may execute one or more applications. The one or more applications reside in a application layer or an upper layer of the UE. The UE applications may generate data referred to as user plane data that is often ultimately destined via uplink for a server associated with the UE based application or to another destination. A Radio Resource Control RRC Connection may be needed for carrying the user plane data over a radio access network e.g. Universal Terrestrial Radio Access Network UTRAN evolved UMTS Terrestrial Radio Access Network E UTRAN or GSM EDGE Radio Access Network GERAN toward its destination and possibly in return from the destination to the UE. Radio resource control involves in one aspect the establishment configuration and or release of radio access bearers in a wireless network.

User plane data may be generated by an application in response to user interaction with the application at the UE. This is referred to herein as user initiated user plane data UIUPD . Because a user is likely to be paying attention to the application the user plane data may be referred to as attended user plane data. For example when the application is a web browser the selection or clicking of a hyperlink by a user may cause the application to generate a Hypertext Transfer Protocol HTTP GET message comprising a uniform resource locator URL also known as a uniform resource identifier URI of the desired web page. That message is a form of user initiated user plane data.

Alternatively a UE based application may generate user plane data automatically e.g. in the absence of user interaction with the application for at least a predetermined time period. This is referred to herein as non user initiated user plane data NUIUPD . For example applications such as Gmail Twitter or Facebook or other social networking applications may periodically generate an auto update message with a view to maintaining relatively fresh data at the UE application. Such auto update messages are examples of non user initiated user plane data. Because the user is unlikely to be paying attention to the application the user plane data in this case may be referred to as unattended user plane data. The default interval between successive auto update messages may differ among applications e.g. it may be 20 minutes for Gmail 30 minutes for Twitter and 60 minutes for Facebook . Another example of non user initiated user plane data messages are keep alive ping transmissions that are triggered by always on applications which may utilize an always on packet data protocol PDP context for data exchange with their respective push servers. The UE may use the keep alive or ping mechanism to prevent the PDP context from being closed by the network. In some cases non user initiated user plane data messages may be generated by an application while the user interacts with other applications at the UE.

In another example an application presenting a map at a moving UE may generate an auto update message e.g. whenever the application determines that it needs to fetch new map information due to the movement of the UE . This can be considered as sensor initiated user plane data as typically the request is generated in response to receiving input from a sensor such as a GPS sensor in the case of a request to fetch new mapping data because a change in location of the UE has been detected. In this case the urgency of response may be greater than in the social networking application example because a user may actually be watching or depending upon the currency of the display map data. Therefore the user plane data in this case may also be referred to as attended user plane data despite being non user initiated.

It is further possible for a non user initiated user plane data message to be generated by an application and then shortly thereafter for a user initiated user plane data message to be generated possibly by the same application or by a different application.

The embodiments set forth below represent the necessary information to enable those skilled in the art to practice the claimed subject matter and illustrate the best mode of practicing such subject matter. Upon reading the following description in light of the accompanying figures those skilled in the art will understand the concepts of the claimed subject matter and will recognize applications of these concepts not particularly addressed herein. It should be understood that these concepts and applications fall within the scope of the disclosure and the accompanying claims.

Moreover it will be appreciated that any module component or device exemplified herein that executes instructions may include or otherwise have access to computer readable storage medium or media for storage of information such as machine or computer readable instructions data structures program modules or other data. A non exhaustive list of examples of computer readable storage media include magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices optical disks such as CD ROM digital versatile disks DVD or other optical storage volatile and non volatile removable and non removable media implemented in any method or technology Random Access Memory RAM Read Only Memory ROM Electrically Erasable Programmable Read Only Memory EEPROM flash memory or other memory technology. Any such computer storage media may be part of the device or accessible or connectable thereto. Any application or module herein described may be implemented using computer readable executable instructions that may be stored or otherwise held by such computer readable storage media.

In this document the term exemplary is understood to mean an example of and does not necessarily connote that the example is preferred or exceptional in any way.

Regarding terminology the provisioning of radio resources is considered to include but not be limited to the provisioning of a radio resource control RRC connection and or the provisioning of radio access bearer whether for an existing RRC connection or otherwise for carrying user plane data. The provisioning of an RRC connection may be initiated by or may include the sending of a radio resource control RRC Connection Request message for the purpose of requesting an RRC Connection from a RAN. The RRC Connection Request message is considered a form of radio resource request message. If the RRC Connection Request is granted a radio access bearer may in at least some cases be inherently provided. Alternatively a radio access bearer may be subsequently provided in response to a Radio Bearer Setup message. The provisioning of a radio access bearer may be initiated by or may include the sending of a Cell Update message another form of radio resource request message in respect of an existing RRC connection. When this form of radio resource request message is granted a radio access bearer is provided. After a radio resource request message has been sent receipt of a response to the request at the UE which response is neither a rejection nor indicates an error may be referred to as a successful handling of the radio resource request message.

In overview when an application at a UE generates user plane data the UE may send a radio resource request message e.g. a request to establish an RRC connection and radio access bearer or a request for a radio access bearer when an RRC connection already exists prior to sending the data via uplink and possibly for receiving data as well. An optionality indicator may be provided along with the radio resource request message. The optionality indicator may indicate whether the UE considers successful handling of the radio resource request message to be optional or discretionary e.g. if provisioning of an RRC connection is requested using the request message the provisioning of the RRC connection by the RAN can be considered optional or discretionary based on say a current degree of RAN congestion with provisioning being less likely when the RAN is congested than when it is uncongested at the discretion of the RAN or a RAN element .

A UE may consider successful handling of a radio resource request message e.g. provision of an RRC connection or provision of a radio access bearer for an existing RRC connection to be optional when a user is unlikely to be actively awaiting a response to the generated user plane data. This may be true e.g. for certain types of non user initiated user plane data e.g. periodic social networking application auto update request messages that have been generated due to a lack of user input to the application over a predetermined time period and are likely to indicate user distraction or absence.

Conversely a UE may not consider successful handling of a radio resource request message e.g. provision of an RRC connection or provision of a radio access bearer for an existing RRC connection to be optional in other situations. One such situation may be when the generated user plane data is user initiated. In that case a user is likely to be actively awaiting a response within a reasonable time period e.g. on the order of seconds rather than tens of seconds as a non limiting example . Another situation in which an application may not consider successful handling of a radio resource request message to be optional is when the nature of the application is such that relatively prompt response is needed even though the user plane data may not be user initiated. For example applications in which displayed data may potentially become outdated quickly such as mapping applications on UEs that could potentially move quickly and risk leaving a user with outdated information regarding the user s current location may not consider successful handling of a radio resource request message to be optional.

When an optionality indicator indicates that successful handling of a radio resource request message e.g. provision of an RRC connection or provision of a radio access bearer in respect of an existing RRC connection is optional or discretionary e.g. the radio resource request message may be discarded rejected or delayed. In contrast when an optionality indicator is provided and indicates that successful handling of a radio resource request message is not optional or discretionary or when no optionality indicator is provided requests for an RRC Connection may be honored accepted or granted. In the result when a radio access network RAN is experiencing congestion certain user plane data traffic e.g. user initiated traffic or certain types of non user initiated traffic e.g. mapping application data for which successful handling of a radio resource request message has not been deemed optional may be given differential or preferential treatment relative to other types of non user initiated user plane data traffic for which successful handling of a radio resource request message has been deemed optional. As such users of UEs in a RAN that is experiencing congestion who are say actively interacting with their applications may experience superior or at least acceptable responsiveness i.e. relatively low latency in response to their user inputs compared to that experienced at certain other types of UE applications whose user plane data is non user initiated and does not require prompt response e.g. when a lack of a prompt response may well go unnoticed by the user of the UE or the user of the application .

The radio access network may receive a radio resource request message with an optionality indicator the optionality indicating that successful handling of a radio resources related request message is optional or discretionary. A radio access network may prefer to reject or not even respond at all to said request. A radio access network may decide to reject or not respond based upon many factors including but not limited to the current load or degree of congestion at the radio access network. In the case that the load is a factor and the load at the radio access network or at the receiving RAN element is approaching or has exceeded a predetermined threshold the RAN or RAN element may decide to reject or not respond to radio resource request message with optionality indicator. A possible advantage is some embodiments is that more resources in the network may be made available for radio resource request messages without an optionality indicator or for radio resource request messages with an optionality indicator the optionality indicating that successful handling of a radio resources related request message is not optional or not discretionary. In many cases a user at the UE may not even notice that RAN did not handle the radio resource request message with the optionality indicator. Furthermore the network may include a wait time timer value in a rejection response to the request. The wait time in the response message when received at the UE may cause the UE to start a timer that has been set to the timer value and back off any further requests with the optionality indicator the optionality indicating that successful handling of a radio resources related request message is optional or discretionary while the timer is not cleared not stopped or running. If a timer value is not provided in the response received at the UE the UE may start a timer that has been set to a value the value stored at the UE for a similar purpose.

In this document the RRC Connection Request message is considered a non limiting example of radio resource request message. In addition achieving the requested effect is considered successful handling of a radio resource request message. The receipt of a response message to the request message at the UE where the response message is neither indicating a rejection nor indicating an error can comprise a successful handling.

In one aspect there is provided a method at a user equipment UE the method comprising determining that a timer is running the timer indicating that a Radio Resource Control RRC Connection optionally to be provided was not provided by a radio access network RAN while the timer is running sending a request for an RRC Connection to the RAN and upon determining that the requested RRC Connection has been provided clearing the timer.

In some embodiments sending the request comprises sending an RRC Connection Request message comprising an information element indicating that the provision of the requested RRC Connection is not optional. In other embodiments sending the request comprises sending an RRC Connection Request message substantially absent of an information element indicating that the provision of the new RRC Connection is not optional.

In some embodiments the RRC Connection optionally to be provided was requested by sending an RRC Connection Request message comprising an information element indicating that provision of the RRC Connection optionally to be provided is optional.

In some embodiments the determining that the requested RRC Connection has been provided comprises receiving an RRC Connection Setup message at the UE. In other embodiments determining that the new RRC Connection has been provided comprises sending of an RRC Connection Setup Complete message by the UE.

In another aspect there is provided a method at a user equipment UE the method comprising sending a first request for a first Radio Resource Control RRC Connection the first request comprising an indicator indicating that provision of the RRC Connection is optional upon receiving an indication that the first RRC Connection was not provided starting a timer while the timer is running sending a second request for a second RRC Connection the second request comprising an indicator indicating that provision of the RRC Connection is not optional and upon receiving an indication that the second RRC Connection was provided clearing the timer.

In some embodiments the indication that the first RRC Connection was not provided comprises receipt of a rejection of the first request.

In some embodiments the indication that the first RRC Connection was not provided comprises an absence of a response to the first request within a predetermined time period.

In another aspect there is provided a user equipment UE comprising a processor operable to determine that a timer is running the timer indicating that a Radio Resource Control RRC Connection optionally to be provided was not provided by a radio access network RAN while the timer is running send a request for an RRC Connection to the RAN and upon determining that the requested RRC Connection has been provided clear the timer.

In some embodiments the sending of the request comprises sending an RRC Connection Request message comprising an information element indicating that the provision of the requested RRC Connection is not optional.

In some embodiments the requesting of the RRC Connection optionally to be provided comprises sending an RRC Connection Request message comprise an information element indicating that provision of the RRC Connection optionally to be provided is optional.

In some embodiments the determining that the requested RRC Connection has been provided comprises receiving an RRC Connection Setup message at the UE.

In another aspect there is provided a user equipment UE comprising a processor operable to send a first request for a first Radio Resource Control RRC Connection the first request comprising an indicator indicating that provision of the RRC Connection is optional upon receiving an indication that the first RRC Connection was not provided start a timer while the timer is running send a second request for a second RRC Connection the second request comprising an indicator indicating that provision of the RRC Connection is not optional and upon receiving an indication that the second RRC Connection was provided clear the timer.

In some embodiments the indication that the first RRC Connection was not provided comprises receipt of an express rejection of the first request.

In some embodiments the indication that the first RRC Connection was not provided comprises an absence of any response to the first request within a predetermined time period.

In another aspect there is provided a machine readable medium storing instructions that upon execution of a processor at a user equipment UE causes the UE to determine that a timer is running the timer indicating that a Radio Resource Control RRC Connection optionally to be provided was not provided by a radio access network RAN while the timer is running send a request for an RRC Connection to the RAN and upon determining that the requested RRC Connection has been provided clear the timer.

In another aspect there is provided a machine readable medium storing instructions that upon execution of a processor at a user equipment UE causes the UE to send a first request for a first Radio Resource Control RRC Connection the first request comprising an indicator indicating that provision of the RRC Connection is optional upon receiving an indication that the first RRC Connection was not provided start a timer while the timer is running send a second request for a second RRC Connection the second request comprising an indicator indicating that provision of the RRC Connection is not optional and upon receiving an indication that the second RRC Connection was provided clear the timer.

In another aspect there is provided a method at a user equipment UE the method comprising sending a first type of request for a Radio Resource Control RRC Connection the first type of request indicating that provision of the RRC Connection is optional receiving an indication that the RRC Connection was not provided in response to the first type of request in response to the indication that the RRC connection was not provided not sending a further first type of request for a time period.

In some embodiments the method may further comprise sending a second type of request for a RRC Connection after the sending of the first type of request the second type of request indicating that provision of the RRC Connection is not optional and upon receiving an indication that the RRC Connection was provided in response to the second type of request the UE ignoring any of the time period remaining.

In some embodiments in response to the indication that the RRC connection was not provided the UE starts a timer to measure the time period.

In some embodiments in response to the indication that the RRC connection was not provided in response to the first type of request the UE starts a timer to monitor the time period and the UE ignores any of the remaining time period by clearing the timer.

Referring to an example embodiment of a system is illustrated. The system comprises a user equipment UE a radio access network RAN and a core network CN . The UE is a computing device such as a smartphone laptop computer tablet computer or the like comprising three layers an application non access stratum NAS and an access stratum AS . The application may be any application that generates user plane data of any kind such as instant messaging client social networking application or any other application. That is the term NAS refers to the protocol layers and associated functions that terminate within the UE and the CN e.g. Mobility Management MM GPRS MM GMM EPS MM EMM Session Management SM EPS SM ESM or Call Control CC protocols . The NAS provides signalling for core network mobility and attachment control. The term AS refers to the protocol layers and associated functions that terminate within the UE and the RAN e.g. Layer 1 L1 Medium Access Control MAC Radio Link Control RLC Packet Data Convergence Protocol PDCP and Radio Resource Control RRC protocols . The AS provides for low level signalling including radio resource control and radio bearer establishment between the UE and the RAN . As will be appreciated the below described operation of the NAS and AS in conjunction with the below described operation of the RAN may promote differential treatment of certain types of unattended non user initiated user plane NUIUPD data versus user initiated user plane data UIUPD . The operation of the application NAS and AS may be based on software hardware firmware and combinations thereof. The software may be loaded from a machine readable medium e.g. optical disk magnetic storage or the like which is not expressly illustrated.

The RAN and CN may form part of a UMTS network or part of a Evolved Packet System EPS network. The CN may be responsible for the switching and routing of data calls and data connections to external networks such as the internet or other defined external network while the RAN may handle radio related functionalities. Put another way the RAN consists of components which manage the resources of the access network and provides the user with a mechanism to access the core network domain. The core network domain consists of the physical entities which provide support for the network features and telecommunication services. The support provided includes functionality such as the management of user location information control of network features and services the transfer switching and transmission mechanisms for signalling and for user generated information.

The RAN may be a Universal Terrestrial Radio Access Network UTRAN an evolved UMTS Terrestrial Radio Access Network E UTRAN or a GSM EDGE Radio Access Network GERAN for example. The CN may be an Evolved Packet Core EPC or UMTS network or GPRS network for example. As will be appreciated the below described operation of the RAN in conjunction with the above referenced operation of the NAS and AS may promote differential treatment of non user initiated user plane data versus user initiated user plane data.

Referring now to a schematic diagram is shown of an exemplary embodiment of a user equipment namely a wireless device that may implement any of the device methods described herein. It is to be understood that the wireless device is shown with very specific details for exemplary purposes only.

The wireless device has a housing that may be elongated vertically or may take on other sizes and shapes including clamshell housing structures . The keyboard may include a mode selection key or other hardware or software for switching between text entry and telephony entry. Alternatively the wireless device may have a housing that does not take on other sizes and shapes.

A microprocessor is shown schematically as coupled between a keyboard and a display . The microprocessor controls operation of the display as well as overall operation of the wireless device in response to actuation of keys on the keyboard by a user.

In addition to the microprocessor other parts of the wireless device are shown schematically. These include a communications subsystem a short range communications subsystem the keyboard and the display along with other input output devices including a set of LEDs a set of auxiliary I O devices a serial port a speaker and a microphone as well as memory devices including a flash memory and a Random Access Memory RAM and various other device subsystems . The keyboard speaker microphone display and LEDs are part of the user interface.

The wireless device may have a battery to power the active elements of the wireless device . The wireless device is in some embodiments a two way radio frequency RF communication device having voice and data communication capabilities. In addition the wireless device in some embodiments has the capability to communicate with other computer systems via the Internet.

Operating system software executed by the microprocessor is in some embodiments stored in a persistent store such as the flash memory but may be stored in other types of memory devices such as a read only memory ROM or similar storage element. In addition system software specific device applications or parts thereof may be temporarily loaded into a volatile store such as the RAM . Communication signals received by the wireless device may also be stored to the RAM .

The microprocessor in addition to its operating system functions enables execution of software applications on the wireless device . A predetermined set of software applications that control basic device operations such as a voice communications module A and a data communications module B may be installed on the wireless device during manufacture. In addition a personal information manager PIM application module C may also be installed on the wireless device during manufacture. The PIM application is in some embodiments capable of organizing and managing data items such as e mail calendar events voice mails appointments and task items. The PIM application is also in some embodiments capable of sending and receiving data items via a wireless network . In some embodiments the data items managed by the PIM application are seamlessly integrated synchronized and updated via the wireless network with the device users corresponding data items stored or associated with a host computer system. The application may also be stored in flash memory possibly along with other applications not expressly shown .

Additional software modules illustrated as another software module N may be installed during manufacture. The software modules may for example include one or more modules that control the execution of the methods described herein.

Communication functions including data and voice communications are performed through the communication subsystem and possibly through the short range communications subsystem . The communication subsystem includes a receiver a transmitter a GPS receiver and one or more antennas illustrated as a receive antenna a transmit antenna and a GPS antenna . In addition the communication subsystem also includes a processing module such as a digital signal processor DSP and local oscillators LOs .

The specific design and implementation of the communication subsystem is dependent upon the communication network in which the wireless device is intended to operate. For example the communication subsystem of the wireless device may be designed to operate with the Mobitex DataTAC or General Packet Radio Service GPRS mobile data communication networks UMTS network LTE network and also designed to operate with any of a variety of voice communication networks such as Advanced Mobile Phone Service AMPS Time Division Multiple Access TDMA Code Division Multiple Access CDMA Personal Communications Service PCS Global System for Mobile Communications GSM etc. Examples of CDMA include 1X and 1xEV DO. The communication subsystem may also be designed to operate with an 802.11 Wi Fi network and or an 802.16 WiMAX network. Other types of data and voice networks both separate and integrated may also be utilized with the wireless device .

Network access may vary depending upon the type of communication system. For example in the Mobitex and DataTAC networks wireless devices are registered on the network using a unique Personal Identification Number PIN associated with each device. In GPRS or UMTS or EPC networks however network access is typically associated with a subscriber or user of a device. A GPRS UMTS LTE device therefore typically has a subscriber identity module often referred to as a SIM card or a User Services Identity Module USIM in order to operate on a GPRS or UMTS or EPC network.

When network registration or activation procedures have been completed the wireless device may send and receive communication signals over the communication network . Signals received from the communication network by the receive antenna are routed to the receiver which provides for signal amplification frequency down conversion filtering channel selection etc. and may also provide analog to digital conversion. Analog to digital conversion of the received signal allows the DSP to perform more complex communication functions such as demodulation and decoding. In a similar manner signals to be transmitted to the network are processed e.g. modulated and encoded by the DSP and are then provided to the transmitter for digital to analog conversion frequency up conversion filtering amplification and transmission to the communication network or networks via the transmit antenna .

In addition to processing communication signals the DSP provides for control of the receiver the transmitter and the GPS receiver . For example gains applied to communication signals in the receiver and the transmitter may be adaptively controlled through automatic gain control algorithms implemented in the DSP .

In a data communication mode a received signal such as a text message or web page download is processed by the communication subsystem and is input to the microprocessor . The received signal is then further processed by the microprocessor for an output to the display or alternatively to some other auxiliary I O devices . A device user may also compose data items such as e mail messages using the keyboard and or some other auxiliary I O device such as a touchpad a rocker switch a thumb wheel or some other type of input device. The composed data items may then be transmitted over the communication network as user initiated user plane data via the communication subsystem .

In a voice communication mode overall operation of the device is substantially similar to the data communication mode except that received signals are output to a speaker and signals for transmission are generated by a microphone . Alternative voice or audio I O subsystems such as a voice message recording subsystem may also be implemented on the wireless device . In addition the display may also be utilized in voice communication mode for example to display the identity of a calling party the duration of a voice call or other voice call related information.

Location determination using GPS technology involves receiving GPS signals from GPS satellites on the antenna . The GPS signals are received using the GPS receiver and processed by the DSP . Typically GPS signals from at least four satellites are processed. Further details of GPS are known in the art and are omitted for simplicity.

The short range communications subsystem enables communication between the wireless device and other proximate systems or devices which need not necessarily be similar devices. For example the short range communications subsystem may include an infrared device and associated circuits and components or a Bluetooth communication module to provide for communication with similarly enabled systems and devices.

Operation of the system of for performing radio resource control for differential treatment of non user initiated user plane data versus user initiated user plane data is illustrated in B and . illustrate a sequence diagram showing operation of and signalling between each of the UE application UE NAS layer UE AS layer and RAN . and are flowcharts illustrating the operation and of the NAS AS and RAN respectively.

For the purposes of the following description it is presumed that the UE is initially in IDLE mode with an established packet data protocol PDP context but no established radio access bearer or in EMM IDLE mode with an established packet data network PDN connection when no NAS signalling connection between UE and network exists. The term EMM IDLE mode used in the present document corresponds to the term ECM IDLE state used in 3GPP TS 23.401. As is known in the art a UE in IDLE mode is required to request an RRC connection whenever it wants to send any user plane data via uplink. This is in contrast to a UE in the Connected mode or more specifically UMTS Terrestrial Radio Access UTRA RRC connected mode which can be in one of four states 

1. CELL DCH A dedicated channel is allocated to the UE in uplink and downlink in this state to exchange data. The UE must perform actions as outlined in Third Generation Partnership Project 3GPP 25.331.

2. CELL FACH no dedicated channel is allocated to the user equipment in this state. Instead common channels are used to exchange a small amount of bursty data. The UE must perform actions as outlined in 3GPP 25.331 which includes the cell selection process as defined in 3GPP TS 25.304.

3. CELL PCH the UE uses Discontinuous Reception DRX to monitor broadcast messages and pages via a Paging Indicator Channel PICH . No uplink activity is possible. The UE must perform actions as outlined in 3GPP 25.331 which includes the cell selection process as defined in 3GPP TS 25.304. The UE must perform the CELL UPDATE procedure after cell reselection or due to expiry of periodic cell update timer.

4. URA PCH the UE uses Discontinuous Reception DRX to monitor broadcast messages and pages via a Paging Indicator Channel PICH . No uplink activity is possible. The UE must perform actions as outlined in 3GPP 25.331 including the cell selection process as defined in 3GPP TS 25.304. This state is similar to CELL PCH except that URA UPDATE procedure is only triggered due to periodic update or when there is a change in URA.

Referring to the application determines that it has unattended non user initiated user plane data e.g. an auto update or ping message which has been automatically generated due to a lack of user input to the application for some predetermined time period ready for transmission for a particular Access Point Name APN that identifies an IP Packet Data Network PDN . For example the application may have been configured to make periodic requests for such user plane data or may determine that none of the application s output is observable by the user e.g. the screen is black because the device is in battery saving mode or the output of the application is obscured by output presented by other applications .

Upon making that determination the application makes a request or otherwise provides an indication to the NAS that uplink user plane data is available. In the present embodiment this indication takes the form of an application programming interface API call to the NAS . In other embodiments this indication may take other forms e.g. sockets .

The indication includes an indicator indicating that the data connectivity is optional. This indicator may for example be set by the application on the basis that the data connectivity is known to be needed for carrying user plane data that is non user initiated and is likely to be unattended. In some embodiments the indicator may expressly indicate that data connectivity is known to be needed for carrying user plane data that is non user initiated and is likely to be unattended indicate. In some embodiments the indicator may simply indicate that the data connectivity is optional.

Upon receiving the indication from the application the NAS becomes aware that uplink data connectivity will be required but that provision of the such data connectivity is optional. Accordingly a procedure such as an extended service request procedure may be started at the NAS .

In particular the NAS initially verifies whether a timer is running. The running timer may indicate that the NAS or more generally UE is in a back off delay period since a previous request for an RRC connection for unattended non user initiated user plane data was rejected or ignored either of the latter circumstances being considered a failure of the RRC Connection request . In one embodiment the back off delay period that the timer is counting down may have earlier been specified by the RAN and communicated to the UE when a previous request for an RRC Connection for carrying unattended non user initiated user plane data was rejected. In another embodiment the minimum back off delay period may be predetermined e.g. hard coded by a manufacturer or user configured at the UE .

In the present example it is presumed that either no such failure has previously occurred or if it has previously occurred that the minimum back off delay period has elapsed. As such the NAS makes a NAS service request instructing the AS to request a RRC Connection from RAN . This instruction may also take the form of an API call. As part of this instruction the NAS provides an indicator to the AS that the RRC Connection is optional in this case because the desired radio bearer shall be used at least initially for carrying unattended non user initiated user plane data. The indicator may be a parameter to the API call. Notably the indicator is distinct from the non user initiated user plane data itself i.e. the indicator is not the auto update or ping message .

Upon receiving this instruction the AS sets an information element in an RRC Connection Request message based on the received parameter to indicate that provision of the RRC Connection is optional . As is known in the art the RRC is a part of the protocol stack that is responsible for the assignment configuration and release of radio resources between the UE and the RAN . The RRC protocol is described in detail in the 3GPP TS 25.331 specifications.

The RRC Connection Request message of the present embodiment may be defined according to definition of .

Referring to it can be seen that the exemplary message definition is based on the RRC Connection Request message definition specified in the 3GPP TS 36.331 which is the RRC protocol specification for LTE. The message definition could also be made in accordance with 3GPP TS 25.331 specification for 3G. The definition includes a specification of an information element see in bold RRCConnectionOptional that is an enumerated type. The information element which may be referred to as a cause value since it may reflect a cause for requesting the radio bearer is intended to be set to true when provision of the RRC Connection is optional e.g. because the RRC Connection is intended for use with unattended non user initiated user plane data and false otherwise e.g. because the RRC Connection is intended for use with user initiated user plane data . In the present example the information element is set to true. Various forms of information elements such as enumerated types single bits flags or the like could be used in different embodiments. The information element may constitute an extension of an existing RRC specification such as that of table D.1.1 in Annex D.1 of 3GPP TS 24.301 and or TS 24.008.

Once the information element of the RRC Connection Request message has been set the RRC Connection Request message is sent to the RAN .

Referring to when the RRC Connection Request message is received at the RAN e.g. by a RAN network element or simply RAN element such as a Radio Network Controller RNC in a UMTS network or an evolved Node B eNB in an LTE network. The information element of the message is then examined and . If the information element had been found to indicate in that provision of the RRC Connection is not optional then the RRC Connection Request would be accepted i.e. steps would be commenced to provide the desired radio bearer. The rationale for the acceptance in that case would be to promote acceptable responsiveness i.e. relatively low latency at the UE application given that the UE user in that case may be attending to the application possibly actively awaiting a response to whatever user plane data is being sent via uplink in the case of user initiated user plane data.

In the present example however the information element is found to indicate that the radio bearer is to be used at least initially to carry unattended non user initiated user plane data . In this case the RRC Connection Request may be rejected . This rejection may take the form of an RRC Connection Rejection message which is a form of failure indication indicating that no RRC connection was set up and that no radio access bearer can accordingly be provided. In some embodiments e.g. in an LTE network the RRC Connection Request may not have been rejected had it included a different APN or if the RAN had been determined to be lightly loaded.

In one embodiment the rejection includes an indication of a wait time. This wait time which may be referred to herein as a back off delay period represents a delay period that should elapse before a next an RRC Connection request comprising an indicator indicating that provision of the RRC Connection is optional or discretionary should be made. The wait time specified in the rejection may be specific to the case in which the request for the relevant radio resource e.g. RRC connection in this case was specified with an indicator indicating that provision of the radio resource is optional or discretionary. This specified wait time may differ from e.g. be longer than a standard or default wait time that the RAN or UE may utilize in a different case namely when a request for a radio resource e.g. RRC connection without any such provision of resource is optional or discretionary indicator has been rejected.

The specific wait time in the former case is not considered applicable to any future request for an RRC Connection for carrying e.g. user initiated user plane data or attended non user initiated user plane data that does not include an indicator indicating that provision of the RRC Connection is optional or discretionary. The latter request can be made at any time whether or not the timer is running i.e. whether or not the delay period has elapsed. The rationale for this distinction between the user initiated versus non user initiated user plane data cases may be as indicated above i.e. for user plane data responsiveness to be better in the user initiated case than in the non user initiated case.

Upon receiving the RRC Connection Rejection the AS may report a failure indication to the NAS . This may be done by way of return value or return parameter to the original API call made by the NAS to the AS at or otherwise. The failure indication may include an indication of the back off delay period that was been received from the RAN or may have been otherwise configured .

At this stage the NAS service request procedure is determined to have failed . In view of this fact the NAS starts a timer e.g. T33xx which may be a new timer similar to timers defined by unique combinations of four digits in the 3GPP TS 24.301 standard to commence waiting the back off delay period . Again this is the minimum delay period that is to elapse before a next request can be made for an RRC Connection with an indicator that provision of the RRC Connection is optional. The delay period is represented in as a bold section on the vertical line representing the UE NAS in the time axis extends downwardly . The NAS also returns a failure indication to the application to advise it that that the NAS service request procedure has failed i.e. that no RRC Connection was established . In some embodiments no such specific response is provided to the application .

At this stage of operation of the present example embodiment the application or its user may decide to once again try to obtain uplink data connectivity for transmitting unattended non user initiated user plane data whether the same user plane data as before or possibly new data . As a result the application once provides an indication to the NAS e.g. via API call that uplink user plane data is available and in so doing indicates that the data connectivity is optional or discretionary .

When the NAS receives the API call this time however the NAS service request procedure is not started . The reason is that the verification step will fail because the timer is in fact running indicating that the back off delay period has not yet expired. The NAS accordingly returns a failure indication to the application . It will be appreciated that this failure tends to avoid or reduce RAN congestion that might otherwise result if unattended non user initiated user plane data uplink requests were permitted to be made as frequently as desired i.e. without waiting for the back off delay period between such requests .

In contrast the same treatment is not given to requests for uplink data connectivity for transmitting user plane data that is say user initiated or that is for a different Access Point Name APN . For example at this stage a user may interact with the application or another application executing at the UE . If there is user interaction may be for example any one or more of tactile such as the pressing of a button or selection a graphical user interface element of the application auditory such as the speaking of a command into a microphone visual such as the performance of a gesture before a camera or otherwise. The interaction may cause the application to now have user plane data ready for transmission that is user initiated. Alternatively one of the one or more applications on the UE may have attended non user initiated user plane data e.g. a request for updated map data to be sent to a mapping application that is likely to be actively monitored by a user ready to send.

In this case the application makes another API call to the NAS indicating that data connectivity is required for sending the new user plane data . However this time it is indicated in the API call that provision of the data connectivity is not optional. This may be indicated expressly in the API call or it may be understood from the lack of any indication that the data connectivity is optional or discretionary.

Upon receiving the API call the NAS service request procedure is started at NAS . Notably this is done despite the fact that the timer is running i.e. that the back off delay period has not yet expired. That is unlike the case of the repeated API call this API call is for example not immediately met with a failure indication in return. The reason is that unlike the case of API call in this case the user plane data to be sent is e.g. user initiated or non user initiated but attended.

As such the NAS makes a NAS service request instructing the AS to request a RRC Connection from RAN . In so doing the NAS provides an indicator to the AS that the RRC Connection is not optional. Upon receiving this instruction the AS sets an information element in an RRC Connection Request message based on the received parameter to indicate that provision of the RRC Connection is not optional not expressly shown in . The RRC Connection Request message is then sent to the RAN .

At RAN or more precisely at a network element of RAN operation of will occur as before except that now it will be discovered in that provision of the RRC Connection is not optional. As a result the RRC Connection Request will be accepted and an RRC Connection Setup message is sent from RAN to the AS . The AS response with an RRC Connection Setup Complete message indicating that the RRC Connection has been established and the user plane data uplink can ultimately proceed. The AS also sends a success indication to the NAS .

At the NAS the earlier started timer may be cleared in view of the success indication which indicates successful provision of an RRC Connection. The term clearing as used herein with respect to a timer may refer to stopping resetting or zeroing the timer for example. A timer may be a hardware firmware or software based component of the UE .

In some embodiments the responsibility for effecting the back off delay upon sending requests for RRC Connections that are optional may lie with the AS rather than the NAS . Such an embodiment is illustrated in .

Referring to a sequence diagram showing operation of and signalling between each of the UE application UE NAS layer UE AS layer and RAN is illustrated. In it is again presumed that the UE is initially in Idle mode with an established PDP context or an established PDP Connection but no established radio bearer.

In operations are analogous to operations of respectively which are described above and therefore need not be described again here.

Upon completion of operation of the RRC Connection Rejection message will be received at the AS . The message may contain the back off delay period i.e. the minimum back off delay period until another RRC Connection Request can be made for a radio bearer for carrying non user initiated user plane data.

But here instead of the reporting a failure indication with a back off delay period or in some embodiments without such a delay period back to the NAS as in above a timer is started to commence waiting the NUIUPD minimum back off delay period at the AS layer . The NUIUPD delay period is represented in as a bold section on the vertical line representing the UE AS . At this stage the NAS still has no indication of whether or not the RRC Connection Request was successful.

Upon expiry of the timer at the AS i.e. when the delay period has elapsed the AS executes a retry i.e. once again sends the same RRC connection request message to the RAN as had been earlier sent . Subsequent operations and are analogous to operations and . Operations may be referred to as a retry cycle. This retry cycle may be repeated any number of times possibly up to a predetermined maximum number. A possible advantage of waiting and retrying at the AS layer is that modification of the NAS layer for providing a back off and retry functionality may be unnecessary or a reduced complexity of the NAS .

As the retry cycles proceed user interaction at the UE may cause the application to generate new user plane data that is either user initiated or non user initiated but attended . In this case the application may instruct the NAS to abort the NAS service request procedure that was started due to the need for a RRC Connection Request for non user initiated user plane data. Aborting the procedure may terminate any ongoing retry cycle . In response the NAS aborts the NAS service request procedure and communicates appropriately with the AS details omitted to terminate the retry cycle at the AS layer . This is done to avoid interfering with the RRC Connection Request that will shortly be sent in an attempt to obtain a radio bearer for sending the user plane data that has just become available. Alternatively another application than application may generate new user plane data that is either user initiated or non user initiated but attended. In this case it is likely that the other application would not instruct the NAS to abort the NAS service request procedure. Rather the NAS may detect the ongoing NAS service request procedure started in response to the earlier request for an RRC Connection that is optional or discretionary and may abort it. The remaining steps may be as described above.

At this stage the application if it instructed the NAS to abort the NAS service request procedure may make an API call to the NAS indicating that data connectivity is required and that provision of the data connectivity is not optional . The NAS may then commence a NAS service request for obtaining the RRC Connection triggering an RRC Connection Request similarly to what was done at onward in .

In some embodiments the initial state of the UE may not be idle mode. Rather the UE may be in one of the connected mode states without a dedicated radio access bearer. For example in a 3G network the UE may be in one of the states CELL FACH CELL PCH or URA PCH. In that case the AS layer may not send a RRC Connection Request message in accordance with . Rather the AS may instead send a Cell Update message. A Cell Update message is an example of a radio resource request message. The cell update message may be defined according to definition of .

Referring to it can be seen that the exemplary definition is based on the Cell Update message definition specified in the 3GPP TS 25.331 which is the RRC protocol specification for UMTS. The definition shows the specification of an information element see in bold RadioAccessBearerOptional that is an enumerated type. This information element is intended to be set to true when provision of a radio access bearer for the existing RRC Connection is optional or discretionary e.g. because the radio access bearer is intended for use with unattended non user initiated user plane data and false otherwise e.g. because the radio access bearer is intended for use with user initiated user plane data . Various forms of information elements such as enumerated types single bits flags or the like could be used in different embodiments. The information element may constitute an extension of an existing RRC specification such as that of table D.1.1 in Annex D.1 of 3GPP TS 24.301 and or TS 24.008. In this case operation may differ somewhat from what is shown in above. For example the messages that are sent may be a Cell Update and an RRC Connection Reject with Cell Update Confirm Wait Time .

In some embodiments the RAN may not provide any indication of a back off delay period in its rejection of a RRC Connection Request message or a Cell Update message. In such cases that delay period may be hard coded or user configured at the UE .

As discussed above in some embodiments the RAN may not provide an explicit rejection of RRC Connection Requests or Cell Update messages in which the information element indicates that non user initiated user plane data is to be transmitted. Rather the RAN may simply ignore or drop such messages while honoring messages in which the information element indicates that user initiated user plane data is to be transmitted.

In this case the timer at the NAS or AS of the UE may be started if the AS does not receive any explicit response from the network in response to the request within a predetermined time period. Not receiving an indication may suggest to the AS that the RAN is congested or that the RAN did not receive the request. The UE may therefore start the timer during which subsequent requests for RRC Connections whose provision is optional or discretionary will not be transmitted to the network.

Numerous modifications and variations of the present disclosure are possible in light of the above teachings. It is therefore to be understood that within the scope of the appended claims the disclosure may be practiced otherwise than as specifically described herein.

For example while the specific examples have assumed a 3G or LTE network the same approach can be applied in other networks.

Idle and Connected mode behaviors are described in detail in the 3GPP specifications TS 25.304 and TS 25.331 which are hereby incorporated by reference. 3GPP specifications TS 36.331 TS 24.301 TS 24.301 and TS 24.008 are also incorporated by reference herein.

It will be appreciated that the timer need not necessarily be a countdown timer in a classic sense. Any mechanism capable of measuring a delay period can act as a timer.

Alternative wording for some of the above embodiments and or description of further embodiments is provided below.

1. and if the upper e.g. application layers of a UE initiate a second attempt for sending a connection request for communicating user plane control data i.e. provision of RRC Connection is optional or discretionary then since a previous request for communicating user plane control data was rejected a subsequent request may not be attempted for a while or the subsequent request may be delayed. A second attempt for a connection for communicating user plane control data need not be attempted if a previous request for communicating user plane control data was rejected or while one or more timers are running.

a. In one embodiment requests for a connection for communicating user plane control data can be buffered and considered pending if one of the requests for a connection for communicating user plane control data is rejected by the network. The layer in the UE that buffers the request after initial rejection can in some cases be thought of as an adaption layer situated above the AS layer. The buffering may also take place in other layers. An adaption layer which is above the NAS layer and may be similar to an application layer may reattempt any buffered request upon expire of applicable timers.

b. In yet another embodiment the upper layers need not buffer the requests if one of the requests for a connection for communicating user plane control data is rejected by the network. The upper layers are notified of a rejection or error per request. The UE may start a timer. The UE may retry requests for a connection for communicating user plane control data .

2. Alternatively if the upper layers in the UE initiate a second request to attempt for sending a request for one of more connections that is also to be used for communicating other data than user plane control data the UE may proceed with this second request. When the UE receives an indication that the second request is accepted by the network the connections or established E RABs may also be used for communicating the user plane control data if the access technology in use provides bearers or E RABs suitable for user plane control data when establishing an RRCConnection Note that this may require sending an indication to the higher layers. Upon receipt of the indication user plane control data may be offered to the AS layer for transmission using the provided bearers if suitable or matching provided bearers have been established . This could be useful 

a. if the request or a retransmission of that request for the connection for communicating user plane control data is considered to be pending. The data or IP packets waiting for the pending request to complete could then use bearers or E RABs suitable for user plane control data 

b. if a third attempt for sending a request for one of more connections that is to be used for communicating user plane control data arrives for the bearers or E RABs suitable for user plane control data .

An advantage of considering a request pending even though it was explicitly or implicitly rejected is that at least some upper layers including applications would not need modification.

Eventually a response such as a rejection of the request that is considered to be pending can be indicated to the upper layers if sufficient time has passed e.g. prior to the upper layer timing out.

Alternatively a layer within a UE may employ a timer. The timer will be initiated upon receiving a rejection for a request for communicating user plane control data . While the timer is running no requests for communicating user plane control data will be propagated to the network. Requests for communicating other data than user plane control data will be propagated to the network. A successful request for communicating other data than user plane control data may clear the timer or stop the timer. If no timer is running if a subsequent attempt for sending a request for one of more connections that is to be used for communicating user plane control data is received for other bearers or E RABs than the ones established due to the successful request the subsequent request may be propagated.

In a variation of the previous embodiment upon detecting successful request for communicating other data than user plane control data for a PDP Connection or a PDP Context the timer need not be cleared. Instead of clearing the timer the presence of the E RABs suitable for user plane control data for the PDP Connection or the PDP Context is sufficient for the user plane control data to be propagated i.e. the user plane control data is transmitted to the network . user plane control data not using an established E RABs need not be propagated and a request for corresponding RRCConnections may be rejected or considered pending . Typically the E UTRAN when a UE requests an RRCConnection upon transitioning from IDLE mode to CONNECTED mode establishes DRBs for all EPS Bearer Contexts when establishing an RRCConnection. On the other hand for other access networks UMTS when a UE requests an RRCConnection upon transitioning from IDLE mode to CONNECTED mode may not establish RABs for all PDP Contexts when re establishing an RRCConnection. A UE using E UTRAN can use the re established bearers for user plane control data even though such a request was previously rejected. Any timer preventing the UE from requesting RRCConnection for user plane control data should thus be cleared or stopped. In case of the UE using other access network technologies than E UTRAN the UE needs to check if the bearer that was re established is actually the bearer the upper layer attempts to use for user plane control data . If it is found the upper layer requires a bearer that has not been established the request for this bearer may be subject to a timer e.g. timer A preventing the UE from requesting RRCConnection for user plane control data . If it is found the upper layer requires the bearer that has been established while the timer is running e.g. for transmitting data other than user plane control data the request for this bearer need not be subject to the timer A where timer A prevented the UE from requesting RRCConnection for user plane control data while it is running.

In other words whether the request to establish the bearer for transmitting data other than user plane control data may be sent.

If either a first rrcConnectionRequest is transmitted to establish a first RRC Connection or a cellUpdate message is transmitted in respect of an already existing first RRCConnection based upon an indication of the upper layers a first property of the data to be communicated using the RRCConnection may be indicated in the message. An example of a property of the data to be communicated is userPlaneControlData.

If a response to the first rrcConnectionRequest or cellUpdate message is received the response indicating a rejection the UE does not attempt to transmit data of the first property until a first condition is satisfied.

The first condition to be satisfied after which the UE can communicate data of a first property includes 

If the first condition to be satisfied is satisfied a second rrcConnectionRequest or cellUpdate message the message including the first property of the data to be communicated may be propagated.

Upon receiving the response indicating the rejection the rrcConnectionRequest or cellUpdate message is considered pending until a second condition is satisfied.

If an access network node has received the rrcConnectionRequest or a first cellUpdate message if the messages includes an indication that the data to be communicated is of a first property the access network node may respond with a message indicative of a rejection.

Still further aspects of one or more exemplary embodiments are described below and illustrated in FIGS. A .

If the lower layers indicated the failure to establish the RRC connection see 3GPP TS 36.331 22 for trafficType as indicated by the information received from upper layers when the lower layer was requested to establish the RRC connection then timer TtrafficType is started.

NOTE 1 The traffic type is set in accordance with information provided by upper e.g. application layers the upper layers provide information indicating if the traffic is considered at least one of Unattended Data Traffic status update messages related to social networking applications radio connection requests that are not manually initiated by the end users through tactile interaction with the mobile devices e.g. dialling a number to call or manually sending an email user plane control data etc. 

In S1 mode when the RRC connection has been established successfully the UE shall enter EMM CONNECTED mode and consider the NAS signalling connection established.

The network may use the traffic type indication for AS level congestion control on a per access network node basis and APN based congestion control.

When the MS is in MM IDLE mode and needs to transmit an initial NAS message with a trafficType as indicated by the information received from upper layers if 

If the lower layers indicated the failure to establish the RRC connection see 3GPP TS 25.331 ab for trafficType as indicated by the information received from upper layers when the lower layer was requested to establish the RRC connection then timer TtrafficType is started.

NOTE 1 The traffic type is set in accordance with information provided by upper layers the upper layers provide information indicating if the traffic is considered at least one of Unattended Data Traffic status update messages related to social networking applications radio connection requests that are not manually initiated by the end users through tactile interaction with the mobile devices e.g. dialling a number to call or manually sending an email user plane control data etc.

When the RRC connection has been established successfully the MS shall enter MM CONNECTED mode and consider the NAS signalling connection established.

The network may use the traffic type indication for AS level congestion control on a per access network node basis and APN based congestion control.

In some embodiments the trafficType if indicated by the information received from upper layers comprises one of an indication that a Radio Resource Control RRC Connection optionally to be provided and an indication that the Radio Resource message is optionally to be successfully handled.

In some embodiments the trafficType if indicated by the information received from upper layers comprises one of an indication that a Radio Resource Control RRC Connection is not optionally to be provided and an indication that the Radio Resource message is not optionally to be successfully handled.

In some embodiments if the trafficType is not indicated by the information received from upper layers then this comprises an indication indicating one of a Radio Resource Control RRC Connection is not optionally to be provided and a Radio Resource message is not optionally to be successfully handled.

The following clauses provided a further description of example apparatuses methods and or computer readable media.

determining that an indicator exists at the UE the indicator indicating that a delay period since a Radio Resource Control RRC Connection to be provided was not provided by a radio access network RAN is unexpired 

In the foregoing the indicator may be a timer e.g. at the AS or NAS layer. This timer could be used in this manner in respect of any radio resource request whether embodied by an RRC Connection Request message Cell Update message or otherwise.

determining that a timer is running the timer indicating that a first radio resource request message the first radio resource request message optionally to be successfully handled was not successfully handled by a radio access network RAN 

upon determining that the second radio resource request message has been successfully handled clearing the timer.

Clause 3. The method of clause 2 wherein the first radio resource request message comprises an information element indicating that successful handling is optional.

Clause 4. The method of any preceding clause wherein successful handling of the second radio resource request message comprises receiving a response to the second radio resource request message at the UE.

Clause 5. The method of any preceding clause additionally comprising detecting that the first radio resource request message has not been successfully handled.

Clause 6. The method of clause 5 wherein the detecting that the first radio resource request message has not been successfully handled comprises one of receiving at the UE a rejection message to the first radio resource request message and receiving at the UE no response to the first radio resource request message.

Clause 6. The method of any preceding clause wherein the determining that the timer is running further comprises starting the timer.

Clause 7. The method of any preceding clause wherein detecting that the first radio resource request message has not been successfully handled further comprises starting the timer.

It will be appreciated that a radio resource request message with an indicator indicating that provision of the radio resource e.g. RRC Connection or radio access bearer is optional or discretionary may comprise a message without an information element indicating that provision of the RRC Connection is not optional or discretionary.

Conversely it will be appreciated that a radio resource request message with an indicator indicating that provision of the radio resource is not optional or discretionary may comprise a message without an information element indicating that provision of the RRC Connection is optional or discretionary.

