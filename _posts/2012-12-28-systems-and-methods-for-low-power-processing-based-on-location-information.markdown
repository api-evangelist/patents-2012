---

title: Systems and methods for low power processing based on location information
abstract: Methods, systems, and computer-readable media are provided for offloading services and functionalities from a main host central processing unit (CPU) of a computing device to a dedicated power-efficient offload engine, thereby enabling a longer battery life for the device and an enhanced set of features.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09430029&OS=09430029&RS=09430029
owner: Intel Corporation
number: 09430029
owner_city: Santa Clara
owner_country: US
publication_date: 20121228
---
The present application claims benefit of U.S. Provisional Application No. 61 608 865 filed Mar. 9 2012 and entitled Location Offloading the disclosure of which is incorporated herein by reference in its entirety.

Embodiments of the disclosure relate generally to power saving techniques associated with the offloading of processing of device services and functionality to a component with lower power consumption and more particularly to the offloading of location based services and functionality.

With the expansion in the use and functionality of mobile computing devices the demand for solutions that reduce the power consumption of such devices has increased as well. The expansion in the number and complexity of applications running on mobile computing devices has led to an increased demand for processing resources by such applications. In particular applications that provide continuous location location based triggering and context aware computing functionalities require significant processor resources to request receive and process data and consequently lead to increased power consumption and lower battery life.

Embodiments of the disclosure are described in more detail hereinafter through reference to the accompanying figures. However other embodiments not explicitly set forth herein are also within the scope of the disclosure and the disclosure should not be construed as being limited to only those embodiments explicitly set forth herein. Rather the embodiments described herein are exemplary in nature and are provided so that the general scope of the disclosure is conveyed to one of ordinary skill in the art. Like reference numerals refer to like elements throughout the disclosure.

Embodiments of the disclosure provide systems methods and computer readable media for offloading services and functionalities from a main host central processing unit CPU of a computing device to a dedicated power efficient offload engine thereby enabling a longer battery life for the device and an enhanced set of features. Among those services and functionalities that may be offloaded according to embodiments of the disclosure are continuous location location based triggering and context aware computing services and functionalities thereby enabling simple and efficient generation of location information based on one or more location positioning techniques or systems including but not limited to any current or planned Global Navigation Satellite Systems GNSS such as for example the Global Positioning System GPS the GLONASS System the Compass Navigation System the Galileo Positioning System the Indian Regional Navigational System or other regional navigation systems wireless geo location based systems including but not limited to a wireless wide area network WWAN a wireless local area network WLAN or a wireless personal area network WPAN local or remote sensor based systems audio or visual based techniques and systems server based systems or techniques or any other position technique or combination thereof supported by the location origin device. Some of the above mentioned techniques utilize external information such as the locations of surrounding transmitters access points or satellites to calculate position location information while other techniques require connectivity with location databases or servers that store the location of relevant transmitters or other measurable anchors in order to enable triangulation functionality. Embodiments of the disclosure directed to the offloading of location based services and functionalities support the efficient connectivity of the offloading entities to servers storing location information and enable the transfer of at least a portion of this information into the offloading entities.

All or a portion of the location information location based calculations or location services and functionalities generally may be offloaded to a location engine including but not limited to mapping navigation landmarks e.g. points of interest POI transmitter locations location requests environment context awareness location triggered event s terminated at the device or at the network web based applications and mobile network operator services thereby enabling the creation of a superset of location features and a set of baseline location operating functionalities.

Exemplary embodiments of the disclosure will now be described with reference to the accompanying figures.

As used herein the term device or computing device may refer to any computing component that includes one or more processors that can be configured to execute computer readable computer implemented or computer executable instructions. Example devices can include personal computers server computers server farms digital assistants smart phones personal digital assistants digital tablets Internet appliances application specific circuits microcontrollers minicomputers transceivers or customer premise equipment such as set top boxes kiosks or other processor based devices. The execution of suitable computer implemented instructions by one or more processors associated with various devices may form special purpose computers or other particular machines that may facilitate optimized configuration of software as described herein.

Embodiments may be provided as a computer program product including a non transitory machine readable storage medium having stored thereon instructions in compressed or uncompressed form that may be used to program a computer or other electronic device to perform processes or methods described herein. The machine readable storage medium may include but is not limited to hard drives floppy diskettes optical disks CD ROMs DVDs read only memories ROMs random access memories RAMs EPROMs EEPROMs flash memory magnetic or optical cards solid state memory devices or other types of media machine readable medium suitable for storing electronic instructions. Further embodiments may also be provided as a computer program product including a transitory machine readable signal in compressed or uncompressed form . Examples of machine readable signals whether modulated using a carrier or not include but are not limited to signals that a computer system or machine hosting or running a computer program may be configured to access including signals downloaded through the Internet or other networks. For example distribution of software may be downloaded via the Internet.

The operating system domain may be implemented using hardware software or a combination thereof and may include a host processor memory input output I O devices communications connections a data store a location communication module and a location origins module .

The mobile computing device may include one or more host processors configured to communicate with one or more memory devices and various other components or devices. For example the instance mobile computing device may include one or more host processors that are configured to communicate with one or more memory or memory devices one or more input output IO devices data store and or one or more communication connections . The host processor may be implemented as appropriate in hardware software firmware or combinations thereof. Software or firmware implementations of the host processor may include computer executable or machine executable instructions written in any suitable programming language to perform the various functions described herein. The one or more host processors may include without limitation a central processing unit CPU a digital signal processor DSP a reduced instruction set computer RISC a complex instruction set computer CISC a microprocessor a microcontroller a field programmable gate array FPGA or any combination thereof. The mobile user device may also include a chipset not shown for controlling communications between the one or more host processors and one or more of the other components of the mobile user device . In certain embodiments the mobile user device may be based on an Intel Architecture system and the host processor s and chipset may be from a family of Intel processors and chipsets such as the Intel Atom processor family. The one or more host processors may also include one or more application specific integrated circuits ASICs or application specific standard products ASSPs for handling specific data processing functions or tasks.

The memory may store program instructions that are loadable and executable on the host processor as well as data generated during the execution of these programs. Depending on the configuration and type of instant mobile computing device the memory may be volatile such as random access memory RAM and or non volatile such as read only memory ROM flash memory etc.

The memory may include removable and or non removable storage including but not limited to magnetic storage optical disks and or tape storage. The disk drives and their associated computer readable media may provide non volatile storage of computer readable instructions data structures program modules and other data for the computing devices. In some implementations the memory may include multiple different types of memory such as static random access memory SRAM dynamic random access memory DRAM or ROM.

The memory and the data store both removable and non removable are all examples of computer readable storage media. For example computer readable storage media may include volatile and non volatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data.

The one or more communication connections may allow the instant offloading domain to communicate with other devices e.g. location servers databases user terminals and various other devices that may exist on the one or more networks . The communication connections may include a wireless system not shown that may enable the mobile computing device to communicate wirelessly with the other devices over the network . The wireless system may include the hardware and software to broadcast and receive messages either using the Wi Fi Direct Standard See Wi Fi Direct specification published in October 2010 and or the IEEE 802.11 wireless standard See IEEE 802.11 2007 published Mar. 8 2007 IEEE 802.11n 2009 published October 2009 or a combination thereof. The wireless system may include a transmitter and a receiver or a transceiver not shown capable of operating in a broad range of operating frequencies governed by the IEEE 802.11 wireless standards.

The IO devices may enable a user to interact with the instance host device mobile computer device Such I O devices may include but are not limited to a keyboard a mouse a pen a voice input device a touch input device a display a camera or imaging device speakers or a printer.

The one or more data stores may store lists arrays databases flat files etc. In some implementations the data store may be stored in memory external to the mobile computer device but accessible via the one or more networks such as with a cloud storage service. The data stores may store resource parameters. In one embodiment each instance may have a data store that stores resource parameters associated with the instance.

The mobile computing device may also include a location communication module and a location origins module . In this embodiment both modules are illustrated as distinct entities within the operating system domain . However one or more or all portions of the modules may use or be incorporated into the memory in certain embodiments.

The location communication module may support a variety of flexible location based services and in the case of location based mobile services may extend the location Application Programming Interface API to provide for connectivity to the location servers via network which may generally be referred to as a communications cloud. The location communication module will be described in greater detail in the discussion of .

The location origins module may receive positioning information from the locations server or other location information devices that provide a location associated with the mobile computing device or location information that may be used to determine the location of the mobile computing device. The location origins module may comprise not shown in for example a Wi Fi modem a cellular modem one or more location sensors a Global Navigation Satellite Systems receiver a Bluetooth modem or a Near Field Communication NFC device. While specific location origin devices have been described any other suitable location origin device capable of receiving location information may be provided. The location origins module will be discussed in greater details in the discussion of . In another embodiment the location origins module may be included in the offloading domain instead of the operating system domain .

Turning to the offloading domain which some embodiments may implement location determination and power management functionality for the mobile computing device . In one embodiment the offloading domain may operate independently of the operating system domain in that the offloading domain may not use the all or a majority of the components in the operating system domain . In another embodiment the offloading domain may operate in conjunction with one or more components of the operating system domain . For example the offloading domain may use the location processor to determine the location of the mobile computing device instead of using the host processor in the operating system domain . In this instance the location processor may be a processor that consumes less power than the host processor . For example the location processor may include one or more application specific integrated circuits ASICs or application specific standard products ASSPs for handling specific data processing functions or tasks.

In one embodiment the location processor may comprise one or more controllers described in more detail hereinafter that interact with one another as well as potentially other components to generate an efficient low power execution environment that is tasked with performing location offloading activities that would otherwise be performed by the location communication s module or the host processor operating within the operating system domain .

The offloading domain may also include an aggregator module a location power management module a power module a location controller module an event generation and a context filtering module which will all be discussed in greater detail in the discussion of .

With further references to the mobile computing device it may further include one or more radios and one or more an antennae . The radio may transmit and receive radio signals. The radio may include a communication interface to facilitate communication between the location communications module and the received radio frequency signals. In one example radio frequency RF signals may be received by the antenna . In an exemplary embodiment of the present disclosure the one or more antennae may be wideband antennae operable over a wide frequency range perhaps from several megahertz MHz to the multi gigahertz GHz range. The input signals received by the antennae may be passed or otherwise provided to an analog or digital module within the radio such as a convertor or a decoder not shown . Further these input signals may be transmitted to either the operating system domain through the locations communication module or the offloading domain . In some embodiments the radio may receive location information from one or more location servers

The locations servers may provide location information to the mobile computing device . With regard to they are described generically and will be discussed in greater detail in the description of . In general terms the location server may include a processor one or more interfaces and memory .

The processor may include without limitation a central processing unit CPU a digital signal processor DSP a reduced instruction set computer RISC a complex instruction set computer CISC a microprocessor a microcontroller a field programmable gate array FPGA or any combination thereof. The processor may execute computer readable instructions stored in memory or instructions provided over the network .

The one or more interfaces may include but are not limited to a keyboard a mouse a pen a voice input device a touch input device a display a camera or imaging device speakers or a printer. The interfaces may also include network communication hardware and or software to send and receive information over the network .

The memory may include but is not limited to an operating system and a location module . The operating system may include computer readable instructions that are executed by the processor to implement a variety of tasks. For example the tasks may include but are not limited to operating the components of the interface module .

The location module may any or all hardware software or a combination thereof to collect analyze and provide location information to the mobile computing device . This location module also known as location framework module is merely an indication of the component needed to implement a variety of location detection techniques that may be used by the mobile computing device . For example the location module also known as location framework module may include any and all needed hardware or software to implement detection techniques using a WWI FI network a cellular network a building footprint database a global positioning satellite network a short range wireless network such as a BLUETOOTH network or any other near field communication network.

The location processor may comprise one or more position controllers A F. The position controllers A F may comprise but are not limited to a Wi Fi position controller A a cellular position controller B a sensors position controller C a GNSS position controller D a short range wireless position controller E or an NFC position controller F. The WI FI position controller A is used herein for exemplary purposes to describe the connectivity between the various components of the system . However it should be noted that the discussion with respect to any particular sub component is generally applicable to other sub components as well.

The one or more position controllers A F of the location processor interact with the location origins module that may include location origin devices A F and potentially the location servers via the location communications module to perform the offloaded location calculations and generate location events and context events based on measurements provided by the location origin devices. As an example WI FI position controller A obtains location measurements from the Wi Fi location origin device A. The WI FI position controller A may also obtain location based information from WI FI location server A via WI FI server connectivity A established through the location framework module . Based on the location measurements received from the WI FI location origin device A and potentially additional location based information received from WI FI Location server A WI FI position controller A may perform location calculations generate location events and context events and report the results of the calculations. The discussion above with respect to the Wi Fi position controller A is generally applicable to other position controllers that obtain location measurements from other location origin devices e.g. cellular modem B GNSS receiver D etc. .

Functionalities provided by the location processor include but are not limited to determination of basic location information i.e. spatial location coordinates as a function of time and related information e.g. satellite information WI FI AP information cell tower information etc. event triggering based on location data initiation and processing of internal and external flows of location dependent host activities location engine power management for local components management of location origin devices and sensors location fusion arbitration logic location data buffering time stamping and location history generation context framework generation privacy management emergency services support or support for Independent Software Vendor ISV value added location based functionalities.

In certain embodiments the location processor may interact with other offload engines or entities including but not limited to communication management entities sensor management entities security engines event generation entities context awareness entities augmentation reality entities and so forth. The location processor may support access to these other offload entities regardless of a state of the main host and or OS e.g. active state standby state sleep state etc. and according to a configurable policy. The active state may indicate that the host processor not shown may be using more power than in a standby state. The standby state may indicate that the host processor may be using less power than the active state and the sleep state may use less power than the standby state.

In accordance with one or more embodiments of the disclosure the location processor may be configured to communicate with the location origin devices A F and calculate position based on measurements provided by the location origin devices A F regardless of the state of the host processor . Exemplary host states include an active state e.g. when host navigation software is running a sleep state e.g. position logging and geo fencing or a connected standby state e.g. supporting device location sharing . When communicating with the location origin devices A F while the host is in a sleep state the location processor can interact with the location origin devices A F directly or indirectly over a physical interface and or logical channels without the need for active host support in other words in an offloaded manner. More specifically as touched upon earlier the location engine may comprise one or more position controllers with each position controller responsible for controlling or configuring a particular location origin device e.g. cellular modem B GNSS receiver D WI FI modem A short range wireless radio B modem BLUETOOTH modem E Sensors C a NFC device F Audio Video etc. collecting the relevant location measurement data from the device and sending to the location origin device the relevant location assistance information. In one or more alternative embodiments a central position controller not shown may be provided that controls a plurality of location origin devices A F. In various embodiments the central controller or the one or more dedicated controllers A F whichever the case may be are also responsible for maintaining the local offloading database and or initiating database update flow in the case where the location processor needs some location assistance or location database information e.g. list of surrounding transmitters .

In accordance with one or more embodiments of the disclosure each position controller may control a separate location calculator not shown that calculates location information based on information received from a particular location origin device. In alternative embodiments a central position controller or a plurality of dedicated position controllers A F may control a single location calculator to perform location calculations based on information received from all or some subset of the location origin devices A F. A position aggregator concentrator may be provided that aggregates the location calculations that are performed by each of the location calculators based on information received from a corresponding location origin devices A F. The position aggregator concentrator may then select a particular location calculation based on a known performance indicator. In certain embodiments the position aggregator concentrator may perform a weighted location calculation based on the location calculations received from the various location calculators. In other embodiments the measurement data may be received directly from the origin devices A F from corresponding position controllers A F or from a central position controller and the position aggregator concentrator may perform the necessary location calculation s .

The location processor may also comprise location policy control and location power management functionality via the location power management module that is operative to enforce the location power save and location origins connectivity and modes of operation. An exemplary location policy may relate to availability of location measurements the cost function e.g. power of extracting the location measurements and or the required level of service e.g. accuracy time to fix power budget or any other service parameters . The location policy control and location power management functionality may be provided by software modules hardware components such as one or more controllers and or processors and or a combination thereof. The location power management module may also control access to the location servers by upper layers such as for example by location communications module . For instance under restricted power budget profiles these modules will enforce the use of local database s rather than allowing access to the location servers A F. The location servers may include a Wi Fi location server A a cellular location server B a building footprint location server C a GNSS location server D a short range wireless BLUETOOTH location server E and NFC server F.

The location power management module may also receive power level information for the mobile computing device from the power module . Power level information may include whether or not the mobile computing device is currently plugged in or is using batter power. Further the power level information may identify the amount of battery power available on the device prior to recharging. The power module may determine the remaining power level for the mobile computing device . The power module may also control the allocation of power to other components of the mobile computing device . In certain instances the power module may implement the power control or allocation based at least in part on the policy or protocol decisions made by the location power management module .

Referring again to the location calculation once the location is calculated the calculated location may be either stored or forwarded to the location communications module . Prior to forwarding the calculated location to the location communications module the location calculation may undergo context filtering e.g. identifying points of interest POI within a certain vicinity of the calculated location identifying a specific time interval to associate with the calculated location etc. . If the host processor is in a sleep state the location processor may wake the host processor when certain context conditions are met. More specifically the event generation module and context filtering module enable continuous location acquisition when the host processor is in a sleep state. The event generation module entity may generate an event based on the calculated location received from the position aggregator concentrator and the context filtering module may generate the context event and decide to wake the host when certain conditions are met such as for example when a certain point of interest is reached. The event generation module and context filtering module may be configured from the host processor .

Current location services require the host processor to be in an active state. As such embodiments of the disclosure provide distinct advantages over conventional solutions including but not limited to power efficient location offloading cost effective location calculation based on multiple location origin devices offloading of location assistance information to location servers and efficient connectivity to the location servers environment context awareness and reduced power consumption and increased battery life. As described earlier these advantages and other advantages are achieved by splitting the location functionalities between the location processor which provides a multi purpose low power location execution environment responsible for all location offloading activities and the location communications module which enables flexible Location Based services and extends the range of location APIs to improve and enrich the user experience.

Referring now to a flow diagram is depicted to describe an example embodiment of the method for using the offload domain within the context of location determination for the mobile computing device . It should be noted that the method may be modified in various ways in accordance with certain embodiments. For example one or more operations of the method may be eliminated or executed out of order in other embodiments.

At block the mobile computing device may receive location information from more than one location information source. For example the Wi Fi position controller A may receive information from the Wi Fi location server A or the Wi Fi location origin device A. The information may include wireless signals from more than one Wi Fi location origin device A e.g. access points that the mobile computing device may use to determine its location. In another embodiment the location information provided from the Wi Fi devices may also include an authenticated scan list. The authenticated scan list may also be used to determine the location of the mobile computing device . Similarly the other location origin devices B E and or location servers B F may also provide location information associated with the mobile computing device.

At block the mobile computing device may use the location processor to determine a location of the mobile computing device using the information provided from the location information sources e.g. A F or A F . In this embodiment the location processor may calculate the location of the mobile computing device without using the host processor from the operating system domain . The location processor may be a low power processor or ASIC or ASSP that can perform the location calculations without using the host processor that consume power at a higher rate than the location processor . The location processor may be enabled to process any information provided by the location origin devices A E and or location servers A F. In one embodiment the position controllers A F may receive the location information and calculate the location of the mobile computing device . The aggregator module may aggregate the location determinations and determine which location is ranked the highest based at least in part on one or more performance indicators.

At block the aggregator module may retrieve the location information from the one or more position controllers A F. In one embodiment the location information may include the calculated locations based on the information from the location origin devices A F. In another embodiment the location information from the location origin devices A F may be passed on to the aggregator module that may also determine or calculate the location of the mobile computing device based at least in part the retrieved location information.

At block the aggregator module may determine which location is the optimal location for the mobile computing device based at least in part on a Performance Indicator or a preference of the user. For example the user may select which location information sources are preferred to be used over other locations sources. In one instance the user may prefer GPS location data therefore the aggregator will determine the GPS location as the optimal location. However if the GPS location is not available the location processor may select the next preferred source or rely on the Key Performance Indicator. For example a Key Performance Indicator may include signal strength or any other indicator that points to better accuracy or reliability of the location information.

At block the location power management module may use the optimal location determined by the aggregator module to determine or select a first power management protocol that is configured to be used when the mobile computing device is located at a particular location. In another embodiment the power management protocol may also be based on the amount of remaining power that is available to the mobile computing device in addition to the determined location. For example the first power management protocol may dictate that the host processor be placed in a standby state whenever the mobile computing device is outside. In another embodiment the power management protocol may dictate one or more of the components of the mobile computing device are placed in a low power mode when the device is at a specific location.

At block the location power management module may select a second power management protocol based at least in part on the location processor determining that the mobile computing device has changed to a different location than the one described in block . In this way the power management protocols may be actively changed based on the location whenever a new location is determined. For example in block the host processor may have been placed in a standby state when the mobile computing device was determined to be outside. However when the mobile computing device was determined to be inside a building the location power management module may determine to implement a second power management protocol that places the host processor in an active state. In this instance the active state may consume more power than the standby state. Accordingly the mobile computing device may use less power when located outside of a building than when the device is located inside a building.

Embodiments described herein may be implemented using hardware software and or firmware for example to perform the methods and or operations described herein. Certain embodiments described herein may be provided as a tangible machine readable medium storing machine executable instructions that if executed by a machine cause the machine to perform the methods and or operations described herein. The tangible machine readable medium may include but is not limited to any type of disk including floppy disks optical disks compact disk read only memories CD ROMs compact disk rewritables CD RWs and magneto optical disks semiconductor devices such as read only memories ROMs random access memories RAMs such as dynamic and static RAMs erasable programmable read only memories EPROMs electrically erasable programmable read only memories EEPROMs flash memories magnetic or optical cards or any type of tangible media suitable for storing electronic instructions. The machine may include any suitable processing or computing platform device or system and may be implemented using any suitable combination of hardware and or software. The instructions may include any suitable type of code and may be implemented using any suitable programming language. In other embodiments machine executable instructions for performing the methods and or operations described herein may be embodied in firmware.

Various features aspects and embodiments of the disclosure have been described herein. The features aspects and embodiments are susceptible to combination with one another as well as to variation and modification as will be understood by one of ordinary skill in the art. The present disclosure should therefore be considered to encompass any such combinations variations and modifications.

The terms and expressions used herein to describe various embodiments of the disclosure are intended as terms of description and not of limitation. The use of such terms and expressions is not intended to exclude any equivalents of the features shown and described or portions thereof and it is recognized that various modifications are possible and within the scope of the claims. Other modifications variations and alternatives are also possible. Accordingly the claims are intended to cover all such equivalents.

While certain embodiments of the disclosure have been described in connection with what is presently considered to be the most practical and various embodiments it is to be understood that the disclosure is not to be limited to the disclosed embodiments but is intended to cover various modifications and equivalent arrangements and such modifications and arrangements are within the scope of the claims. Although specific terms are employed herein they are used in a descriptive sense only and not for purposes of limitation.

This disclosure uses examples to disclose certain embodiments of the disclosure including the best mode and also to enable any person skilled in the art to practice certain embodiments of the disclosure including making and using any devices or systems and performing any methods disclosed herein. The patentable scope of the disclosure is defined by the claims and may include other examples not specifically disclosed herein and which may occur to those skilled in the art. Such other examples are within the scope of the claims if they have structural elements that do not differ from the literal language of the claims or if they include equivalent structural elements with insubstantial differences from the literal language of the claims.

