---

title: Reducing distortion in an image source comprising a parallax barrier
abstract: A method for reducing distortion from a stereoscopic image source comprising a parallax barrier layer is described. Embodiments include: capturing one or more audience images of at least one viewer with an image capturing device; determining, at a processor, locations of a plurality of eyes of the at least one viewer based on the audience images; determining incidental angles of the plurality of eyes; and selecting at least one distortion correction filter from a plurality of distortion correction filters based on the incidental angles of the plurality of eyes.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08902160&OS=08902160&RS=08902160
owner: ReinCloud Corporation
number: 08902160
owner_city: Mountain View
owner_country: US
publication_date: 20120824
---
Three dimensional 3D screens are increasingly popular. Having recently implemented stereoscopic support for devices such as smart phones portable video consoles and televisions inherent limitations of the underlying technology have become evident.

Some portions of the description of embodiments which follow are presented in terms of procedures logic blocks processing and other symbolic representations of operations on data bits within a computer memory. These descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. In the present application a procedure logic block process or the like is conceived to be a self consistent sequence of steps or instructions leading to a desired result. The steps are those requiring physical manipulations of physical quantities. Usually although not necessarily these quantities take the form of electrical or magnetic signal capable of being stored transferred combined compared and otherwise manipulated in a computer system.

It should be borne in mind however that all of these and similar terms are to be associated with the appropriate physical quantities and are merely convenient labels applied to these quantities. Unless specifically stated otherwise as apparent from the following discussions it is appreciated that throughout the present discussions terms such as capturing determining selecting or the like refer to the action and processes of a computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within the computer system s registers and memories into other data similarly represented as physical quantities within the computer system memories or registers or other such information storage transmission or display devices.

Furthermore in some embodiments methods described herein can be carried out by a computer usable storage medium having instructions embodied therein that when executed cause a computer system to perform the methods described herein.

Example techniques devices systems and methods for reducing distortion from a stereoscopic image source comprising a parallax barrier layer are described herein. Discussion begins with a high level description of an image source comprising a parallax barrier. Example problems with image sources comprising parallax barriers are then described. Discussion continues with a description of example distortion correction filters. Example systems to determine which filter to select to correct distortion are then described. Next determining which filter to use to correct distortion when there are a plurality of viewers is described. Example application programming interfaces are then discussed. Lastly example methods of use are described.

Example image source comprises processor . Example image source also comprises a GPU that in some embodiments employs an OpenGL e.g. OpenGL ES interface . In some embodiments image source also comprises buffer a filter library that comprises filters an example memory image capturing device front glass surface polarizer color filter parallax barrier liquid crystals and light source . In an embodiment various components of image source are communicatively coupled. Note that the images in the figures are not drawn to scale.

Liquid crystal displays are known in the art. Thus a detailed discussion about the operation of a generic liquid crystal display will be omitted for the sake of clarity and brevity.

In an embodiment image source comprises a buffer to store images rendered for a left eye and images rendered for a right eye to create a stereoscopic display image. Images as used herein include but are not limited to still images video etc. In one embodiment rendering images occurs when a processor receives an asynchronous render call. In one embodiment the buffer or buffers is filled and then blended as will be discussed in further detail below. Note that a buffer can be internal or external to a processor . In one embodiment buffer is located in memory . In various embodiments rendering is performed by a GPU CPU or a combination of GPU and CPU . Note that in some embodiments processor may be a type of processor other than a CPU.

For example eye and may receive partial pixels intended for the other eye and when a viewer holds a portable image source at far distance or too far to the left or the right. This may cause a viewer to see a pixel by pixel variating mixture of two images which can be disorienting. Also this effect may occur when more than one viewer attempts to view image source . The effect seen by the viewer can be a Moire pattern that animates across the screen. In some instances the disorienting effect can cause a headache.

In eyes and are at a different angle then the eyes and in . When eyes and are in a particular location such as in the left eye s line of sight goes through polarizer and color filter through the slits in the parallax barrier and reaches the light source operable to project light intended for the left eye . Similarly the line of right eyes sight receives light intended for the right eye through slits . While the slits in the parallax barrier allow light intended for the right eye to reach the right eye the blocking portions of the parallax barrier prevent light intended for the right eye to reach the left eye . Similarly the blocking portions of the parallax barrier prevent light intended for the left eye from reaching the right eye .

However as shown in a fixed parallax barrier can only approximate the pattern required to create a perfect mask. A perfect mask would only allow light meant for the left eye to reach the left eye and only allow light meant for the right eye to reach the right eye . Quantization errors based on the geometry of the viewing angles creates distortion. The ideal angle of incidence generally requires a perfectly perpendicular angle between the viewing glass and eyes and and a particular distance between eyes and and the viewing glass . In other words in an embodiment a perfect mask only works correctly i.e. does not produce distortion when a viewer is is positioned correctly.

Basically to fix the problem described above in an embodiment image source determines where eyes and are located relative to a component of image source and pre distorts an image using a distortion correction filter . The filter is also known as error map or maps of error predictions . Filter is operable to prevent light intended for one eye and to reach the wrong eye and . In one embodiment a filter is blended with a rendered image to pre distort the rendered image. Thus anticipated distortion based on the locations of eyes and is prevented. In various embodiments these operations are performed concurrently in real time and or near real time.

In an embodiment image source uses a distortion correction filter which is a type of anti aliasing filter to correct distortion e.g. quantization errors . Quantization errors can be derived trigonometrically given the incidental angles of eyes and .

In an embodiment filters are developed based upon a trigonometric transfer function with interactive derivation of additional coefficients through observation. In one embodiment an automated optical pattern recognition system is employed.

These filters can be monochromatic stereoscopic images as the filters are expressed as full pixel arrays of scalar distortion levels related to each eye and . These filters change with respect to the distance and incidental angle of a component of image source . A component of image source includes but is not limited to glass surface image capturing device etc. Note that glass display surface does not need to comprise glass the surface may comprise a material other than glass.

In an embodiment image capturing device takes a picture of a viewer or viewers also referred to as an audience image and software libraries are used to identify the location of the facial features of a viewer s . In an embodiment image capturing device is a camera. In an embodiment the location of the eyes and are located based on an audience image not shown . In an embodiment the angular position of the eyes and relative to a component of image source is determined. Components of an image source include but are not limited to image capturing device display surface parallax barrier light source etc. In an embodiment the distance between eyes and and a component associated with image source is determined by triangulation using a plurality of image capturing devices or other means to assist with determining a location of eyeballs and . In one embodiment a display picture element layer includes but is not limited to display surface light source polarizer liquid crystals etc.

Image capturing device may be located in various positions. In some embodiments image capturing device is on a plane with surface glass . In some embodiments image capturing device is remote from image source . In some embodiments image capturing device is comprised within image source . In one embodiment image capturing device is disposed behind surface glass . In some embodiments image capturing device may capture and image source may process between 30 and 50 images or more per second.

In an embodiment the incidental angles of the light rays and between eyes and a component of image source are derived from an audience image and can be used as an index to find the filter that prevents the most quantization errors seen by a viewer out of the filter library . Note that in an embodiment filter is one of a plurality of filters that may be located in filter library .

In an embodiment a blend function is used to integrate filter with the display images and . In one embodiment filter overlays display images and such that one eye and doesn t receive light and intended for the other eye and . In one embodiment blending the display images e.g. bitmaps may occur and then the blended images may be re routed to the same memory containing the original graphic buffers .

In an embodiment a subset of the plurality of the distortion correction filters are selected and interpolated based on the angles of the eyes and . For example when eyes and are at a particular location where a combination of filters would create the best 3D image for a viewer a plurality of filters are interpolated to create a more precise filter . In an embodiment the interpolation between a plurality of filters is linear. In another embodiment interpolation between a plurality of filters is non linear. In an embodiment interpolation is based on a transfer function. In one embodiment the transfer function is based on determining incidental angles of eyes and and finding an average mean square of the angles and or the location of the eyes.

In an embodiment image capturing device is operable to determine that there are multiple viewers . For instance using facial recognition software processor may determine that there are more than 2 eyes and in an audience image. In such a case image capturing device is operable to capture the locations and or incidental angles of all eyes and . In an embodiment a filter or combination of filters is chosen to optimize the reduction of distortion for the group of viewers . In one embodiment this method of choosing a filter when there are multiple viewers is performed by determining incidental angles of eyes and and finding an average root mean square of the angles and or the locations of the eyes and .

In some embodiments application programming interfaces APIs are used by image source . In one embodiment GPU uses Open Graphics Library OpenGL as an interface for rendering images as discussed herein e.g. OpenGL ES . In one embodiment an interface that comprises a higher level of abstraction than an OpenGL interface and rests upon an OpenGL interface is employed to render images. With this higher level of abstraction software developers can reduce distortion.

In operation in one embodiment one or more audience images are captured of at least one viewer with an image capturing device . In some embodiments audience images may be captured with more than one image capturing device . In an embodiment an audience image assists to locate eyes and and assist with determining the incidental angles of eyes and relative to a component of image source .

In operation in one embodiment the locations of a plurality of eyes and of the at least one viewer is determined based on the audience images. In one embodiment processor determines the locations of a plurality of eyes and .

In operation in one embodiment the incidental angles of the plurality of eyes and are determined. In an embodiment processor can determine the incidental angles of a plurality of eyes and relative to a component of image source .

In operation in one embodiment at least one distortion correction filter is selected from a plurality of distortion correction filters based on the incidental angles of the plurality of eyes and . In an embodiment based on the angles in which lines of sight and hit a component of image source a filter may be chosen to blend with an image in order to prevent images meant for one eye and to be seen by the other eye and of a viewer i.e. preemptively correct distortion . In one embodiment a combination of filters may be employed in which case the filters may be interpolated linearly or non linearly.

