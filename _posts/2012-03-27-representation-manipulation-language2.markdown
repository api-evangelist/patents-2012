---

title: Representation manipulation language
abstract: Receiving data from a client machine, the data representing selection of a subset of components of a set of components of a fixed query response representation; performing a map/reduce function on the data to retrieve the subset of components; and transmitting the subset of components to the client machine. The data may include an Xpath expression that is created at the client machine or at a server and the map/reduce function may be performed according to a design pattern that designates the pattern of components in a fixed query response representation designated by the client machine.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09589285&OS=09589285&RS=09589285
owner: eBay Inc.
number: 09589285
owner_city: San Jose
owner_country: US
publication_date: 20120327
---
The present application relates generally to publication systems and methods such as for electronic commerce and in one specific example to systems and methods for manipulating electronic commerce publication systems search query response representations.

In an electronic publication a user of a client machine can navigate within the system to obtain information about items e.g. goods or services . This is typically accomplished using search queries entered at a client and sent to a server. The search queries are or result in database queries. Search queries typically enter the server by way of application programming interfaces API s and result in a fixed query response representation to the client.

The headings provided herein are for convenience only and do not necessarily affect the scope or meaning of the claimed invention.

In an electronic publication system such as a user of a client machine can navigate within the system to obtain information about items e.g. goods or services . This is typically accomplished using search queries entered at a client and sent to a server. The search queries are or may result in database queries. Search queries typically enter the server by way of application programming interfaces API s which may be public facing and private facing and may result in a response to the client. An API typically provides a fixed query response representation which may be a meaningful document that captures the state of the service provider such as a publication system. However the representation is a rigid document so that there may be no way for clients or an intermediary application to manipulate the API structure to address the client s particular use case. Consequently the client is unable short of creation of a new API or modifying an existing API to control the service end to end to achieve higher performance in terms of bandwidth response time and the like. Described in detail below is a system and method for manipulating a query response representation to match a client machine s need and to improve a server s capacity. This may be accomplished by using a Representation Manipulation Language RML that provides a query language and a design pattern and the ability to manipulate or configure the query response representation. This may allow the server to provide more processing power bandwidth throughput and address latency issues for clients generally and address mobile clients limited resources in terms of memory and CPU time.

The following description is presented to enable any person skilled in the art to create and use a computer system configuration and related method and article of manufacture to selectively manipulate query response representations provided by an electronic publication system without changing the associated API. Various modifications to the example embodiments will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other embodiments and applications without departing from the spirit and scope of the invention. Moreover in the following description numerous details are set forth for the purpose of explanation. However one of ordinary skill in the art will realize that the embodiments may be practiced without the use of these specific details. In other instances well known structures and processes are shown in block diagram form in order not to obscure the description with unnecessary detail. Thus the present disclosure is not intended to be limited to the embodiments shown but is to be accorded the widest scope consistent with the principles and features disclosed herein.

An Application Program Interface API server and a web server are coupled to and provide programmatic and web interfaces respectively to one or more application servers . The application servers host one or more marketplace applications and payment applications . The application servers are in turn shown to be coupled to one or more databases servers that facilitate access to one or more databases .

The marketplace applications may provide a number of marketplace functions and services to users that access networked system . The payment applications may likewise provide a number of payment services and functions to users. The payment applications may allow users to accumulate value e.g. in a commercial currency such as the U.S. dollar or a proprietary currency such as points in accounts and then later to redeem the accumulated value for products e.g. goods or services that are made available via the marketplace applications . While the marketplace and payment applications and are shown in to both form part of the networked system it will be appreciated that in alternative embodiments the payment applications may form part of a payment service that is separate and distinct from the networked system .

Further while the system shown in employs a client server architecture the present invention is of course not limited to such an architecture and may equally well find application in a distributed or peer to peer architecture system for example. The various marketplace and payment applications and may also be implemented as standalone software programs which do not necessarily have networking capabilities.

The web client accesses the various marketplace and payment applications and via the web interface supported by the web server . Similarly the programmatic client accesses the various services and functions provided by the marketplace and payment applications and via the programmatic interface provided by the API server . The programmatic client may for example be a seller application e.g. the TurboLister application developed by eBay Inc. of San Jose Calif. to enable sellers to author and manage listings on the networked system in an off line manner and to perform batch mode communications between the programmatic client and the networked system .

The networked system may provide a number of publishing listing and price setting mechanisms whereby a seller may list or publish information concerning goods or services for sale a buyer can express interest in or indicate a desire to purchase such goods or services and a price can be set for a transaction pertaining to the goods or services. To this end the marketplace applications are shown to include at least one publication application and one or more auction applications which support auction format listing and price setting mechanisms e.g. English Dutch Vickrey Chinese Double reverse auctions etc. . The various auction applications may also provide a number of features in support of such auction format listings such as a reserve price feature whereby a seller may specify a reserve price in connection with a listing and a proxy bidding feature whereby a bidder may invoke automated proxy bidding.

A number of fixed price applications support fixed price listing formats e.g. the traditional classified advertisement type listing or a catalogue listing and buyout type listings. Specifically buyout type listings e.g. including the Buy It Now BIN technology developed by eBay Inc. of San Jose Calif. may be offered in conjunction with auction format listings and allow a buyer to purchase goods or services which are also being offered for sale via an auction for a fixed price that is typically higher than the starting price of the auction.

Store applications allow a seller to group listings within a virtual store which may be branded and otherwise personalized by and for the seller. Such a virtual store may also offer promotions incentives and features that are specific and personalized to a relevant seller.

Reputation applications allow users that transact utilizing the networked system to establish build and maintain reputations which may be made available and published to potential trading partners. Consider that where for example the networked system supports person to person trading users may otherwise have no history or other reference information whereby the trustworthiness and credibility of potential trading partners may be assessed. The reputation applications allow a user for example through feedback provided by other transaction partners to establish a reputation within the networked system over time. Other potential trading partners may then reference such a reputation for the purposes of assessing credibility and trustworthiness.

Personalization applications allow users of the networked system to personalize various aspects of their interactions with the networked system . For example a user may utilizing an appropriate personalization application create a personalized reference page at which information regarding transactions to which the user is or has been a party may be viewed. Further a personalization application may enable a user to personalize listings and other aspects of their interactions with the networked system and other parties.

The networked system may support a number of marketplaces that are customized for example for specific geographic regions. A version of the networked system may be customized for the United Kingdom whereas another version of the networked system may be customized for the United States. Each of these versions may operate as an independent marketplace or may be customized or internationalized presentations of a common underlying marketplace. The networked system may accordingly include a number of internationalization applications that customize information and or the presentation of information by the networked system according to predetermined criteria e.g. geographic demographic or marketplace criteria . For example the internationalization applications may be used to support the customization of information for a number of regional websites that are operated by the networked system and that are accessible via respective web servers .

Navigation of the networked system may be facilitated by one or more navigation applications . For example a search application as an example of a navigation application may enable key word searches of listings published via the networked system . A browse application may allow users to browse various category catalogue or inventory data structures according to which listings may be classified within the networked system . Various other navigation applications may be provided to supplement the search and browsing applications.

In order to make listings available via the networked system as visually informing and attractive as possible the marketplace applications may include one or more imaging applications utilizing images that users may upload for inclusion within listings. An imaging application also operates to incorporate images within viewed listings. The imaging applications may also support one or more promotional features such as image galleries that are presented to potential buyers. For example sellers may pay an additional fee to have an image included within a gallery of images for promoted items.

Listing creation applications allow sellers conveniently to author listings pertaining to goods or services that they wish to transact via the networked system and listing management applications allow sellers to manage such listings. Specifically where a particular seller has authored and or published a large number of listings the management of such listings may present a challenge. The listing management applications provide a number of features e.g. auto relisting inventory level monitors etc. to assist the seller in managing such listings. One or more post listing management applications also assist sellers with a number of activities that typically occurs post listing. For example upon completion of an auction facilitated by one or more auction applications a seller may wish to leave feedback regarding a particular buyer. To this end a post listing management application may provide an interface to one or more reputation applications so as to allow the seller conveniently to provide feedback regarding multiple buyers to the reputation applications .

Dispute resolution applications provide mechanisms whereby disputes arising between transacting parties may be resolved. For example the dispute resolution applications may provide guided procedures whereby the parties are guided through a number of steps in an attempt to settle a dispute. In the event that the dispute cannot be settled via the guided procedures the dispute may be escalated to a third party mediator or arbitrator.

A number of fraud prevention applications implement fraud detection and prevention mechanisms to reduce the occurrence of fraud within the networked system .

Messaging applications are responsible for the generation and delivery of messages to users of the networked system such messages include for example advising users regarding the status of listings at the networked system e.g. providing outbid notices to bidders during an auction process or to provide promotional and merchandising information to users . Respective messaging applications may utilize any one of a number of message delivery networks and platforms to deliver messages to users. For example messaging applications may deliver electronic mail e mail instant message IM Short Message Service SMS text facsimile or voice e.g. Voice over IP VoIP messages via the wired e.g. the Internet Plain Old Telephone Service POTS or wireless e.g. mobile cellular WiFi WiMAX networks.

Merchandising applications support various merchandising functions that are made available to sellers to enable sellers to increase sales via the networked system . The merchandising applications also operate the various merchandising features that may be invoked by sellers and may monitor and track the success of merchandising strategies employed by sellers.

The networked system itself or one or more parties that transact via the networked system may operate loyalty programs that are supported by one or more loyalty promotions applications . For example a buyer may earn loyalty or promotions points for each transaction established and or concluded with a particular seller and may be offered a reward for which accumulated loyalty points can be redeemed.

Representation Manipulation Language application s supports various RML functions that are made available to clients to enable clients the ability to manipulate or configure query response representations. This allows the server to provide more processing power on behalf of clients including but not limited to mobile clients. This application s allow handling of Xpath and Map Reduce functions to manipulate query response representations. Xpath is a well known query language generally used for selecting nodes from an XML document. In addition XPath may be used to compute values e.g. strings numbers or Boolean values from the content of an XML document. XPath was defined by the World Wide Web Consortium W3C . Map Reduce is also a well known software framework to support distributed computing on large data sets on clusters of computers. The framework is for processing highly distributable problems across huge datasets using a large number of computers sometimes called nodes and which may collectively be referred to as a cluster or a grid depending on whether the nodes use the same hardware or different hardware. Computational processing can occur on data stored either in a file system unstructured or in a database structured . In usual operation in the Map step the master node takes the input partitions it up into smaller sub problems and distributes them to worker nodes. A worker node may do this again in turn leading to a multi level tree structure. The worker node processes the smaller problem and passes the answer back to its master node. In the Reduce step the master node then collects the answers to all the sub problems and combines them in some way to form the output the answer to the problem it was originally trying to solve.

In this example the client desires as a query response representation only the representation of the cart and the payment method of . This can be accomplished by the query sequence seen in of . This sequence is setting the XPath of the nodes for the representation. The first statement creates a keyvalue map which is used to store Cart.paymentMethod XPath expression in the second statement. The third statement is a representation context wrapping the map created in the first statement. In the fourth statement we attach this context to the CartService client application. This sequence will result in the query response representation of the cart and the payment method of instead of the fixed result of . The efficiency in server function is evident.

In an alternate embodiment the client may transmit key value pairs directly to the server so that the server is able to optimize the task of building the query response representation for the client as specified in the key value pairs in the request. Again these key value pairs may be transmitted by the client using header information HTTP headers . For orientation purposes when reading this description of an alternate embodiment the line CartSvc.createRepresentation filter in the paragraph below would be doing that encoding of the key value pairs by the client which may then be sent to the server. Exemplary code for the above function in this alternate embodiment may be 

With the above as background and continuing in one embodiment the client could be programmed to specify the xpath and map reduce. This can be done by using a tool exposed by the server in which case the client application developer will choose certain icons of the node that is desired or designated by the client application. In another instance the client would discover the xpath and map reduce capabilities of the server through the context of the API CartService.findCart exposed by the server. In practice the user will select the response desired by providing a search query at the client. This might be done by providing to the client an appropriate image with one or more selectable icons that allow the user to select the query response representation desired as discussed above. As only one example consider the nodes or icons etc. of the shopping cart example of . The image of in which the various items . . . C are selectable may be presented to the client machine. If the user desires to view only the payment method and not the rest of the cart the viewer might select payment method . This would cause the server Representation Manipulation Language application of to generate the Xpath and Map Reduce functions seen in . Here the Xpath would generate the function Cart Payment Method that indicates that only the payment method from the cart is to be computed. As explained above this may be performed at the client in one embodiment. Since the payment method is the query the item and the price of the item are also included in the Xpath because these items may be viewed as integral to the payment method. That is in there are two Xpath expressions. In this case the server would return both the paymentMethod as well as the selected item with the price in the item. The RML application may also generate the Map Reduce function seen in which may then be executed in an operation by one or more computer processors. In this example since the user desires or designates only the payment method the Map function may be viewed as Cart item price where the number between the term is the item number. The Reduce function may be viewed as sum average count etc. . A reduce function in this context is as indicated briefly above the name of commonly used functions in computation. These include sum find sum total of numerical values of the nodes found by the map function average find average and count find number of nodes found by the map function . The term etc. is added to indicate there could be more reduce functions as desired even custom functions that the server may expose.

One may wonder why is sum opposite only cart item price and not also opposite cart.paymentmethod in box of As one explanation let us call the data structure a keyvalue map. In this map the key stores the Xpath expression or the map reduce s map function whereas the value is optional. The value is used to store the map reduce s reduce function. From first instance usecase is for XPath expression in which case the value is empty. Whereas in the second instance it is a map reduce expression. It is instructing the server to return the sum total of all the items in the cart.

One may also wonder whether the terms item and item should be included in the above. In our example we used CART ITEM to denote all the items of cart and CART ITEM PRICE to denote the price element of all the cart items. In XPath to get price of all the item elements of cart it is sufficient to denote it as CART ITEM PRICE .

Line6 Finally the client application makes a call to the server. The cart object returned by this call will only have paymentMethod node inside the cart.

Line8 assert that the server returned item node with the price value sum of the price of all the items in the cart 

An example of another embodiment may be OrderService.findOrder orderId in a method for finding the shippingAddress inside the Order as discussed with respect to . Those of ordinary skill in the art will recognize other embodiments based on the teachings of this written description. In this embodiment illustrates a normal request response cart application in which a query at a client to view the cart results in the instruction seen at . This instruction evokes a fixed response that provides the entire order with all its descendents including shipping address buyer details and seller details . This is a fixed query response representation as was the case for the embodiment of and entails use of server components and compute power that the user may not need to use to obtain the information the user desires. This use of unneeded server components and compute power could be better used for improved client service and improved use or server capacity as just one example. However as mentioned previously because in the normal request response used in publication systems the client has no way of specifying how much of the query response representation is desired. Consequently the entirety of the query response representation is computed and presented.

As to how the method begins in one instance the client could be programmed to specify the Xpath and map reduce. The explanation is similar to that in .

The example computer system includes a processor e.g. a central processing unit CPU a graphics processing unit GPU or both a main memory and a static memory which communicate with each other via a bus . The computer system may further include a video display unit e.g. liquid crystal display LCD or a cathode ray tube CRT . The computer system also includes an alphanumeric input device e.g. a keyboard a cursor control device e.g. a mouse a disk drive unit a signal generation device e.g. a speaker and a network interface device .

The disk drive unit includes a machine readable medium on which is stored one or more sets of instructions e.g. software embodying any one or more of the methodologies or functions described herein. The instructions may also reside completely or at least partially within the main memory and or within the processor during execution thereof by the computer system the main memory and the processor also constituting machine readable media.

The instructions may further be transmitted or received over a network via the network interface device .

While the machine readable medium is shown in an example embodiment to be a single medium the term machine readable medium should be taken to include a single medium or multiple media e.g. a centralized or distributed database and or associated caches and servers that store the one or more sets of instructions. The term machine readable medium shall also be taken to include any medium that is capable of storing encoding or carrying a set of instructions for execution by the machine and that cause the machine to perform any one or more of the methodologies of the present invention. The term machine readable medium shall accordingly be taken to include but not be limited to solid state memories optical and magnetic media and carrier wave signals.

Thus a method and system to browse an electronic marketplace place items of interest into a shopping cart selectively purchase one or more items in the shopping cart without having to remove the non selected items from the shopping cart and automatically retain the non selected items in the shopping cart for future access has been described. Although the present invention has been described with reference to specific example embodiments it will be evident that various modifications and changes may be made to these embodiments without departing from the broader spirit and scope of the invention. Accordingly the specification and drawings are to be regarded in an illustrative rather than a restrictive sense.

The Abstract of the Disclosure is provided to comply with 37 C.F.R. 1.72 b requiring an abstract that will allow the reader to quickly ascertain the nature of the technical disclosure. It is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims. In addition in the foregoing Detailed Description it can be seen that various features are grouped together in a single embodiment for the purpose of streamlining the disclosure. This method of disclosure is not to be interpreted as reflecting an intention that the claimed embodiments require more features than are expressly recited in each claim. Rather as the following claims reflect inventive subject matter lies in less than all features of a single disclosed embodiment. Thus the following claims are hereby incorporated into the Detailed Description with each claim standing on its own as a separate embodiment.

