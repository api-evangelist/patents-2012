---

title: Management of building plan documents utilizing comments and a correction list
abstract: Systems and methods for managing and processing building plan documents. An electronic building plan document including a plurality of plan sheets is received. A first plan sheet is provided for display. A user interface is provided via which a user can select or enter a first comment associated with the first plan sheet. A user interface is provided via which the user can associate metadata, including a project type or discipline, with the first comment. A first plurality of comments, including the first comment, is stored in association with respective metadata. A user interface via which the user can select, by category and/or subcategory a plurality of comments to be included in a plan correction list, and a correction list is generated including a plurality of comments specified by a plurality of users.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09135602&OS=09135602&RS=09135602
owner: E-PLAN, INC.
number: 09135602
owner_city: Los Angeles
owner_country: US
publication_date: 20120725
---
The present invention is related to electronic digital construction related plans and in particular to methods and systems of managing electronic construction related plans.

Conventionally constructions documents are either hardcopy blueprint type drawings or relatively simple electronic drawings which provide a limited ability to associate or store data in association with such hardcopy or simple electronic drawings. Hence conventional systems lack an adequate capability for the various entities involved in the production approval and implementation of a construction project e.g. architects design firms contractors and public agencies such as city plan approval agencies to modify or comment on such plans. Further conventional systems lack an adequate capability to locate and generate reports with respect to plan comments.

The following presents a simplified summary of one or more aspects in order to provide a basic understanding of such aspects. This summary is not an extensive overview of all contemplated aspects and is intended to neither identify key or critical elements of all aspects nor delineate the scope of any or all aspects. Its sole purpose is to present some concepts of one or more aspects in a simplified form as a prelude to the more detailed description that is presented later.

Systems and methods are described for managing and displaying design related documents. For example certain systems and methods may be used for managing building design related documents manufacturing documents clothing design documents or other types of design documents. Certain embodiments enable a user to search filter and report on comments added to such documents. Certain embodiments pre render documents at different magnifications and in different colors for faster presentation to a user.

An example embodiment provides a system for managing documents such as building plan documents or other types of design documents comprising one or more computing devices non transitory computer readable memory storing program code that when executed by the one or more computing devices is configured to cause the system to perform operations comprising receiving an electronic building plan document including a plurality of plan sheets providing a first of the plurality of plan sheets for display providing a user interface via which a user can select or enter a first comment providing a user interface via which the user can associate at least one of the following first plurality of metadata with the first comment a category a subcategory a project type or discipline storing a first plurality of comments in association with respective metadata providing for display a comments list in association with the first plan sheet the comments list including a second plurality of comments at least partly in response to the user selecting a second comment with a specified plan sheet coordinate in the comments lists providing the second comment for display over the first plan sheet at the plan sheet coordinate and causing the portion of the first plan sheet corresponding to the specified plan sheet to be substantially centered in a first area enabling the user to search for comments by specifying via a search user interface one or more items of the first plurality of metadata providing a user interface via which the user can select a plurality of comments to be included in a plan correction list generating a correction list including a plurality of comments specified by a plurality of users.

Another example embodiment provides a system for managing documents such as building plan documents or other types of design documents comprising one or more computing devices and non transitory computer readable memory storing program code that when executed by the one or more computing devices is configured to cause the system to perform operations comprising receiving an electronic building plan document including a plurality of plan sheets providing a first of the plurality of plan sheets for display providing a user interface via which a user can select or enter a first comment associated with the first plan sheet providing a user interface via which the user can associate metadata including at least a project type or discipline with the first comment storing a first plurality of comments including at least the first comment in association with respective metadata providing a user interface via which the user can select by category and or subcategory a plurality of comments to be included in a plan correction list generating a correction list including a plurality of comments specified by a plurality of users.

An example embodiment provides a non transitory computer readable media storing program code that when executed by the one or more computing devices is configured to cause the system to perform operations comprising receiving an electronic document including a plurality of plan sheets providing a first of the plurality of plan sheets for display providing a user interface via which a user can select or enter a first comment associated with the first plan sheet providing a user interface via which the user can associate metadata including at least a project type or discipline with the first comment storing a first plurality of comments including at least the first comment in association with respective metadata providing a user interface via which the user can select by category and or subcategory a plurality of comments to be included in a plan correction document and generating a correction document including a plurality of comments specified by a plurality of users.

Another example embodiment provides a method comprising receiving an electronic document such as building plan document or other type of design document including a plurality of plan sheets providing a first of the plurality of plan sheets for display providing a user interface via which a user can select or enter a first comment associated with the first plan sheet providing a user interface via which the user can associate metadata including at least a project type or discipline with the first comment storing a first plurality of comments including at least the first comment in association with respective metadata providing a user interface via which the user can select by category and or subcategory a plurality of comments to be included in a plan correction document and generating a correction document including a plurality of comments specified by a plurality of users.

Systems and methods are described for managing design related documents. For example certain systems and methods may be used for managing building design related documents such as electronic construction documents fix it documents from plan checkers etc. manufacturing documents clothing design documents or other types of design documents.

Certain embodiments enable a user to search filter and report on comments added to a documents such as an electronic building related document a manufacturing document a clothing design document or other design document e.g. a document in portable document format PDF form ISO 32000 compliant documents XPF documents etc. such as comments by plan checkers added to a building plan submitted by an applicant to a government agency for approval or other design document needing approval. Certain embodiments further provide event driven notifications to one or more groups involved in the design and approval process. Certain embodiments further provide workflow process management and role based security.

Referring to an example architecture of the system includes a data layer a business layer and a presentation layer. The data layer may include a database in the form of an SQL structured query language database and may store project design drawings and associated metadata. The database may store drawing revision histories e.g. including date of revisions who made the revisions what was revised etc. drawings in an originally submitted formats and or in a converted formats. Optionally a directory structure for cached files may be organized using drawing records primary keys. The database may store standard comment libraries user account information user permissions etc.

The business layer may include a rendering engine a drawing printing component and a service gateway. The rendering engine is used to render drawings and may be a multi process multi threaded rendering engine. For example the rendering engine may invoke libraries e.g. Java libraries for converting a master tile e.g. a PNG master tile wherein a given drawing may include one or more tiles or may be divided into two more tiles into differently formatted tiles for consumption by a drawing review system. By way of further example the rendering engine may read a PDF drawing file and convert it to a master tile. The drawing printing component may be configured to generate printable files in a PDF or other desired format. The service gateway may be used to expose an API application programming interface that may be invoked by routines executed in a user s browser. By way of example and not limitation the API may respond with data objects such as JSON JavaScript Object Notation or XML eXtended Markup Language data objects as appropriate.

The presentation layer may include data management interfaces a document submission component a drawing review component and a graphical charting component. The data management interfaces are configured to receive data e.g. from user or API interfaces and post data. For example the interface may employ AJAX based interactions with HTTP posts to the system and JSON requests back. The document submission component may be used to receive documents from users. For example the document submission component may be configured to provide an external interface to routines executed by a user browser. The document submission component may be configured to provide the user browser with metadata regarding the submission and may enable multi file submission by the user without requiring browser page refreshing. The drawing review component may be configured to input multiple tile layers from the rendering engine and then generate one or more additional layers e.g. multiple SVG scalable vector graphics canvases to provide vector shapes measurement tools commenting and other drawing review functionality. The graphical charting component may provide the user with interactive charts as described elsewhere herein. Optionally the graphical charting component may be configured to use a programming scripting language to generate dynamic SVG canvases from JSON data fetched from the data layer.

In response to a user request the system may queue a drawing to be rendered. When queuing the drawing the system may write a configuration file e.g. an INI file that includes rendering instructions to a file system. The file system may date stamp the configuration file and or the drawing and may optionally act as a first in first out queue with respect to queued drawings. The multi process multi threaded rendering engine may access the configuration file corresponding to a drawing to be rendered. A given process may render a given drawing e.g. a single drawing and optionally each thread performs a separate zoom level and or color version rendering of the drawing.

An example rendering process will now be described. Drawings are pulled from the drawing queue e.g. one at a time and then routed through a queue for a thread pool. An example thread pool management process enhances the rendering time of a given rendering request. In certain embodiments the thread pool management process enables a rendering engine to service multiple portals instances of the plan management application on a given server or optionally multiple portals on multiple servers. Thus a physical server optionally may host multiple instances of the plan management application portals wherein a given instance may have a unique set of configurations and customizations. Multiple portals may share physical server resources such as bandwidth storage and or processing power. However optionally there is division of logical and virtual resources such databases drawing files and uploaded user content. Optionally a given instance of the plan management application is prevented from accessing some or all of the logical and virtual resources of another instance. Portals may also be accessed by a unique locator e.g. a unique uniform resource locator URL and have a target user base as part of an organization such as a business or agency. For example the portal may be the client s web URL where the plan management application runs. In a virtual machine environment a single engine could service many clients . The queuing service enables multiple rendering engines to service one server or multiple servers.

An image manipulation service such as that described below may optionally be initiated automatically upon system startup and halted during system shutdown. Optionally the service operates independently of web applications or other services but accepts instructions for handling requests.

At state 0 if a drawing has not already been pre rendered a virtual printer may be used to convert a drawing from one format to another format e.g. from a PDF format to a gray scale PNG Source Tile Image format . In certain embodiments other renderings are obtained from the source drawing file. Once the source drawing is rendered it does not need to be re rendered as other zoom levels or colors are prepared optionally at substantially the same time as the source drawing is rendered. Thus if a user while later viewing the drawing requests a particular user selected area of the drawing be displayed with higher magnification zoomed the system may substantially instantly access and display the previously rendered magnified area without having to go through the time consuming process of performing the zoom processing and manipulation. Similarly if a user later requests a selected drawing color the system may substantially instantly access and display the drawing with the previously rendered selected color without having to go through the time consuming process of performing the colorizing processing and manipulation. The source drawing may persist in solid state memory during a rendering instance or it may be loaded into solid state memory from a copy stored on a magnetic or optical disk storage device.

In an example embodiment the rendering includes dividing the source drawing image into tiles e.g. 200 200 pixel tiles . In certain embodiments a typical source drawing image may be between about 2 500 and 16 000 pixels in both the X and Y dimensions although other pixel quantities and configurations may be used. The origin may be located at or towards the middle of the source drawing and may be positioned at or towards the middle of a tile. As a result in certain embodiments the collection of tiles may be an odd number tall and wide with the same number of tiles left and right and above and below the origin. The following illustrates an example tile configuration 

At state 1 the source drawing image is converted into a colorized source. Optionally even if the output is black the source drawing image undergoes colorization. Colorizing may be performed by translating some or all pixels in the drawing image into a target color. For example white may be converted into an alpha value of 0 transparent while solid black 000000 may be converted to an alpha value of 255 opaque . Variations of gray may be translated into respective alpha values. Then color s may be shifted into a requested spectrum and may be expressed as a RGB red green blue value or other color model value e.g. CMYK . Thus for example in certain embodiments a given pixel is represented as a 24 bit 4 byte object in memory in an ARGB format. In ARGB format each byte is a number between 0 and 255 expressed using hexadecimal notation representing the intensity of the alpha red green and blue colors in the pixel. Given an incoming color request each pixel s color is translated into the target color.

Color shifting may be performed via pointer walking by adjusting the bit value of each pixel at a very low level in memory. This process provides an extremely efficient color shifting process as it omits layers of abstraction and excess object instantiation by directly transforming the colors with a mathematical algorithm and optionally only a mathematical algorithm . Thus in certain optional embodiments the color changing is performed without using libraries to abstract out the logic and instead directly accesses the references in memory to adjust the bits representing the pixel states. The colorized tile may remain in solid state local memory during the rendering process and optionally is not persisted to nonvolatile memory such as a magnetic or optical disk device.

At state 2 for each of a plurality of target zoom levels the colored source may be resized into a master tile. The master tile represents an image that is a percentage zoom of the source images which is padded with tile spacing so that it rounds up to the nearest odd tile count.

Optionally via a configurable setting a given master tile may be persisted to disk or other nonvolatile memory. Optionally by default a master tile is not persisted to reduce storage consumption. The master tile may remain in memory during the rendering of this specific zoom level and may be released to garbage collection after this zoom level s thread is complete.

At state 3 the master tile is cut e.g. virtually divided into vertical strips e.g. vertical strips that are one tile wide . This cutting process may be performed using a pointer reference in memory representing a matrix of bits that make up the pixels.

At state 4 a given master tile vertical strip is cut horizontally thereby preparing the specific tiles for rendering. This cutting process may be performed using a pointer reference in memory representing a matrix of bits that make up the pixels. Optionally the tile cross section is stored in solid state local memory during the rendering process and optionally is not persisted to nonvolatile memory such as a magnetic or optical disk device.

At state 5 the tiles are optionally stored to a disk device by copying the pixels referenced by a corresponding tile matrix and encoding them e.g. to PNG format .

At state 6 a cleanup process is performed. After tile persistence to memory the tile is released. After the last tile is in a strip is persisted the strip is released. After the last strip in a zoom layer is persisted to memory the master tile is released. After the last instruction set in a render instance request is complete the source tile is released. Releasing involves clearing the objects from memory.

At state 7 the rendering request is marked as complete e.g. by renaming the file to indicate the corresponding is complete such as Done 000000x000000 . The file naming convention may be specified by a respective portal. For example the file name may include a primary key of the drawing optionally padded by zeros or other number followed by a primary key of the drawing version. The portal may retrieve the completed files and update the database with the appropriate status.

Optionally in the event of an error such as malformed request improperly formatted input document or insufficient disk space the file name may be prefixed with an error indicator e.g. Error and or an error message comment may be written into the configuration file and or an error notification may be written to an event log.

Drawings may be displayed by stacking a series of layers using a combination of canvases e.g. HTML5 scalable vector graphics SVG canvases . A given layer may indicate drawing additions and or deletions. In the case of an overlay two or more drawing layers may be stacked on top of a white canvas. Because the tiles are transparent a user can see through the layers enabling the user to view additions or deletions between the layers. A control may be provided enabling the user to instruct the system to toggle the layer order thereby enabling the user to flip between additions or deletions respectively. The user may also instruct the system to change the color of a layer to a specified color.

Sketches or vector paths may be stacked on top of the foregoing layers. A sketch may be in the form of a series of points representing a geometric shape which may represent a building feature or other feature. The points are stored to the database in a specified format e.g. a WKT Well Known Text format . The sketches points may be rendered on the drawing using SVG Scalar Vector Graphics .

Measurements may also be displayed using SVG but optionally are not persisted to the database. The measurements may include areas calculated from regular or irregular polygons.

A user may instruct the system to print one or more drawings. The system may perform printing in a vector fashion. When a print request for a drawing comes through either as a single or via a batch the system opens the source file which may be in the form of a PDF file injects print objects and then feeds the document to the printer in substantially real time.

A given sketch may be written into the source file after the coordinate system is translated. The coordinate translation optionally takes into account for zooms rotations and a dynamic document size.

The system optionally is configured to display a document for review in a browser without requiring any plugins to be installed e.g. without Flash or Adobe Reader .

Certain embodiments of the plan management system enable various stakeholders to add comments to an electronic plan design document. By way of example for a building plan the stakeholders may include various departments in a government plan checking agency or architects engineers contractors consultants construction project managers etc. that are involved in reviewing commenting and requiring changes to building related plans. The comments may be tied to a specific building feature in a plan drawing or to a specific location on the design drawing. The comments may also apply to the project overall and need not be directly associated to a specific building feature or location. Of course the stakeholders may be different with respect manufacturing documents design documents or other document types.

A comments data store e.g. with a table structure is provided that is configured to store in a searchable form comments properties and metadata associated with a given project or permit application and which may include references to one or more specific plans or plan sheets. For example a given comment record may include or be linked to some or all of the properties and metadata discussed herein. In addition a standard comments table may store a library of reusable comments that may be accessed by a user and added to associated with a project permit and its specific plan sheets. Users can add terms or properties to a given comment type to facilitate the organization grouping and reporting of those comments.

Thus the comment tables provide users and administrators the ability to search for comments by entering a search string into a search field and or by selecting properties metadata from a filter menu. By way of example a given comment may be associated with metadata including author date of creation modification history modification authors comment status information categories subcategories project type discipline etc. Optionally the plan management system and or an administrator user may specify which users may assign or associate certain metadata with a comment e.g. a category subcategory discipline and or project type .

The system enables a user to conduct searches on comments including the standard comments table and to save a search query or a group of search queries to memory. Users may save their own searches for reuse and may retrieve and modify their searches via a labeled favorites control. The user can assign a user defined label which may be descriptive as to the subject matter of the saved search queries. Additionally a user may retrieve and run saved standard comment searches created by other users however optionally the system may prevent a user from modifying another user s saved searches.

Drawing comments may be associated with an image tag pasted into the drawing document e.g. with a text label placed on top of the tag corresponding to a comment number or other identifier . Optionally additional metadata may be associated with the tag e.g. the full comment that appears when the user hovers a mouse over the image tag .

As noted above in addition to being able to search for text within comments comments may be searched on based on one or more comment properties or metadata or the lack thereof . For example a user can search for comments in a permit project which have not been associated with X Y latitude longitude coordinates on plan reviews.

A given comment or group of comments may be assigned a label or flag indicative as to the subject matter and or functional use. For example a given comment or selected group of comments can be labeled as a checklist item. The system may display comments in a list format in a panel or window rather than simply at various locations distributed over a drawing. A checklist item denotes a comment review which the designator indicates must always be performed by the plan reviewer based on the business rules in place for the user. For example checklist item may include a check to make sure that building modifications proposed in a plan do not fall outside a property line. A standard comment may or may not be designated as a checklist item.

In addition users and administrators can import create and maintain one or more libraries of standard comments for reuse and define groupings of standard comments by department or other organizational group. Optionally the comments may be edited stored and displayed in a rich text format HTML or other format that encodes text formatting properties such as bolding underlining italicizing and typefaces and to provide support for tab characters carriage returns and numbered or bulleted lists. Optionally only certain authorized users such as administrators may be permitted to edit or modify standard comment text. Certain embodiments enable comments stored in another document type such as a spreadsheet or word processing document to be batch uploaded into the standard comments table for later user access.

In addition a correction list such as might be specified by a plan checker or architect may be automatically grouped generated and formatted based on a user specification. The correction list may then be provided to the applicant architect or other end user. After the applicant has corrected the noted items the applicant may resubmit corrected plans also referred to as a resubmittal for plan check and approval. Optionally this process of reviewing the plans requiring corrections and resubmitting corrected plan sheets may continue until all the respective plan reviewers determine that all outstanding issues have been resolved and the permit can be issued by the appropriate governing agency.

A user may select one or more comments or groups of standard comments and insert them with a command e.g. a single command into a permit project plan review data record. Optionally a user may choose to associate a comment with one or more plan review sheets and set an X Y coordinate with a command e.g. a single command . Optionally comments that are associated with action items or that need to be reviewed e.g. in progress reviews may be assigned by respective departmental queues and displayed as such.

Comments may be displayed in one or more scrollable collapsible panels windows optionally at the same time a plan drawing sometimes referred to as a plan sheet is displayed. Optionally the system automatically and or in response to a user command refreshes displayed comments so as to include any changes by other users.

Optionally the system enables batch uploading of plans and supporting documents into the system by a user and further provides batch assembly of plan sheets and supporting documents into a file such as a compressed vector file e.g. a PDF formatted document compressed into a ZIP file . Optionally the system enables the assembly of single sheet PDF documents into a multi page PDF document.

Certain example user interfaces will be discussed with reference to the figures. It is understood the other embodiments of the user interfaces can include fewer or more features and that a given user interface or a portion thereof can be combined with another user interface or a portion thereof.

The user can instruct the system to make a given layer invisible or visible. When requested the plan sheet and associated layers with their objects can be assembled and re rendered as a PDF document by the system. The information in a given layer may be provided created by one or more entities such as an architect contractor or plan checker permit approver. The application provides the ability for multiple users to modify the same plan sheet concurrently in substantially real time and optionally ensures that a given modification made by a user is made visible to other users when a save or refresh operation is performed.

The tools may include drawing tools e.g. to draw lines and shapes add objects from a library etc. analysis tools and file tools e.g. save open PDF export download overlay etc. . A summary pane displays summary information regarding the displayed plan sheet including for example a unique plan identifier e.g. a plan review number and or physical address associated with the construction project a drawing sheet number of the displayed plan sheet a description previously entered by a user a submittal number which may be used to manage group plan sheets which have been corrected and resubmitted for subsequent plan check department information e.g. of departments or other organizational entities that are tasked with performing a plan review version number and application contact.

In response to a user activating the illustrated view attachments control the plan management system will retrieve from local or remote memory and display previously stored related documents. Typical examples of such attachments may include a copy of the permit application a soils study document calculations e.g. related to energy efficiency square footage etc. a photo image e.g. of the site a spreadsheet or word processing document saved in native or PDF format etc. These documents may be accessed by the user for viewing e.g. by downloading or viewing via a browser as well as for the digital application of a stamp or seal. In response to a user activating the illustrated codes ICC codes control the plan management system will access and retrieve from a remote standards database e.g. the ICC International Code Council database and provide the user with access to some or all of the corresponding code tables. Optionally a search field may be provided via which the user can search for particular ICC codes. Optionally the search may be submitted to the remote database which will conduct the search and return a result. Optionally instead the search may be performed on a local copy of the ICC code tables. In either case the user can add an associated ICC comment into the plan e.g. into the plan panel or the drawing comments area and edit the pasted comment. This speeds up the comment entry process and reduces the amount of errors that may occur relative to a user manually typing in a code comment. Other industry standard code databases or websites can also be made available to provide the foregoing or similar functionality as desired by the user.

Zoom controls are provided via which the user can instruct the plan management system to zoom in or out at various levels with respect to the displayed sheet.

A drawing comments area lists the comments associated with the displayed plan sheet. If the space provided in the comment panel for a given comment is insufficient to display the entire comment at once only a portion of the comment may be displayed in the panel e.g. the first 50 characters . The comments list may be scrollable so that a user may scroll through a list that is longer than can be displayed in the area provided. In this example a given comment is associated with a unique comment identifier referred to as a comment tag with respect to the displayed plan sheet. In the illustrated example the identifier is numerical although the identifier may be an alphabetical alphanumeric graphical and or other type of identifier.

The user interface illustrated in also provides a comment log control which when activated causes the system to open a new page which generates a comprehensive table of comments for the given permit project and any associated plan sheets see B and which illustrate different sections of an example user interface and metadata recorded by the system or user. This data may be filtered in a number of ways by the user and can be used to automatically generate a correction list for the permit applicant or end user in response to a user activating a corrections report control provided via the comment log user interface. The comment log user interface page may include several sections including by way of example a search panel a search results panel and a comments editing detail panel examples of which are described below with respect to other figures. The user may choose to select a comment from the list and choose an edit comment control which may allow for editing of the comment detail.

A refresh control is provided which when activated causes the application to re query the comments table for the particular permit project to display any changes made since last refreshed. A control is provided which when activated causes a comment data entry form e.g. a single comment data entry form to be displayed via which the user can enter a comment which will be added to the displayed plan sheet at a chosen X Y coordinate. When a user clicks on the small open or closed circle placed to the left of the comment in the panel list the system causes the plan image to shift until the selected comment identifier tag is placed in substantially the center of the drawing review page.

When a user hovers a cursor or otherwise points to a given comment on the drawing review page the comment is displayed in a pop up window panel optionally in association with an element in the plan e.g. a structural plumbing electrical or fixture element . For example there may be a visual association between the comment and the element such as a line connecting the comment to the element or a highlighting of the element associated with the comment. The comment text may be displayed in full or at least to a greater extent than in the comment panel list. The user may also request that the plan management system format and display the comments via a PDF document XML documents or the like.

A drawing layers control is provided via which the user can specify which layer of the plan sheet is to be displayed e.g. document comments sketches approval stamps measurements closed comments etc. .

As illustrated in the plan management system is configured to generate a PDF document or other specified document format of the plan sheet including sketches stamps and other modifications accessible by a PDF viewer application or other applicable view application which properly displays the comment identifier tags comments as pop up windows and an embedded list of comments from the comments table.

As noted above the plan management system facilitates plan checking. For example a plan may be submitted for approval such as to a governmental agency for plan check. Multiple departments may be involved in the plan check process such as a building department fire department water department. In an example embodiment after intake for plan check a drawing status for given plan sheet and a respective assigned department is set automatically or manually to Not Started and the drawing records are sent to a queue for pickup by the appropriate department or an assigned user. Once a departmental plan checker starts their departmental review the plan management system will change the sheet status for that department from Not Started to WIP work in progress . As a permit status or departmental workflow statuses are changed the plan management system creates an audit record in the event log table.

After the departmental review is completed for the plan sheet the plan checker may change the workflow status to Approved or if there is a correction need to Resubmit .

The plan management system may monitor the status of each plan sheet with respect to each department and when the plan management system determines each departmental review has been completed e.g. all the drawing statuses have been set to Approved or Resubmit the plan management system automatically changes the permit status to Ready to Issue and notifies the appropriate personnel e.g. permit supervisor via email instant messaging SMS MMS or otherwise.

As noted above the plan management system may provide a library of commonly used or standard comments which optionally come pre populated with a standard installation of the plan management system or which can be imported into the standard comment table by a user. A user may select and customize a standard comment from the library or create a new standard comment which can be selected by a plan review user to link to associate with a given plan sheet or to include in permit project review as a whole without a specific sheet assignment. Thus users administrators are provided the ability to customize the standard comments and review comments to fit the needs and terminology of their particular agency via a list management user interface.

A system list may include access e.g. manager user roles and system security roles permit status e.g. defines current workflow status of a permit record such as open on hold withdrawn ready to issue issued and resubmit etc. and drawing status e.g. defining the current workflow review status of a drawing such as not started WIP work in progress resubmit and approved .

Each agency department may edit a descriptive item label and assign its own alpha numeric codes to a given entry. These lists may be presented throughout the plan management system user interfaces such as in dropdown controls or menus that are used for filtering searching and sorting comments as well as in generated reports such in report graphs charts and timelines.

A sort control may be provided which when activated by a user sorts the comments to preview the order in which the comments will appear in the correction list. The user interface enables the user to specify what sheet comments are to be included in a correction list the order and groupings in which the comments are to be presented and the appearance of the comment text bolding italicized etc. . For example the user may want to specify that general comments are displayed above structural comments application comments are to be displayed above administration comments etc. The user interface may enable the user to sort on discipline or project type category and subcategory a free form text field labeled section for storing building code information the text of the standard comment checklist flag creation date and status e.g. active or inactive . As discussed with respect to the plan management system can render a customized correction list report in accordance with the user s specifications. The system may inhibit comments designated with an inactive status from being displayed to plan reviewers via the search tool of the standard comment library.

As similarly noted above administrators can batch upload standard comments into the standard comment table from a document such as an XLS or CSV document before or after which a user may format the standard comments to reflect bolding italicizing bullet and numbering and hyperlink formatting classify a given comment record by discipline or project type category and sub category and flag a given standard comment as a checklist or required for review item as illustrated in . This ability to classify comments not only helps manage the comment library it also enables a user to locate a desired comment quickly and efficiently but may also be used to define the grouping and sorting and placement of the comments on the correction list reports.

As illustrated in an add comment control is provided to allow a user to manually add a record to the standard comment table. A print control causes the application to open a report of the comments in a PDF document. A search control is provided via which the administrator can search for standard comments by specifying query text and optionally fields where the text is to be found.

The plan management system can record and track in substantially real time users actions and permit status. For example the plan management system can track how many permits have not started the review process the number of resubmits the number of work in progress or approved overall and or by department. The plan management system can also track comment status by department e.g. how many are open or closed how many drawings have been accepted by department and submittal counts by department. The plan management system can analyze the recorded information and generate reports in substantially real time including graphs reporting the foregoing information. For example a report can be generated reporting permit count status for each status type for one or more periods e.g. on a month by month basis using a bar type graph. Further the plan management system can generate a report of current comment status by department submittal counts by department and drawings accepted by department. Example graphical reports are illustrated in . The recorded and reported information can be exported via one or more different formats such in a CSV RTF or DOC file or other word processing spreadsheet or database document file.

As discussed above certain embodiments of the system provide extensive search facilities. As illustrated in a search user interface enables a user to search for comments based on some or all of the following criteria by department disposition status reviewer ID sheet number comment type discipline or project type e.g. electrical plumbing structural etc. comment text category sub category submittal identifier record number range reviewer firm comment date range etc. Thus using the illustrated user interface a plan checker can search for and view comments placed by any user in any department unless otherwise restricted by an administrator . The user interface enables for example a department to group and sort their correction lists by categories and subcategories. An administrator can specify which users may edit add and or delete comments e.g. based on user roles .

A user can also search the standard comments library for a desired appropriate comment and then via the search results select and insert one or more located comments into the comment log table for a permit project as well as on a specific plan review sheet. Then as similarly described above on the plan review sheet tagged comments are displayed in a list in automatically numbered tags. The tagged comments appear as pop ups over the plan sheet optionally in association with the item being commented on when a user hovers a cursor over the comment in the list. A tagged comment may optionally include an x y coordinate indicating the item in the plan sheet that the comment is associated with or where the comment is to be displayed. The system may substantially center the portion of the plan sheet corresponding to the x y coordinate in the plan sheet review display area.

Referring to a simple search control is provided which when activated causes a simple text search user interface to be displayed as illustrated in . The user can enter a text string and the plan management system search engine will search for matching comments and return the matching comments for display to the user. The illustrated example simple search interface does not include additional filtering menus.

Referring again to an advanced search control is provided which when activated causes an advanced search user interface to be displayed providing extensive user selectable filtering of comments by department discipline or project type category sub category submittal disposition impact sheet number user date ranges etc. optionally in addition to providing a field configured to receive a textual search string. Examples of advanced search user interfaces are illustrated in .

As illustrated in a pop up menu is optionally provided which may be accessed via a mouse click or otherwise. The pop up menu includes a plan review option. If the comment record contains coordinates with respect to the plan sheet e.g. x y or polar coordinates activating the plan review option causes the plan management system to open the drawing and the corresponding comment tag in a new window. The pop up menu may also include an attachment option. If the comment is linked to an attachment activating the attachment option will cause the plan management system to open the selected file in a new window. The pop up menu may also include a delete option which when activated causes the plan management system to delete a comment selected by the user if the user has rights to make such a deletion. also provides an add standard control which causes the application to active the standard comment search interface see .

The right side of the user interface illustrated in displays the matching comment s identified by the search engine including the parameters that match the additional filters e.g. category subcategory etc. in a sortable table which may be sorted on one or more of the table fields . A checkbox filter option labeled ChkList is provided in association with a given search result which if chosen will cause the system to retrieve and or display only those standard comments which have been designated as a checklist item. A Select all checkbox is provided to the left of the Category column in this example via which the user can select or unselect all of the comments provided in the search results.

In this example the correction list is organized to list the category building comments first and within the category of building comments to list the application subcategory comments first and the administration subcategory comments second. The system may access and display in association with a given comment an associated sheet identifier e.g. E100 of the plan sheet the comment is associated with and a comment tag number e.g. 0004 . The comments may include corresponding building code numbers identifiers where the comments are extracted from a building code data store e.g. the ICC code table . The correction list report may also identify who is performing the plan check and the plan checker s contact information. Users can preview the permit s corrections comments log by activating a preview control.

As noted above certain embodiments enable a user to batch import standard comments into the system and to record metadata for each review comment. illustrates a list interface illustrating certain metadata assigned to lists being imported. A list type is selected e.g. Disciplines or Project types Category Subcategory . An order value may be assigned which may be used by the system to sort the correction list headings in numerical order in accordance with the order number e.g. display order 1 comments before order 2 comments display order comments before order 3 comments etc. . A primary key PK value is a unique identifier assigned by the system where a given list has a unique code. The system may use the primary key value to import standard comments from a file such as an XLS spreadsheet file and to link the incoming comments to matching List records. A user may assign a label to the list that describes the list. The system may display the label on reports such as on correction list reports. A value which may be a descriptive short name e.g. an abbreviated version of the label or a code may be entered by the user. The value may be used by the system on controls graphs timelines and reports.

In the example illustrated in based on the order numbers the Residential Initial RE INIT comments will be positioned at the top of the Correction list followed by architectural comments mechanical etc. Optionally the system allows comment records to be assigned the same order number and does not require sequential ordering of records.

The correction list reports may be grouped by the discipline then by the category and then by a subcategory using the order number and then the label value. Where two or more records have the same order number in certain embodiments the records having the same order number may be sorted by the system alphabetically or using other criteria. The foregoing features enable different agencies entities flexibility in defining how to group list records.

By way of illustration in the example illustrated in for the list type Category the user has created a numbering scheme within the Label and Value columns and set the ordering for each record. Similarly in the example illustrated in for the list type Subcategory the user has created an alphabetical ordering scheme within the Label and Value columns and set the ordering for each record.

Once comments e.g. standard comments have been uploaded or manually entered into the database an administrator can check the information to see how it will sort on the correction list report. This validation can be run on all standard comments or on a filtered set of comments. A user can activate a sort control and the system uses the PK values in the comment record to locate corresponding order values in the list tables and to sort the results accordingly. The user can change the sort as desired. For example the user can modify the order values in the discipline category and sub category records from the list management user interface and the system will resort the comments accordingly.

Thus as described herein certain embodiments enable a user to add comments such a plan check comments to plan sheets and to search filter and report on comments added to an electronic building related document. Further certain embodiments enable a user to upload standard comments en masse. Yet further certain embodiments enable that automatic generation of correction lists including comments from multiple departments.

While certain embodiments have been described with reference to the management of building design related documents for illustrative purposes embodiments described herein can likewise be utilized for managing manufacturing documents clothing design documents or other types of design documents.

User interfaces described herein are optionally presented and user instructions may be received via a user computing device using a browser other network resource viewer or otherwise. For example the user interfaces may be presented and user instructions received via an application sometimes referred to as an app such as an app configured specifically for building plan related activities installed on the user s mobile phone laptop pad desktop television set top box or other terminal. Various features described or illustrated as being present in different embodiments or user interfaces may be combined into the same embodiment or user interface. While the disclosure may reference to a user hovering over pointing at or clicking on a particular item other techniques may be used to detect an item of user interest. For example the user may touch the item via a touch screen or otherwise indicate an interest.

While the foregoing discussion and figures may illustrate various types of menus other types of menus may be used. For example menus may be provided via a drop down menu a tool bar a pop up menu interactive voice response system or otherwise.

The systems and methods disclosed herein can be implemented in hardware plan management system firmware or a combination thereof. Plan management system can include computer readable instructions stored in memory e.g. non transitory tangible memory such as solid state memory e.g. ROM EEPROM FLASH RAM optical memory e.g. a CD DVD Bluray disc etc. magnetic memory e.g. a hard disc drive etc. configured to implement the algorithms on a general purpose computer special purpose processors or combinations thereof. For example one or more computing devices such as a processor may execute program instructions stored in computer readable memory to carry out processed disclosed herein. Hardware may include state machines one or more general purpose computers and or one or more special purpose processors.

While certain embodiments may be illustrated or discussed as having certain example components additional fewer or different components may be used. Further with respect to the processes discussed herein various states may be performed in a different order not all states are required to be reached and fewer additional or different states may be utilized.

While reference may be made to a webpage other interfaces such as may be provided via a phone application a toolbar an interactive television or otherwise may be used. While reference may be made to a browser other applications may be used to view and navigate objects e.g. web pages or other documents . While reference may be used to standard comments for purposes of illustration the systems and methods disclosed herein may be also used with respect to other types of comments including customized non standard comments.

Conditional language such as among others can could might or may unless specifically stated otherwise or otherwise understood with the context as used is generally intended to convey that certain embodiments include while other embodiments do not include certain features elements and or steps. Thus such conditional language is not generally intended to imply that features elements and or steps are in any way required for one or more embodiments or that one or more embodiments necessarily include logic for deciding with or without user input or prompting whether these features elements and or steps are included or are performed in any particular embodiment.

Any process descriptions elements or blocks in the flow diagrams described herein and or depicted in the attached figures should be understood as potentially representing modules segments or portions of code which include one or more executable instructions for implementing specific logical functions or steps in the process. Implementations are included within the scope of the embodiments described herein which elements or functions which may be deleted depending on the functionality involved as would be understood by those skilled in the art.

Various aspects and advantages of the embodiments have been described where appropriate. It is to be understood that not necessarily all such aspects or advantages may be achieved in accordance with any particular embodiment. Thus for example it should be recognized that the various embodiments may be carried out in a manner that achieves or optimizes one advantage or group of advantages as taught herein without necessarily achieving other aspects or advantages as may be taught or suggested herein. Further embodiments may include several novel features no single one of which is solely responsible for the embodiment s desirable attributes or which is essential to practicing the systems devices methods and techniques described herein. In addition various features of different embodiments may be combined to form still further embodiments. For example aspects found in different user interfaces may be combined to form still further user interface.

