---

title: Method and apparatus for generating and displaying tourist maps
abstract: A computer-implemented method and system may modify categories for points of interest (POIs) for display on a map at a client computing device based on a bias value corresponding to a classification of a user. A system may receive interaction events from client computing devices. The interaction events may each include an indication of a user interaction with a POI displayed on a digital map at a client computing device and each POI may include a category and a default zoom level. Using a user's location data, the system and method may classify the user based on the user's familiarity with an area surrounding the interaction event POI and assign a numerical bias to POIs that include the category of each interaction event POI. Subsequent requests for mapping data may then return categories of POIs according to the type of user sending the request based on the bias value.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08954860&OS=08954860&RS=08954860
owner: Google Inc.
number: 08954860
owner_city: Mountain View
owner_country: US
publication_date: 20120827
---
The present disclosure relates generally to generating and displaying maps within a web based mapping system and more particularly to generating and displaying maps based on determining that the system user is a tourist.

The background description provided herein is for the purpose of generally presenting the context of the disclosure. Work of the presently named inventors to the extent it is described in this background section as well as aspects of the description that may not otherwise qualify as prior art at the time of filing are neither expressly nor impliedly admitted as prior art against the present disclosure.

Many mobile computing devices such as cellular phones tablet computers notebooks etc. incorporate global positioning system GPS applications and related hardware. When actuated on the device the GPS applications may communicate with a GPS transmitter or other GPS hardware on the device and a backend application server to provide a digital map of an area around the device s current position to a user as well as label data and place page data. While planning a trip a tourist may use a web based or other mapping system to display a map of their proposed destination. Similarly because these computing devices are mobile users travel with the devices and use them to display maps of unfamiliar destinations.

Typical mapping systems generate and display identical maps for every user. For example the mapping system may receive a request from both a local resident and a tourist for a map of a particular area. In response to the request typical mapping systems return identical or nearly identical maps regardless of whether the requestor is a local resident of the requested map area or a tourist visiting or searching for the same requested map area.

Features and advantages described in this summary and the following detailed description are not all inclusive. Many additional features and advantages will be apparent to one of ordinary skill in the art in view of the drawings specification and claims hereof. Additionally other embodiments may omit one or more or all of the features and advantages described in this summary.

In some embodiments a computer implemented method may modify a category of points of interest POIs for display on a digital map at a client computing device based on a bias value corresponding to a classification of a user. The method may receive a plurality of interaction events from a plurality of client computing devices via a computer network. The interaction events may each include an indication of a user interaction with a POI that is displayed on a digital map at a client computing device. Each POI may include a category and a default zoom level and the map may include a plurality of POIs.

The method may also compare location data corresponding to one or more of a client computing device or user profile data to an area of the digital map surrounding the interaction event POI to determine a user classification corresponding to the interaction event. The user classification may indicate a degree of familiarity with the area of the digital map surrounding the POI of the interaction event for each originator of an interaction event.

The method may then assign a numerical bias to map POIs that include the category of each interaction event POI. The bias may include a bias value and an indication of a user classification. Subsequent requests for one or more of the biased POIs may each include a request zoom level. Each request may also originate from a client computing device having a user classification that corresponds to at least one indication of user classification for the biased POIs. The method may then calculate a rank for the each biased POI within the request. The rank may be based on both the bias value for each biased POI of the request and the user classification of the client computing device associated with the subsequent request. Further the method may modify the default zoom of one or more the biased POIs to the request zoom level based on the calculated rank and send the requested mapping data to the client computing device in response to the subsequent request.

Other embodiments may include a computer implemented method for receiving modified point of interest POI data at a client computing device in response to a request for mapping data to display POIs that are most relevant to a classification of the user sending the request. The method may send a plurality of interaction events. Each one of the interaction events may be sent from one of a plurality of client computing devices to a remote mapping system via a computer network. The interaction events may each include an indication of a user interaction with a point of interest POI displayed at a client computing device within a digital map and a user classification for each originator of an interaction event. The map displays a plurality of POIs and each displayed POI includes a category and a default zoom level. For each interaction event the method may send location data corresponding to one or more of a client computing device or user profile data from the plurality of client computing devices to the remote mapping system via the computer network. The method may then subsequently send a request for mapping data from a client computing device to the remote mapping system via the computer network. The request for mapping data may include a request zoom level a map area including one or more interaction event POIs and a user classification for a user of the client computing device. The method may also receive the requested mapping data at the client computing device from the remote mapping system via the computer network in response to the request. The received mapping data may include one or more biased POIs. Each biased POI may include the request zoom level and a bias value corresponding to both the POI category and the user classification of the request. The method may then display the received biased POIs at the client computing device. Each displayed biased POI may include a bias value over a threshold value.

In still other embodiments a computer system may modify a category of points of interest POIs for display on a digital map at a client computing device based on a bias for a type of user to interact with that category. The system may include two sub systems a point of interest bias system and a mapping system. The point of interest bias system may be in communication with a memory storing instructions for execution on a processor of the point of interest bias system. The instructions may include receiving a plurality of interaction events from a plurality of client computing devices via a computer network. The interaction events may each include an indication of a user interaction with a POI that is displayed on a digital map at a client computing device. Each POI may include a category and a default zoom level the map including a plurality of POIs. The instructions of the point of interest bias system may also compare location data corresponding to a user to an area of the digital map surrounding the interaction event POI to determine a user classification corresponding to the interaction event. The user classification may indicate a degree of familiarity with the area of the digital map surrounding the POI of the interaction event for each originator of an interaction event. Further the instructions of the point of interest bias system may assign a numerical bias to map POIs that include the category of each interaction event POI. The bias may include a bias value and an indication of a user classification.

The mapping system may be in communication with a memory storing instructions for execution on a processor of the mapping system. The instructions may be to subsequently receive a request for mapping data. The request may be for one or more of the biased POIs and include a request zoom level. The request may be sent from a client computing device having a user classification that corresponds to at least one indication of user classification for the biased POIs. The instructions of the mapping system may also calculate a rank for the each biased POI within the request the rank based on the bias value for each biased POI of the request and the user classification of the client computing device associated with the subsequent request. Further the instructions of the mapping system may modify the default zoom of one or more of the biased POIs to the request zoom level based on the calculated rank and send the requested mapping data to the client computing device in response to the subsequent request.

The figures depict a preferred embodiment for purposes of illustration only. One skilled in the art may readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles described herein.

Generally a mapping system may generate vector data in response to a search or other request from a client computing device and send the vector data to the client. The vector data may include data for various points of interest POI that are represented on the map. To render a map image in a web browser mapping application or another application the client device may request map data from the map server via a communication network. In response the map server may provide vector data that describes map graphic content roads buildings parks terrain features etc. as well as POI restaurants stores offices hospitals tourist attractions etc. . More particularly the vector data may specify various geometric shapes e.g. using mathematical descriptions formulas etc. for map features and indicate how these shapes should be positioned for rendering various map graphic content and POI on the client computing device. The map server also may specify which visual styles the client device should apply to various vector based descriptions of map features.

A mapping system may prioritize POI data for display in a map based on various other data such as a user profile an analysis of user activity and interaction with the POI data and other data. For example one type of system may generate the vector data to include POI data in a manner that changes based on whether the user of the mapping system is a tourist or a local resident of the geographical area being displayed in the map. In particular the mapping system attaches a bias to categories of map POI based on whether a tourist or a local is more likely to interact with that category of POI. The bias may include a numerical value e.g. from zero to one that when combined with another numerical value for the POI zoom level may push the POI up or down to be displayed at different zoom levels based on how desirable that category of POI might be for a type e.g. tourist or local of user. Categories of map POI are pushed up or down for display at different map zoom levels to make the map more relevant to a tourist or a local as it is displayed at the client computing device.

Mapping system users may be classified as either tourists or locals. For example each point of interest may include a category e.g. Italian restaurants hotels grocery stores theaters etc. and user interactions with POIs may be logged. The mapping system may determine a category bias for each point of interest based on a classification of each user interacting with that POI. Subsequently when a user classified as a tourist or local or another class accesses a digital map including POIs within categories that have been biased more or less for that user s classification the mapping system may modify the zoom level for the POI within those biased categories. This modification may be reflected within the vector data sent to a client computing device in response to a request for mapping data and may cause the client computing device to display the POIs within the biased category at a higher or lower zoom level. For example if a high number of tourist users interact with POI having the category of Italian restaurant then the mapping system may modify vector data including POI in the Italian restaurant category in response to a request from a client computing device with a tourist user. When the tourist client computing device receives and processes the modified vector data the tourist client computing device may display Italian restaurant POI at a higher zoom level than if the received data was in response to a request from a local user client computing device.

When users interact with a map POI such as individual Italian restaurants a mapping system server may anonymously log the user interaction with a home and current location of the user. If the home location of the user differs from the current location of the user the interaction may provide the bias of a tourist to the category of Italian restaurants in some degree depending on the distance from the user s home location. The degrees of tourists may differ from across town to across the country and around the world. The mapping system may collect these category biases over time and provide the biases of tourists versus locals towards those categories of POI. For example the mapping system may provide client computing devices having a class of users with a higher category bias towards Italian restaurants with vector data indicating a higher zoom level for Italian restaurants. Alternately if Italian restaurants have a lower category bias for the current user the mapping system may generate vector data indicating a lower zoom level for those POIs. The mapping system may also provide modified vector data for any particular POI that has overwhelming interaction regardless of the user class. The modified vector data may include data to cause the client computing device display bold text extra data highlighting or other indications for the rendered POIs.

For simplicity the client device is illustrated with a single processor to execute various modules stored in the device memory as described herein. The client device in other embodiments may include additional processing units not shown such as a graphics processing unit GPU configured to facilitate image rendering on the display for example. Further the mapping module may utilize a library of graphics functions for efficiently generating a map image. For example the memory may store a plugin such as an OpenGL or Direct3D library having functions for rendering graphics which various applications executing on the client including the mapping module may access via an application programming interface API . In another embodiment the memory stores a plugin particularly suitable for browser applications such as WebGL for example. Also in some embodiments the memory stores additional software components that facilitate efficient rendering of images via the display device . For example the memory may store an Adobe Flash plugin or an O3D plugin.

While the system is illustrated in as including the mapping system and the point of interest bias system as backend components the components and functions of the system described herein may also be incorporated on the client computing device . For example the POI bias system may be implemented as computer executable instructions of the mapping module the mapping system or as a separate module or system.

The mapping system may include a mapping system server in the form of one or more servers that may be communicatively linked to a map data repository that stores map tile data and point of interest POI data . The server may include a processor memory and instructions stored in the memory . A POI Ranker module may provide instructions and other functions for using the map tile data POI data data from the point of interest bias system data from the client computing device etc. to facilitate the creation and display of tourist maps with the server . In some embodiments the mapping system and the mapping system server may send computer executable instructions and data to allow the mapping module at the client computing device to render a digital map including modified POI data .

With reference to POI listing data may include any data structure that is able to store information about a specific POI e.g. a business a historical landmark a park an airport an office a school etc. . A POI listing may include data about a POI such as the name of the POI a location of the POI e.g. longitude and latitude coordinates a unique identifier for the POI one or more categories rating or review data a zoom level at which the mapping module of the client device displays the POI or other information about the POI

The POI categories may represent a characteristic of the POI or a type of POI. For example a POI listing may include category data such as business restaurant pizza restaurant restaurant chain shopping center retail store landmark park university or some other category that may be used to group POIs. In some embodiments the categories may be organized into a hierarchical graph in which a category may have one or more parent categories and one or more child categories. For example the business category may have restaurant and retail store categories as child categories and the restaurant category may have Italian restaurant and restaurant chain as child categories.

In some embodiments the mapping system may include one or more modules stored within memories of the various system components. The modules may include instructions that when executed by a processor identify a user of a client computing device that is currently using the mapping system as tied to a particular geographic region in some degree. In some embodiments the mapping system may execute instructions to compare a current location of the user via a GPS module to other data to indicate whether the user may be currently classified as a tourist or a local. This classification may be used as an indication of the user s familiarity with the POI of the interaction event or of an area surrounding the POI for the originator of the interaction event generally. In other embodiments the system may execute instructions to determine whether the user is a tourist or a local based on a comparison of mapping system data and the current map generated by the mapping module and displayed on the client computing device. For example the system may execute instructions to compare the user s current location currently viewed map or other data against user profile data corresponding to each user of the client computing device . The user profile data may include data indicating a degree of familiarity of the corresponding user for areas of the digital mapping data . In still other embodiments the system may classify a user as having various degrees of familiarity with search result. For example the system may classify a particular search result as a home neighborhood city county or a foreign neighborhood city or country.

The system may notify a user that it uses information associated with the user s interaction with a digital map to identify the geographic location of interaction event POIs and or the user s computing device. A user may consent to the use of the information associated with the user s interaction with the mapping system. For example the user may indicate his or her consent via a webpage or within a map within the display . The interaction events and information associated with the events may be encrypted before any information is stored in the system . Further a client computing device may periodically seek a user s consent for the continuing use of his or her location information. A user may also initiate a revocation of a previously consented use of his or her location information.

The mapping system may also collect and store user profile data after a user has consented to such data collection and storage. The system may also initiate periodic requests for the user to re consent to any personal data collection or may occasionally display an interface to allow the user to opt out of any data collection. The user profile data may include a user s preferred geographic locations a user s current address or other data indicating that a user corresponding to the user profile data is familiar with a particular geographic region and locations. The user profile data may also include a social networking profile a user profile for the mapping module a profile of the client computing device or any other link to data indicating the user s home address. The mapping module may also store user profile data locally at the client computing device . In some embodiments the client computing device in general and the mapping module in particular may execute instructions to send user profile data from the device to the mapping system via the network and server for storage in the user profile data repository .

The point of interest bias system may include a bias system server . The server may be in the form of one or more servers and may be communicatively linked to the client computing device via the network and a map activity log that tracks which type of user e.g. tourist local etc interacts with the POI data . The server may include a processor memory and instructions stored in the memory . In some embodiments the POI bias system and the bias server may send computer executable instructions and data to allow the mapping module at the client computing device to render a digital map including modified POI data i.e. POI data that is displayed at elevated or lowered zoom levels within a digital map displayed at the user s computing device for tourist or local users.

The map activity log may be configured to obtain user interactions received from the client device with the user s consent and anonymously log interaction events . These user interaction events may be of various types e.g. selections of POI listings on a mapping interface selections of POI listings on a search result interface search queries associated with the POI listing etc. received by the server via the network . In one embodiment in order to conserve computing resources the log may not log every user interaction received by the server . Instead the log may log a smaller sampling of user interactions for a period of time. The smaller sampling may be a random or near random selection of user interactions.

The log or other component of the point of interest bias system may also be configured or include instructions to determine which categories of POI data are associated with each logged user interaction. For example a user interaction event may be associated with a particular category of a POI data listing e.g. the user interaction is a selection of a POI listing on a digital map displayed at a client computing device within a mapping interface . The log may match the user interaction to one or more categories associated with the user interaction by locating the POI data listing stored in the mapping system data repository and identifying one or more categories that the POI data listing is associated with. As such the interaction events may include a history of user interactions with the POI data and other system components and data.

A category bias pipeline module may include instructions to determine and assign a POI bias to various POI data in response to a request for mapping data from a mapping module or an interaction event with the mapping data where the system previously determined whether the user is a tourist or a local. For example if the mapping system determines that a current request for mapping system data in general and interaction with POI data in particular originates from a local user then the category bias pipeline may assign a local bias to particular POI data that may be returned with mapping system data in response to the request or in response to a user s interaction with the POI data . Depending on the user s classification the system may assign either a local bias tourist bias or any range of bias as described herein to the various POI data in response to various data requests or interactions with the POI data from the mapping module . The client device may then display the modified POI data .

In another embodiment category bias pipeline may be configured to monitor a number of categories and determine a number of user interactions associated with each of the categories . For example the pipeline may maintain a counter for each category and increment the counter corresponding to the type of user e.g. tourist local etc. for a category when the log determines that a user interaction event is associated with that category . The pipeline may also be configured to determine a category bias score for each category based on the number of interactions associated with the category e.g. the category s counter value for the type of user e.g. tourist or local . The bias may be used to represent how popular or how useful a category is to a tourist or local user.

In a still further embodiment the bias pipeline module may include instructions to assign a bias to data associated with the POI. For example the module may include instructions to assign a bias to POI data based on the categories of each POI data listing e.g. Italian restaurants historical sites emergency services etc. and the type of user. For example the highest number of tourist users may interact with POI data having an Italian Restaurant category . In this scenario responses to map tile requests having POI data within the Italian Restaurant category and a location within the requested geographic area may be biased such that Italian Restaurant POI data is visible at a higher zoom level than POI data in other categories. For example the bias module may modify the zoom level of all POI data listings having the category of Italian Restaurant if the requesting user is a tourist.

Using the calculated bias the POI ranker module may be configured to prioritize a POI data listing for display on a map. In some embodiments the POI ranker module may include instructions to calculate a rank for each POI listing within a geographic region requested by the client device based on the bias for the category and the classification of the user as either a tourist or local. For example the ranker module may first determine whether a mapping data request originates from client device having a tourist classification or a local classification and then rank POI data listings that satisfy the request. POI data satisfying the request may include listings having an Italian Restaurants category and listings having a Fire Stations category . Italian Restaurants may have an assigned bias of 0.5 while Fire Stations may have an assigned bias of only 0.2. In this scenario the ranker module may rank POI data having the Italian Restaurants category higher than listings having the Fire Stations category . In response to the request the client device may receive the ranked or modified POI data . The client device may then display POI data having a higher rank as determined by the ranker module at a higher zoom level than lower ranked POI data .

If a particular POI data listing belongs to more than one category the ranker module may use the average bias of all the categories that the POI listing belongs to calculate the priority score of the POI listing. In another embodiment the ranker module may use a maximum category score of all the categories of which the POI listing is a member to calculate the priority score of the POI listing.

The POI zoom level may indicate the default zoom level at which each POI may be displayed within a map at the client device without applying any tourist or local bias as described herein. For example each request for mapping system data received at the mapping system may also indicate a zoom level for which the map data is being requested. The requested zoom level may determine an amount of map tile data and POI data that the mapping system returns in response to a request from the mapping module . The size of a geographic region represented by an individual map tile depends on the requested zoom level with which the map tile is associated so that a single map tile at a lower zoom level illustrates a larger geographic area than a single map tile at a higher zoom level. The mapping module may display or the mapping system may send each POI having a location included within the geographic region of a requested map tile only if the POI zoom level matches the zoom level of the map tile request. As described herein the system may assign a bias to a category of POI data or to an individual POI data listing e.g. the other data . The POI ranker module may then execute instructions to determine which POI data categories or individual listings are most important to the particular user tourist user local user etc and cause the client device to display the most highly biased POI data for that user at a zoom level that is elevated over the default zoom level for the POI data . Thus the tourist or local bias causes the system to display categories of POI data or particular POI data listings at a higher or lower zoom level depending on the type of user that initiates the map data request from the client device .

In another embodiment the mapping system may only send those POI data listing having a rank above a threshold in response to a data request from the client device . In a still further embodiment the mapping system may send all POI data listings within the requested geographic region in response to the request but the mapping module may only display those POI listings that include a rank above a threshold. Still further the mapping module may only receive or display a predetermined number of POI listings located within the mapped area that have the highest rank e.g. the POI listings with a top ten or twenty rank .

In response to a request from a client computing device the mapping system and POI bias system may process and send graphics text and other data for a map image to be displayed on a client computing device . A client device request may also cause the mapping system to send ranked or modified POI data that may be displayed with the graphic map tile data . In one embodiment the modified POI data may include POI data having a modified zoom level based on a ranking determined by the ranker module as described above. In another embodiment the modified POI data includes a subset of all the POI data within a requested geographic region for a zoom level of the request. For example a requested geographic region may include fifty POI data listings. However the ranking module may determine that only thirty of the total fifty POI data listings include a tourist bias. In response to a request for mapping data for this requested geographic region from a tourist user the mapping system may only send the thirty POI data listings including the tourist bias.

The device may also display the modified POI data with or without also displaying the retrieved map tile data . In some embodiments the device may display the modified POI data as text data a list of POI images etc. When the client computing device requests data from the mapping system the system may generate each map tile with or without POI data according to a vector graphics format. The client device e.g. a mobile phone tablet computer etc. may locally rasterize the vector data corresponding to each map tile for display at the device .

In an embodiment the system retrieves the requested data from various servers. For example the instructions stored in the memory of the server may include a map controller for example that may be executable on the processor directly e.g. as compiled code or indirectly e.g. as a script interpreted by another application executing on the processor . With reference to the map controller includes a dynamic feature controller that generates vector data for various map elements that the system may provide as map content to the client device for a displayed map . As used herein a map feature or simply feature may correspond to an individual map element such as a building or an aggregation of several map elements such as several buildings a park and several pedestrian paths of a college campus. In general a map feature may be described using vector data. POI data may include data that describes business and or administrative aspects of the map tile features including textual information images icons and web content for the map features i.e. businesses landmarks tourist sites historical landmarks etc. etc. Typically the system displays the POI data as an icon and or text describing the feature within the map

In some embodiments in response to a request for mapping data via a search request a user interaction with POI data or other action the mapping module at the client device receives vector data that specifies both graphical characteristics of map features as well as POI data and in some embodiments modified POI data that describes map features. Vector data specifies the map features as geometric shapes using mathematical descriptions of points and paths connecting the points. For example rather than specifying each pixel that makes up a raster image of a line segment vector data may specify the two endpoints of the line segment and indicate that the two endpoints are connected by a straight line. The mapping module then may apply POI data and modified POI data as appropriate to the specified line segment so that the line segment is displayed with a particular title description category icon etc. As another example the vector data may specify the contour of a building and the corresponding POI data or modified POI data may specify the name description category icon e.g. restaurant landmark hospital etc. etc. of the building. In other words rather than receiving raster images from the map server the mapping module may receive instructions for drawing a map image on an output device of the client computing device and execute the instructions to generate a raster map image. In some cases however vector data also may include raster images as certain component elements that cannot be easily represented in a vector format.

The map controller may include various functions and operate as a module in the memory of the client computing device or in the servers of for example or the various functions may be split among the client computing device and the servers as described above. According to an embodiment the map data controller is implemented as a set of instructions that are stored on a computer readable medium and executable on one or more processors. For example referring back to the map data controller and its various functions may be distributed among the memories and and processors and

In one embodiment the map controller includes a dynamic feature controller a map tile generator a point of interest POI modifier and a map request processor . The map request processor may be configured to process requests from client devices such as the client device for map data corresponding to specified or user preferred geographic regions. With reference to each request may correspond to a data structure including a single electronic message or a series of electronic messages depending on the scenario and or embodiment. The map request may include various data that may be used by the system to generate and display tourist maps. While the request of illustrates several types of data that may be used to generate and display tourist maps the systems and methods described herein may use all or only some of the types of data. In some embodiments the request may include current location data currently displayed map location data requested location data search terms a user identification a POI ID a requested zoom level and other data . The current location data may include location data retrieved or received from a GPS module of the client computing device . The currently displayed map location data may include coordinates corresponding to a geographic location that is represented in a map currently displayed at the client computing device . The requested location data may include coordinates or other data indicating a geographic location for display within the map . Search term data may include text entered by the user in a mapping module interface that describes features of various geographic locations for display on the map . For example a request may include a search term Italian Restaurants that may return a map indicating all POI listings within the category or other POI data element matching the search term Italian Restaurants within a threshold distance of the current location of the client device or of the currently displayed map location . The user ID may include an indication of the user that sends the request from the client computing device. The user ID may correspond to a listing within the user profile data described herein. The POI ID may include a unique identifier for a POI data listing corresponding to a user interaction event described below. The request zoom level may include an indication of the zoom level for the map currently displayed at the client device or an indication of an appropriate zoom level corresponding to a search term . For example a search term for Chicago or other term describing a large area may result in an appropriately high request zoom level such that all or substantially all of the map tile data and POI data matching that term e.g. POI data having Chicago as a name location or category may be sent by the system in response to the request. Of course the request may also include other data to generate and display tourist maps using the system .

The map request processor may receive a request for map data corresponding to a two mile wide region centered at latitude 41 52 43 and longitude 87 38 11 . The map request processor may also receive data allowing the processor to determine whether the user is a tourist or local or determine another indication of the degree of familiarity that the requesting user may have with the requested geographic region by comparing the various request data user profile data and other data related to the system . Further the requested zoom level may determine an amount of map tile data and POI data that the mapping system returns in response to a request from the mapping module . The map request processor may receive a request for map tile data and a request for POI data in a single electronic message e.g. a single HTTP message or separately in respective electronic messages.

After the map request processor receives a request for map data from a client device the map controller may provide appropriate data to the client device via one or more electronic messages. In some embodiments the map request processor may include instructions to determine what type of data is being requested and execute a function call to one or more of the map tile generator and the point of interest POI modifier to retrieve the requested data from the appropriate data repository . The map tile generator may include instructions to generate map data as a set of map tile descriptors such that each map tile descriptor describes a map tile i.e. a portion of a map image of a certain size e.g. 256 by 256 pixels . The size of a geographic region represented by an individual map tile depends on the zoom level with which the map tile is associated so that a single map tile at a lower zoom level illustrates a larger geographic area than a single map tile at a higher zoom level. Data retrieved in response to a user having a tourist or local classification may be processed by the POI ranker and indicate a different zoom level for particular POI data listings than data retrieved in response to an unclassified user. For example where the POI ranker determines that a particular POI is more important to a current tourist user of the client device e.g. via data the mapping system receives or retrieves from the POI bias system etc. than other POI that may be displayed within a map tile then the mapping system may modify a zoom level of that particular POI to generate modified POI data that the mapping module displays on the map

In sum the map tile generator may generate each response to a request for map data according to a vector graphics format and a client device may locally generate a raster image for each tile. The map tile generator may retrieve the requested data from a map database such as the map tile database . The POI modifier may increase or decrease a POI zoom level in conjunction with processing by the category bias pipeline and the POI ranker module as described above in response to the request for map data from a tourist or local user.

The dynamic feature controller may be communicatively coupled to the map tile generator and POI modifier . The controller may determine which map elements are associated with the requested map data and generate vector based or other descriptions of these map elements. For example the dynamic feature controller may determine that in response to a request for map data corresponding to zoom level Zi for a certain geographic region vector descriptors corresponding to interstate highways large bodies of water etc. must be generated whereas in response to another request for map data corresponding to zoom level Zj for the same geographic region additional vector data corresponding to local roads and buildings must be generated. The dynamic feature controller may also determine that modified POI data including a location within the geographic area of the map request includes a higher or lower zoom level than other data that satisfies the request. Further in some cases the dynamic feature controller generates different sets of vector data for different map types. For example a terrain map may include map elements that are not included in a basic map for the same geographic region and zoom level.

With reference to a method may cause the system to execute instructions to assign an indication of user familiarity to the POI data . At block the system may execute instructions to receive a request for mapping data . For example the backend components may receive a request for mapping system data or a user interaction event from the client computing device via the network . The user interaction event may include an indication of particular POI data that a user selects hovers over with a pointer device searches for or performs some other action with as displayed on a digital map at a client computing device. For example a user may interact with the restaurant POI within the map . In some embodiments the user interaction event includes a POI ID as well as a user ID or other data. At block the system may execute instructions to store the event in a map activity log .

At block the system may execute instructions to analyze the received interaction event . In some embodiments executing the instructions may classify the user as either a tourist or a local user or determine a degree of familiarity a user of the client device has with POI data indicated by the interaction event data . For example the instructions may include determining whether the interaction event or request corresponds to a tourist or local user. The POI bias system server may receive the user interaction event in response to a user action with a POI displayed within a map at the client device or with a search request indicating a particular POI listing or category of POI data . In some embodiments a user may select hover or perform some other action using a pointer device of the client computing device with POI data displayed in the map . A user interaction event may also include a selection of a POI data listing on a mapping interface or a selection of a POI listing on a search result interface at the client device . To determine the origin of the request the system may execute instructions to compare location data corresponding to the client computing device or a user or user profile data that corresponds to the user ID to a current displayed map location the user s current location the requested location or other data included in the request or accessible by the system generally. The profile data may include indications of a user s likelihood to be familiar with the geographic area or POI of the search or request current location requested location etc. For example the profile data may include an indication of the user s home address favorite locations neighborhoods towns regions or countries a birth city or other cities of past residence and periods of time the user visited or lived in those areas and other information. By comparing the profile data to other data indicating the current position of the device a favorite location of the user search request data and other data block may determine a user s familiarity with the requested mapping data and thus determine whether the received data corresponds to a tourist user or a local user. Block may also execute instructions to determine varying degrees of each designation. For example the event data or request may originate from a client device within a user s home neighborhood home city home county or foreign neighborhood city or country.

At block the system may execute instructions to determine and assign a POI bias to various POI data in response to receiving and analyzing the request interaction. For example if the request originated from a local user as determined by block above then the category bias pipeline may execute instructions to assign a local bias to particular POI data that may be stored with the mapping data and used or returned with mapping system data in response to the request or in response to a user s interaction with the POI data . Likewise if the request originated from a tourist user as determined by block above then the category bias pipeline may execute instructions to assign a tourist bias to particular POI data that may be stored or returned with mapping system data in response to the request or in response to a user s interaction with the POI data . Block may further execute instructions to assign a range of biases to the POI data e.g. a local bias tourist bias or any range of bias as described above in relation to .

Block may also execute instructions to monitor a number of categories and determine a number of user interactions associated with each of the categories . For example block may cause the pipeline to increment a counter at the pipeline module for a category when the log determines that a user interaction event is associated with that category . In some embodiments step includes instructions to determine a category bias score for each category based on the number of interactions associated with the category e.g. the category s counter value for the type of user e.g. tourist or local . The bias may thus be a measurement of how popular or how useful a category is to a tourist or local user. Block may also include instructions to cause the pipeline module to assign a bias to any data associated with the POI as described above in relation to . For example the module may include instructions to assign a bias to POI data based on the categories of each POI data listing e.g. Italian restaurants historical sites emergency services etc. and depending on the type of user as described above.

With reference to a method may cause the system to execute instructions to prioritize and retrieve modified POI data and display various POIs within a digital map at the client device using higher or lower zoom levels depending on the user type and bias calculated by the method described at . At block the method may execute instructions to prioritize a listing of POI data for display on a digital map. In one embodiment the POI ranker module may execute instructions to calculate a rank for each POI listing within a geographic region e.g. the digital map requested by the client device . The POI ranker module may calculate the rank based on the bias for the category and the classification of the user as either a tourist or local block . For example the ranker module may first determine whether a mapping data request originates from client device having a tourist classification or a local classification and then rank POI data listings that satisfy the request as described above in relation to .

At block in response to the request the mapping system may execute instructions to send the ranked or modified POI data to the client device via the network . As described above the backend system may send the ranked or modified POI data as vector data to the client device via the network. The vector data may include data for various POIs as well as ranked or modified POI data. The modified POI data may include data that indicates an elevated or lowered zoom level to display a particular POI depending on the type of user.

At block the client device may then display POI data and modified POI data as determined by the ranker module at a higher or lower zoom level than other POI data . Generally the computing device may process the received vector data to render a map image in a web browser mapping application or another application including the ranked or modified POI data. With reference to a digital map without biased POI data may display various POIs and at a display zoom level corresponding to the default zoom level for each of those POIs. The default map includes POIs with zoom levels that have not been modified to account for a bias for particular categories of POIs based on the type of user. With reference to if block determines that the user is local or familiar with the area of a displayed map then a digital map may display POIs that are particularly relevant to a local user at a higher display zoom level from the default zoom level . For example a POI for a dry cleaners may include a default zoom level to display the POI at a display zoom level lower than the level depicted in the digital map e.g. zoom level three rather than the current display zoom level four . However the method may determine that the dry cleaners POI includes a category bias that ranks it higher than other POIs for a local user and the method may modify the zoom level for that particular POI . Block may then display the POI at the higher zoom level for a local user. Additionally block may decrease the default zoom level for certain POIs that are not relevant for a local user. For example an airport or hotel POI may not be relevant or useful for a local user and thus such irrelevant POIs may include a low category bias as determined by the method . Thus block may execute instructions to lower the default zoom level for POIs having a low bias for local users so that they do not appear on a map requested by a local user .

With reference to if block determines that the user is a tourist or not familiar with the area of a requested map then a digital map may display POIs that are particularly relevant to a tourist user at higher display zoom level from the default zoom level . For example a POI for a public restroom may include a default zoom level to display the POI at a display zoom level lower than the level depicted in the digital map e.g. zoom level three rather than the current display zoom level four . However the method may determine that the public restroom POI includes a category bias that ranks it higher than other POIs for a tourist user and the method may modify the zoom level for that particular POI . Block may then display the POI at the higher zoom level for a tourist user. Additionally block may decrease the default zoom level for certain POIs that are not relevant for a local user. For example a grocery store POI or a bicycle store POI may not be relevant or useful for a tourist user and thus such irrelevant POIs may include a low category bias for that type of user as determined by the method . Thus the method may execute instructions to lower the default zoom level for POIs having a low bias for tourist users so that they do not appear on a map requested by a tourist user .

As shown in the computing device includes a processor that is coupled to an interconnection bus . The processor includes a register set or register space which is depicted in as being entirely on chip but which could alternatively be located entirely or partially off chip and directly coupled to the processor via dedicated electrical connections and or via the interconnection bus . The processor may be any suitable processor processing unit or microprocessor. Although not shown in the computing device may be a multi processor device and thus may include one or more additional processors that are identical or similar to the processor and that are communicatively coupled to the interconnection bus .

The processor of is coupled to a chipset which includes a memory controller and a peripheral input output I O controller . As is well known a chipset typically provides I O and memory management functions as well as a plurality of general purpose and or special purpose registers timers etc. that are accessible or used by one or more processors coupled to the chipset . The memory controller performs functions that enable the processor or processors if there are multiple processors to access a system memory and a mass storage memory .

The system memory may include any desired type of volatile and or non volatile memory such as for example static random access memory SRAM dynamic random access memory DRAM flash memory read only memory ROM etc. The mass storage memory may include any desired type of mass storage device. For example if the computing device is used to implement a mapping application having an API including instructions as described by the methods and the mass storage memory may include a hard disk drive an optical drive a tape storage device a solid state memory e.g. a flash memory a RAM memory etc. a magnetic memory e.g. a hard drive or any other memory suitable for mass storage. As used herein the terms module block function operation procedure routine step and method refer to tangible computer program logic or tangible computer executable instructions that provide the specified functionality to the computing device and the mapping system . Thus a module block function operation procedure routine step and method can be implemented in hardware firmware and or software. In one embodiment program modules and routines e.g. the mapping application the API etc. are stored in mass storage memory loaded into system memory and executed by a processor or can be provided from computer program products that are stored in tangible computer readable storage mediums e.g. RAM hard disk optical magnetic media etc. .

The peripheral I O controller performs functions that enable the processor to communicate with peripheral input output I O devices and a network interface a cellular network transceiver a local network transceiver and a GPS transceiver via the network interface via a peripheral I O bus . The I O devices and may be any desired type of I O device such as for example a keyboard a display e.g. a liquid crystal display LCD a cathode ray tube CRT display etc. a navigation device e.g. a mouse a trackball a capacitive touch pad a joystick etc. etc. The I O devices and may be used with the mapping application to receive GPS data from the GPS transceiver send the GPS data to the backend components of the system render and display maps and user interfaces as described in relation to the figures. A cellular telephone transceiver may be resident with the local network transceiver . The local network transceiver may include support for a Wi Fi network Bluetooth Infrared or other wireless data transmission protocols. In other embodiments one element may simultaneously support each of the various wireless protocols employed by the computing device . For example a software defined radio may be able to support multiple protocols via downloadable instructions. In operation the computing device may be able to periodically poll for visible wireless network transmitters both cellular and local network on a periodic basis. Such polling may be possible even while normal wireless traffic is being supported on the computing device . The network interface may be for example an Ethernet device an asynchronous transfer mode ATM device an 802.11 wireless interface device a DSL modem a cable modem a cellular modem etc. that enables the system to communicate with another computer system having at least the elements described in relation to the system .

While the memory controller and the I O controller are depicted in as separate functional blocks within the chipset the functions performed by these blocks may be integrated within a single integrated circuit or may be implemented using two or more separate integrated circuits. The mobile mapping system may also implement the mapping application on remote computing devices and . The remote computing devices and may communicate with the computing device over an Ethernet link . For example the computing device may receive mapping data created by a mapping application executing on a remote computing device . In some embodiments the mapping application may be retrieved by the computing device from a cloud computing server via the Internet . When using the cloud computing server the retrieved mapping application may be programmatically linked with the computing device . The mapping application may be a Java applet executing within a Java Virtual Machine JVM environment resident in the computing device or the remote computing devices . The mapping application and or the user preferences module may also be plug ins adapted to execute in a web browser located on the computing devices and . In some embodiments the mapping application may communicate with back end components such as the mapping system and Point of Interest Bias System via the Internet .

Using the systems and procedures described above the system for generating and displaying tourist maps and the mapping system can display POI data in a more prominent manner depending on the user s classification as a tourist or local. The systems and may prioritize POI data for display in a map based on various other data such as a user profile an analysis of user activity and interaction with the POI data and other data. For example the systems may generate vector data for processing by a client computing device to display POI data on a digital map in a manner that changes based on whether the user of the mapping system is a tourist or a local resident of the geographical area being displayed in the map. In particular the systems may attach a bias to categories of map POI based on whether a tourist or a local is more likely to interact with that category of POI. Categories of map POI are pushed up or down for display at different map zoom levels to make the map more relevant to a tourist or a local as it is displayed at the client computing device. Of course these systems may also present a user with a user interface from which the user is able to opt out of any of the user context or tourist local data gathering methods described herein.

The system may include but is not limited to any combination of a LAN a MAN a WAN a mobile a wired or wireless network a private network or a virtual private network. Moreover while only three remote computing devices and are illustrated in to simplify and clarify the description it is understood that any number of client computers are supported and can be in communication within the system .

Additionally certain embodiments are described herein as including logic or a number of components modules or mechanisms. Modules may constitute either software modules e.g. code or instructions embodied on a machine readable medium or in a transmission signal wherein the code is executed by a processor or hardware modules. A hardware module is tangible unit capable of performing certain operations and may be configured or arranged in a certain manner. In example embodiments one or more computer systems e.g. a standalone client or server computer system or one or more hardware modules of a computer system e.g. a processor or a group of processors may be configured by software e.g. an application or application portion as a hardware module that operates to perform certain operations as described herein.

In various embodiments a hardware module may be implemented mechanically or electronically. For example a hardware module may comprise dedicated circuitry or logic that is permanently configured e.g. as a special purpose processor such as a field programmable gate array FPGA or an application specific integrated circuit ASIC to perform certain operations. A hardware module may also comprise programmable logic or circuitry e.g. as encompassed within a general purpose processor or other programmable processor that is temporarily configured by software to perform certain operations. It will be appreciated that the decision to implement a hardware module mechanically in dedicated and permanently configured circuitry or in temporarily configured circuitry e.g. configured by software may be driven by cost and time considerations.

Accordingly the term hardware module should be understood to encompass a tangible entity be that an entity that is physically constructed permanently configured e.g. hardwired or temporarily configured e.g. programmed to operate in a certain manner or to perform certain operations described herein. As used herein hardware implemented module refers to a hardware module. Considering embodiments in which hardware modules are temporarily configured e.g. programmed each of the hardware modules need not be configured or instantiated at any one instance in time. For example where the hardware modules comprise a general purpose processor configured using software the general purpose processor may be configured as respective different hardware modules at different times. Software may accordingly configure a processor for example to constitute a particular hardware module at one instance of time and to constitute a different hardware module at a different instance of time.

Hardware modules can provide information to and receive information from other hardware modules. Accordingly the described hardware modules may be regarded as being communicatively coupled. Where multiple of such hardware modules exist contemporaneously communications may be achieved through signal transmission e.g. over appropriate circuits and buses that connect the hardware modules. In embodiments in which multiple hardware modules are configured or instantiated at different times communications between such hardware modules may be achieved for example through the storage and retrieval of information in memory structures to which the multiple hardware modules have access. For example one hardware module may perform an operation and store the output of that operation in a memory device to which it is communicatively coupled. A further hardware module may then at a later time access the memory device to retrieve and process the stored output. Hardware modules may also initiate communications with input or output devices and can operate on a resource e.g. a collection of information .

The various operations of example methods described herein may be performed at least partially by one or more processors that are temporarily configured e.g. by software or permanently configured to perform the relevant operations. Whether temporarily or permanently configured such processors may constitute processor implemented modules that operate to perform one or more operations or functions. The modules referred to herein may in some example embodiments comprise processor implemented modules.

Similarly the methods or routines described herein may be at least partially processor implemented. For example at least some of the operations of a method may be performed by one or processors or processor implemented hardware modules. The performance of certain of the operations may be distributed among the one or more processors not only residing within a single machine but deployed across a number of machines. In some example embodiments the processor or processors may be located in a single location e.g. within a home environment an office environment or as a server farm while in other embodiments the processors may be distributed across a number of locations.

The one or more processors may also operate to support performance of the relevant operations in a cloud computing environment or as a software as a service SaaS . For example at least some of the operations may be performed by a group of computers as examples of machines including processors these operations being accessible via a network e.g. the Internet and via one or more appropriate interfaces e.g. application program interfaces APIs . 

The performance of certain of the operations may be distributed among the one or more processors not only residing within a single machine but deployed across a number of machines. In some example embodiments the one or more processors or processor implemented modules may be located in a single geographic location e.g. within a home environment an office environment or a server farm . In other example embodiments the one or more processors or processor implemented modules may be distributed across a number of geographic locations.

Some portions of this specification are presented in terms of algorithms or symbolic representations of operations on data stored as bits or binary digital signals within a machine memory e.g. a computer memory . These algorithms or symbolic representations are examples of techniques used by those of ordinary skill in the data processing arts to convey the substance of their work to others skilled in the art. As used herein an algorithm is a self consistent sequence of operations or similar processing leading to a desired result. In this context algorithms and operations involve physical manipulation of physical quantities. Typically but not necessarily such quantities may take the form of electrical magnetic or optical signals capable of being stored accessed transferred combined compared or otherwise manipulated by a machine. It is convenient at times principally for reasons of common usage to refer to such signals using words such as data content bits values elements symbols characters terms numbers numerals or the like. These words however are merely convenient labels and are to be associated with appropriate physical quantities.

Unless specifically stated otherwise discussions herein using words such as processing computing calculating determining presenting displaying or the like may refer to actions or processes of a machine e.g. a computer that manipulates or transforms data represented as physical e.g. electronic magnetic or optical quantities within one or more memories e.g. volatile memory non volatile memory or a combination thereof registers or other machine components that receive store transmit or display information.

As used herein any reference to some embodiments or an embodiment means that a particular element feature structure or characteristic described in connection with the embodiment is included in at least one embodiment. The appearances of the phrase in some embodiments in various places in the specification are not necessarily all referring to the same embodiment.

Some embodiments may be described using the expression coupled and connected along with their derivatives. For example some embodiments may be described using the term coupled to indicate that two or more elements are in direct physical or electrical contact. The term coupled however may also mean that two or more elements are not in direct contact with each other but yet still co operate or interact with each other. The embodiments are not limited in this context.

Further the figures depict preferred embodiments of a system for pre fetching place page data for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles described herein

Upon reading this disclosure those of skill in the art will appreciate still additional alternative structural and functional designs for a system and a process to generate tourist maps through the disclosed principles herein. Thus while particular embodiments and applications have been illustrated and described it is to be understood that the disclosed embodiments are not limited to the precise construction and components disclosed herein. Various modifications changes and variations which will be apparent to those skilled in the art may be made in the arrangement operation and details of the method and apparatus disclosed herein without departing from the spirit and scope defined in the appended claims.

