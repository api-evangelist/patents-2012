---

title: Climate regulator control for device enclosures
abstract: Climate regulation within an enclosure (e.g., a case of a workstation or a rack or cabinet of servers) may be achieved through a climate regulator featuring several selectable climate regulator settings (e.g., a variable-speed fan array). Controllers of such climate regulators often select climate regulator settings based on current conditions inside the enclosure, such as the temperature of one or more processors operating within the enclosure. However, such control fails to account for the climate of air outside the enclosure that is drawn in to provide climate regulation, even though the climate properties of inlet air may significantly affect the effectiveness of climate regulation. Accordingly, a controller of a climate regulator may be configured to detect inlet climate properties of air directed into the enclosure, and to map the inlet climate properties (alone or in combination with other factors) to a selected climate regulator setting for the climate regulator.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09658661&OS=09658661&RS=09658661
owner: Microsoft Technology Licensing, LLC
number: 09658661
owner_city: Redmond
owner_country: US
publication_date: 20120622
---
Within the field of computing many scenarios involve an enclosure of a device such as a cabinet for a computer comprising a set of electronic components e.g. processors memory components and nonvolatile storage devices where climate regulation within the enclosure is achieved through the use of one or more climate regulators. As one example because excess heat may disrupt the accurate operation of the components and eventually cause thermal damage the enclosure may comprise thermal climate regulators such as a set of fans positioned and configured to draw air into the enclosure push the air over the components and expel heated air out of the enclosure as exhaust. More powerful temperature regulation may be achieved through the use of heating components and or air conditioning components that actively heat or cool the inlet air or the residual air within the enclosure. Other types of climate regulators may manage other climate properties of the enclosure e.g. humidity regulators may add or remove moisture from the inlet air air pressure regulators may adjust the air pressure within the enclosure and air filter regulators may remove particulate contaminants of inlet air . These active climate regulators may interoperate with passive climate regulators e.g. heatsinks that physically contact the electronic components and diffuse heat over a large area surface and filtering screens that trap large particulate matter to regulate the climate within the enclosure.

Many types of climate regulators provided within an enclosure may present configurable operating settings. For example fans may be set to operate at faster or slower fan speeds to achieve variable cooling and a fan array may adjust the number of operating fans. While more powerful climate regulation may be desirable to maintain the climate within the enclosure within a precise range higher operating rates of climate regulators may involve greater energy expenditure e.g. higher electricity costs and faster drain of batteries of portable devices and or increased noise or vibration within the enclosure. Accordingly the operating settings of climate regulators may be adjusted by a user and or automatically by the enclosure.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key factors or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter.

In many enclosures the climate regulator settings of climate regulators are adjusted based on detected or predicted climate conditions within the enclosure. As a first example a temperature gauge may be provided within the enclosure to measure the ambient temperature of the air within the enclosure or with specific components e.g. a processor may include a temperature sensor and may report its current temperature to the enclosure and the climate regulator settings of temperature regulators may be adjusted to maintain current temperatures within an acceptable range. As a second example the temperature of respective components may be predicted based on the operation of the devices within the enclosure e.g. the processor load of a processor may vary based on processing demands and temperature regulators may be adjusted to a higher setting when processor load increases in anticipation of greater heat generation by the processor. As a third example the settings of the climate regulators may be user selectable e.g. an administrator may manipulate a physical switch on a fan or issue an instruction to select a particular climate regulator setting in view of the user s interests such as to reduce noise .

However such control systems often neglect to measure a significant factor the properties of the inlet air that is directed into the enclosure. In many scenarios this factor may be highly significant e.g. the temperature within the enclosure may be affected as much or even more by the temperature of air directed into the enclosure as the heat generated by the components . However many climate regulator control systems do not directly measure and account for such properties but rather wait for the air directed into the enclosure to alter the conditions within the enclosure and then adjust the climate regulators according to the current conditions. However such control systems may be inefficient e.g. if the air being directed into the enclosure is very cool it may be undesirable to allow high powered fans to create large airflow that chills the components and the enclosure before reducing the fan power because such temperature fluctuations may be inefficient rapid temperature variations may damage the components. Rather it may be desirable measure the low temperature of the incoming air and reduce fan power in order to maintain the temperature level within the enclosure.

In view of these considerations the techniques presented herein involve controlling a climate regulator within an enclosure based on the climate properties of the air directed into the enclosure. These techniques involve measuring a climate property of the inlet air mapping the inlet air to a selection of a climate regulator setting and instructing the climate regulator to use the selected climate regulator setting. The disclosure further presents variations in these techniques e.g. directly measuring the climate property or querying a regional climate service for local climate properties and generating the mapping through trial and error or receiving it from the climate regulator or a user . By basing control of the climate regulators through a mapping of the climate properties of the inlet air to a climate regulator setting a climate regulator control system may enable adaptive climate control of the enclosure through application of the techniques presented herein.

To the accomplishment of the foregoing and related ends the following description and annexed drawings set forth certain illustrative aspects and implementations. These are indicative of but a few of the various ways in which one or more aspects may be employed. Other aspects advantages and novel features of the disclosure will become apparent from the following detailed description when considered in conjunction with the annexed drawings.

The claimed subject matter is now described with reference to the drawings wherein like reference numerals are used to refer to like elements throughout. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the claimed subject matter. It may be evident however that the claimed subject matter may be practiced without these specific details. In other instances structures and devices are shown in block diagram form in order to facilitate describing the claimed subject matter.

Within the field of computing many scenarios involve an enclosure storing one or more devices such as an enclosure storing a computer comprising a mainboard one or more processors volatile and nonvolatile storage and communications components such as network adapters or a server cabinet storing components comprising one or more servers. In these scenarios the air within the enclosure may vary in particular climate properties such as the temperature humidity air pressure and the reduction of particulate matter e.g. dust and smoke of the air within the enclosure. The devices within the enclosure may be sensitive to such properties of the climate e.g. electronic components may function reliably only within a range of operating temperatures and excess humidity may disrupt electrical propagation of circuits. Additionally the operation of the devices may alter such properties e.g. by generating heat or creating particulate contaminants through friction between moving components and may exacerbate undesirable climate conditions within the enclosure. The consistent and reliable operation of the devices within the enclosure may therefore depend on regulating various properties of the climate within the enclosure.

In view of these considerations the enclosure may include one or more climate regulating components that are configured to regulate various properties of the climate within the enclosure. Such regulation may be achieved through passive climate regulator devices that present physical and or chemical properties that provide regulatory capabilities such as heatsinks comprising conductive metals in physical contact with a device that diffuse excess heat over a wide surface area to facilitate cooling and screens that trap particulate matter to reduce contamination within the enclosure. Further climate regulation may be provided by active climate regulator devices that utilize electric power. For example the temperature of the air within the enclosure may be regulated by fans air conditioners and heaters humidity regulation may be regulated by humidifiers and dehumidifiers air pressure may be regulated by compressors and particulate matter may be regulated by electrostatic air filters.

 Active climate regulators may often present various operating levels such as fan speeds of fans cooling magnitude provided by air conditioners heat generated by heating units and the strength of an electrostatic field configured to trap particles. Such operating levels may be controlled e.g. by a physical switch positioned on the device that a user may manually toggle or by software instructions generated by a user or device. While utilizing higher operating levels of climate regulators may provide greater climate regulation e.g. more rapid and or precise regulation of temperature and more powerful electrostatic removal of particulate matter higher operating levels may entail undesirable side effects e.g. higher fan speeds may generate fan noise stronger electrostatic fields may create interference with wired or wireless electric or magnetic signals and higher operating levels may consume more power thus increasing operating costs and draining batteries in mobile devices . In view of these considerations it may be desirable to balance higher climate regulation with undesirable side effects by adapting the operating levels of climate regulator devices in response to conditions within the enclosure e.g. by configuring control modules to increase the operating levels of climate regulators when circumstances within the enclosure indicate additional climate regulation and to reduce the operating levels of climate regulators when climate regulation may be acceptably conserved.

The techniques presented in the exemplary scenarios of may achieve variable climate regulation within the enclosure based on conditions within the enclosure e.g. the air temperature within the enclosure but may fail to account for the properties of air outside the enclosure that is directed into the enclosure through the inlet by the fan array . It may be appreciated that the effectiveness of the fan array may be significantly determined by these properties. As a first example if the air outside of the enclosure is warm the temperature differential of the airflow and the heatsinks may be comparatively small and adequate cooling may involve a greater amount of airflow . Conversely if the air outside of the enclosure is cool adequate airflow may be achievable at a lower climate regulator setting . As a second example if the air outside of the enclosure is hot operating the fan array at a high setting may actually raise the air temperature within the enclosure so it may be desirable to apply a low climate regulator setting to reduce excess intake of hot air. Conversely if the air outside of the enclosure is very cold applying a high climate regulator setting may cause a rapid drop of air temperature within the enclosure thus providing excessive cooling that is undesirably rapid e.g. very cold air applied to a very hot processor or uneven e.g. cooling one portion of a component more rapidly than another portion thereby disrupting the operation of the devices and a low climate regulator setting of the fan array may be desirable.

However because the climate regulation depicted in is responsive only to conditions within the enclosure several disadvantages may arise. As a first example the air temperature in the enclosure near the enclosure temperature sensor may significantly differ from the air temperature elsewhere within the enclosure e.g. cold airflow directed at a device may achieve undesirably rapid cooling of the device but may slowly reduce the air temperature within the enclosure and thus may not be detected by the enclosure temperature sensor for a protracted period. As a second example the enclosure temperature sensor that fails to account for cold air temperatures outside of the enclosure may initially over power the fan array and over cool the enclosure disable the fan array until temperatures rise and then reactivate the fan array and again over cool the enclosure . This cycling may result in wide fluctuation of air temperature within the enclosure that imposes thermal stress on the devices and may less efficient than maintaining a steady temperature thus raising energy costs.

In view of these considerations presented herein are techniques for controlling a climate regulator within an enclosure by accounting for the climate properties of air outside of the enclosure that is directed into the enclosure during climate regulation. Such techniques may be applied in the control of a climate regulator by measuring an inlet climate property of the air directed into the enclosure mapping the inlet climate property to a selected climate regulator setting of the climate regulator and instructing the climate regulator to use the selected climate regulator setting. This technique may be combined with other techniques e.g. passive climate regulator devices and an adjustment of the selected climate regulator setting based on measurements of conditions inside the enclosure to achieve more accurate and efficient cooling than may be achieved without accounting for the climate properties of the air directed into the enclosure .

The architecture presented herein for the tray and the chassis may be implemented with variations in many aspects and some variations may present additional advantages and or reduce disadvantages with respect to other variations of these and other architectures and implementations. Moreover some variations may be implemented in combination and some combinations may feature additional advantages and or reduced disadvantages through synergistic cooperation.

A first aspect that may vary among embodiments of these techniques relates to the scenarios wherein such techniques may be utilized.

As a first variation of this first aspect the techniques presented herein may be used to regulate climate within many types of enclosures storing many types of device . For example the enclosures may comprise a chassis and case of a workstation the exterior of a notebook or palmtop computer a cabinet of a server or a rack storing a set of servers or workstation computers operating with various degrees of independence e.g. a set of exposed mainboards with processing units comprising the blades of a multi blade server or a set of fully autonomous workstations that may communicate in a server client or peer to peer manner or may be fully isolated from one another .

As a second variation of this first aspect climate regulation may be provided on behalf of many types of devices stored within the enclosure such as microprocessors volatile memory circuits nonvolatile storage devices such as hard disk drives and solid state storage devices input output devices such as display adapters sound renderers video and audio devices and media encoding and decoding circuits communications components such as network adapters switches hubs routers modems transceivers and repeaters and infrastructure components such as mainboards and buses.

As a third variation of this first aspect many inlet climate properties may be measured and regulated by many types of climate regulating components . As a first such example inlet air temperature may be measured by a thermometer and may be regulated by air conditioners and heaters. As a second such example inlet humidity may be measured by a manometer and may be regulated by humidifiers and dehumidifiers. As a third such example inlet air pressure may be achieved by a barometer and may be regulated by compressors configured to direct air into or out of the enclosure . As a fourth such example inlet airflow may be measured by a flow meter and may be regulated by fans and windscreens. As a fifth such example inlet particulate content may be measured by an optical detector and may be regulated by electrostatic air filters. These and other scenarios may advantageously utilize the techniques presented herein.

A second aspect that may vary among embodiments of these techniques relates to the manner of measuring the inlet climate property of air directed into the enclosure .

As a first variation of this second aspect the inlet climate properties may be measured by an inlet climate property detector positioned on the outside of the enclosure within the enclosure near an inlet or within the incoming airflow .

As a second variation of this second aspect the inlet climate properties may be received from a climate property detector in the same area as the enclosure e.g. a thermometer positioned in the same room as the enclosure and configured to report the temperature within the room to a set of enclosures or a climate regulator device outside of the enclosure and set to regulate one or more climate properties of the air outside of the enclosure e.g. a heating ventilation and air conditioning HVAC system configured to report its target settings for air generated in the vicinity of the enclosure .

As a third variation of this second aspect the inlet climate properties may be reported by a climate reporting service that may be queried to report the climate detected at a particular location e.g. a weather service that may report air climate conditions for selected regions . For climate regulators that draw air into an enclosure from an outdoor location e.g. enclosures of devices that are usable outdoors or of a computer positioned in an automobile and configured to provide climate regulation through an inlet vent an embodiment of these techniques may detect the inlet climate properties by querying the climate reporting service to determine inlet climate properties of the current climate in the location of the enclosure . Moreover some such embodiments may include a location detector e.g. a global positioning service GPS receiver and may invoke the location detector for a location identifier e.g. a set of latitude and longitude coordinates identifying the location of the enclosure that may be sent to the climate reporting service to query the inlet climate properties of the current location of the enclosure .

As a fourth variation of this second aspect the inlet climate properties may be measured partly or wholly by prediction. As a first such example a climate detector may measure climate properties of a location over a period of time e.g. an ordinary cycling of temperature in a room of a building and may generate predictions of such temperature that inform the selection of climate regulator settings at particular times. Those of ordinary skill in the art may devise many ways of measuring inlet climate properties of air directed into the enclosure in accordance with the techniques presented herein.

A third aspect that may vary among embodiments of these techniques relates to the mapping of inlet climate properties to selected climate regulator settings .

As a first variation of this third aspect the mapping may be calculated on an ad hoc basis by a circuit or a set of instructions executing on a processor .

As a second variation of this third aspect appropriate climate regulator settings for respective inlet climate properties may be specified in a climate regulator settings map which may be generated and or communicated to a climate regulator controller device in various ways. As a first example of this second variation of this third aspect the climate regulator settings map may be encoded in a firmware within the climate regulator device or within a software driver provided for the climate regulator device . A climate regulator controller device may therefore query the climate regulator device for the climate regulator settings map e.g. upon detecting an installation of the climate regulator device and store the climate regulator settings map for later reference in selecting a climate regulator setting suitable for a current inlet climate property .

As a second example of this second variation of this third aspect a climate regulator settings map may be generated by the climate regulator controller device in a trial and error manner based on various climate regulation properties resulting from operating the climate regulator device at various settings. For example the climate regulator controller device may be configured to measure a climate regulation property e.g. a resulting air temperature within the enclosure while operating the climate regulator at respective climate regulator settings and may compare the climate regulation properties achieved by respective climate regulator settings to identify a selected climate regulator setting . This technique may enable a mapping of inlet climate properties to climate regulation properties e.g. climate regulator settings that may achieve a target enclosure air temperature in view of the temperature of the air intake thereby achieving both a selectivity of suitable climate regulator settings in the specific context of the enclosure as well as a feedback based learning technique to adapt the selection of climate regulator settings to changing conditions.

As a third example of this second variation of this third aspect the climate regulator settings map may be retrieved from a climate regulator descriptor service e.g. a service that tracks performance metrics for climate regulator devices e.g. the availability of climate regulator settings for respective climate regulator device and provides recommendations of selected climate regulator settings for respective inlet climate properties . A climate regulator controller device may therefore retrieve a climate regulator identifier from the climate regulator device e.g. a hardware serial number or model number and may send the climate regulator identifier to the climate regulator descriptor service in order to retrieve the climate regulator settings map for the climate regulator device . Moreover the climate regulator controller device may upon generating and or updating the climate regulator settings map send the climate regulator identifier and the generated or updated climate regulator settings map to the climate regulator descriptor service. In this manner the identification of recommended climate regulator settings for respective inlet climate properties may be crowdsourced and may be determined by automated consensus based on feedback from many such devices operating in the field.

As a third variation of this third aspect the mapping may utilize other considerations while selecting climate regulator settings for respective inlet climate properties . For example the mapping may also incorporate measurements of climate conditions inside the enclosure or the number and types of devices stored in the enclosure e.g. the number and types of processors may determine a target climate within the enclosure . Alternatively or additionally the mapping may utilize operating properties of devices within the enclosure which may be predictive of imminent climate changes within the enclosure . For example a high processor load of one or more processors operating within the enclosure may predict imminent heating of the air within the enclosure and or may warrant a preemptive cooling of the air within the enclosure to maintain the temperature of the processor despite an increased processor load. As another example the I O queue size rotational velocities and or power consumption of hard disk drives operating within the enclosure may be included in the selection of a climate regulator setting since these properties may be predictive of an imminent rise in temperature within the enclosure and or increased demand for climate regulation. These factors may be utilized in combination with the inlet climate properties e.g. a selected climate regulator setting selected for a particular inlet climate property may be adjusted in view of these other factors or a multi dimensional climate regulator settings map may enable a selection of a climate regulator setting in view of both the inlet climate property and other factors within the enclosure .

As a fourth variation of this third aspect the mapping may incorporate a decision making capability of a user such as an administrator of the devices within the enclosure . As a first such example the climate regulator settings map may be specified by a user such as an administrator who may specify climate regulator settings to apply to the climate regulator device in response to respective inlet climate properties . As a second such example the results of the mapping may be reported to a user. For example if the mapping results in a selection of a climate regulator setting that the climate regulator device is not operable at a selected climate regulator setting e.g. an airflow rate that is not achievable by a fan array an embodiment may present to the user a recommendation to acquire a substitute climate regulator that is operable at the selected climate regulator setting . Those of ordinary skill in the art may devise many variations in the mapping of inlet climate properties to selected climate regulator settings in accordance with the techniques presented herein.

A fourth aspect that may vary among embodiments of these techniques relates to the controlling of the climate regulator according to the selected climate regulator setting .

As a first variation of this fourth aspect the climate regulating component may comprise a series of climate regulator units each supporting at least one climate regulator setting . For example a fan array may comprise at least two fans each operable at one fan speed and that together provide a magnitude of airflow linearly proportional to the number of activated fans. Alternatively the fan array may comprise two or more fans operable at different fan speeds and may select a combination of fans to achieve a selected climate regulator setting . Such variations may improve the range of climate regulator settings supported by the climate regulator device as well as the flexibility of the climate regulator device to adapt to failures of particular units e.g. upon detecting a failed climate regulator unit that is not responsive or not performing as expected the climate regulator device may select a different combination of the climate regulator units excluding the failed climate regulator unit to achieve the selected climate regulator setting as well as notifying a user of the failed climate regulator unit .

As a second variation of this fourth aspect the enclosure may be operably coupled with an enclosure management component that is configured to monitor and log a broad range of conditions of the enclosure in order to achieve holistic regulation of the devices and the enclosure . An embodiment may interoperate with the enclosure management component by reporting operation of the climate regulator device to the enclosure management component and or upon receiving an instruction to instruct the climate regulator device to use a selected climate regulator setting instructing the climate regulator device to use the selected climate regulator setting .

In some embodiments device may include additional features and or functionality. For example device may include one or more additional storage components including but not limited to a hard disk drive a solid state storage device and or other removable or non removable magnetic or optical media. In one embodiment computer readable and processor executable instructions implementing one or more embodiments provided herein are stored in the storage component . The storage component may also store other data objects such as components of an operating system executable binaries comprising one or more applications programming libraries e.g. application programming interfaces APIs media objects and documentation. The computer readable instructions may be loaded in the memory component for execution by the processor .

The computing device may also include one or more communication components that allows the computing device to communicate with other devices. The one or more communication components may comprise e.g. a modem a Network Interface Card NIC a radiofrequency transmitter receiver an infrared port and a universal serial bus USB USB connection. Such communication components may comprise a wired connection connecting to a network through a physical cord cable or wire or a wireless connection communicating wirelessly with a networking device such as through visible light infrared or one or more radiofrequencies.

The computing device may include one or more input components such as keyboard mouse pen voice input device touch input device infrared cameras or video input devices and or one or more output components such as one or more displays speakers and printers. The input components and or output components may be connected to the computing device via a wired connection a wireless connection or any combination thereof. In one embodiment an input component or an output component from another computing device may be used as input components and or output components for the computing device .

The components of the computing device may be connected by various interconnects such as a bus. Such interconnects may include a Peripheral Component Interconnect PCI such as PCI Express a Universal Serial Bus USB firewire IEEE 794 an optical bus structure and the like. In another embodiment components of the computing device may be interconnected by a network. For example the memory component may be comprised of multiple physical memory units located in different physical locations interconnected by a network.

Those skilled in the art will realize that storage devices utilized to store computer readable instructions may be distributed across a network. For example a computing device accessible via a network may store computer readable instructions to implement one or more embodiments provided herein. The computing device may access the computing device and download a part or all of the computer readable instructions for execution. Alternatively the computing device may download pieces of the computer readable instructions as needed or some instructions may be executed at the computing device and some at computing device .

As used in this application the terms component module system interface and the like are generally intended to refer to a computer related entity either hardware a combination of hardware and software software or software in execution. For example a component may be but is not limited to being a process running on a processor a processor an object an executable a thread of execution a program and or a computer. By way of illustration both an application running on a controller and the controller can be a component. One or more components may reside within a process and or thread of execution and a component may be localized on one computer and or distributed between two or more computers.

Furthermore the claimed subject matter may be implemented as a method apparatus or article of manufacture using standard programming and or engineering techniques to produce software firmware hardware or any combination thereof to control a computer to implement the disclosed subject matter. The term article of manufacture as used herein is intended to encompass a computer program accessible from any computer readable device carrier or media. Of course those skilled in the art will recognize many modifications may be made to this configuration without departing from the scope or spirit of the claimed subject matter.

Various operations of embodiments are provided herein. In one embodiment one or more of the operations described may constitute computer readable instructions stored on one or more computer readable media which if executed by a computing device will cause the computing device to perform the operations described. The order in which some or all of the operations are described should not be construed as to imply that these operations are necessarily order dependent. Alternative ordering will be appreciated by one skilled in the art having the benefit of this description. Further it will be understood that not all operations are necessarily present in each embodiment provided herein.

Moreover the word exemplary is used herein to mean serving as an example instance or illustration. Any aspect or design described herein as exemplary is not necessarily to be construed as advantageous over other aspects or designs. Rather use of the word exemplary is intended to present concepts in a concrete fashion. As used in this application the term or is intended to mean an inclusive or rather than an exclusive or . That is unless specified otherwise or clear from context X employs A or B is intended to mean any of the natural inclusive permutations. That is if X employs A X employs B or X employs both A and B then X employs A or B is satisfied under any of the foregoing instances. In addition the articles a and an as used in this application and the appended claims may generally be construed to mean one or more unless specified otherwise or clear from context to be directed to a singular form.

Also although the disclosure has been shown and described with respect to one or more implementations equivalent alterations and modifications will occur to others skilled in the art based upon a reading and understanding of this specification and the annexed drawings. The disclosure includes all such modifications and alterations and is limited only by the scope of the following claims. In particular regard to the various functions performed by the above described components e.g. elements resources etc. the terms used to describe such components are intended to correspond unless otherwise indicated to any component which performs the specified function of the described component e.g. that is functionally equivalent even though not structurally equivalent to the disclosed structure which performs the function in the herein illustrated exemplary implementations of the disclosure. In addition while a particular feature of the disclosure may have been disclosed with respect to only one of several implementations such feature may be combined with one or more other features of the other implementations as may be desired and advantageous for any given or particular application. Furthermore to the extent that the terms includes having has with or variants thereof are used in either the detailed description or the claims such terms are intended to be inclusive in a manner similar to the term comprising. 

