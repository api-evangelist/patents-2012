---

title: Audio adjustment system
abstract: An audio adjustment system is provided that can output a user interface customized by the provider of the audio system instead of the electronic device manufacturer. Such an arrangement can save both field engineers and manufacturers a significant amount of time. Advantageously, in certain embodiments, such an audio adjustment system can be provided without knowledge of the electronic device's firmware. Instead, the audio adjustment system can communicate with the electronic device through an existing audio interface in the electronic device to enable a user to control audio enhancement parameters in the electronic device. For instance, the audio adjustment system can control the electronic device via an audio input jack on the electronic device. The electronic device can also include decoding features for decoding communications sent by the audio adjustment system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09164724&OS=09164724&RS=09164724
owner: DTS LLC
number: 09164724
owner_city: Calabasas
owner_country: US
publication_date: 20120822
---
This application claims the benefit of priority under 35 U.S.C. 119 e of U.S. Provisional Application No. 61 528 094 filed on Aug. 26 2011 and entitled Audio Adjustment System the disclosure of which is hereby incorporated by reference in its entirety.

Televisions and other consumer devices that incorporate audio enhancement systems can be tuned to improve the performance of the audio enhancement systems. Tuning is often performed by field application engineers FAE who may adjust various parameters of the audio enhancement system. In order to interact with the audio system installed on a device an FAE s device such as a laptop typically must communicate with other device specific firmware in the television. The FAE s device may communicate with the device specific firmware using one of a variety of protocols such as JTAG I2C SPI or USB.

The consumer device manufacturer typically provides a user interface that allows the FAE to communicate audio parameter adjustments to the device specific firmware. The device specific firmware then communicates the parameter adjustments to the firmware of the audio system.

For purposes of summarizing the disclosure certain aspects advantages and novel features of the inventions have been described herein. It is to be understood that not necessarily all such advantages can be achieved in accordance with any particular embodiment of the inventions disclosed herein. Thus the inventions disclosed herein can be embodied or carried out in a manner that achieves or optimizes one advantage or group of advantages as taught herein without necessarily achieving other advantages as can be taught or suggested herein.

In certain embodiments a method of communicating audio enhancement settings to an audio device includes by a first device comprising one or more processors outputting an adjustment user interface for presentation to a user where the adjustment user interface can provide functionality for a user to adjust audio enhancement parameters of one or more audio enhancements installed in a second device. The method can also include receiving through the adjustment user interface a selection from the user of an adjusted value of a selected one of the audio enhancement parameters. In addition the method can include encoding the adjusted value of the selected audio enhancement parameter in an audio signal and communicating the audio signal to the second device thereby enabling the second device to set the selected audio enhancement parameter to the adjusted value.

The method of the preceding paragraph may also be performed in combination with any subset of the following features communicating the audio signal to the second device includes communicating the audio signal through an audio output port of the first device to an audio input port of the second device communicating the audio signal to the second device includes communicating the audio signal over a network to the second device communicating the audio signal to the second device includes communicating the audio signal from a speaker of the first device to a microphone of the second device encoding the adjusted value includes including a trigger signal in the audio signal where the trigger signal can cause the second device to decode the audio signal and where the encoding includes modulating the adjusted value with audio frequency shift keying AFSK .

In various embodiments a system for communicating audio enhancement settings to an audio device can include an adjustment module that can provide functionality for a user to adjust audio enhancement parameters of one or more audio enhancements installed in an audio device and to receive a selection from the user of an adjusted value of a selected one of the audio enhancement parameters. The system can also include a communications module having one or more processors. The communications module can encode the adjusted value of the selected audio enhancement parameter in an audio signal and communicate the audio signal to the audio device thereby enabling the audio device to set the selected audio enhancement parameter to the adjusted value.

The system of the preceding paragraph may also include any subset of the following features the adjustment module can also provide functionality for the user to access values of the audio enhancement parameters currently set in the audio device the communications module can output the audio signal via one or more of the following an audio output port a speaker and a network connection the output port can be selected from the group consisting of a speaker jack an RCA audio interface an HDMI interface a DVI interface a coaxial cable interface a USB interface and a SCART interface the communications module can encode the adjusted value using an error correction coder the adjusted value can include one or more of the following a gain value a filter coefficient a parametric equalization coefficient an equalizer band level a left right channel balance a surround sound balance a decoder setting an encoder setting and a speaker specific setting the communications module can encode the adjusted value with a trigger signal in the audio signal where the trigger signal can cause the audio device to decode the audio signal and the trigger signal can represent a passcode.

In some embodiments non transitory physical electronic storage includes instructions stored thereon that when executed by one or more processors cause the one or more processors to implement a system for communicating audio enhancement settings to an audio device. The system can include an adjustment module in a first device including one or more processors and the adjustment module can specify an adjustment for an audio enhancement installed in a second device in communication with the first device. The system can also include a communications module in the first device which can encode the adjustment in an audio signal and communicate the audio signal to the second device thereby enabling the second device to implement the adjustment. The communication of the audio signal to the second device can include communicating the audio signal through an audio output port of the first device to an audio input port of the second device.

The system of the preceding paragraph may also include any subset of the following features the adjustment module can output a user interface that can provide functionality for the user to input the adjustment the adjustment can include a value of a parameter of the audio enhancement the adjustment can include an instruction to disable the audio enhancement the first device can enhance an audio signal using a second audio enhancement to produce an enhanced audio signal and to provide the enhanced audio signal to the second device the adjustment module can specify the adjustment to disable the audio enhancement installed in the second device due to the second audio enhancement already being applied to the audio signal and the first device can be an audiovisual receiver and the second device can be a television.

Moreover in certain embodiments a system for communicating audio visual settings to an electronic device includes an adjustment module that can provide functionality for a user to adjust one or both of audio parameters or video parameters in an electronic device and can receive a selection from the user of an adjusted value of a selected one of the audio or video parameters. The system can also include a communications module that includes one or more processors. The communications module can encode a command for adjusting the adjusted value of the selected audio or video parameter in an audio signal and can communicate the audio signal to the electronic device thereby enabling the electronic device to set the selected audio or visual parameter to the adjusted value.

The system of the preceding paragraph may also include any subset of the following features the communications module can provide a trigger signal in the audio signal the trigger signal can enable detection of the command for adjusting the adjusted value in the audio signal the trigger signal can enable communications synchronization in the electronic device and a level of the trigger signal can be used to interpret amplitude of the audio signal.

Various embodiments of a system for decoding audio enhancement settings with an audio device include a detector implemented in an audio device including one or more processors. The detector can receive an audio signal and can analyze the audio signal to determine whether a trigger signal is present in the audio signal. The detector can cause the audio signal to be decoded in response to detecting the trigger signal in the audio signal. Further the detector can pass the audio signal to an audio enhancement for audio processing in response to not detecting the trigger signal in the audio signal. The system can also include a decoder that can in response to the trigger signal being detected by the detector decode an instruction in the audio signal and a configuration module that can implement the instruction to thereby adjust a characteristic of the audio enhancement.

The system of the preceding paragraph may also include any subset of the following features the detector can receive the audio signal from one or more of the following an audio input port in the audio device and a microphone in the audio device the detector can receive the audio signal over a network the audio signal can be formatted according to audio frequency shift keying AFSK modulation the decoder can decode the audio signal by performing one or more of the following demodulation error correction and data extraction and the audio enhancement includes one or more of the following a bass enhancement a width enhancement a height enhancement a virtual surround enhancement and an equalization enhancement.

In certain embodiments a method of decoding audio enhancement settings with an audio device includes receiving with a first device an audio signal and analyzing the audio signal to determine whether the audio signal is associated with one or more commands or audio other than commands. The method may also include in response to determining that the audio signal is associated with audio other than commands providing the audio signal to an audio processing system that can process the audio signal. In response to determining that the audio signal is associated with one or more commands the method may also include decoding the audio signal to identify the one or more commands in the audio signal. Further the method can include executing the one or more commands in one or more processors of the first device.

The method of the preceding paragraph may also be performed in combination with any subset of the following features the one or more commands can obtain information about the audio processing system for presentation to a second device the one or more commands can adjust an enhancement parameter associated with an audio enhancement of the audio processing system the enhancement parameter can include one of the following a gain value a filter coefficient a parametric equalization coefficient an equalizer band level a left right channel balance a surround sound balance a decoder setting an encoder setting and a speaker specific setting the method can further include muting an output of the first device in response to determining that the audio signal is associated with the one or more commands the analyzing can include determining whether the audio signal includes a trigger signal and determining whether the audio signal includes a trigger signal can include evaluating one or both of zero crossings and signal power of the audio signal to determine whether the audio signal comprises one or more expected cycles of one or more frequencies associated with the trigger signal.

In many embodiments non transitory physical electronic storage includes instructions stored thereon that when executed by one or more processors cause the one or more processors to implement a system for decoding audio enhancement settings with an audio device. The system can include a detector that can receive an audio signal and that can analyze the audio signal to determine whether an instruction is present in the audio signal. The detector can cause the instruction to be processed in response to determining that the instruction is present in the audio signal. The detector can also pass the audio signal to an audio enhancement for audio processing in response to determining that audio other than the instruction is present in the audio signal. Further the system can include a configuration module that can process the instruction to adjust a configuration of the audio enhancement in response to the detector determining that the instruction is present in the audio signal.

The system of the preceding paragraph may also include any subset of the following features the detector can determine whether the instruction is present in the audio signal by detecting a trigger signal in the audio signal the detector can cause the instruction to be processed by first passing the audio signal to a decoder configured to decode the audio signal to obtain the instruction the decoder can perform one or more of the following demodulation error correction and data extraction the error correction can include Reed Solomon error correction an encoder that can output data regarding the configuration module to a separate device and the instruction can be encoded in a watermark in the audio signal.

Furthermore various embodiments of a system for decoding audio visual settings with an electronic device can include a communications module implemented in an electronic device having one or more processors. The communications module can receive an audio signal determine whether the audio signal includes a command for adjusting an audio or visual parameter of the electronic device in response to determining that the audio signal does not include a command for adjusting the audio or visual parameter of the electronic device pass the audio signal to an audio system of the electronic device and in response to determining that the audio signal does include the command provide the command to an application configured to adjust the audio or visual parameter in the electronic device.

The system of the preceding paragraph may also include any subset of the following features the application can be the audio system the application can be a television application that can control operation of a television an audio processing system that can receive a second command from the television application where the second command can implement the command in the audio processing system and the communications module can also determine whether the audio signal includes the command by detecting determining whether the audio signal comprises a trigger signal.

Because the manufacturer provides the interface to the television for the FAE the manufacturer typically must program its firmware and user interface to be compatible with the audio system. A problem that results from this arrangement is that these user interfaces are often hard to use or may not work properly with the audio system. For example some field adjustment user interfaces for televisions require FAEs to input audio filter coefficients one at a time. An audio system may have several different filters each with several coefficients to be adjusted. A mistake in one coefficient can result in the FAE having to re enter all the coefficients which may each have several digits just to change the mistaken coefficient due to the inefficiency of the user interface. As a result FAE time is often wasted. Further manufacturers must invest time in learning how to communicate with the audio system in order to design the user interface. The potential number of interface protocols and connectors such as JTAG I2C SPI and USB that different devices can communicate with can also increase the complexity of the audio adjustment process for FAEs.

To address these and other issues an audio adjustment system is provided that can output a user interface customized by the provider of the audio system instead of the electronic device manufacturer. Such an arrangement can save both field engineers and manufacturers a significant amount of time. Advantageously in certain embodiments such an audio adjustment system can be provided without knowledge of the electronic device s firmware. Instead the audio adjustment system can communicate with the electronic device through an existing audio interface in the electronic device to enable a user to control audio enhancement parameters in the electronic device. For instance the audio adjustment system can control the electronic device via an audio input jack on the electronic device.

Turning to the FIGURES illustrate audio adjustment environments A B that each can implement an audio adjustment system respectively. In each audio adjustment environment the audio adjustment system communicates with an audio device . The audio adjustment system of communicates with the audio device through audio input cables or the like while the audio adjustment system of communicates with the audio device over a network .

Referring specifically to the audio adjustment system can communicate with any audio device that includes one or more audio jacks or audio connectors. Some of the many examples of such devices include televisions computers including desktops laptops tablets and the like wireless handheld devices such as cell phones smartphones MP3 players etc. audiovisual receivers AVR soundbars and vehicle audio systems. For ease of illustration many examples in this specification will be described with respect to televisions. However the features described herein may be applied to any electronic device capable of processing and or outputting audio.

In the depicted embodiment the audio adjustment system includes an adjustment module a communications module an audio output jack and an audio input jack . The audio device also includes audio input and output jacks a communications module and an audio processing system . Cabling including one or more cables connects the audio adjustment system with the audio device via the jacks . The audio adjustment system can communicate with the audio device through any type of audio jack or connector and any type of associated cabling. For example the audio jacks can be any combination of a microphone jack e.g. a TRS jack an RCA audio connector interface an HDMI interface a DVI interface a coaxial cable interface a USB interface or a SCART interface to name a few examples. Although not shown both the audio adjustment system and the audio device may include more or fewer components. For example if the audio device were a television the audio device could include video processing components among other features. For ease of illustration only the audio related components are shown.

By way of overview the adjustment module provides functionality for a user such as an FAE to specify configuration changes to be made to audio enhancements implemented by the audio processing system in the audio device . The adjustment module provides user configuration changes to the communications module which sends an audio communications signal with the configuration changes to the communications module in the audio device via jacks . The communications module in the audio device can extract the configuration change from the audio communications signal and provide the configuration changes to the audio processing system . The audio processing system can implement the configuration changes to adjust one or more audio enhancements of the audio processing system . The communications module can also obtain information from the audio processing system such as information on existing audio enhancement settings via the communications module and jacks .

The adjustment module can be designed by the provider of the audio processing system . As this provider may have a better understanding of how the audio processing system works and the most effective ways to tune it the adjustment module can have more functionality and better ease of use than existing user interfaces provided by manufacturers. Likewise the communications module can be designed by the provider of the audio processing system enabling the provider of the audio processing system to have greater control over adjustment of the audio processing system . In one scenario a manufacturer of the audio device enables the provider of the audio processing system to store the communications module together with the audio processing system in an audio processing board in the audio device . As a result the provider of the audio processing system can advantageously communicate with the audio processing system using the improved communication features described herein without having to modify the hardware or the non audio firmware of the audio device . Further the audio processing system itself can also have additional features beyond audio enhancements such as features for interpreting adjustment commands provided by the adjustment module .

The adjustment module of the audio adjustment system can output a graphical user interface a command line interface or a combination of both. An example user interface output by the adjustment module is shown in and described in detail below. The adjustment module may permit adjustment of any of a variety of audio related parameters including parameters specific to a particular audio enhancement installed in the audio device . Examples of audio enhancements include stereo enhancements bass enhancements multichannel audio e.g. surround sound enhancements virtual speaker enhancements enhanced audio decoders 3D audio enhancements and the like. Any parameter of these or other enhancements may be adjusted through the user interface provided by the adjustment module . The adjustment module may also permit sound data to be uploaded to the audio device retrieve data from the audio device such as information regarding current parameter values or settings of the audio processing system and disable or enable enhancements in the audio processing system . More generally the adjustment module can enable a user to affect any operation of the audio processing system in the audio device .

In response to receiving user input the adjustment module can provide one or more commands corresponding to the user input to the communications module . The communications module can encode the commands and communicate the commands to the audio device through the audio output jack and cabling . In certain embodiments the communications module implements a software or hardware modem for communicating with the audio device . The software or hardware modem of the communications module can communicate with a corresponding software or hardware modem in the communications module of the audio device using any of a variety of communications technologies or protocols detailed examples of which are provided below.

The communications module in the audio device can listen for communications from the communications module in the audio adjustment system . In one embodiment if the communications module in the audio device detects a communications signal having a command on the audio input jack the communications module can pass the communications signal to the audio processing system for adjustment or testing of the audio processing system . If the communications module detects ordinary audio input from the audio input jack the communications module can pass the audio to the audio processing system for enhancement processing.

In other embodiments the audio signal input to the audio device includes commands and ordinary audio together. For instance the commands may be embedded in a digital watermark in the audio signal. In such instances the communications module can decode the commands while also passing the ordinary audio to the audio processing system . The ordinary audio may therefore play in parallel with or substantially in parallel with the processing of the commands. Thus for example while a television program is being output from a television including audio the audio adjustment system in communication with the television may communicate with the audio processing system to evaluate the performance or functionality of the audio processing system . The audio adjustment system can also communicate with the audio device while the device is processing audio without using watermarking in some embodiments. In the television example the television can receive ordinary audio for playback from a separate audio source e.g. another audio cable than the commands that are provided by the audio adjustment system

As used herein the term ordinary audio in addition to having its ordinary meaning can mean audio that would ordinarily be played back for listening on one or more speakers such as music audio associated with radio television online streaming videos or movies or the like. Thus in some embodiments the ordinary audio is not commands used to adjust the audio processing system . On the other hand as mentioned above such commands can be embedded in the ordinary audio using digital watermarking techniques or the like some examples of which are described in U.S. Pat. No. 7 451 093 filed Sep. 9 2004 titled Systems and Methods of Remotely Enabling Sound Enhancement Techniques the disclosure of which is hereby incorporated by reference in its entirety.

Although the audio adjustment system is shown communicating bidirectionally with the audio device through both input and output jacks the audio adjustment system may communicate unidirectionally with the audio device in some embodiments. The connection between the audio adjustment system and audio device may be only from the audio output jack to the audio input jack of the audio device . In such embodiments the audio adjustment system merely sends commands to the audio device to adjust audio enhancements of the audio processing system in the audio device . Alternatively the audio adjustment system may be connected to the audio device solely through the input jack of the system and output jack of the audio device . In this configuration the audio adjustment system may gather data from the audio device useful for such purposes as obtaining data from the audio processing system for testing and evaluation purposes. However it can be useful to have bidirectional communication between the audio adjustment system and the audio device to enable the audio adjustment system to discover enhancement parameter settings of the audio processing system test the audio processing system and to adjust the settings of the audio processing system .

Turning to in the audio adjustment environment the audio adjustment system and the audio device include the same or similar features as the audio adjustment system and audio device in . However the audio adjustment system communicates with the audio device over a network which may be a local area network LAN a wide area network WAN such as the Internet combinations of the same or the like. To enable the audio adjustment system to communicate with the audio device over the network a network adapter can be connected to the audio input and or output ports of the audio device . Alternatively or in addition to a network adapter in some embodiments the communications module of the audio device can include the functionality of the network adapter .

Like the audio adjustment system the audio adjustment system includes the adjustment module and a communications module . The communications module can use one or more network protocols such as the TCP IP protocol suite to communicate with the network adapter . Upon receiving TCP IP packets for instance the network adapter can extract data from the packets and supply this data to the communications module . The communications module can then decode the extracted data to identify one or more commands in the data. In another embodiment not shown the network adapter includes some or all of the functionality of the communications module . Thus for example the network adapter can decode the extracted data to identify one or more commands and pass the one or more commands directly to the audio processing system through the audio input jack e.g. the audio device may not include the communications module .

In still other embodiments the network adapter may be omitted if the audio device is already network enabled. Some televisions for instance include network functionality. Such televisions are commonly called Internet enabled televisions and have an Ethernet port or wireless interface for communicating over a network. Other devices can be modified to include an equivalent of the network adapter within the audio device instead of connected to the audio device .

The network adapter can advantageously enable an FAE or other person to communicate with an audio device remotely for remote support testing or update purposes. A technical support agent using a device that implements the audio adjustment system for instance may instruct a user of the audio device to connect an audio cable between the network adapter and the user s network connected computer or router. Over this connection the customer can download instructions e.g. an MP3 file or streamed instructions to the audio processing system from the audio adjustment system . The audio processing system in the audio device may communicate diagnostic information to the technical support personnel over the audio cable and over the network .

The example user interface shown includes a menu a test pane and an adjustment pane . The menu provides file and audio options for performing general file management such as loading and saving audio files. In addition the menu can provide options for processing audio files offline for testing purposes using a program such as Adobe Audition or the like such as in the user device rather than in the audio device . The menu may also include various presets for adjusting a plurality of enhancement settings described below . Further the menu can include options for selecting the sound card of the user device so that the audio adjustment system can communicate with the appropriate sound card driver.

The test pane includes user interface controls for playing audio files through the audio processing system of the audio device for testing purposes. These user interface controls include playback rewind and stop buttons as well as presets and bypass buttons. The playback rewind and stop buttons can be used for playing back rewinding or stopping an audio file in the audio device or in the user device. In addition a slider button allows the audio file to be cued to any point of the audio file . Such controls allow a user to test the audio processing system . Left and right bar graphs indicate the output of the audio file on left and right speakers in either the audio device or the user device. The presets button allows presets for adjusting a plurality of enhancement settings described below . The bypass button allows audio processing to be performed directly in the audio device rather than in the user device.

The adjustment pane includes user interface controls for adjusting parameters of enhancements in the audio processing system . In the adjustment pane various tab controls list names of different audio enhancements stored in the audio processing system . The adjustment module can obtain the names of audio enhancements stored in the audio processing system and populate the tab controls with these names. Alternatively the adjustment module can output all available enhancement names on the tab controls and only those enhancements stored in the audio processing system can be accessed using the tab controls . User selection of one of the tab controls can result in the adjustment module outputting parameter adjustment controls for the relevant audio enhancement. A master enable control can have the same functionality as the bypass button described above allowing audio processing to be performed directly in the audio device rather than in the user device.

In the example embodiment shown the selected tab control is the Master Controls. The master controls can adjust parameters that affect some or all of the audio enhancements in the audio processing system . The parameter adjustment controls shown for these master controls include sliders and text input boxes for adjusting such parameters as input gain output gain bypass gain and headroom gain. These gains can be applied to any enhancement implemented by the audio processing system . A submit changes button enables a user to submit the parameter adjustments made using the controls to the audio device . User selection of the submit changes button can cause the adjustment module to send the user adjusted parameter values to the audio device using the communication system or described above.

A current settings control can be selected by a user to cause the adjustment module to query the audio processing system for current enhancement settings. The current settings control can cause the adjustment module to obtain values for parameters for each of the audio enhancements represented by the tab controls or solely for the current enhancement or master controls highlighted by selection of the current tab control . The adjustment module can change the parameter adjustment controls to reflect the current settings in the audio processing system thereby allowing a user to see the current settings and then make changes accordingly. In other embodiments the adjustment module automatically obtains and outputs the current settings of the audio processing system upon communicating initially with the audio device . The current settings control may but need not be omitted in such embodiments.

In addition to those parameters shown additional examples of parameters that may be adjusted or tuned include any gain value filter coefficients parametric equalization coefficients equalizer band levels left right channel balance surround sound balance decoder settings encoder settings and speaker specific settings. For example the user interface may permit adjustment of any of the audio enhancement parameters described in any of the following U.S. Patents and Patent Publications among others U.S. Pat. Nos. 5 319 713 5 333 201 5 459 813 5 638 452 5 912 976 6 597 791 7 031 474 7 555 130 7 764 802 7 720 240 2007 0061026 2009 0161883 2011 0038490 2011 0040395 and 2011 0066428 each of the foregoing of which is hereby incorporated by reference in its entirety.

Further in addition to providing slider controls text box controls and the like for adjusting enhancement parameters in some embodiments the user interface can enable a user to upload an audio file containing instructions or commands for changing a plurality of parameters. This upload functionality can be useful if a variety of parameters need to be changed for several devices freeing the user from having to adjust a slider or text box for each of the parameters on each device. The commands in the audio file can be formatted for instance using the encoding techniques described below.

The communications module receives input data from the adjustment module and provides this data to an encoder . The data received from the adjustment module can include any of the data described above including for example enhancement settings and commands input by the user of the user interface . The encoder encodes the data for transmission to the communications module in the audio device . Advantageously in certain embodiments the encoder can encode the data into an audio signal that can be interpreted by the audio device . The communications module can be implemented in hardware and or software.

In the example embodiment shown the encoder includes a packetizer that initially receives the data and forms the data into packets. The packetizer can use any suitable protocol to create the packets. A non limiting example packet structure is describe below with respect to . These packets need not be TCP IP packets rather the packets can generally be groupings of the data into groups of bits or bytes organized for transmission. However in some embodiments the packets are formatted according to one or more protocols in the TCP IP suite of protocols. The packetizer forwards the packets to a framing module which can organize a group of packets into one or more frames. The packet frame structure provided by the packetizer and framing module can be similar to the packet frame structure provided by many data link layer protocols in the OSI model of computer networking or the TCP IP network reference model. Even if the entire TCP IP network stack is not used the communications module can use one or more link layer protocols to communicate with the communications module in the audio device such as the point to point PPP protocol high level data link control HDLC protocol Cisco HDLC protocol or Ethernet protocol. Further the communications modules described herein may also use wireless communications protocols to communicate wirelessly.

Each frame or a subset thereof can include a preamble that indicates that the audio signal includes commands or data. The communications module in the audio device can listen for the preamble and commence decoding of the audio signal in response to detecting the preamble. The preamble can include a short set of bits that have a specific pattern or audio formatted according to specified frequencies or the like. The preamble can also be more complex than a short set of bits and may include a passcode password or other authentication information such as encryption keys. More detailed embodiments of the preamble are described below.

The framing module outputs one or more frames to an error correction coder . The error correction coder can apply any error correction coding or forward error correction technique to the frames. For example the error correction coder can apply any block code or convolutional code such as Reed Solomon coding Hamming coding the Viterbi algorithm combinations of the same or the like. By applying error correction coding the error correction coder can enable the communications module in the audio device to correct bit errors in the received signal. Error correction coding is optional in some embodiments and thus the error correction coder can be omitted.

The error correction coder outputs an encoded audio signal to a modulator . The modulator can perform a modulation of the encoded audio signal to prepare the encoded audio signal for transmission to the audio device . One modulation scheme that the modulator can use is audio frequency shift keying AFSK which uses two frequencies to represent different bits. AFSK can be understood in the context of an example plot shown in where the top graph of the plot corresponds to a digital signal e.g. output by the coder and the bottom graph represents the AFSK encoded signal. In the digital signal a mark can represent a 1 binary value while a space can represent a 0 binary value. Different frequencies are used to represent the mark and space in the AFSK encoded signal. illustrates another example plot where a first frequency represents a mark and the second frequency is zero representing a space. This form of AFSK can also be equivalent to amplitude shift keying ASK .

Although AFSK is the modulation scheme described in this example the modulator can use other modulation schemes some examples of which can include Quadrature Amplitude Modulation QAM Phase Shift Keying PSK Frequency Modulation FM Amplitude Modulation spread spectrum techniques combinations of the same and the like. Alternatively the encoded audio signal output by the error correction coder can be line coded for digital baseband transmission instead of modulated by a carrier signal. Line coding techniques that can be used among others include Manchester coding non return to zero NRZ coding and pulse amplitude modulation.

In the depicted embodiment the modulator outputs a modulated audio signal to a digital to analog D A converter which converts the audio signal to an analog audio signal. The D A converter can be omitted in some embodiments. In other embodiments the D A converter is not part of the communications module but is rather part of a sound card or other device in the device that implements the audio adjustment system . The output of the D A converter is provide to a switch which outputs the audio signal as an output signal or which alternatively outputs an ordinary audio signal depending on a control setting . The ordinary audio signal can correspond to the file described above with respect to . Thus the communications module can switch between sending commands and ordinary audio data e.g. for testing of the audio processing system to the audio device . The control setting can be actuated by a user to switch between ordinary audio input and command input for example in response to user selection of an appropriate menu setting in the user interface or the like.

The communications module could be modified in certain embodiments to include a TCP IP stack so as to incorporate the features of the communications module of . To do so in one embodiment the D A converter could be replaced with a networking module that encapsulates the output of the modulator in TCP IP packets.

The encoder can be used in general to transmit data including commands to the audio device . A decoder is also provided in the depicted embodiment of the communications module for decoding data received from the audio device . An analog input signal from the audio device is provided to an analog to digital converter which converts the analog input signal into digital format for decoding by the decoder . The decoder decodes the digital signal to output data which can be provided to the adjustment module for presentation to a user or for storage in computer data storage. The functionality of the decoder can correspond to a similar decoder in the audio device which is described below with respect to .

In the depicted embodiment the communications module includes an analog to digital converter A D which receives the input signal in analog form and outputs a digital signal. The A D provides the digital signal to a detector . However the A D may be omitted in embodiments where the input signal is digital such as when the output signal of the communications module is digital and the D A can be omitted as well .

The detector can analyze the digital signal output by the A D to determine whether the signal includes data or commands or whether the signal includes ordinary audio. If the signal includes data or commands the detector can pass the data commands to a decoder . If the signal includes ordinary audio instead of data or commands the detector can pass the ordinary audio to the audio processing system which may apply one or more enhancements to the audio. In some implementations the detector mutes the output of the detector that would ordinarily go to the audio processing system when data or commands are received. Muting this audio processing path can allow the data or commands to be processed without outputting a modulated audio signal e.g. AFSK modulated to speakers. However in other embodiments the detector does not mute the output such that the modulated audio signal is able to be output by the speakers. The adjustment module can provide in a user interface an option for a user to mute or unmute the output of the audio device in response to receiving data or commands in some embodiments.

The features of the detector are described in greater detail with respect to . Referring to an embodiment of an audio data signal detector process is shown. For convenience the process is described as being implemented by the detector although the process could also be implemented by other hardware or software not shown. At block of the process an input audio signal is received with the detector .

At block the detector attempts to decode an initial portion of the input audio signal. In doing so the detector can attempt to identify a preamble of the audio signal that includes a trigger signal indicative of the presence of data or commands in the audio signal. In general the trigger signal may include one or more different frequencies of audio that indicate that the audio signal contains data or commands. For instance the trigger signal may include two different frequencies of audio. The trigger signal may also include a more complex pattern of frequencies and cycles of those frequencies that can act as a passcode or the like.

The detector can attempt to decode or otherwise detect this trigger signal by in any of a variety of ways. In one embodiment the detector checks zero crossing intervals in the audio signal to determine whether the detected zero crossing intervals correspond to expected trigger signal frequencies. In detecting these frequencies the detector can also detect a number of cycles of each frequency to determine whether the number of detected cycles corresponds to an expected number of cycles. The detector can also evaluate the signal power of the input signal to determine whether the signal power corresponds to an expected signal power. Different frequencies in the triggering signal may for instance have different power levels. Further in some embodiments the detector checks whether frequency values cycles and or signal power are within a certain tolerance of expected values in case the input signal is corrupted. Thus the detector can allow the input signal to be decoded even if the trigger signal varies from the expected trigger signal within certain tolerance s . Moreover the detector can use other techniques to detect the trigger signal in other embodiments.

If the trigger signal is present in the audio signal block the detector passes the input audio signal to the decoder for decoding at block . The detector can also optionally mute the output of the detector at block so that a user will not hear the noise associated with modulated signals. Otherwise at block if the detector does not detect the trigger signal the detector passes the audio signal to an audio processing system for enhancement at block .

Because of the detector the audio device incorporating the communications module does not need to have a different mode for tuning in certain embodiments. Without the detector for instance a user might have to select an option in the audio device to turn the audio device to tuning mode so that the audio device would know to process data or commands instead of ordinary audio. Thus the detector can advantageously increase the ease of use of adjusting the audio device . In addition the possibility of misdetection by the detector is low because ordinary audio is unlikely to have the same specific structure as the trigger signal. Even if a false detection were to occur the decoder described below can perform a cyclic redundancy check see also and determine that a mis detected signal is actually ordinary audio. To further avoid misdetection in some embodiments the detector can include functionality that enables a user to disable the detector once manufacturing testing has completed. As a result the detector and decoder may be rendered inoperative for production to reduce or eliminate the chance of a misdetection.

Turning again to the audio signal passes from the detector to the decoder in situations where the audio signal includes data or commands. The decoder includes a demodulator an error correction decoder and a data extractor . The demodulator demodulates the signal received from the detector . The demodulation technique used by the demodulator can be related to the modulation technique used by the modulator of . For instance if the modulation scheme used by the modulator was AFSK modulation the demodulator can perform AFSK demodulation. The error correction decoder can decode the demodulated signal to recover the error correction encoded frames and correct any detected errors if possible. The data extractor can demultiplex the error corrected signal to recover individual frames and packets within those frames to extract the data or commands in the audio signal. The data extractor can provide the data or commands to the audio processing system .

The audio processing system is a more detailed embodiment of the audio processing system and can include all the features thereof. A configuration module of the audio processing system receives the data or commands from the decoder and implements the data or commands. For instance the configuration module can update settings of the enhancements based on the data or commands. Some commands request information about the settings instead of changing the settings in which case the configuration module can return the requested information to an encoder . The encoder can have the same or similar functionality as the encoder of . The encoder can output an encoded signal to a D A which can output an audio signal for transmission to the audio adjustment system or communications module .

The end of transmission delimiter indicates that there is no further data in the frame although the delimiter does not preclude further frames from being transmitted. The delimiter can have the same structure as the packets described below with respect to . Thus for example the delimiter can be a packet having an address that represents end of transmission. Ellipses indicate that any amount of packetized data and sync data can be included in the frame .

The preamble is shown in greater detail by the expanded segment . In the expanded segment a trigger signal is shown that includes multiple cycles of different frequencies. The trigger signal in the depicted embodiment includes two cycles of a first frequency followed by two cycles of a second frequency followed by two additional cycles of the first frequency. In one example embodiment the first frequency has a value of Fs 20 where Fs is a sampling frequency used by the transmitting communication module and the second frequency has a value of Fs 40. Other values may be chosen and in general the trigger signal may have a variety of different features than the example trigger signal shown.

In addition to providing functionality for detecting a signal with commands rather than ordinary audio the trigger signal can have other purposes as well. In one embodiment the trigger signal provides data synchronization for the communications module . The communications module may operate asynchronously without a clock signal from the sending communications module and thus may use the trigger signal to synchronize timing with the incoming data. By synchronizing with the trigger signal in certain embodiments the communications module is able to properly decode the incoming signal. In addition the communications module can detect an amplitude level of the trigger signal and use this amplitude level as a reference for amplitude modulation decoding. As described above in some embodiments the communications signal may have some form of amplitude modulation in addition to or instead of frequency or phase modulation. The level of the audio input signal can vary however due to differing output levels of transmitting devices input levels of the receiving device imperfections in the transmission channel and the like. Thus the communications module can detect the level of the trigger signal and use this level as a reference level for decoding amplitudes of the remainder of the incoming signal. For instance in one embodiment the communications module considers the level of the trigger signal as a logic 1 such that remaining signal that has the same or similar signal level is also a logic 1 . However the communications module can also consider the level of the trigger signal to be a logic 0 .

The address field can define the enhancement technology to be modified and or the type of data to be transferred to the audio device . Bit masking can be used to analyze the address. For instance the address field can be organized with different bits assigned as follows bank 4 bit technology ID 6 bit parameter ID Range 6 bit for 16 bits of total address size. The bank portion of the address can refer to a mode for which a particular technology is being adjusted such as for movies television or pure audio. The technology ID can refer to a particular audio enhancement whereas the parameter ID Range can refer to a particular coefficient gain value or other tuning value or range to be adjusted see list of example tuning parameters above . As an example the address value 0001 0000 0100 0011 might correspond to the following bank movie mode technology ID adaptive equalization and parameter ID finite impulse response FIR filter coefficient.

In other embodiments the bank portion of the address may be omitted. In still other embodiments bit masking is not used in the address and instead each address is a transmission ID. Different transmission IDs can represent different commands. The transmission IDs can include general commands e.g. for error control such as acknowledgement ACK commands CRC related error reporting etc. and enhancement technology specific commands.

The size field can specify the size of the data payload or information field as the size of the information field may vary. The information field can include the actual data to be transferred. In the address example above this data can be the actual coefficient or coefficients of a FIR filter. The CRC field includes a CRC or checksum value that represents a hash of the packet for error detection purposes. The decoder can detect an error in the CRC field and apply error correction or fail to decode the packet if the packet is too corrupt. The flag field can have a variety of uses one example of which is including an end of packet delimiter similar to the end of transmission delimiter in the frame see .

The audio visual adjustment system receives an audio communications signal from an audio input jack which can be any of the audio input jacks described above. The audio communications signal is passed to the communications module . The communications module can have all the functionality of the communications modules described above. Accordingly the communications module can decode the audio communications signal to obtain instructions data or other information for adjusting the audio processing system and or the video processing system . Example adjustments to audio processing systems have been described above. Similar adjustments may be made to the video processing system . Like the audio processing system the video processing system can implement signal processing algorithms except that these algorithms process video. The audio visual processing system can process the received instructions or data to adjust the performance of or otherwise change the operation of the video processing system .

Also shown are a television application and a middleware layer . The television application can be a controller application that generally controls or operates the television in which the audio visual adjustment system is implemented. The television application can be provided by a manufacturer of the television and may control such functions as channel settings volume settings display settings and so forth. The middleware layer can include features provided by the television manufacturer for interacting with the television application . For instance these features can include an application programming interface API that can be used by the communications module to communicate with the television application . In addition the middleware layer can include an API provided by the provider of the audio processing system or by the television manufacturer that can provide access to the audio processing system and or video processing system from the television application .

In previous FIGURES such as the audio processing system internally adjusted its settings based on the input received by the communications module . In contrast the television application of the audio visual adjustment system can externally adjust the audio processing system and or the video processing system based on the input received by the communications module . While it is possible to use the approach of to adjust the audio processing system in a television many television manufacturers wish to retain control over changes to settings in their televisions. Thus the communications module can cooperate with the television application through the middleware layer to adjust the audio processing system and or video processing system . Further in some embodiments the middleware layer can be omitted and the communications module and audio video processing systems can communicate directly with the television application .

An example flow of information or change of states in the audio visual adjustment system is indicated by dashed arrows numbered 1 5. In state the communications module receives an audio communications signal from the audio input jack and decodes the signal. Before during or after decoding in state the communications module can notify the television application that the signal has been received. Once the transmission has been completely received the communications module can notify the television application that the transmission is complete at state . In each of these states and the communications module can access API functions in the middleware layer to communicate this state information to the television application .

In state the television application can fetch the data associated with the received transmission from the communications module using for example one or more API functions in the middleware layer . The fetched data can include instructions commands or the like for adjusting or obtaining information from the audio and or video processing systems . The television application can then use the fetched data at state to perform the instructions or commands on the audio and or video processing systems . In doing so the television application can use one or more API functions to implement the instructions or commands. For example if a received command indicates that an audio setting should be set to a certain value in the audio processing system the television application can call a SET function or the like the middleware layer which sets the value in the audio processing system . Example functions that the middleware layer can provide to the television application include commands to set parameters in the systems get parameters in the systems e.g. for transmission to a user device initialize parameters store or erase data or the like.

In some embodiments the communications module receives instructions from the video input port as indicated by dashed line . The communications module can use this information to adjust the audio and or video processing system as described above. Further the features of the audio visual adjustment system can be generalized to any electronic device. Any electronic device may have a controller application like the television application which can receive instructions from the communications module and process these instructions to adjust or obtain data from any subsystem in the electronic device including systems unrelated to audio or video processing.

More generally the audio adjustment system can permit any type of data to be transferred from one device to another with or without a user interface. In addition to parameter adjustments data transfers can include control data instructions audio content firmware or software updates hardware updates such as FPGA or EEPROM reconfigurations and the like. Further any device can include an audio adjustment system including an audio device. For instance an audio video receiver AVR can include an audio adjustment system that communicates with an audio processing system installed in a television over one or more audio cables that connect the two devices. In one example scenario the AVR includes the same audio enhancement technology that is included in the television. The AVR may process an audio signal with the audio enhancement and provide the enhanced audio to the television or other speakers for playback. The AVR may communicate to the audio enhancement system in the television a message using the audio adjustment system that indicates that the audio has already been processed by the audio enhancement. The television can then forego applying the enhancement in response to receiving the message. The message may but need not be sent to the television at the start of a program for instance to avoid interrupting audio playback of the program.

In another embodiment a firmware update for the audio processing system or audio processing system can be communicated to the audio device over a broadcast channel such as a satellite or cable channel. The firmware update can be embedded in a television program as a spread spectrum signal or as a digital watermark. The firmware update may instead be sent independent of a television program. The firmware update may include a synchronization signal or trigger signal like the trigger signal described above or different therefrom that causes the audio processing system to recognize the communication of instructions. The trigger signal can thereby enable the audio processing system to optionally mute or turn off the audio output so that the television loudspeakers do not output the AFSK or other signal. More generally a first device communicating with an audio adjustment system installed in a second device can initiate a handshake with the second device prior to sending data to the audio processing system. The audio processing system or the communications module in the audio device can mute this handshake and subsequent data so as to avoid playing the accompanying AFSK or other protocol sounds over a loudspeaker.

In yet another embodiment two audio devices can communicate any type of data with each other using aspects of the communication systems described above. For instance two smartphones or other mobile devices can communicate via cables connected to the devices. However speaker to microphone AFSK communication can be employed for faster or easier to use communication between the two devices. One of the devices can output an AFSK modulated signal using the communications module to a speaker which audibly or ultrasonically outputs the AFSK modulated signal to the microphone of the other device. The receiving device can demodulate and decode the AFSK modulated signal using the features of the communications module . Examples of data that can be communicated include audio parameters virtual business cards general calendaring and contact information applications and the like.

Many other variations than those described herein will be apparent from this disclosure. For example depending on the embodiment certain acts events or functions of any of the algorithms described herein can be performed in a different sequence can be added merged or left out all together e.g. not all described acts or events are necessary for the practice of the algorithms . Moreover in certain embodiments acts or events can be performed concurrently e.g. through multi threaded processing interrupt processing or multiple processors or processor cores or on other parallel architectures rather than sequentially. In addition different tasks or processes can be performed by different machines and or computing systems that can function together.

The various illustrative logical blocks modules and algorithm steps described in connection with the embodiments disclosed herein can be implemented as electronic hardware computer software or combinations of both. To clearly illustrate this interchangeability of hardware and software various illustrative components blocks modules and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. The described functionality can be implemented in varying ways for each particular application but such implementation decisions should not be interpreted as causing a departure from the scope of the disclosure.

The various illustrative logical blocks and modules described in connection with the embodiments disclosed herein can be implemented or performed by a machine such as a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor can be a microprocessor but in the alternative the processor can be a controller microcontroller or state machine combinations of the same or the like. A processor can also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor a plurality of microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration. Although described herein primarily with respect to digital technology a processor may also include primarily analog components. For example any of the signal processing algorithms described herein may be implemented in analog circuitry. A computing environment can include any type of computer system including but not limited to a computer system based on a microprocessor a mainframe computer a digital signal processor a portable computing device a personal organizer a device controller and a computational engine within an appliance to name a few.

The steps of a method process or algorithm described in connection with the embodiments disclosed herein can be embodied directly in hardware in a software module executed by a processor or in a combination of the two. A software module can reside in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers hard disk a removable disk a CD ROM or any other form of non transitory computer readable storage medium media or physical electronic storage or computer storage known in the art. An exemplary storage medium can be coupled to the processor such that the processor can read information from and write information to the storage medium. In the alternative the storage medium can be integral to the processor. The processor and the storage medium can reside in an ASIC. The ASIC can reside in a user terminal. In the alternative the processor and the storage medium can reside as discrete components in a user terminal.

Conditional language used herein such as among others can might may e.g. and the like unless specifically stated otherwise or otherwise understood within the context as used is generally intended to convey that certain embodiments include while other embodiments do not include certain features elements and or states. Thus such conditional language is not generally intended to imply that features elements and or states are in any way required for one or more embodiments or that one or more embodiments necessarily include logic for deciding with or without author input or prompting whether these features elements and or states are included or are to be performed in any particular embodiment. The terms comprising including having and the like are synonymous and are used inclusively in an open ended fashion and do not exclude additional elements features acts operations and so forth. Also the term or is used in its inclusive sense and not in its exclusive sense so that when used for example to connect a list of elements the term or means one some or all of the elements in the list.

While the above detailed description has shown described and pointed out novel features as applied to various embodiments it will be understood that various omissions substitutions and changes in the form and details of the devices or algorithms illustrated can be made without departing from the spirit of the disclosure. As will be recognized certain embodiments of the inventions described herein can be embodied within a form that does not provide all of the features and benefits set forth herein as some features can be used or practiced separately from others.

