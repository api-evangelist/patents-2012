---

title: Methods and apparatus for controlling power consumption in an electronic device with a communication subsystem
abstract: An electronic device has a communication subsystem with a power saving mode and an active mode. The communication subsystem is set to switch between the power saving mode and the active mode depending on thresholds of communication traffic. The settings for the thresholds depend on the activity detected on the electronic device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09491704&OS=09491704&RS=09491704
owner: 2236008 Ontario Inc.
number: 09491704
owner_city: Waterloo
owner_country: CA
publication_date: 20120323
---
The present disclosure relates generally to electronic devices configured to operate for communications in a wireless communication network such as a wireless local area network or WLAN .

An electronic device or a mobile communication device may be configured for communications in different types of wireless communication networks such as a wireless local area network WLAN e.g. IEEE 802.11 based wireless network . Such devices typically have limited battery capacity and to conserve battery power the devices may communicate with the wireless communication network in a power saving mode instead of an active mode. However power saving mode communications typically has less bandwidth and more latency then active mode communications.

What are needed are methods and apparatus which improve these and other related or similar shortcomings of the prior art.

Reference will now be made to which illustrates an example electronic device in which example embodiments described in the present disclosure can be applied. The electronic device is a communication device and more particularly is a mobile communication device having data and voice communication capabilities and the capability to communicate with other computer systems for example via the Internet. It will however be appreciated that the electronic device may take other forms including any one of the forms listed below.

Depending on the functionality provided by the electronic device in various example embodiments the electronic device may be a multiple mode communication device configured for both data and voice communication a mobile telephone such as a Smartphone a wearable computers such as a watch a tablet computer such as a slate computer a personal digital assistant PDA or a computer system. The electronic device may take other forms apart from those specifically listed above. The electronic device may also be referred to as a mobile communications device a communication device a mobile device and in some cases as a device.

The electronic device includes a controller including one or more processor such as a microprocessor which controls the overall operation of the electronic device . The processor interacts with device subsystems such as a wireless communication subsystem for exchanging radio frequency signals with a wireless network to perform communication functions. The processor is communicably coupled with additional device subsystems including one or more output interfaces such as a display and or a speaker and or electromagnetic EM radiation source one or more input interfaces such as a camera microphone keyboard not shown control buttons not shown a navigational input device not shown and or a touch sensitive overlay not shown associated with a touch screen display an orientation subsystem memory such as flash memory random access memory RAM read only memory ROM etc. auxiliary input output I O subsystems a data port which may be a serial data port such as a Universal Serial Bus USB data port a near field communications NFC subsystem a short range communication subsystem and other device subsystems generally designated as . Some of the subsystems shown in perform communication related functions whereas other subsystems may provide resident or on device functions.

In the present embodiment the wireless network is a wireless local area network WLAN and the wireless communication subsystem includes modules and processes which operate in accordance with IEEE 802.11 for communications. Wireless communication subsystem may be or include what is referred to as a WLAN driver with which microprocessor may communicate and control.

Short range wireless communications subsystem may provide for communication between the electronic device and different systems or devices which need not necessarily be similar devices. For example the subsystem may include an infrared device and associated circuits and components or a Bluetooth communication module to provide for communication with similarly enabled systems and devices.

A WLAN according to the standard IEEE 802.11 has a Constantly Awake Mode or Constantly Active Mode or Active Mode AM where the radio for example wireless communication subsystem is constantly on to receive or transmit packets and generally power saving features are not enabled. In AM the wireless communication subsystem uses more power then for example power save polling mode or Power Save Mode or Power Saving Mode PSM which the suspends the radio activity after a variable but pre determined period of inactivity and then wakes up periodically to see if the infrastructure for example access point has queued any traffic or packets for it. If there is traffic then the radio stays awake to receive it. When the wireless communication subsystem is in PSM the access point the device is associated with will buffer downlink frames instead of directly sending them to the device and the device will thus will only receive downlink traffic at intermittent intervals e.g. beacon intervals .

Typically the PSM has reduced performance in terms of throughput and increased latency in delivery as compared to the AM. In PSM there may also be a range of power saving depend on the length of time for example beacons the radio is suspended off or sleeping. The longer the radio is suspended or off the more the power savings or the lower the power usage rate. Although the present embodiment relates to the PSM of the IEEE 802.11 standards any suitable power saving method may be utilized including Unscheduled Automatic Power Save Delivery U APSD Wi Fi Multimedia Power Save WMM PS Power Save Multi Poll PSMP Spatial Multiplexing SM Power Save and Dynamic Multiple Input and Multiple Output MIMO Power Save.

Again the WLAN may be an IEEE 802.11 based wireless network which provides communications for mobile device in accordance with IEEE 802.11 standards. Although the present embodiment relates to a WLAN of the IEEE 802.11 type any suitable wireless communication technologies with active modes and power saving modes may be utilized such as Wireless Metropolitan Area Networks WiMAX technologies e.g. IEEE 802.16e based technologies and Wireless Personal Area Networks ZigBee based on the IEEE 802.15.4 standard. Even further IEEE 802.15 a standardization of Bluetooth BT wireless specification defined by IEEE is for wireless personal area networks WPANs . A further example of a WPAN is Zigbee based on the IEEE 802.15.4 standard. The IEEE 802.15 type standard has characteristics such as short range low power low cost small networks and communication of devices operating within a Personal Operating Space. A BT device in the Connection State has an Active Mode actively participates in a channel and power saving modes Park mode Hold Mode and Sniff Mode . The Sniff Mode has the highest duty cycle the highest power usage rate of all 3 power saving modes sniff hold park . The Hold Mode has an intermediate duty cycle the medium power usage rate of the 3 power saving modes. The Park Mode has the lowest duty cycle the least power usage rate of the 3 power saving modes.

Although the present embodiment has been described as an Active Mode AM and a Power Saving mode PSM for simplicity and clarity of illustration it is understood that an Active Mode AM includes a power saving mode which uses more power or has a higher power usage rate then the power saving mode of the Power Saving Mode PSM . In an example embodiment with the wireless communication subsystem using BT an Active Mode AM may be set in Sniff Mode while a Power Saving Mode PSM may be set in the Park Mode.

In a further example embodiment the anticipated data traffic of electronic device is high for example when the electronic device has the Display active or on and a web browser application also active or opened the wireless communication subsystem using Dynamic MIMO Power Save in 802.11n may set the Active Mode AM to a radio configuration of 4 4 and the Power Saving Mode PSM to a radio configuration of 2 2. The anticipated data traffic is lower when only the Display is active and the browser application is not active for this state the wireless communication subsystem may set the Active Mode AM to a radio configuration of 3 3 and the Power Saving Mode PSM to a radio configuration of 1 1. However the anticipated data traffic is lowest of these examples when the Display is not active or off the wireless communication subsystem may set the Active Mode AM to a radio configuration of 2 2 and the Power Saving Mode PSM to a radio configuration of 1 1. This is just one example embodiment showing one trade off between power usage versus performance such as lower latency . It will be appreciated that there are a number of alternative embodiments such as where the electronic device is configured for more aggressive in power usage and better performance with 4 4 in all AM states.

Note that the device may be additionally configured for communications with cellular telecommunications networks e.g. as a cellular telephone device and or cellular data communication device . For communication with cellular networks device may be configured in accordance with one or more cellular telecommunication standards such as Global Systems for Mobile GSM and or General Packet Radio Service GPRS standards. However such device may additionally or alternatively operate in accordance with other such standards such as Enhanced Data rates for GSM Evolution EDGE or Enhanced GPRS EGPRS Universal Mobile Telecommunications System UMTS Long Term Evolution LTE or EVolution Data Only EV DO for CDMA technologies as a few examples.

In at least some example embodiments the electronic device may include a touch screen display which acts as both an input interface i.e. touch sensitive overlay and an output interface i.e. display . The touch screen display may be constructed using a touch sensitive input surface which is connected to an electronic controller and which overlays the display . The touch sensitive overlay and the electronic controller provide a touch sensitive input interface and the processor interacts with the touch sensitive overlay via the electronic controller. In at least some example embodiments the touch sensitive overlay may have a touch sensitive input surface which is larger than the display . For example in at least some example embodiments the touch sensitive overlay may extend overtop of a housing of which surrounds the display . In such example embodiments the housing of may be referred to as an active frame since it is capable of acting as an input interface . In at least some example embodiments the touch sensitive overlay may extend to the sides of the electronic device .

As noted above in some example embodiments the electronic device may include a wireless communication subsystem which allows the electronic device to communicate over a wireless network . The wireless communication subsystem includes a receiver a transmitter and associated components such as one or more antenna elements and local oscillators LOs and a processing module such as a digital signal processor DSP . The antenna elements and may be embedded or internal to the electronic device and a single antenna may be shared by both receiver and transmitter. The particular design of the wireless communication subsystem depends on the wireless network in which electronic device is intended to operate.

In at least some example embodiments the electronic device may communicate with any one of a plurality of fixed transceiver base stations of the wireless network within its geographic coverage area. The electronic device may send and receive communication signals over the wireless network after the required network registration or activation procedures have been completed. Signals received by the antenna through the wireless network are input to the receiver which may perform such common receiver functions as signal amplification frequency down conversion filtering channel selection etc. as well as analog to digital A D conversion. A D conversion of a received signal allows more complex communication functions such as demodulation and decoding to be performed in the DSP . In a similar manner signals to be transmitted are processed including modulation and encoding for example by the DSP . These DSP processed signals are input to the transmitter for digital to analog D A conversion frequency up conversion filtering amplification and transmission to the wireless network via the antenna . The DSP not only processes communication signals but may also provide for receiver and transmitter control. For example the gains applied to communication signals in the receiver and the transmitter may be adaptively controlled through automatic gain control algorithms implemented in the DSP .

In some example embodiments the auxiliary input output I O subsystems may include an external communication link or interface for example an Ethernet connection. The electronic device may include other wireless communication interfaces for communicating with other types of wireless networks for example a wireless network such as an orthogonal frequency division multiplexed OFDM network. The auxiliary I O subsystems may include a vibrator for providing vibratory notifications in response to various events on the electronic device such as receipt of an electronic communication or incoming phone call or for other purposes such as haptic feedback touch feedback .

In some example embodiments the electronic device also includes a removable memory module typically including flash memory such as a removable memory card and a memory interface . Network access may be associated with a subscriber or user of the electronic device via the memory module which may be a Subscriber Identity Module SIM card for use in a GSM network or other type of memory card for use in the relevant wireless network type. The memory module is inserted in or connected to the memory card interface of the electronic device in order to operate in conjunction with the wireless network .

The data port may be used for synchronization with a user s host computer system not shown . The data port enables a user to set preferences through an external device or software application and extends the capabilities of the electronic device by providing for information or software downloads to the electronic device other than through the wireless network . The alternate download path may for example be used to load an encryption key onto the electronic device through a direct reliable and trusted connection to thereby provide secure device communication.

In at least some example embodiments the electronic device also includes a device orientation subsystem including at least one orientation sensor which is connected to the processor and which is controlled by one or a combination of a monitoring circuit and operating software. The orientation sensor detects the orientation of the device or information from which the orientation of the device can be determined such as acceleration. In some example embodiments the orientation sensor is an accelerometer such as a three axis accelerometer. An accelerometer is a sensor which converts acceleration from motion e.g. movement of the device or a portion thereof due to the strike force and gravity which are detected by a sensing element into an electrical signal producing a corresponding change in output . Accelerometers may be available in one two or three axis configurations. Higher order axis configurations are also possible. Accelerometers may produce digital or analog output signals depending on the type of accelerometer.

An orientation sensor may generate orientation data which specifies the orientation of the electronic device . The orientation data in at least some example embodiments specifies the orientation of the device relative to the gravitational field of the earth.

In some example embodiments the orientation subsystem may include other orientation sensors instead of or in addition to accelerometers. For example in various example embodiments the orientation subsystem may include a gravity sensor a gyroscope a tilt sensor an electronic compass or other suitable sensor or combinations thereof. In some example embodiments the device orientation subsystem may include two or more orientation sensors such as an accelerometer and an electronic compass.

The electronic device may in at least some example embodiments include a near field communications NFC subsystem . The NFC subsystem is configured to communicate with other electronic devices and or tags using an NFC communications protocol. NFC is a set of short range wireless technologies which typically require a distance of 4 cm or less for communications. The NFC subsystem may include an NFC chip and an NFC antenna.

The electronic device may include a microphone and or one or more speakers. In at least some example embodiments an electronic device may include a plurality of speakers . For example in some example embodiments the electronic device may include two or more speakers . The two or more speakers may for example be disposed in spaced relation to one another. That is in at least some example embodiments the electronic device may include a first speaker and a second speaker and the first speaker and the second speaker may be spatially separated from one another within the electronic device . In at least some example embodiments the display may be disposed between the first speaker and the second speaker of the electronic device. In such example embodiments the first speaker may be located at one side of the display and the second speaker may be located at another side of the display which is opposite the side of the display where the first speaker is located. For example the first speaker may be disposed at a left side of the display and the second speaker may be disposed at a right side of the display.

In at least some example embodiments each speaker may be associated with a separate audio channel. The multiple speakers may for example be used to provide stereophonic sound which may also be referred to as stereo .

The electronic device may also include one or more cameras . The one or more cameras may be capable of capturing images in the form of still photographs or motion video.

In at least some example embodiments the electronic device includes a front facing camera . A front facing camera is a camera which is generally located on a front face of the electronic device . The front face is typically the face on which a display is mounted. That is the display is configured to display content which may be viewed from a side of the electronic device where the camera is directed. The front facing camera may be located anywhere on the front surface of the electronic device for example the camera may be located above or below the display . The camera may be a fixed position camera which is not movable relative to the display of the electronic device and or the housing of the electronic device . In such example embodiments the direction of capture of the camera is always predictable relative to the display and or the housing. In at least some example embodiments the camera may be provided in a central location relative to the display to facilitate image acquisition of a face.

In at least some example embodiments the electronic device includes an electromagnetic EM radiation source . In at least some example embodiments the EM radiation source is configured to emit electromagnetic radiation from the side of the electronic device which is associated with a camera of that electronic device . For example where the camera is a front facing camera the electronic device may be configured to emit electromagnetic radiation from the front face of the electronic device . That is in at least some example embodiments the electromagnetic radiation source is configured to emit radiation in a direction which may visible by the camera. That is the camera and the electromagnetic radiation source may be disposed on the electronic device so that electromagnetic radiation emitted by the electromagnetic radiation source is visible in images obtained by the camera.

In some example embodiments the electromagnetic radiation source may be an infrared IR radiation source which is configured to emit infrared radiation. In at least some example embodiments the electromagnetic radiation source may be configured to emit radiation which is not part of the visible spectrum. The camera may be a camera which is configured to capture radiation of the type emitted by the electromagnetic radiation source . Accordingly in at least some example embodiments the camera is configured to capture at least some electromagnetic radiation which is not in the visible spectrum.

In some example embodiments the electronic device is provided with a service routing application programming interface API which provides an application with the ability to route traffic through a serial data i.e. USB or Bluetooth Bluetooth is a registered trademark of Bluetooth SIG Inc. connection to a host computer system using standard connectivity protocols. When a user connects their electronic device to the host computer system via a USB cable or Bluetooth connection traffic that was destined for the wireless network is automatically routed to the electronic device using the USB cable or Bluetooth connection. Similarly any traffic destined for the wireless network is automatically sent over the USB cable Bluetooth connection to the host computer system for processing.

The electronic device also includes a battery as a power source which is typically one or more rechargeable batteries that may be charged for example through charging circuitry coupled to a battery interface such as the data port . The battery provides electrical power to at least some of the electrical circuitry in the electronic device and the battery interface provides a mechanical and electrical connection for the battery . The battery interface is coupled to a regulator not shown which provides power V to the circuitry of the electronic device .

The electronic device includes a short range communication subsystem which provides for wireless communication between the electronic device and other electronic devices . The short range communication subsystem may be used to provide a preferred device mode between the electronic device and another electronic device which may in at least some example embodiments be an electronic device which is the same or similar to the electronic device discussed with reference to . In at least some example embodiments the short range communication subsystem is a wireless bus protocol compliant communication mechanism such as a Bluetooth communication module to provide for communication with similarly enabled systems and devices. Alternatively in at least some example embodiments the wireless communication subsystem comprises at least one of the short range communication subsystem and the NFC subsystem .

The electronic device stores data in an erasable persistent memory which in one example embodiment is the flash memory . In various example embodiments the data includes service data including information required by the electronic device to establish and maintain communication with the wireless network . The data may also include user application data such as email messages address book and contact information calendar and schedule information notepad documents image files and other commonly stored user information stored on the electronic device by its user and other data. The data stored in the persistent memory e.g. flash memory of the electronic device may be organized at least partially into one or more databases or data stores. The databases or data stores may contain data items of the same data type or associated with the same application. For example email messages contact records and task items may be stored in individual databases within the device memory.

The electronic device may in some example embodiments be a mobile communication device which may provide two principal modes of communication a data communication mode and a voice communication mode. In the data communication mode a received data signal such as a text message an email message or Web page download will be processed by the wireless communication subsystem and input to the processor for further processing. For example a downloaded Web page may be further processed by a browser application or an email message may be processed by an email messaging application and output to the display . A user of the electronic device may also compose data items such as email messages for example using the input devices in conjunction with the display . These composed items may be transmitted through the wireless communication subsystem over the wireless network .

In the voice communication mode the electronic device provides telephony functions and operates as a typical cellular phone. The overall operation is similar except that the received signals would be output to the speaker and signals for transmission would be generated by a transducer such as the microphone . The telephony functions are provided by a combination of software firmware i.e. a voice communication module and hardware i.e. the microphone the speaker and input interfaces . Alternative voice or audio I O subsystems such as a voice message recording subsystem may also be implemented on the electronic device . Although voice or audio signal output is typically accomplished primarily through the speaker the display screen may also be used to provide an indication of the identity of a calling party duration of a voice call or other voice call related information.

The processor operates under stored program control and executes software modules stored in memory such as persistent memory for example in the flash memory . As illustrated in the software modules include operating system software and software applications .

The software applications on the electronic device may also include a range of additional applications including a personal information manager PIM application having the ability to organize and manage data items relating to the user of the handheld computing device such as but not limited to instant message e mail calendar events voice mails appointments and task items. Further including for example a social networking application such as groupware to access Internet forums wikis blogs social network services or any combination thereof. Further including for example a notepad application Internet browser application voice communication i.e. telephony application camera application video application mapping application or a media player application or any combination thereof. Each of the software applications may include layout information defining the placement of particular fields and graphic elements e.g. text fields input fields icons etc. in the user interface e.g. the display according to the application.

The software modules or parts thereof may be temporarily loaded into volatile memory such as the RAM . The RAM is used for storing runtime data variables and other types of data or information as will be apparent to those skilled in the art. Although specific functions are described for various types of memory this is merely one example and those skilled in the art will appreciate that a different assignment of functions to types of memory could also be used.

A predetermined set of applications that control basic device operations including data and possibly voice communication applications will normally be installed on the electronic device during or after manufacture. Additional applications and or upgrades to the operating system or software applications may also be loaded onto the electronic device through the wireless network the auxiliary I O subsystem the data port the short range communication subsystem or other suitable subsystem . The downloaded programs or code modules may be permanently installed for example written into the program memory i.e. the flash memory or written into and executed from the RAM for execution by the processor at runtime.

Referring now to a front view of an example electronic device which is a Smartphone or a tablet computer with wireless capabilities is illustrated. The Smartphone is a mobile phone which offers more advanced computing capability than a basic non smartphone cellular phone. For example the Smartphone may have the ability to execute third party applications which are stored on the smartphone.

The Smartphone may include the components discussed above with reference to or a subset of those components. The Smartphone includes a housing which houses at least some of the components discussed above with reference to .

In the example embodiment illustrated the smartphone includes a display which may be a touchscreen display which acts as an input interface . The display is disposed within the Smartphone so that it is viewable at a front side of the Smartphone . That is a viewable side of the display is disposed on the front side of the smartphone. In the example embodiment illustrated the display is framed by the housing .

The Smartphone also includes other input interfaces such as one or more buttons keys or navigational input mechanisms. In the example illustrated at least some of these additional input interfaces are disposed for actuation at a front side of the smartphone.

The Smartphone also includes a speaker . In the example embodiment illustrated the smartphone includes a single speaker which is disposed vertically above the display when the Smartphone is held in a portrait orientation where its height is longer than its width. The speaker may be disposed on the front face of the Smartphone .

While the Smartphone of includes a single speaker in other example embodiments the Smartphone may include a greater number of speakers . For example in at least some example embodiments the Smartphone may include a second speaker which is disposed vertically below the display when the smartphone is held in a portrait orientation where its height is longer than its width i.e. the orientation illustrated in .

The Smartphone also includes a microphone . In the example illustrated the microphone is vertically disposed below the display when the smartphone is held in the portrait orientation. The microphone and at least one speaker may be arranged so that the microphone is in close proximity to a user s mouth and the speaker is in close proximity to a user s ear when the user holds the phone to their face to converse on the smartphone.

The Smartphone also includes a front facing camera which may be located vertically above the display when the Smartphone is held in a portrait orientation where its height is longer than its width. The front facing camera is located so that it may capture images of objects which are located in front of and or surrounding the front side of the Smartphone .

The Smartphone also includes an electromagnetic radiation source . The electromagnetic radiation source is disposed on the front side of the Smartphone . In this orientation electromagnetic radiation which is produced by the electromagnetic radiation source may be projected onto objects which are located in front of and or surrounding the front side of the Smartphone . Such electromagnetic radiation or the projection of electromagnetic radiation onto objects may be captured on images obtained by the camera .

Referring to there is shown a schematic view of an example embodiment of the electronic device depicting the communication pathways comprising a data processing means is in communication with the display the input interface a media application and a communication subsystem . The communication subsystem comprises the wireless communication subsystem the NFC subsystem and the short range wireless communication subsystem . The data processing means comprises the processor and the memory disposed within the housing .

The communication subsystem is configurable to switch from a PSM to an AM when communication traffic exceeds a first threshold and from an AM to a PSM when the communication traffic drops below a second threshold. A threshold is a packet rate comprising at least one of a packets per interval of time and a packets per interval of time for a second interval of time.

The media application is one of the applications and is any of a number of media applications such as movie player movie downloader music library downloader music player and video chat application. This and many other similar applications which may demand a great deal of capacity from the communication subsystem but which must be provided for a better user experience.

The memory carries computer processing instructions of software modules which when accessed from the memory and executed by the processor cause the data processing means to perform the method which will be described in further detail below.

To illustrate one exemplary network architecture within which the techniques of the present disclosure may be practiced is a communication system which includes a wireless local area network WLAN within which an electronic device may operate. WLAN has a plurality of wireless access points APs and for wireless communications with electronic device . In the present embodiment WLAN and electronic device operate in accordance with IEEE 802.11 standards. Such WLANs are identifiable by an electronic device from a Set Service Identifier SSID or Extended SSID ESSID . WLAN also includes one or more servers a redirect server and a gateway . Server may provide data applications and or functionality for communication services in WLAN .

Electronic device may also operate for communications in different LANs WLANs such as WLAN . Similar to WLAN WLAN has a plurality of wireless APs and one or more servers and a gateway . In this embodiment WLAN is a private communication network of an enterprise small company corporation etc. associated with electronic device . Such WLANs and may provide or allow access to various data and communication services to its terminals. For example the WLANs may provide for access to Internet via the Web browser application or voice telephony communication services with use of Voice over IP VoIP communications or other techniques.

For data or message synchronization services electronic device is enabled to maintain data synchronization with a server e.g. server or for user data of an application associated with a user account. The application of electronic device and the server may be or include for example an electronic mail e mail application program for the communication of e mail messages. In this case the data synchronization is a message synchronization for the e mail messages associated with the user account for an e mail application program. The data synchronization may alternatively or additionally be or include an address book synchronization for address book contacts in an address book organizer or a calendar appointment synchronization for calendar appointments in a calendar application program or multi media for example video music and images synchronization for media files in media applications.

For the data synchronized communications the server maintains storage of a mapping of a user account name or identifier of the user account with a personal identification number of electronic device . When communications are required with electronic device the personal identification number is used to route the messages to from electronic device through communication system .

In contrast to WLAN WLAN may be a public WiFi hotspot for public use and include what is referred to as a captive portal or walled garden. For devices connected in WLAN via one of wireless APs and gateway is configured to permit or deny access to the data applications and or functionality as well as to permit or deny external access outside of WLAN to Internet . To do this gateway has a set of IP address filters which define a set of addresses that are permissible impermissible if any at all for access by devices. Access by a device depends on whether or not a device has been authorized and what access rights are given upon authorization.

Typically when a request by a device in WLAN is made prior to proper authorization gateway is configured to redirect the request to redirect server . In response redirect server is configured to respond to electronic device to provide data for producing information e.g. a Web page information which is rendered in a visual display of electronic device via a Web browser application. The information may solicit a user response. For example the information may solicit a user registration or login with user fields for entering a user name and or password information. As another example the information may solicit a user payment with user payment fields for entering in user payment information. Further the information may solicit a user acceptance of terms of use a license or a legal disclaimer options of YES or NO or ACCEPT or DECLINE . Redirect server may be referred to by a different name depending on any more specific purpose e.g. authentication server registration server user confirmation server etc. .

The user will enter a user response via the Web browser application for example which is sent by electronic device and received by gateway . Gateway identifies whether the received user response is sufficient e.g. whether the user name and password match prestored user name and password information whether the user payment is accepted whether the user acceptance is confirmed etc. . If the user response is deemed sufficient gateway permits access to the data applications and or functionality in or outside of WLAN .

Again in contrast to WLAN WLAN may be a private communication network of an enterprise associated with electronic device . For devices attempting to access WLAN via Internet gateway is configured to permit or deny internal access to the data applications and or functionality in WLAN . For devices connected in WLAN via one of wireless APs and gateway may be configured to permit or deny access to the data applications and or functionality offered via WLAN depending on whether or not a device has been authorized and what access rights are given upon authorization.

In a WLAN the area of AP may include several terminals Stations or STA which can communicate with the whole network via the AP. If there is only one AP then the network is called a Basic Service Set BSS WLAN. If the network contains several BSS sets which together form a sub network then this is called an Extended Service Set ESS WLAN. A bus between APs in the ESS networks is called a Distribution System DS which can be for instance an Ethernet system or a wireless system. The area covered by one AP is called a microcell. A WLAN comprising a distribution system APs with their microcells presents itself as one network of the IEEE802 standard to the higher layers of the OSI layer model.

The electronic device is initially located within a coverage cell of a wireless communication network such as a wireless local area network WLAN . A connection between the device and the WLAN is established and maintained via an access point AP of the WLAN where communications are provided for the electronic device over a communication channel. The electronic device may receive one or more services made available by the WLAN. The services may include a voice telephony service e.g. VoIP and or a data communication service e.g. Web browsing service data synchronization service e mail message delivery service etc. facilitated via a packet data communication service . The communications over the communication channel is in packet data and the speed or bandwidth of the communications is communication traffic typically measured in packets per interval of time for example packet per sec or packets per millisecond.

Referring to there is shown a flowchart of a method to control power consumption in electronic device with communication subsystem in accordance with an example embodiment of the present disclosure. At block the electronic device is enabled with the communication subsystem configured in PSM. The communication subsystem also configured or set to switch from the PSM to AM when the communication traffic exceeds a first threshold of for example 20 packets per second and to switch from AM to PSM when the communication traffic drops below a second threshold for example of 10 packets per second. In an alternate embodiment for better performance the communication subsystem may set to switch from AM to PSM when the communication traffic drops below a second threshold for a second interval of time for example less then 10 packets per second for 5 minutes.

At block the electronic device is set to detect an activity event and when detected the activity event is provided to block . One activity event comprises one of display activated on display deactivated off web browser application activated opened web browser application deactivated closed social network application activated opened social network application deactivated closed game activated opened game deactivated closed telephone application activated opened and telephone application deactivated closed . For greater clarity an application being deactivated or closed includes the processor executing the application in a background state where its process is kept around in the background allowing it to continue working for example downloading web pages if needed and coming to the foreground if a user returns to it. Although specific activity events are described these are merely examples and it is appreciated that there are other activity events which may affect the communication subsystem and may be of interest for monitoring.

At block the electronic device stores the detected activity event and determines a state. The activated or deactivated state of the applications and the components for example display and Input Interface of the electronic device at any one time is a particular state. One state of the electronic device is display activated and the other activity events deactivated. Another state is display activated web browser application activated and the other activity events deactivated. It is appreciated that there are a number of other combinations of activity events for different states. Each state is an indication of possible upcoming increases or decreases in communication traffic for the communication subsystem .

At block the state of the electronic device is associated with a setting for the first threshold and another setting for the second threshold. The setting for the first threshold and the second threshold is determined from a lookup table of states and their associated settings for the first threshold and the second threshold. Although a lookup table being used to determine the associated settings is described this is merely one example there are other methods of determining the same such as by computing the settings based on a formula or algorithm approximating the data in the lookup table. It will be appreciated that the data in the lookup table may be determined by a number of different methods such as trying different settings for the desired balance of performance and power conservation or calculating the settings based on anticipated communication traffic for active applications or using both example methods.

The settings for the first threshold and the second threshold are dependent on the desired performance for the electronic device . For example where the preference is for the electronic device to have maximum performance in terms of packet throughput and low latency and limited power conservation then the first threshold may be set to a performance setting with a relatively low packet rate. The communication subsystem would switch to AM earlier then where there is a preference for power conservation. When the preference is for power conservation then the first threshold may be set a relatively high packet rate so that the electronic device would stay in PSM longer before switching to AM as the communication traffic increases. As a middle ground the first threshold may be set at middle packet rate between the performance setting and the power conservation setting. Although three levels of preferences between performance and power saving are described in alternative embodiments there may be any number of granularities between the performance setting and the power conservation setting.

As a further example for a performance setting the second threshold may be set relatively much lower then the first threshold so that the communication traffic would drop much lower then the first threshold before the communication subsystem switches from AM to PSM. For a power conservation setting the second threshold may be set higher then the performance setting second threshold so that the communication traffic would not have to drop as much before the communication subsystem switches from AM to PSM. As a middle ground the second threshold may be set at middle packet rate between the performance setting and the power conservation setting. Although three levels of preferences between performance and power saving are described in alternative embodiments there can any number of granularity between the performance setting and the power conservation setting.

Referring again to block the setting for the first threshold and the setting for the second threshold are in packets per interval or packet rate of communication traffic. In certain states of the electronic device there may be a preference for more responsiveness to increasing or decreasing communication traffic. In such cases the interval of measurement is decreased. For example the packets per interval is set at 2 packets per 100 milliseconds instead of 20 packets per second. In another example the packets per interval is set at 20 packets per second instead of 200 packets per 10 seconds. While the normalize packet rate of 20 packets per second is the same for all settings the packet rate of 2 packets per 100 milliseconds has a faster response to increasing communication traffic and for earlier switching from PSM to AM with better performance at the cost of power usage.

The packet rate of 200 packets per 10 seconds has slower response to increasing communication traffic as it takes 10 seconds to measure the rate and it measures the average rate over 10 second intervals. Over a particular 10 second interval the communication traffic may be bursty in that a particular 2 second time may have a 30 packets per second rate but may still be under 200 packets per 10 seconds as the packet rate over the other 8 seconds may be much lower the communication subsystem would then not switch from PSM to AM thereby saving power. If the first threshold had been set at 20 packets per second intervals instead of 200 packets per 10 seconds then over this same 10 second interval the communication subsystem would have switched from PSM to AM for at least part of the 10 second interval.

In a further example embodiment the first threshold and the second threshold are set as a packet rate over a second interval of time. In the above example while the packet rate of 200 packets per 10 seconds is mathematically similar to 20 packets per second over 10 seconds the effect on the communication subsystem for that 10 second period of time may be different. The packet rate of 20 packets per second over 10 seconds means that the communication traffic must be at least 20 packets per second over each second of the 10 seconds. In a state where performance is desired the second threshold may for example be set at 20 packets per second over 10 second to further ensure that the communication traffic of the communication subsystem has reduced below 20 packets per second over 10 second with greater certainty before switching from AM to PSM. In alternate embodiments the second interval of time may be set at a relative long time such as 5 minutes.

At the electronic device checks whether settings for the first threshold and the second threshold from block are the same as the first threshold and the second threshold currently set for the communication subsystem to switch from AM to PSM and from PSM to AM. Where settings are not the same the communication subsystem is then configured with the settings for the first threshold and the second threshold from block at block . The electronic device then waits further detection of new activity events at block .

It will be appreciated that example electronic devices like device may be configured with states ranging from two to very large numbers and such devices do not depart from the scope of this application. It will also be appreciated that activated events and deactivated events are not binary and that each of the activated events and deactivated events may cover a range of events without departing from the scope of the application.

Referring to there is shown an example embodiment of a method for controlling power consumption of the communication subsystem in the electronic device having two states. Beginning at a start block the display is in a deactivated or off state where the communication subsystem is configured with a first threshold of 20 packets per second for switching from PSM to AM and a second threshold of 15 packets per second for switching from AM to PSM.

At block an activity event is detected the display is turned on or activated. The electronic device is now in an activated or on state. For clarity the electronic device may have numerous other events occurring at this time or any other time but such events are not used to determine the states for the purpose of setting the first threshold and the second threshold.

At block for the display activated or on state the first threshold is set at 2 packets per 100 milliseconds and the second threshold is set at 10 packets per 100 milliseconds with the communication subsystem . By changing the measurement interval to a shorter 100 milliseconds the communication subsystem is able to respond faster to increases in communication traffic. It is typically expected for the display on state that the electronic device is being used by a user where applications such as the web browser may be activated at any time to access the Internet. The communication subsystem should then be positioned to better respond for such events to improve performance.

At block another activity event is detected the display is deactivated or turn off. The electronic device is now in an activated or on state and at block the communication subsystem is again configured with a first threshold of 20 packets per second for switching from PSM to AM and a second threshold of 15 packets per second for switching from AM to PSM. The electronic device then waits for detection of the display being turned on or activated at block . It will be appreciated that the display of the electronic device will flip flop over time between the display activated state and the display deactivated state and that the thresholds will also change accordingly.

It will be appreciated that the packet rates specified for electronic devices with various features and functions may have different threshold packet rates from those in the present example embodiment.

Referring to there is shown an alternate example embodiment of a method for controlling power consumption of the communication subsystem in the electronic device having two states. As shown the blocks to are the same as those referred to in . A time delay for a period of time such as five minutes at block is added before the communication subsystem is again configured with a first threshold of 20 packets per second for switching from PSM to AM and a second threshold of 15 packets per second for switching from AM to PSM block . The time delay block is not added when the display is activated from the deactivated state.

While the display changing from the activated state to the deactivated or turned off state typically indicates that the user has stopped using the electronic device it is also frequently not true as a screensaver application may have turned off the display due to momentary user inaction with the Input Interface and the user may momentarily activate the display again. This does not generally occurred for displays being activated from deactivated states. It is advantageous to have a time delay to account for such momentary user inaction and other similar flip flops between activated to deactivated states.

Referring to there is shown an example embodiment of a method for controlling power consumption of the communication subsystem in the electronic device having four states associated with monitoring the display and the media application . For illustration the communication subsystem has a WLAN IEEE 802.11n radio with four transmit and receive chains 4 radios and is enable with Dynamic MIMO power save. The communication subsystem includes four power levels with 4 4 four radio mode with the highest power usage and highest performance 3 3 three radio mode 2 2 two radio mode and 1 1 one radio mode the lowest power usage and lowest performance. The communication subsystem is further connected to an 802.11n access point with similar 4 4 capabilities and supporting Dynamic MIMO power save.

Beginning at a start block the display is in a deactivated or off state and the media application also deactivated or off wherein the communication subsystem is configured with a first threshold of 20 packets per second for switching from PSM in one radio mode AM in two radio mode and a second threshold of 10 packets per second for switching from AM in two radio mode to PSM in one radio mode. Referring to a lookup table in Table 1 this is state 0 for the electronic device .

In this state 0 the electronic device is limited to a maximum of two radio mode 2 2 packet rates of communication traffic for tasks when a user is not actively using the electronic device such as synchronization with various services as shown in .

At block the electronic device is set to detect an activity event and when detected the activity event is provided to block . For illustration the display being activated or turned on is detected. For clarity the electronic device may have numerous other events not related to either the display or the media application occurring at this time or any other time but such events are not used to determine the states for the purpose of setting the first threshold and the second threshold.

At block the electronic device stores the detected activity event and determines a state. For illustration the current state before block is 0 and with the detected activity event the state of device is now 1 from the lookup table of Table 1.

At block the state of the electronic device is associated with a setting for the first threshold and another setting for the second threshold. Referring again to the lookup table of Table 1 for state 1 the settings are a first threshold of 30 packets per second for switching from PSM in two radio mode to AM in three radio mode and a second threshold of 20 packets per second for switching from AM in three radio mode to PSM in two radio mode.

At block the electronic device checks whether settings for the first threshold and the second threshold from block are the same as the first threshold and the second threshold currently set for the communication subsystem . For this example state 0 and state 1 the thresholds are different.

At block the communication subsystem is configured with the first threshold of 30 packets per second for switching from PSM in two radio mode to AM in three radio mode and the second threshold of 20 packets per second for switching from AM in three radio mode to PSM in two radio mode.

The electronic device then waits at block to detect the next activity event. If the next detect activity event is the media application being activated then the state becomes 2 . If the next detect activity event is the display being deactivated then the state becomes 0 . It will be appreciated that the state of electronic device changes state as per Table 1 as the monitored display and media application activate and deactivate.

Referring again to the lookup table of Table 1 it is an example of an improved balance between power consumption and performance through including dynamic traffic thresholds to save power when the device is in idle or a lower traffic state. The device is in PSM until more resources or bandwidth are desired from the communication system for better performance. If the first threshold for AM is not crossed then the communication traffic may be throttled limited by the PSM available bandwidth and thereby lowering the performance of device for lower power consumption.

In state 0 both display and media application are off this indicates that the device is not being used. The communication subsystem is then set in the lowest power state with the PSM in one radio mode. However as there may be many background tasks such as the synchronizations shown in the device is provided with the AM in two radio mode with more available bandwidth when and if there is the demand communication traffic increases .

In state 1 the display is on but the media application is off. This indicates that the device is being used by the user and that more resources bandwidth and performance may be demanded from the communication subsystem as more applications are started. However full resources are not needed as the media application has not been started. The communication subsystem is then set in a more performance state where the PSM in two radio mode and the AM in three radio mode with more available bandwidth when and if there is the demand.

In state 2 the display is on and the media application is on. This indicates that the device is being used by the user. It also means that the media application may demand the maximum bandwidth from the communication subsystem for the transfers of large amounts of media data. However the need for full resources is only contingent on the user actually using the media application for such media transfers for example watching a HD movie. The communication subsystem is then set in a more performance state where the PSM in two radio mode and the AM in four radio mode with the most available bandwidth for when and if there is the demand.

In state 3 the display is off and the media application is on. This indicates that the device may be in uses by the user but the user may have momentarily stepped away. It also means that the media application may still demand the maximum bandwidth from the communication subsystem for the transfers of large media data. The communication subsystem is then set with the same settings as state 2 as the user may momentarily return to the media application .

It will be appreciated to those skilled in the art that the packet rates and the radios for AM and PSM specified for electronic devices with various features and functions may be different from those specified in the present example embodiment.

Thus techniques for use in facilitating an improved balance between power consumption and performance of an electronic device have been described herein. An electronic device with a communication subsystem having a power save mode and an active mode is configured to setting a first threshold of communication traffic for switching from the power saving mode to the active mode setting a second threshold of communication traffic for switching from the active mode to the power saving mode detecting an activity event on the electronic device and setting at least one of the first threshold and the second threshold to the communication traffic associated with the activity event.

In another embodiment an electronic device with a communication subsystem having a power save mode and an active mode and a display is configured to setting a first threshold of communication traffic for switching from the power saving mode to the active mode setting a second threshold of communication traffic for switching from the active mode to the power saving mode detecting one of display activated state and display deactivated display state and setting at least one of the first threshold and the second threshold to the communication traffic associated with the detected one of the display activated state and the display deactivated display state.

In still another embodiment an electronic device with a communication subsystem having a power save mode and an active mode is configured to setting a first threshold of communication traffic for switching from the power saving mode to the active mode setting a second threshold of communication traffic for switching from the active mode to the power saving mode detecting an activity event on the electronic device and setting at least one of the first threshold and the second threshold to the communication traffic associated with the activity event. The activity event is associated with a state of the electronic device and alternatively or additionally at least one of the first threshold and the second threshold has a shorter interval of measurement between a first state and a second state. Alternatively or additionally at least one of the active mode and the power saving mode comprises one setting within a range of power levels. Alternatively or additionally the setting of at least one of the first threshold and the second threshold to the communication traffic associated with the activity event is delayed for a period of time.

In yet another embodiment an electronic device with a communication subsystem having a power save mode and an active mode and a display is configured to setting a first threshold of communication traffic for switching from the power saving mode to the active mode setting a second threshold of communication traffic for switching from the active mode to the power saving mode detecting one of display activated state and display deactivated display state and setting at least one of the first threshold and the second threshold to the communication traffic associated with the detected one of the display activated state and the display deactivated display state. The first threshold comprises a first packets per interval and the second threshold comprises a second packets per interval where at least one of the first threshold and the second threshold has a shorter interval of measurement between the activated display state and the deactivated display state. Alternatively or additionally at least one of the active mode and the power saving mode comprises one setting within a range of power levels. Alternatively or additionally the setting of at least one of the first threshold and the second threshold to the communication traffic associated with the detected one of the display activated state and the display deactivated display state is delayed for a period of time when the display goes from the display activated state to the display deactivated state.

While the steps of the methods are shown as occurring in a particular order it will be appreciated by those skilled in the art that many of the steps are interchangeable and may occur in different orders than that shown without materially affecting the end results of the methods.

The above described embodiments of the present disclosure are intended to be examples only. Those of skill in the art may effect alterations modifications and variations to the particular embodiments without departing from the scope of the application. The invention described herein and in the recited claims are intended to cover and embrace all suitable changes in technology.

