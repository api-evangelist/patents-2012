---

title: Image display system, image display method, image display program, and computer-readable recording medium storing said program
abstract: The image display system includes a calculation unit, a specifying unit, a generation unit and a transmitting unit. Upon change of a zoom level of a current image not containing position information to a specified value on a user terminal, the calculation unit calculates a display range of an object represented by the current image after change in zoom level. The specifying unit refers to data of a different image of the object and specifies a part of the different image indicated by the display range calculated by the calculation unit. The different image has a different resolution from the current image. The generation unit generates a next image representing the part specified by the specifying unit using the data of the different image. The transmitting unit transmits the next image to the user terminal for switching from the current image to the next image.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09165340&OS=09165340&RS=09165340
owner: Rakuten, Inc.
number: 09165340
owner_city: Tokyo
owner_country: JP
publication_date: 20121102
---
This application is a National Stage of International Application No. PCT JP2012 078466 filed Nov. 2 2012 claiming priority based on Japanese Patent Application No. 2012 102988 filed Apr. 27 2012 the contents of all of which are incorporated herein by reference in their entirety.

One embodiment of the present invention relates to an image display system an image display method an image display program and a computer readable recording medium storing the program for replotting an image in accordance with a change in zoom level.

Techniques to change the zoom level of an image displayed on a computer in response to a user operation are known. For example in the website disclosed in the following Non Patent Literature 1 when the zoom in ratio or the zoom out ratio of a map reaches a specified value by an operation such as pinch out or pinch in on a touch panel the screen changes to the layer of a more detailed map or a wider area map.

In the above website positioning of the upper layer and the lower layer is achieved based on the latitude and the longitude embedded in the image. Accordingly in order to achieve switching of images in response to a change in zoom level it is necessary to embed position information into the image in advance. Therefore an object of one aspect of the present invention is to achieve positioning of images before and after change in zoom level even in the case of using an image with no position information.

An image display system according to one aspect of the present invention includes a calculation unit configured to in response to change of a zoom level of a current image not containing position information to a specified value on a user terminal calculate a display range of an object represented by the current image after change in zoom level a specifying unit configured to refer to data of a different image of the object stored in a storage unit and specify a part of the different image indicated by the display range calculated by the calculation unit the different image having a different resolution from the current image a generation unit configured to generate a next image representing the part specified by the specifying unit using the data of the different image and a transmitting unit configured to transmit the next image to the user terminal for switching from the current image to the next image.

An image display method according to one aspect of the present invention is an image display method executed in an image display system the method including a calculation step of in response to change of a zoom level of a current image not containing position information to a specified value on a user terminal calculating a display range of an object represented by the current image after change in zoom level a specifying step of referring to data of a different image of the object stored in a storage unit and specifying a part of the different image indicated by the display range calculated in the calculation step the different image having a different resolution from the current image a generation step of generating a next image representing the part specified in the specifying step using the data of the different image and a transmitting step of transmitting the next image to the user terminal for switching from the current image to the next image.

An image display program according to one aspect of the present invention causes a computer to implement a calculation unit configured to in response to change of a zoom level of a current image not containing position information to a specified value on a user terminal calculate a display range of an object represented by the current image after change in zoom level a specifying unit configured to refer to data of a different image of the object stored in a storage unit and specify a part of the different image indicated by the display range calculated by the calculation unit the different image having a different resolution from the current image a generation unit configured to generate a next image representing the part specified by the specifying unit using the data of the different image and a transmitting unit configured to transmit the next image to the user terminal for switching from the current image to the next image.

A computer readable recording medium according to one aspect of the present invention stores an image display program that causes a computer to implement a calculation unit configured to in response to change of a zoom level of a current image not containing position information to a specified value on a user terminal calculate a display range of an object represented by the current image after change in zoom level a specifying unit configured to refer to data of a different image of the object stored in a storage unit and specify a part of the different image indicated by the display range calculated by the calculation unit the different image having a different resolution from the current image a generation unit configured to generate a next image representing the part specified by the specifying unit using the data of the different image and a transmitting unit configured to transmit the next image to the user terminal for switching from the current image to the next image.

According to the above aspects when the zoom level of the current image changes to a specified value the display range of the object represented by the current image after change is calculated and a part of a different image required for generation of the next image is specified. Then the next image is generated from the different image with a different resolution from the current image and transmitted to the user terminal and thereby switching from the current image to the next image is done. In this manner even when the current image does not have the position information it is possible to achieve positioning of the current image and the next image positioning of the images before and after change in zoom level by calculating the display range after change in zoom level and specifying a part of the different image indicated by the display range.

In an image display system according to another aspect of the present invention the specifying unit may specify one or more blocks corresponding to the calculated display range from the different image divided into a plurality of mesh like blocks as a part of the different image. With use of the different image divided in this manner it is possible to easily specify a part of the different image necessary for the next image.

In an image display system according to another aspect of the present invention the plurality of blocks may be formed by equally dividing a whole of the different image. In this case the different image can be easily divided into a plurality of blocks and it is thereby possible to reduce the operating time required for processing.

In an image display system according to another aspect of the present invention the plurality of blocks may be formed by equally dividing a rectangular region circumscribing the object. In this manner by dividing only the object into a plurality of blocks and generating the next image using the blocks only it is possible to minimize the load of image processing.

In an image display system according to another aspect of the present invention the plurality of blocks may be formed by equally dividing the rectangular region and dividing an outside of the rectangular region. By dividing the outside of the object also into blocks the whole of the next image to be displayed can be generated when near the edge of the rectangular region is zoomed in. In other words it is possible to deal with zooming in near the edge of the object.

In an image display system according to another aspect of the present invention the specifying unit may divide the different image into the plurality of mesh like blocks each time the display range is calculated by the calculation unit. In this case there is no need to previously include information about the blocks into the data of the different image and it is thereby possible to prepare the data of the different image easily.

In an image display system according to another aspect of the present invention block information identifying the plurality of blocks may be contained in advance in the data of the different image and the specifying unit may specify a part of the different image by referring to the block information. In this case the specifying unit can skip the processing of dividing the different image into a plurality of blocks and it is thereby possible to specify a part necessary for generation of the next image in a shorter time.

In an image display system according to another aspect of the present invention the data of the different image may be a set of data of the individual blocks and the generation unit may generate the next image by joining the blocks corresponding to the specified part. In this case the specifying unit can skip the processing of dividing the different image into a plurality of blocks each time processing is carried out and it is thereby possible to specify a part necessary for generation of the next image in a shorter time.

In an image display system according to another aspect of the present invention the calculation unit may specify a center point of change of the zoom level and calculate the display range based on the center point and the zoom level. By specifying the center in this manner it is possible to calculate the display range accurately.

In an image display system according to another aspect of the present invention when the zoom level of the current image reaches another reference value corresponding to the specified value before reaching the specified value the calculation unit may start calculating the display range of a case where the zoom level of the current image reaches the specified value and when the zoom level of the current image reaches the specified value without going through said another reference value the calculation unit may calculate the display range of the object represented by the current image after change in zoom level in response to change of the zoom level to the specified value. In this manner by starting the calculation of the display range indicated by a specified value before the zoom level of the current image reaches the specified value the next image is transmitted to the user terminal earlier. As a result it is possible to perform switching of images in a more seamless manner. Further because the display range after change is calculated also when the zoom level changes to the specified value without going through another reference value it is possible to transmit the next image to the user terminal.

In an image display system according to another aspect of the present invention the image display system may include a server configured to communicate with the user terminal the user terminal may include the calculation unit the server may include the specifying unit the generation unit and the transmitting unit and the calculation unit may transmit range information indicating the display range to the server. In this case the server does not need to calculate the display range and it is therefore possible to reduce the processing in the server. Further because the request from the user terminal is transmitted to the server only after an operation to change the zoom level of the current image to a specified value is performed it is possible to reduce the communication load.

In an image display system according to another aspect of the present invention the image display system may include a server configured to communicate with the user terminal the user terminal may provide operation information indicating a user operation related to change in zoom level to the server the server may include the calculation unit the specifying unit the generation unit and the transmitting unit and the calculation unit may calculate the display range based on the operation information. In this case the user terminal does not need to calculate the display range and it is therefore possible to reduce the processing in the user terminal.

According to one aspect of the present invention it is possible to achieve positioning of images before and after change in zoom level even in the case of using an image with no position information.

An embodiment of the present invention is described hereinafter in detail with reference to the appended drawings. Note that in the description of the drawings the same or equivalent elements are denoted by the same reference symbols and the redundant explanation thereof is omitted.

First the functions and configuration of an image display system according to an embodiment are described hereinafter with reference to . The image display system is a computer system that provides contents containing images to a user. In this embodiment the image display system provides a webpage containing an image to a user. The image display system includes a web server user terminals and an image database storage unit . Those devices are connected with one another through a communication network N including the Internet an intranet and the like. A user can access a website a website provided by the web server by operating the user terminal and thereby obtains information.

The web server is a computer that generates a webpage in response to a request from the user terminal and transmits the webpage as a response to the user terminal . In this embodiment the webpage contains an image on which a zoom in or out operation can be made. Note that however the variety of the content and the image of the webpage are not particularly limited. For example the webpage may be a page of an online shopping site or an Internet auction site or a page of a map site. The image may be an item image or a map image.

The user terminal is a computer owned by a user. The variety of the user terminal is not particularly limited and it may be a stationary or portable personal computer or a mobile terminal such as an advanced mobile phone smart phone a cellular phone or a personal digital assistant PDA for example. The number of user terminals in the image display system is not limited.

The image database is a device that stores images to be displayed on a webpage provided to the user terminal . Specifically the image database stores image data with a plurality of different resolutions for each image for example a photograph illustration and the like .

A plurality of image data for one image are stored in the image database as image information. As shown in each record of the image information contains an image ID that identifies the image image data of a low resolution image low resolution data and image data of a high resolution image high resolution data . To simplify the description below an image name is used instead of the image ID according to need. Specifically in the example of the image identified by the image ID 0001 is also referred to as image A and the image identified by the image ID 0002 is also referred to as image B . Note that the image data is schematically shown in . If the resolution of the low resolution image is RL and the resolution of the high resolution image is RH RL

For one certain image the low resolution data and the high resolution data are distinguished from each other by sub ID. Thus one certain image is identified by the combination of an image ID and a sub ID. For example the low resolution data of the image A is uniquely identified by the combination of the image ID 0001 and the sub ID 1 and the high resolution data of the image B is uniquely identified by the combination of the image ID 0002 and the sub ID 2 . Note that however an identifier with a structure different from the combination of an image ID and a sub ID may be used as long as every single high resolution data and low resolution data can be uniquely identified.

Note that the structures of the image database and the image information are not limited to those shown in and they may be normalized or made redundant by an arbitrary policy.

In the image display system the web server transmits a webpage containing an image to the user terminal in response to a request from the user terminal and the user terminal displays the image. A user can zoom in or out the image using the user terminal . Note that an operation method for zooming in or out the image is not particularly limited. For example the user may change the zoom level by pinch in or pinch out or may change the zoom level using a scale or a slider for zooming which are displayed on the screen.

When the zoom in ratio or the zoom out ratio of the image becomes a specified threshold or higher the user terminal requests a new image to the web server and in response to the request the web server generates a next image with a different resolution and transmits it to the user terminal . As a result the zoomed in or out image is displayed with the resolution suitable for display after the user operation.

The outline of the above process is described hereinafter specifically with reference to . When a user performs a pinch out operation on an initial image Ma showing the overall picture of a bicycle object and the zoom level of the image Ma becomes a specified threshold or higher the user terminal requests a zoomed in image an image showing a part of the bicycle to the web server . In response to the request the web server reads image data with a different resolution from the initial image image data with a resolution suitable for zoom in from the image database generates a zoomed in image using the data and transmits the zoomed in image to the user terminal . A zoomed in image Mb is thereby displayed on the user terminal .

After that when a user performs a pinch in operation on the zoomed in image Mb and the zoom level of the image Mb falls below the specified threshold the user terminal requests a zoomed out image to the web server . In response to the request the web server reads image data with a different resolution from the zoomed in image Mb image data with a resolution suitable for zoom out from the image database generates a zoomed out image using the data and transmits the zoomed out image to the user terminal . A zoomed out image Mc is thereby displayed on the user terminal . Note that the zoomed out image Mc may be an image of the whole bicycle which is the same as the initial image Ma or an image of a part of the bicycle.

The functional components of the web server which are described later are implemented by loading given software onto the CPU or the main storage unit making the communication control unit the input unit the output unit and the like operate under control of the CPU and performing reading and writing of data in the main storage unit or the auxiliary storage unit . The data and database required for processing are stored in the main storage unit or the auxiliary storage unit . Note that although the web server is composed of one computer in the example of the functions of the web server may be distributed among a plurality of computers.

The user terminal has the same hardware configuration as the web server and therefore the illustration of the hardware configuration of the user terminal is omitted. Note that however specific parts can be different between the user terminal and the web server and the input device and the output device are implemented by a touch panel in the user terminal for example. In the user terminal like the web server the below described functional components are implemented using hardware.

As shown in the web server includes as functional components a page providing unit a request receiving unit a specifying unit a generation unit and an image transmitting unit . The user terminal includes as functional components a page display unit an operation monitoring unit a calculation unit a request transmitting unit an image receiving unit and an image switching unit .

The functions of the user terminal are described first. The page display unit is a functional element that acquires a webpage containing an image from the web server and displays the webpage on its screen. When a user performs an operation of specifying a certain website the page display unit transmits a page request containing the URL Uniform Resource Locator of the website to the web server . After that the page display unit receives a webpage transmitted from the web server in response to the HTTP Hypertext Transfer Protocol request and displays the webpage on the screen. Further the page display unit receives image data to be embedded in the webpage from the web server and displays it. In the image data an image ID and a sub ID for identifying the image are embedded. As a result the webpage containing the image is displayed on the screen of the user terminal . In this embodiment it is assumed that the low resolution image is displayed on the webpage at the point of time when the webpage is displayed first.

The operation monitoring unit is a functional element that monitors operations on an image current image in the currently displayed webpage. Particularly during the period from the start to the end of an operation that continuously changes the zoom level of the current image the operation monitoring unit acquires operation information indicating that operation at a specified time interval. In the case of capturing pinch in or pinch out the operation monitoring unit acquires the positions of two fingers touching the touch panel a change in the distance between the two touch positions and the like and outputs a result of the acquisition as operation information to the calculation unit . In the case of capturing an operation by a scale or a slider for zooming by a pointing device such as a mouse the operation monitoring unit outputs the amount of change in the interface and the center point of the image in the display area as the operation information to the calculation unit . Note that a method of capturing operations is not limited to those.

The calculation unit is a functional element that calculates the display range of an object represented by the current image after change in zoom level in response to an operation that changes the zoom level of the current image to a specified value. First the calculation unit acquires or calculates the zoom level of the current image based on the operation information. The calculation unit may directly acquire the zoom level by the API Application Programming Interface incorporated in the user terminal or the script incorporated in the webpage. Alternatively the calculation unit may obtain the zoom level by calculating the ratio of the distance between the two touch positions by pinch in or pinch out and the size of the whole screen or the screen display area. Alternatively the calculation unit may obtain the zoom level from the amount of change of the scale or the slider.

Then the calculation unit determines whether the obtained zoom level reaches a specified threshold. The threshold may be set arbitrarily. For example if the zoom level at the initial display is 1.0 and the zoom level is managed as an absolute value the threshold may be 1.5 2.0 or another value. Alternatively if the zoom level at the initial display and immediately after switching is 1.0 and the zoom level is managed as a relative value the threshold for zooming in may be set to 1.5 2.0 or the like and the threshold for zooming out may be set to 0.5 0.7 or the like.

When the obtained zoom level does not reach the threshold the calculation unit ends the process and in this case the current image is zoomed in or displayed as it is according to a user operation without any change to the resolution.

On the other hand when the obtained zoom level reaches the threshold the calculation unit calculates the display range of the object represented by the current image after change in zoom level. The calculation unit may obtain the display range at the current time while the user continues the operation or may obtain the display range at the time when the user stops the operation.

The calculation unit may calculate the boundary of the display range based on the ratio of the distance between the two current touch positions or touch end positions and the size of the whole screen or the image display area where the midpoint of the two touch start positions by pinch in or pinch out is the center of the display range. Alternatively the calculation unit may calculate the boundary of the display range based on the amount of change or a value after change of the scale or the slider where the center point of the image in the display area is the center of the display range. By specifying the center in this manner it is possible to calculate the display range accurately. Note that however a method of calculating the display range is not limited thereto. The calculation unit outputs range information indicating the calculated display range to the request transmitting unit .

The way of representing the range information is not limited. For example as shown in the calculation unit may output a plurality of coordinates coordinates C1 to C4 in required for determining the display range H after change in zoom level as the range information. Alternatively as shown in the calculation unit may divide the current image into meshes and output a set of addresses of blocks block information constituting the display range H which is a set of 25 identifiers in the example of as the range information. In any case because any position information is not contained in the current image the calculation unit needs to obtain the display range H by calculation.

The request transmitting unit is a functional element that requests a next image with a resolution different from the current image to the web server . The request transmitting unit transmits a next image request containing range information indicating the display range the image ID and the sub ID of the image on which the operation is performed and operation type information indicating zooming in or zooming out to the web server .

The image receiving unit is a functional element that receives the next image transmitted from the web server in response to the next image request. The image receiving unit outputs the next image to the image switching unit .

The image switching unit is a functional element that switches the current image displayed on the screen to the next image. To be specific the image switching unit overwrites the current image with the next image by setting data of the next image in the display area of the current image.

The functions of the web server are described hereinbelow. The page providing unit is a functional element that generates a webpage and provides it to the user terminal . Receiving a page request from the user terminal the page providing unit generates a webpage with the URL indicated by the request and transmits data of the webpage to the user terminal . Further the page providing unit reads low resolution data indicated by the URL of the image described in the webpage from the image database and transmits the image data as an initial image to the user terminal . In the image data an image ID and a sun ID for identifying the image are embedded. No any position information for example position information indicating the position of the image or the object is embedded in the image data 

The request receiving unit is a functional element that receives a next image request from the user terminal . The request receiving unit outputs the request to the specifying unit .

The specifying unit is a functional element that refers to data of a different image different image data of the object stored in the image database and specifies a part of the different image indicated by the display range of the next image request. The different image data is data of the image with a different resolution from the current image that is currently displayed on the user terminal .

The specifying unit identifies the image data of the current image based on the image ID and the sub ID indicated by the next image request and reads image data to be used as the next image from the image database based on a result of the identification and operation type information indicated by the next image request. For example when the sub ID is 1 and the operation type information indicates zoom in the specifying unit reads the high resolution data having the same image ID and the sub ID 2 . When the sub ID is 2 and the operation type information indicates zoom out the specifying unit reads the low resolution data having the same image ID and the sub ID 1 .

Then the specifying unit compares the different image indicated by the read image data with the display range indicated by the range information of the next image request and thereby specifies a part of the different image indicated by the display range. The specifying unit can specify the range to be displayed next by using various methods.

In the case where the low resolution image and the high resolution image indicated by the same image ID are similar to each other the specifying unit specifies a part of the different image indicated by the display range of the range information based on the scale between those two images. For example as shown in the specifying unit may specify a part J of the high resolution image different image MH corresponding to the display range H of the low resolution image current image ML using coordinates. Alternatively as shown in the specifying unit may specify a set of one or more blocks B corresponding to the display range H as a part J of the different image MH using meshes that equally divide the different image. In this case the different image can be easily divided into a plurality of blocks and it is thereby possible to reduce the operating time required for processing. If the range information is a set of addresses of blocks block information and the meshes are similar between the two images the specifying unit can specify a part J of the different image MH using the addresses indicated by the range information.

In the case where the low resolution image and the high resolution image indicated by the same image ID are not similar to each other which is the case where the display position or the size of the object in the frame is different between those images the specifying unit may specify a part of the different image as shown in or . Specifically the specifying unit sets a rectangular region K circumscribing the object bicycle on the different image MH and equally divides the region K into meshes and further divides the outside of the region K. The outside of the rectangular region K may be divided by extending the segmentation lines in the region K outward as shown in or by equally dividing the outside region into meshes as shown in . Then the specifying unit may specify a set of one or more blocks B corresponding to the display range H as a part J of the different image MH. By dividing the outside of the rectangular region K also the whole of the next image to be displayed can be generated when near the edge of the rectangular region K is zoomed in. In other words it is possible to deal with zooming in near the edge of the object. In the example of necessary blocks can be further saved compared with the example of .

If the next image can be generated only with the blocks in the rectangular region K that is if the outside of the rectangular region K is not needed the specifying unit may equally divide only the rectangular region K into meshes. By dividing only the object into a plurality of blocks and generating the next image using the blocks only it is possible to minimize the load of image processing.

Note that the processing of dividing the different image into meshes may be performed in real time by the specifying unit each time a part of the different image is specified or may be performed in advance by batch processing and the like. In the case where the specifying unit divides the different image in real time there is no need to previously include the block information into image data and it is thereby possible to prepare the different image data easily. On the other hand if the block information is previously embedded in the different image data the specifying unit can skip dividing into blocks and it is thereby possible to specify a part necessary for generation of the next image in a shorter time. In any case with use of the different image divided into meshes it is possible to easily specify a part of the different image that is necessary for the next image.

In the case of using meshes the image data in the image database may be a set of image data representing the image B as each individual block as shown in rather than one data representing one whole image. corresponds to the high resolution image MH in and corresponds to the high resolution image MH in . Note that the low resolution image may be also stored in the image database as a set of a plurality of image data as shown in . In this manner when the image is divided and stored the specifying unit can skip the dividing process and it is thereby possible to specify a part necessary for generation of the next image in a shorter time.

After specifying a part of the different image corresponding to the display range the specifying unit outputs data indicating the part together with data indicating the different image to the generation unit . Note that although the example of specifying a part of a zoomed in image is shown in described above the specifying unit performs the same processing when specifying a part of a zoomed out image as well.

The generation unit is a functional element that generates a next image representing the part specified by the specifying unit by using different image data. If the different image data represents one whole image the generation unit generates the next image by cutting a part of the image out or sets the whole image as the next image without modification. If the different image data is a set of image data representing the image of each individual block the generation unit generates the next image by joining one or a plurality of blocks. No any position information is embedded in the next image. Thus the next image does not contain information indicating the position of the image or the object and also does not contain information indicating which range or which block of the different image data is used. The generation unit outputs the next image to the image transmitting unit .

The image transmitting unit is a functional element that transmits the next image to the user terminal . As a result of this transmission the image displayed on the user terminal is switched into the next image.

The operation of the image display system is described and further an image display method according to this embodiment is described hereinafter with reference to .

When displaying a webpage the page display unit of the user terminal transmits a page request Step S and the page providing unit of the web server generates a webpage in response to the request and transmits page data to the user terminal Step S . Further the page providing unit reads image data to be displayed in the page from the image database and transmits it to the user terminal Step S . In the user terminal the page display unit displays the webpage using the page data and the image data Step S .

After that in the user terminal the operation monitoring unit monitors a user operation on the current image which is to be more specific an operation of zooming in or out the current image Step S . Then based on operation information on the basis of the monitoring the calculation unit determines whether the zoom level becomes a specified threshold or higher or less than a specified threshold Step S . When the zoom level does not reach the threshold the operation monitoring unit continues to monitor a change in zoom level NO in Step S . On the other hand when the zoom level becomes the threshold or higher or less than the threshold YES in Step S the calculation unit calculates the display range of the object of the current image after change in zoom level Step S calculation step and the request transmitting unit transmits a next image request containing the range information indicating the calculation result to the web server Step S .

In the web server the request receiving unit receives the request and the specifying unit specifies a part of the different image indicated by the calculated display range Step S specifying step . As described above the specifying unit can perform the specifying process using various methods. Then the generation unit generates a next image representing the specified part by using the image data of the different image image data with a different resolution from the current image Step S generation step and the image transmitting unit transmits the next image to the user terminal Step S transmitting step . In the user terminal the image receiving unit receives the next image and the image switching unit switches the currently displayed image into the next image Step S . The image with a different resolution from the image that has been displayed is thereby displayed in the image display area of the webpage.

Hereinafter an image display program P for implementing the image display system is described with reference to . The image display program P includes a server program P that causes a computer to function as the web server and a client program P that causes a computer to function as the user terminal .

The server program P includes a main module P a page providing module P a request receiving module P a specifying module P a generation module P and an image transmitting module P.

The main module P is a part that exercises control over the image providing function in the web server . The functions implemented by executing the page providing module P the request receiving module P the specifying module P the generation module P and the image transmitting module P are equal to the functions of the page providing unit the request receiving unit the specifying unit the generation unit and the image transmitting unit described above respectively.

The client program P includes a main module P a page display module P an operation monitoring module P a calculation module P a request transmitting module P an image receiving module P and an image switching module P.

The main module P is a part that exercises control over the image display function in the user terminal . The functions implemented by executing the page display module P the operation monitoring module P the calculation module P the request transmitting module P the image receiving module P and the image switching module P are equal to the functions of the page display unit the operation monitoring unit the calculation unit the request transmitting unit the image receiving unit and the image switching unit described above respectively.

The server program P and the client program P are provided in the form of being recorded in a static manner on a tangible recording medium such as CD ROM or DVD ROM or semiconductor memory for example. Further each of the programs P and P may be provided as a data signal superimposed onto a carrier wave through a communication network.

As described above according to this embodiment when the zoom level of the current image changes to a specified value the display range of the object represented by the current image after change is calculated and a part of a different image required for generation of the next image is specified. Then the next image is generated from the different image with a different resolution from the current image and transmitted to the user terminal and thereby switching from the current image to the next image is done. In this manner even when the current image does not have the position information it is possible to achieve positioning of the current image and the next image positioning of the images before and after change in zoom level by calculating the display range after change in zoom level and specifying a part of a different image indicated by the display range.

Because the image is continuously or gradually zoomed in or out this embodiment is different from switching from a thumbnail image with a low resolution to a detailed image with a high resolution. Further the current image and the next image displayed on the user terminal do not have the position information of an object subject and therefore this embodiment is also different from the technique of the above described Non Patent Literature 1 that performs processing based on the position information embedded in the image.

In the above described embodiment because the display range is calculated in the user terminal there is no need for the web server to perform the calculation and it is therefore possible to reduce the processing in the web server . Further since the next image request from the user terminal is transmitted to the web server only after an operation to change the zoom level of the current image to a specified value is performed it is possible to reduce the communication load.

Embodiments of the present invention are described in detail above. However the present invention is not limited to the above described embodiments. Various changes and modifications may be made to the present invention without departing from the scope of the invention.

The calculation unit may calculate the display range indicated by the level of the threshold at the timing before the zoom level reaches the threshold to require switching of the resolution and output the range information to the request transmitting unit . In this case the calculation unit uses a threshold for start of calculation calculation start threshold which is different from a threshold for switching the resolution switching threshold . For example assuming that the zoom level is managed as a relative value if the switching threshold specified value when zooming in the image is 1.5 the calculation start threshold reference value may be set to 1.3 and if the switching threshold specified value when zooming out the image is 0.5 the calculation start threshold reference value may be set to 0.7 . The calculation unit calculates the display range indicated by the level of the switching threshold only when the obtained zoom level reaches the calculation start threshold and outputs the range information indicating this range to the request transmitting unit .

In this case assuming that a user operation to zoom in or out the image continues the request transmitting unit of the user terminal transmits the next image request to the web server prior to the timing when the switching of the resolution of the image is required. Accordingly the processing in the web server starts earlier and the user terminal can thereby acquire the next image earlier. As a result it is possible to perform switching from the current image to the next image in a more seamless manner.

In the above described alternative example using the switching threshold and the calculation start threshold when the zoom level changes to the switching threshold without going through the calculation start threshold the calculation unit may calculate the display range in response to the event that the zoom level changes to the switching threshold just like in the above described embodiment. For example in the case where both of a user interface allowing continuously changing the zoom level for example a touch panel a slider etc. and a user interface allowing directly entering the zoom level for example a text box are provided the calculation unit calculates the display range at the timing corresponding to each interface. Therefore when the same value as the switching threshold is entered in the text box for example and therefore the zoom level changes to the switching threshold without going through the calculation start threshold it is possible to calculate the display range after change and transmit the next image to the user terminal .

Although two images a low resolution image and a high resolution image are prepared as images related to one object in the above embodiment three or more images with different resolutions may be prepared for one object. In this case the number of thresholds to switch the resolution is determined according to the number of images for one object. For example when three images E F and G with resolutions of Re Rf and Rg where Re

The processing of calculating the display range may be performed in the web server instead of the user terminal . Specifically the web server not the user terminal may include the calculation unit. In this case the request transmitting unit transmits operation information input from the operation monitoring unit to the web server . In the web server the request receiving unit receives the operation information and the calculation unit performs the same processing as in the above embodiment based on the information and the specifying unit performs the subsequent processing. In this case the user terminal does not need to calculate the display range and the processing in the user terminal can be reduced.

Although the present invention is applied to the image display system including the web server in the above described embodiment the application of the present invention is not limited to the case of providing a webpage containing an image. The present invention is applicable to any image processing where the zoom level of an image can be changed based on a user operation.

