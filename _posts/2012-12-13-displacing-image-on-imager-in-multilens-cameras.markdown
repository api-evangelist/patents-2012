---

title: Displacing image on imager in multi-lens cameras
abstract: Panoramic and spherical cameras often currently capture respective portions of a scene using a set of lenses that focus images on imagers for sampling by photosensitive elements. Because the images are often circular and imagers are often rectangular, the orientation of the lenses may be selected as a tradeoff between capturing capture the entire image while leaving unused portions of the imager, and maximizing imager coverage to increase resolution while creating cropped image portions that extend beyond the edges of the imager. The techniques presented herein involve displacing the image from the imager center in order to increase a first cropped area and reduce or eliminate a second cropped area. The lenses may also be oriented such that the first cropped area comprises a portion of the composite image that may be acceptable to omit from the composite image (e.g., the user's hand or a camera mounting apparatus).
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09094540&OS=09094540&RS=09094540
owner: MICROSOFT TECHNOLOGY LICENSING, LLC
number: 09094540
owner_city: Redmond
owner_country: US
publication_date: 20121213
---
Within the field of imaging many scenarios involve a camera featuring a set of two or more lenses each configured to focus an image on an imager and where the images captured by the imagers are combined to form a composite image. As a first example multiple images taken from parallel points of view may be combined to form a panoramic image having greater visual dimensions than any one image. As a second example multiple images captured in different directions from a single point of view combined to generate a spherical image of an environment. In these scenarios a fisheye lens may provide a wide field of view which reduces the number of images needed to complete the combined spherical panoramic image. The imager may comprise an array of photosensitive elements that capture respective portions of the image such a charge coupled device CCD imager of a digital camera that captures an array of pixels. The quality of the captured image may vary proportionally with the density of the photosensitive elements used to capture the image e.g. an image focused on a higher density CCD may result in the capturing of a larger number of pixels than focusing the same image on a lower density CCD. The larger pixel count may enable a higher resolution image presenting more detail and or accuracy than a lower resolution image.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key factors or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter.

When capturing an image using a lens and an imager it may be observed that a lens typically generates a circular image but the imager provides a rectangular array of photosensitive elements. Typically the focusing of a fisheye lens is selected to produce a circular image centered on the imager and having a diameter equal to the height and or width of the imager such that the circular image is expanded to meet the edges of the imager without extending past any edge of the imager thus maximizing the coverage of the imager and achieving a high resolution while not losing any portion of the circular image. However it may be appreciated that several portions of the imager are unutilized during this focusing of the lens comprising the photosensitive elements provided in each corner of the rectangular imager. A higher resolution may be achievable by further expanding the image focused on the imager but at the expense of some peripheral portions of the image falling off of the edge of the imager resulting in a cropped image. These alternative options for adjusting the lens to focus of the image on the imager may provide a tradeoff between maximizing the resolution of the captured portion of the image and minimizing the peripheral cropping of the image.

However it may be appreciated that this tradeoff may be evaluated differently in cameras configured to produce a composite image by combining images from multiple lenses. For example in a camera featuring two fisheye lenses oriented in opposite directions and configured to capture a spherical image it may be appreciated that a portion of the image is typically obscured e.g. by the user s hand or a mounting apparatus and of little value to the user. While cropping any other portion of the image may be unacceptable cropping out this particular portion of the image may be acceptable especially in exchange for enhanced resolution for the remainder of the image. Therefore respective lenses may be configured to expand the image on the imager to create at least two cropped portions and then to displace the image from the center of the imager in order to expand one cropped portion while reducing or eliminating the other cropped portions. These off center displacement techniques may enable greater coverage of the imager by the image thus providing greater resolution while creating a cropped portion of the image presenting a blind spot that the user is not interested in capturing.

To the accomplishment of the foregoing and related ends the following description and annexed drawings set forth certain illustrative aspects and implementations. These are indicative of but a few of the various ways in which one or more aspects may be employed. Other aspects advantages and novel features of the disclosure will become apparent from the following detailed description when considered in conjunction with the annexed drawings.

The claimed subject matter is now described with reference to the drawings wherein like reference numerals are used to refer to like elements throughout. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the claimed subject matter. It may be evident however that the claimed subject matter may be practiced without these specific details. In other instances structures and devices are shown in block diagram form in order to facilitate describing the claimed subject matter.

Within the field of imaging many scenarios involve a camera comprising a plurality of lenses and configured to generate a composite image aggregating the images provided by the lenses. As a first example the camera may comprise a panoramic camera that concurrently captures images representing several angles of an environment and then aggregates the images into a panorama. While some image manipulation may have to be performed to reduce the spherical aberration of the images the camera may nevertheless produce a comparatively flat panoramic image. As a second example the camera may be configured to generate a spherical image comprising images captured by two or more lenses pointing in opposite directions and aggregated into an image representing the view wrapping around the viewpoint at the time that the images were captured.

In these and other scenarios the camera may comprise one or more imagers that receive an image focused on the imager by at least one lens samples the focused image s via photosensitive elements and generates one or more images as output that may be aggregated into the composite image. For example digital cameras often include a charge coupled device CCD where the image is focused on a two dimensional planar array of photosensitive elements that generate a two dimensional array of pixels comprising the image. The images captured by the one or more CCDs may be combined e.g. using image registration techniques to align the images in order to generate the composite image.

In these and other scenarios the quality of the composite image is often significantly related to the quality of the sampling generated by the imager . In particular the density of the photosensitive elements of the imager may directly affect the sampling of the image focused thereupon e.g. an image of a particular size may be sampled at a higher level of detail by an imager having a higher density of photosensitive elements . The higher density may provide increased resolution e.g. visibility of increasingly small elements and details within the composite image color accuracy e.g. generating respective pixels of the composite image as an averaging of several samples rather than one thereby reducing sampling error and raising color accuracy and or sensitivity e.g. enabling more photosensitive elements to capture more light quanta during a brief period of time enables capturing more detail in lower light environments and or a faster shutter speed that reduces blurring of fast moving objects .

For at least these reasons it may be desirable to maximize the use of the image while capturing the image . A first such technique involves scaling up the size of the imager and physically extending the focal distance of the lens such that the image may be cast over a larger area imager and therefore provide greater sampling. However the applicability of this technique is limited by the interest in providing high quality cameras of smaller dimensions mitigating against the physical extension of the focal length and at lower prices mitigating against larger CCDs that are more expensive to fabricate . A second such technique involves generating imagers with higher densities of photosensitive elements . While imagers have become steadily more dense through continuous research and development it may be desirable to maximize the utilizing of any particular imager given the current state of the art in this field.

The techniques presented herein enable an alternative to the tradeoff provided in the comparison of . It may be appreciated that the composite image may include a portion that the user is not particularly interested in capturing specifically the presence of the user in the image. For example this portion of the composite image may depict an extreme close up view of the user s hand while holding the camera and or a mounting apparatus providing support and stability for the camera during the capturing. These areas of the composite image may be undesirable to the user and in fact the user may often crop out these portions of the composite image after capturing.

In view of this observation it may be appreciated that omitting this portion of the composite image in exchange for heightened resolution and image quality of the remainder of the composite image may represent an acceptable tradeoff. To this end the lenses of the camera may be oriented to maximize the resolution of the image while cropping this specific portion of the image .

A first exemplary embodiment involves a camera configured to generate a composite image . Such a camera may comprise at least one imager and at least two lenses configured to focus an image on at least one of the imagers . In particular the orientation of each lens may be selected to expand the image to increase coverage of the imager by the image while creating at least two cropped portions that are not focused on the imager . Additionally the orientation of each lens may be selected to displace the image from a center of the imager to expand a first cropped portion while reducing at least one second cropped portion . The camera may also comprise a composite image generating component that is configured to capture the images of the lenses using the respective imager and to generate a composite image from the images captured by the respective imagers . A camera having lenses and imagers oriented in such a manner may therefore maximize the coverage of the imager and the resulting resolution and quality of the composite image while cropping only a portion of the composite image that a user may not desire to be included in accordance with the techniques presented herein.

A second exemplary embodiment involves a lens set that is mountable within a camera having at least one imager . For example a camera may include a set of imagers and a lens set comprising images aligned in the manner provided herein may be mounted within the camera in order to generate a composite image in accordance with the techniques presented herein. In particular this lens set may comprise at least two lenses respective having a fixed rotationally symmetric orientation e.g. where the orientation angle between any two consecutive lenses is approximately equal to the orientation angle between any other two consecutive lenses and a fixed orientation with respect to an imager when mounted in the camera . More particularly the fixed orientation may be selected to focus the image on the imager by expanding the image to increase coverage of the imager by the image while creating at least two cropped portions that are not focused on the imager and displacing the image from the center of the imager to expand a first cropped portion while reducing at least one second cropped portion . By a set of lenses oriented in this manner when mounted in the camera the lens set may enable the capturing of composite images with increased resolution and a consolidated cropped portion in accordance with the techniques presented herein.

The techniques discussed herein may be devised with variations in many aspects and some variations may present additional advantages and or reduce disadvantages with respect to other variations of these and other techniques. Moreover some variations may be implemented in combination and some combinations may feature additional advantages and or reduced disadvantages through synergistic cooperation. The variations may be incorporated in various embodiments to confer individual and or synergistic advantages upon such embodiments.

A first aspect that may vary among embodiments of these techniques relates to the scenarios wherein such techniques may be utilized.

As a first variation of this first aspect the techniques presented herein may be utilized with many types of cameras. As a first such example many classes of cameras may be utilized such as analog or digital cameras motion or still cameras professional or amateur cameras and standalone cameras or cameras implemented in another device such as a computer or mobile phone. As a second such example the cameras may be configured to capture various wavelengths of light e.g. visible light cameras capturing the visible spectrum infrared cameras capturing the infrared portion of the spectrum underwater cameras capturing the wavelengths of light that are typically visible underwater and astronomical cameras capturing a broad swath of the electromagnetic spectrum. As a third such example the camera may be configured to exclude some wavelengths of light e.g. the camera may feature a polarized light source and or polarizing filter that excludes wavelengths except along a particular polarity.

As a second variation of this first aspect the techniques presented herein may be utilized with lens sets featuring various types and orientations of lenses . As a first such example the techniques presented herein may be utilized with many types of lenses including flat curved or fisheye lenses. As a second such example the lenses may be oriented as a two dimensional array with each lens capturing a portion of a two dimensional scene . Alternatively the lenses may be oriented cylindrically e.g. curving partially or completely about a first axis and expanding linearly along a second axis to create a cylindrical view of a scene or spherically e.g. curving along each of two axes in order to capture a fisheye view of a scene . Moreover such lenses may be arranged in various configurations e.g. in a rotationally symmetric arrangement the angle between any two consecutive lenses is approximately equal to the angle between any two other consecutive lenses .

As a third variation of this first aspect many types of imagers may be utilized such as charge coupled devices CCDs and complementary metal oxide semiconductors CMOSes . Additionally the camera may feature a single imager configured to receive multiple images from the respective lenses or multiple imagers configured to receive a partial or complete image from one or more lenses . These and other types of cameras and lenses may be compatible with the techniques presented herein.

A second aspect that may vary among embodiments of these techniques relates to the manner of orienting a lens displacement of the image on the imager .

As a first variation of this second aspect respective lenses may be oriented to displace the image from the center of the imager to expand a first cropped portion that corresponds within the composite image to the first cropped portion of at least one other lens . As a first such example if two lenses respectively create an image featuring a bottom portion that may not be of interest to the user both lenses may focus the image on the imager with a downward oriented displacement thus removing an entire bottom portion of the composite image while providing higher resolution for the remainder of the composite image . As a second such example if two or more lenses are oriented to feature an overlapping portion e.g. three 180 degree fisheye lenses each covering 180 degrees of the scene thus providing 30 degrees of overlap on each side of the image with a corresponding 30 degrees of the same portion of the scene provided by another lens and if one portion of the scene is of less interest to the user then two or more lenses may be oriented with a displacement resulting in a cropping of the overlapping portion of each image that the user is not interested in capturing. Some examples of such less interesting portions of the scene that the user may wish to crop out include a blocked portion of the composite image such as the location of a user who is close to at least one lens e.g. a close up portion of the hand of the user holding the camera or an area behind the viewfinder where the user is likely standing the location of a mounting apparatus used to steady the camera or the location of a camera body portion of the camera that is otherwise visible within the composite image . Moreover the camera may indicate to the user the area of the blocked portion that the lenses are configured to crop from the composite image e.g. markings on the exterior of the camera indicating how the user may hold the camera such that the user s hand is cropped out of the composite image . An example of this technique is illustrated in wherein both lenses are oriented to expand a first cropped portion comprising a bottom portion resulting in a blind spot comprising the bottom row of the composite image that is entirely cropped while providing enhanced resolution for the remainder of the composite image .

As a second converse variation of this second aspect the displacement of respective lenses may be selected such that a first cropped portion of the image that is cropped by a first lens corresponds with a second cropped portion of the image of a second lens that is reduced or eliminated. That is if two or more lenses capture an overlapping portion of the scene a first lens may be oriented with the overlapping portion comprising the first cropped portion that is cropped from the scene and a second lens may be oriented with the overlapping portion comprising the second cropped portion that is captured due to the displacement of the image . When oriented in this manner the first cropped portion that is not captured by the first lens may be captured by the second lens as the second cropped portion and in fact may be captured in higher resolution than if the first lens had not been displaced and had captured the first cropped portion . In this manner the entire composite image may be captured with a reduced or in some cases eliminated blind spot .

As a third variation of this second aspect the orientation of a lens creating a displacement of an image on the imager may be adjusted in view of respective properties of the imager . As a first example some imagers may present an uneven density of photosensitive elements with a higher density in the center and lower densities near the periphery e.g. resembling the arrangement of photosensitive structures in the human eye . As a second example the lens may provide an image with a gradient of image quality e.g. a curved or fisheye lens may present a higher quality image near the center where the lens is comparatively flat as compared with the edges where the lens is steeply curved and presents significant spherical aberration. In these and other examples the displacement of the of the image may be adapted to take this difference into consideration e.g. if the center of the lens presents a higher quality image then the displacement distance may be shortened such that the image is focused closer to the center of the lens . That is there may be a tradeoff between expanding the image and providing a displacement on the imager in order to raise the resolution of the captured image and focusing the image closer to the center of the imager in order to maximize the use of the higher quality portions of the imager and or lens .

As a fourth variation of this second aspect the orientation of the lenses may be adjustable e.g. in view of a user selection by a user . For example the camera may provide several options for orienting the lenses e.g. presenting a blind spot near the bottom the composite image i.e. expanding the image on the imager and inducing a displacement in a first direction presenting a blind spot near the top of the composite image i.e. expanding the image on the imager and inducing a displacement in a second direction presenting blind spots at both the bottom and the top of the composite image i.e. expanding the image on the imager but not inducing a displacement or presenting no blind spots i.e. neither expanding the image nor inducing a displacement . The orientation of the lenses may be adapted according to the user selection of the user. These and other variations in the orientation of the lenses may be implemented by those of ordinary skill in the art while implementing the techniques presented herein.

Although not required embodiments are described in the general context of computer readable instructions being executed by one or more computing devices. Computer readable instructions may be distributed via computer readable media discussed below . Computer readable instructions may be implemented as program modules such as functions objects Application Programming Interfaces APIs data structures and the like that perform particular tasks or implement particular abstract data types. Typically the functionality of the computer readable instructions may be combined or distributed as desired in various environments.

In other embodiments device may include additional features and or functionality. For example device may also include additional storage e.g. removable and or non removable including but not limited to magnetic storage optical storage and the like. Such additional storage is illustrated in by storage . In one embodiment computer readable instructions to implement one or more embodiments provided herein may be in storage . Storage may also store other computer readable instructions to implement an operating system an application program and the like. Computer readable instructions may be loaded in memory for execution by processing unit for example.

The term computer readable media as used herein includes computer storage media. Computer storage media includes volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions or other data. Memory and storage are examples of computer storage media. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM Digital Versatile Disks DVDs or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by device . Any such computer storage media may be part of device .

Device may also include communication connection s that allows device to communicate with other devices. Communication connection s may include but is not limited to a modem a Network Interface Card NIC an integrated network interface a radio frequency transmitter receiver an infrared port a USB connection or other interfaces for connecting computing device to other computing devices. Communication connection s may include a wired connection or a wireless connection. Communication connection s may transmit and or receive communication media.

The term computer readable media may include communication media. Communication media typically embodies computer readable instructions or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term modulated data signal may include a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal.

Device may include input device s such as keyboard mouse pen voice input device touch input device infrared cameras video input devices and or any other input device. Output device s such as one or more displays speakers printers and or any other output device may also be included in device . Input device s and output device s may be connected to device via a wired connection wireless connection or any combination thereof. In one embodiment an input device or an output device from another computing device may be used as input device s or output device s for computing device .

Components of computing device may be connected by various interconnects such as a bus. Such interconnects may include a Peripheral Component Interconnect PCI such as PCI Express a Universal Serial Bus USB Firewire IEEE 1394 an optical bus structure and the like. In another embodiment components of computing device may be interconnected by a network. For example memory may be comprised of multiple physical memory units located in different physical locations interconnected by a network.

Those skilled in the art will realize that storage devices utilized to store computer readable instructions may be distributed across a network. For example a computing device accessible via network may store computer readable instructions to implement one or more embodiments provided herein. Computing device may access computing device and download a part or all of the computer readable instructions for execution. Alternatively computing device may download pieces of the computer readable instructions as needed or some instructions may be executed at computing device and some at computing device .

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

As used in this application the terms component module system interface and the like are generally intended to refer to a computer related entity either hardware a combination of hardware and software software or software in execution. For example a component may be but is not limited to being a process running on a processor a processor an object an executable a thread of execution a program and or a computer. By way of illustration both an application running on a controller and the controller can be a component. One or more components may reside within a process and or thread of execution and a component may be localized on one computer and or distributed between two or more computers.

Furthermore the claimed subject matter may be implemented as a method apparatus or article of manufacture using standard programming and or engineering techniques to produce software firmware hardware or any combination thereof to control a computer to implement the disclosed subject matter. The term article of manufacture as used herein is intended to encompass a computer program accessible from any computer readable device carrier or media. Of course those skilled in the art will recognize many modifications may be made to this configuration without departing from the scope or spirit of the claimed subject matter.

Various operations of embodiments are provided herein. In one embodiment one or more of the operations described may constitute computer readable instructions stored on one or more computer readable media which if executed by a computing device will cause the computing device to perform the operations described. The order in which some or all of the operations are described should not be construed as to imply that these operations are necessarily order dependent. Alternative ordering will be appreciated by one skilled in the art having the benefit of this description. Further it will be understood that not all operations are necessarily present in each embodiment provided herein.

Moreover the word exemplary is used herein to mean serving as an example instance or illustration. Any aspect or design described herein as exemplary is not necessarily to be construed as advantageous over other aspects or designs. Rather use of the word exemplary is intended to present concepts in a concrete fashion. As used in this application the term or is intended to mean an inclusive or rather than an exclusive or . That is unless specified otherwise or clear from context X employs A or B is intended to mean any of the natural inclusive permutations. That is if X employs A X employs B or X employs both A and B then X employs A or B is satisfied under any of the foregoing instances. In addition the articles a and an as used in this application and the appended claims may generally be construed to mean one or more unless specified otherwise or clear from context to be directed to a singular form.

Also although the disclosure has been shown and described with respect to one or more implementations equivalent alterations and modifications will occur to others skilled in the art based upon a reading and understanding of this specification and the annexed drawings. The disclosure includes all such modifications and alterations and is limited only by the scope of the following claims. In particular regard to the various functions performed by the above described components e.g. elements resources etc. the terms used to describe such components are intended to correspond unless otherwise indicated to any component which performs the specified function of the described component e.g. that is functionally equivalent even though not structurally equivalent to the disclosed structure which performs the function in the herein illustrated exemplary implementations of the disclosure. In addition while a particular feature of the disclosure may have been disclosed with respect to only one of several implementations such feature may be combined with one or more other features of the other implementations as may be desired and advantageous for any given or particular application. Furthermore to the extent that the terms includes having has with or variants thereof are used in either the detailed description or the claims such terms are intended to be inclusive in a manner similar to the term comprising. 

