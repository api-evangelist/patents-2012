---

title: Process and apparatus for generating a three-dimensional swept envelope of a vehicle
abstract: A method, apparatus, media and signals for generating a computer representation of a three-dimensional swept envelope of a vehicle having a wheeled chassis operable to support a vehicle body for movement along a terrain is disclosed. The method involves receiving terrain data representing a 3D terrain, receiving data defining parameters of the vehicle, and receiving data defining a path for movement of the vehicle from an initial position on the terrain to a displaced position on the terrain. The method also involves disposing a computer representation of the vehicle on the 3D representation of the terrain at successive locations along the path using the parameters. Disposing involves determining points of engagement between wheels of the wheeled chassis and the 3D representation of the terrain to dispose the chassis with respect to the terrain, and determining a corresponding 3D location of the vehicle body with respect to the terrain. The method further involves generating a plurality of spatial extents of the vehicle at the successive locations, the spatial extents defining the 3D swept envelope of the vehicle when moving between the initial position and the displaced position. In another aspect a method for generating a computer representation of a three-dimensional swept envelope of an object moving along a guideway disposed with respect to a 3D representation of a terrain is disclosed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09633143&OS=09633143&RS=09633143
owner: Transoft Solutions, Inc.
number: 09633143
owner_city: Richmond, BC
owner_country: CA
publication_date: 20120405
---
This application is a United States national stage application under 35 U.S.C. 371 of PCT Application No. PCT CA2012 000336 designating the United States filed on Apr. 5 2012 which claims a benefit of priority to U.S. Provisional Patent Application No. 61 473 586 filed Apr. 8 2011 the contents of each are incorporated herein by reference in their entirety. Any and all priority claims identified in the Application Data Sheet or any correction thereto are hereby incorporated by reference under 37 C.F.R. 1.57.

This invention relates generally to computer aided design and more particularly to generating a three dimensional swept envelope of a vehicle or object.

Computer aided design of transport infrastructure such as railways roadways parking lots and garages airports and the like may be facilitated by various computer aided design CAD software products that represent aspects of the infrastructure so that design choices may be visualized on a computer display. As such CAD provides a valuable input into the design process.

CAD movements of vehicles through such infrastructure have generally been accommodated by two dimensional simplifications in CAD software products. Such products do not easily facilitate determination of interferences between portions of the infrastructure e.g. an overpass and the vehicle. There remains a need for three dimensional representations of vehicle movements over a three dimensional terrain.

In accordance with one aspect of the invention there is provided a method for generating a computer representation of a three dimensional swept envelope of a vehicle having a wheeled chassis operable to support a vehicle body for movement along a terrain. The method involves receiving terrain data representing a 3D terrain receiving data defining parameters of the vehicle and receiving data defining a path for movement of the vehicle from an initial position on the terrain to a displaced position on the terrain. The method also involves disposing a computer representation of the vehicle on the 3D representation of the terrain at successive locations along the path using the parameters. Disposing involves determining points of engagement between wheels of the wheeled chassis and the 3D representation of the terrain to dispose the chassis with respect to the terrain and determining a corresponding 3D location of the vehicle body with respect to the terrain. The method further involves generating a plurality of spatial extents of the vehicle at the successive locations the spatial extents defining the 3D swept envelope of the vehicle when moving between the initial position and the displaced position.

Generating the plurality of spatial extents of the vehicle may involve generating a plurality of spaced apart intersecting planes along the movement path and determining an intersection of the computer representation of vehicle with each of the intersection planes at the successive locations of the vehicle along the movement path.

Generating the plurality of spaced apart intersecting planes may involve generating intersection planes that are substantially perpendicular to the movement path.

Determining the intersection of the computer representation of the vehicle with each of the intersection planes may involve for each intersection plane determining a plurality of intersection areas each corresponding to one of the successive locations of the vehicle along the movement path and forming a union of the plurality of intersection areas to generate a combined intersection area defining a spatial extent of the vehicle moving through the intersection plane.

Determining the plurality of intersection areas may involve representing the vehicle using at least one 3D geometric shape imposing a raster on the intersection plane the raster including a plurality of raster elements and identifying ones of the plurality of raster elements that lie within the 3D geometric shape for each successive position the identified ones of the plurality of raster elements corresponding to the combined intersection area.

The method may involve generating signals operable to cause display of a representation of the 3D swept envelope of the vehicle on a computer display.

The method may involve generating signals operable to cause a representation of the 3D swept envelope of the vehicle to be printed on a printer.

Receiving the terrain data may involve receiving a plurality of 3D coordinate locations defining the terrain.

Receiving the 3D coordinate locations may involve receiving a plurality of vertex locations defining coordinate locations of a plurality of polygons defining the terrain.

Receiving the plurality of vertex locations may involve receiving a plurality of vertex locations defining one of a triangular irregular mesh and a polyface mesh.

Receiving data defining the parameters of the vehicle may involve receiving an operator selection of a vehicle from a database of vehicles the database including associated parameters for each vehicle in the database.

Receiving data defining the parameters of the vehicle may involve receiving at least one of chassis parameters defining relative orientations of the wheels of the wheeled chassis vehicle body parameters defining spatial extents of the vehicle body and linkage parameters defining a linkage between the chassis and the vehicle body.

Receiving the chassis parameters may involve receiving at least one of a number of axels in a front axel group a number of axels in a rear axel group a number of wheels on each respective axel of the front and rear axel groups an identification of steering parameters associated with the front and rear axel groups wheel dimensions of the wheels track dimensions associated with each of the front and rear axel groups a wheelbase dimension defining a distance between the front axel group and the rear axel group and a hitch dimension defining a location of a trailer hitch with respect to the chassis.

Receiving the vehicle body parameters may involve receiving at least one of overall dimensions of the vehicle body a location of the vehicle chassis with respect to the vehicle body a roofline profile of the vehicle body clearance dimensions defining clearances between the vehicle body when engaging a flat surface and undercarriage profiles defining a peripheral shape of the body proximate respective front and rear axels of the chassis.

Receiving the linkage parameters may involve receiving a suspension maximum deflection defining a maximum displacement of each the wheel with respect to the body.

Receiving the data defining the path of travel may involve receiving operator input of a line extending between the initial position and the displaced position.

Receiving the operator input of the line may involve receiving operator input of a two dimensional arc and the method may further involve projecting the arc onto the terrain to obtain a three dimensional path of travel extending between the initial position and the displaced position on the terrain.

The method may involve receiving operator input of a change to the movement path and in response disposing the computer representation of the vehicle on the 3D representation of the terrain at a plurality of locations along the changed movement path and generating an updated plurality of spatial extents of the vehicle.

The method may involve computing a minimum turning angle for the vehicle computing turning angles associated with the movement from the initial position to the displaced position and causing the movement path to be limited to include turning angles that may be less than or equal to the minimum turn angle.

Disposing the computer representation of the vehicle on the 3D representation of the terrain may involve representing the chassis of the vehicle using a bicycle model the bicycle model having at least a front wheel and a rear wheel each being centered between respective front and rear wheels of the vehicle and being separated by a wheelbase dimension corresponding to a wheelbase dimension of the vehicle defined by the parameters at least one of the front wheel and the rear wheel being steerable and for each of a plurality of locations of the bicycle model front wheel along the path of travel orienting the front wheel tangent to the path at the location and generating a corresponding location of the rear wheel of the bicycle model.

Determining points of engagement between wheels of the wheeled chassis and the terrain may involve locating a reference point associated with a front axel of the chassis on the path longitudinally rotating the chassis to place reference point associated with a rear axel of the chassis on the terrain and laterally rolling the chassis to place cause wheel locations associated with the wheeled chassis to be on or proximate the terrain.

Determining the corresponding 3D location of the vehicle may involve disposing a computer representation of the vehicle body on the chassis determining a weight distribution proportion for each wheel and calculating a deflection of a suspension associated with each wheel to generate the 3D location of the computer representation of the vehicle body with respect to the chassis.

Generating the plurality of locations of the spatial extents of the vehicle may involve generating a three dimensional mesh of polygons defining the spatial extents.

The method may involve identifying points of interference between the plurality of locations of the spatial extents and the terrain.

The method may involve receiving data defining at least one obstacle located on the terrain and the method may further involve identifying points of interference between the plurality of locations of the spatial extents and the at least one obstacle.

The vehicle may be a first vehicle and the method may further involve receiving data defining a 3D swept envelope of a second vehicle with respect to the 3D representation of the terrain and identifying points of interference between the plurality of locations of the spatial extents of the first vehicle and the 3D swept envelope of the second vehicle.

The method may involve offsetting the 3D swept envelope of the vehicle to determine minimum extents of a passageway through which the vehicle must pass in moving between the initial position and the displaced position.

The method may involve receiving a definition of a plane intersecting the terrain and determining extents of an area of intersection between the plane and the spatial extents of the vehicle as the vehicle moves through the plane.

The method may involve offsetting the area of intersection to define and locate a structure through which the vehicle must pass in moving between the initial position and the displaced position.

The wheeled chassis may include a front axel group and a rear axel group each of the front and the rear axel groups having at least one wheel operable to engage the terrain and the computer representation of the vehicle includes a representation of each of the front and the rear axel.

The vehicle may be configured for movement along a track disposed on the terrain the track being operable to receive and guide the wheels of the wheeled chassis and receiving the data defining the movement from the initial position to the displaced position may involve receiving data defining a desired location of the tracks with respect to the 3D representation of the terrain.

Determining the corresponding 3D location of the vehicle body with respect to the terrain may involve displacing a computer representation of the vehicle body from a computer representation of the chassis by a distance corresponding to a ground clearance parameter associated with the vehicle body and a deflection of a suspension between the chassis and the body.

Displacing the vehicle body may involve displacing the vehicle body at each wheel location in accordance with a weight distribution proportion at the wheel location.

In accordance with another aspect of the invention there is provided a computer readable medium encoded with codes for directing a processor circuit to execute any of the methods above.

In accordance with another aspect of the invention there is provided a computer readable signal encoded with codes for directing a processor circuit to execute any of the methods above.

In accordance with another aspect of the invention there is provided an apparatus for generating a computer representation of a three dimensional swept envelope of a vehicle having a wheeled chassis operable to support a vehicle body for movement along a terrain.

The apparatus includes provisions for receiving terrain data representing a 3D terrain provisions for receiving data defining parameters of the vehicle and provisions for receiving data defining a path for movement of the vehicle from an initial position on the terrain to a displaced position on the terrain. The apparatus further includes provisions for disposing a computer representation of the vehicle on the 3D representation of the terrain at successive locations along the path using the parameters. The provisions for disposing include provisions for determining points of engagement between wheels of the wheeled chassis and the 3D representation of the terrain to dispose the chassis with respect to the terrain and provisions for determining a corresponding 3D location of the vehicle body with respect to the terrain. The apparatus further includes provisions for generating a plurality of spatial extents of the vehicle at the successive locations the spatial extents defining the 3D swept envelope of the vehicle when moving between the initial position and the displaced position.

In accordance with another aspect of the invention there is provided an apparatus for generating a computer representation of a three dimensional swept envelope of a vehicle having a wheeled chassis operable to support a vehicle body for movement along a terrain.

The apparatus includes a processor circuit operably configured to receive terrain data representing a 3D terrain receive data defining parameters of the vehicle and to receive data defining a path for movement of the vehicle from an initial position on the terrain to a displaced position on the terrain. The processor circuit is also operably configured to dispose a computer representation of the vehicle on the 3D representation of the terrain at successive locations along the path using the parameters by determining points of engagement between wheels of the wheeled chassis and the 3D representation of the terrain to dispose the chassis with respect to the terrain and determining a corresponding 3D location of the vehicle body with respect to the terrain. The processor circuit is further operably configured to generate a plurality of spatial extents of the vehicle at the successive locations the spatial extents defining the 3D swept envelope of the vehicle when moving between the initial position and the displaced position.

The processor circuit may be operably configured to generate the plurality of spatial extents of the vehicle by generating a plurality of spaced apart intersecting planes along the movement path and by determining an intersection of the computer representation of vehicle with each of the intersection planes at the successive locations of the vehicle along the movement path.

The processor circuit may be operably configured to generate the plurality of spaced apart intersecting planes by generating intersection planes that are substantially perpendicular to the movement path.

The processor circuit may be operably configured to determine the intersection of the computer representation of the vehicle with each of the intersection planes by for each intersection plane determining a plurality of intersection areas each corresponding to one of the successive locations of the vehicle along the movement path and forming a union of the plurality of intersection areas to generate a combined intersection area defining a spatial extent of the vehicle moving through the intersection plane.

The processor circuit may be operably configured to determine the plurality of intersection areas by representing the vehicle using at least one 3D geometric shape imposing a raster on the intersection plane the raster including a plurality of raster elements and identifying ones of the plurality of raster elements that lie within the 3D geometric shape for each successive position the identified ones of the plurality of raster elements corresponding to the combined intersection area.

The processor circuit may be operably configured to generate signals operable to cause display of a representation of the 3D swept envelope of the vehicle on a computer display.

The processor circuit may be operably configured to generate signals operable to cause a representation of the 3D swept envelope of the vehicle to be printed on a printer.

The processor circuit may be operably configured to receive the terrain data by receiving a plurality of 3D coordinate locations defining the terrain.

The processor circuit may be operably configured to receive the 3D coordinate locations by receiving a plurality of vertex locations defining coordinate locations of a plurality of polygons defining the terrain.

The processor circuit may be operably configured to receive the plurality of vertex locations by receiving a plurality of vertex locations defining one of a triangular irregular mesh and a polyface mesh.

The processor circuit may be operably configured to receive data defining the parameters of the vehicle by receiving an operator selection of a vehicle from a database of vehicles the database including associated parameters for each vehicle in the database.

The processor circuit may be operably configured to receive data defining the parameters of the vehicle by receiving at least one of chassis parameters defining relative orientations of the wheels of the wheeled chassis vehicle body parameters defining spatial extents of the vehicle body and linkage parameters defining a linkage between the chassis and the vehicle body.

The processor circuit may be operably configured to receive the chassis parameters by receiving at least one of a number of axels in a front axel group a number of axels in a rear axel group a number of wheels on each respective axel of the front and rear axel groups an identification of steering parameters associated with the front and rear axel groups wheel dimensions of the wheels track dimensions associated with each of the front and rear axel groups a wheelbase dimension defining a distance between the front axel group and the rear axel group and a hitch dimension defining a location of a trailer hitch with respect to the chassis.

The processor circuit may be operably configured to receive the vehicle body parameters by receiving at least one of overall dimensions of the vehicle body a location of the vehicle chassis with respect to the vehicle body a roofline profile of the vehicle body clearance dimensions defining clearances between the vehicle body when engaging a flat surface and undercarriage profiles defining a peripheral shape of the body proximate respective front and rear axels of the chassis.

The processor circuit may be operably configured to receive the linkage parameters by receiving a suspension maximum deflection defining a maximum displacement of each the wheel with respect to the body.

The processor circuit may be operably configured to receive the data defining the path of travel by receiving operator input of a line extending between the initial position and the displaced position.

The processor circuit may be operably configured to receive the operator input of the line by receiving operator input of a two dimensional arc and the processor circuit may be operably configured to project the arc onto the terrain to obtain a three dimensional path of travel extending between the initial position and the displaced position on the terrain.

The processor circuit may be operably configured to receive operator input of a change to the movement path and in response dispose the computer representation of the vehicle on the 3D representation of the terrain at a plurality of locations along the changed movement path and generating an updated plurality of spatial extents of the vehicle.

The processor circuit may be operably configured to compute a minimum turning angle for the vehicle compute turning angles associated with the movement from the initial position to the displaced position and cause the movement path to be limited to include turning angles that may be less than or equal to the minimum turn angle.

The processor circuit may be operably configured to dispose the computer representation of the vehicle on the 3D representation of the terrain by representing the chassis of the vehicle using a bicycle model the bicycle model having at least a front wheel and a rear wheel each being centered between respective front and rear wheels of the vehicle and being separated by a wheelbase dimension corresponding to a wheelbase dimension of the vehicle defined by the parameters at least one of the front wheel and the rear wheel being steerable and for each of a plurality of locations of the bicycle model front wheel along the path of travel orienting the front wheel tangent to the path at the location and generating a corresponding location of the rear wheel of the bicycle model.

The processor circuit may be operably configured to determine points of engagement between wheels of the wheeled chassis and the terrain by locating a reference point associated with a front axel of the chassis on the path longitudinally rotating the chassis to place reference point associated with a rear axel of the chassis on the terrain and laterally rolling the chassis to place cause wheel locations associated with the wheeled chassis to be on or proximate the terrain.

The processor circuit may be operably configured to determine the corresponding 3D location of the vehicle by disposing a computer representation of the vehicle body on the chassis determining a weight distribution proportion for each wheel and calculating a deflection of a suspension associated with each wheel to generate the 3D location of the computer representation of the vehicle body with respect to the chassis.

The processor circuit may be operably configured to generate the plurality of locations of the spatial extents of the vehicle by generating a three dimensional mesh of polygons defining the spatial extents.

The processor circuit may be operably configured to identify points of interference between the plurality of locations of the spatial extents and the terrain.

The processor circuit may be operably configured to receive data defining at least one obstacle located on the terrain and to identify points of interference between the plurality of locations of the spatial extents and the at least one obstacle.

The vehicle may be a first vehicle and the processor circuit may be operably configured to receive data defining a 3D swept envelope of a second vehicle with respect to the 3D representation of the terrain and to identify points of interference between the plurality of locations of the spatial extents of the first vehicle and the 3D swept envelope of the second vehicle.

The processor circuit may be operably configured to offset the 3D swept envelope of the vehicle to determine minimum extents of a passageway through which the vehicle must pass in moving between the initial position and the displaced position.

The processor circuit may be operably configured to receive a definition of a plane intersecting the terrain and to determine extents of an area of intersection between the plane and the spatial extents of the vehicle as the vehicle moves through the plane.

The processor circuit may be operably configured to offset the area of intersection to define and locate a structure through which the vehicle must pass in moving between the initial position and the displaced position.

The wheeled chassis may include a front axel group and a rear axel group each of the front and the rear axel groups having at least one wheel operable to engage the terrain and the computer representation of the vehicle may include a representation of each of the front and the rear axel.

The vehicle may be configured for movement along a track disposed on the terrain the track being operable to receive and guide the wheels of the wheeled chassis and the processor circuit may be operably configured to receive the data defining the movement from the initial position to the displaced position by receiving data defining a desired location of the tracks with respect to the 3D representation of the terrain.

The processor circuit may be operably configured to determine the corresponding 3D location of the vehicle body with respect to the terrain by displacing a computer representation of the vehicle body from a computer representation of the chassis by a distance corresponding to a ground clearance parameter associated with the vehicle body and a deflection of a suspension between the chassis and the body.

The processor circuit may be operably configured to displace the vehicle body by displacing the vehicle body at each wheel location in accordance with a weight distribution proportion at the wheel location.

In accordance with another aspect of the invention there is provided a method for generating a computer representation of a three dimensional swept envelope of an object moving along a guideway disposed with respect to a 3D representation of a terrain. The object has a support for supporting an object body for movement along the guideway. The method involves receiving data defining parameters of the object including at least parameters defining an orientation between the support and the object body and receiving data defining the guideway location with respect to the 3D representation of the terrain. The guideway is operable to guide and support the object for movement from an initial position on the terrain to a displaced position on the terrain. The method also involves disposing a computer representation of the object body at successive locations along the guideway using the parameters and generating a plurality of spatial extents of the object body at the successive locations the spatial extents defining the 3D swept envelope of the object when moving between the initial position and the displaced position.

Disposing may involve determining a 3D location of the support at each successive location along the guideway and using the parameters to determine a 3D location of the object body with respect to the terrain.

The support may include a plurality of supports and determining the 3D location of the object support may involve determining a 3D location of each of the plurality of supports at each successive location along the guideway and using the parameters to determine the 3D location of the object body with respect to the terrain may involve using the parameters to determine a 3D location of the object body with respect to the determined locations of each of the plurality of supports.

The object may include a vehicle and the support may involve a magnetic suspension operable to support the vehicle for movement along the guideway.

The object may include a load suspended from the support and the support includes at least one wheel for coupling the support to the guideway for movement.

Generating the plurality of spatial extents of the object may involve generating a plurality of spaced apart intersecting planes along the guideway and determining an intersection of the computer representation of object with each of the intersection planes at the successive locations of the object along the guideway.

Generating the plurality of spaced apart intersecting planes may involve generating intersection planes that may be substantially perpendicular to the guideway.

Determining the intersection of the computer representation of the object with each of the intersection planes may involve for each intersection plane determining a plurality of intersection areas each corresponding to one of the successive locations of the object along the guideway and forming a union of the plurality of intersection areas to generate a combined intersection area defining a spatial extent of the object moving through the intersection plane.

Determining the plurality of intersection areas may involve representing the object using at least one 3D geometric shape imposing a raster on the intersection plane the raster may involve a plurality of raster elements and identifying ones of the plurality of raster elements that lie within the 3D geometric shape for each successive position the identified ones of the plurality of raster elements corresponding to the combined intersection area.

The method may involve generating signals operable to cause display of a representation of the 3D swept envelope of the object on a computer display.

The method may involve generating signals operable to cause a representation of the 3D swept envelope of the object to be printed on a printer.

Receiving the terrain data may involve receiving a plurality of 3D coordinate locations defining the terrain.

Receiving the 3D coordinate locations may involve receiving a plurality of vertex locations defining coordinate locations of a plurality of polygons defining the terrain.

Receiving the plurality of vertex locations may involve receiving a plurality of vertex locations defining one of a triangular irregular mesh and a polyface mesh.

Receiving data defining the parameters of the object may involve receiving at least one of support parameters defining relative orientations the support with respect to the guideway object body parameters defining spatial extents of the object body and linkage parameters defining a linkage between the support and the object body.

Receiving the object body parameters may involve receiving at least one of overall dimensions of the object body a location of the object body with respect to the support a profile of the object body and undercarriage profiles defining a peripheral shape of the body proximate respective front and rear axels of the chassis.

The method may involve receiving operator input of a change to the guideway location with respect to the 3D representation of the terrain and in response disposing the computer representation of the object on the 3D representation of the terrain at a plurality of locations along the changed guideway and generating an updated plurality of spatial extents of the object.

Generating the plurality of locations of the spatial extents of the object may involve generating a three dimensional mesh of polygons defining the spatial extents.

The method may involve identifying points of interference between the plurality of locations of the spatial extents and the terrain.

The method may involve receiving data defining at least one obstacle located on the terrain and may further involve identifying points of interference between the plurality of locations of the spatial extents and the at least one obstacle.

The object may include a first object and the method may further involve receiving data defining a 3D swept envelope of a second object with respect to the 3D representation of the terrain and identifying points of interference between the plurality of locations of the spatial extents of the first object and the 3D swept envelope of the second object.

The method may involve offsetting the 3D swept envelope of the object to determine minimum extents of a passageway through which the object must pass in moving between the initial position and the displaced position.

The method may involve receiving a definition of a plane intersecting the terrain and determining extents of an area of intersection between the plane and the spatial extents of the object as the object moves through the plane.

The method may involve offsetting the area of intersection to define and locate a structure through which the object must pass in moving between the initial position and the displaced position.

In accordance with another aspect of the invention there is provided a computer readable medium encoded with codes for directing a processor circuit to execute the methods above.

In accordance with another aspect of the invention there is provided a computer readable signal encoded with codes for directing a processor circuit to execute the methods above.

In accordance with another aspect of the invention there is provided an apparatus for generating a computer representation of a three dimensional swept envelope of an object moving along a guideway disposed with respect to a 3D representation of a terrain the object having a support for supporting an object body for movement along the guideway. The apparatus includes provisions for receiving data defining parameters of the object including at least parameters defining an orientation between the support and the object body and provisions for receiving data defining the guideway location with respect to the 3D representation of the terrain the guideway being operable to guide and support the object for movement from an initial position on the terrain to a displaced position on the terrain. The apparatus also includes provisions for disposing a computer representation of the object body at successive locations along the guideway using the parameters and provisions for generating a plurality of spatial extents of the object body at the successive locations the spatial extents defining the 3D swept envelope of the object when moving between the initial position and the displaced position.

In accordance with another aspect of the invention there is provided an apparatus for generating a computer representation of a three dimensional swept envelope of an object moving along a guideway disposed with respect to a 3D representation of a terrain the object having a support for supporting an object body for movement along the guideway. The apparatus includes a processor circuit operably configured to receive data defining parameters of the object including at least parameters defining an orientation between the support and the object body and receive data defining the guideway location with respect to the 3D representation of the terrain the guideway being operable to guide and support the object for movement from an initial position on the terrain to a displaced position on the terrain. The processor circuit is also operably configured to dispose a computer representation of the object body at successive locations along the guideway using the parameters and generate a plurality of spatial extents of the object body at the successive locations the spatial extents defining the 3D swept envelope of the object when moving between the initial position and the displaced position.

The processor circuit may be operably configured to receive terrain data representing the 3D terrain.

The processor circuit may be operably configured to dispose the computer representation of the object body by determining a 3D location of the support at each successive location along the guideway and using the parameters to determine a 3D location of the object body with respect to the terrain.

The support may include a plurality of supports and the processor circuit may be operably configured to determine the 3D location of the object support by determining a 3D location of each of the plurality of supports at each successive location along the guideway and to use the parameters to determine the 3D location of the object body with respect to the terrain by using the parameters to determine a 3D location of the object body with respect to the determined locations of each of the plurality of supports.

The object may include a vehicle and the support may include a magnetic suspension operable to support the vehicle for movement along the guideway.

The object may include a load suspended from the support and the support may include at least one wheel for coupling the support to the guideway for movement.

The processor circuit may be operably configured to generate the plurality of spatial extents of the object by generating a plurality of spaced apart intersecting planes along the guideway and determining an intersection of the computer representation of object with each of the intersection planes at the successive locations of the object along the guideway.

The processor circuit may be operably configured to generate the plurality of spaced apart intersecting planes by generating intersection planes that may be substantially perpendicular to the guideway.

The processor circuit may be operably configured to determine the intersection of the computer representation of the object with each of the intersection planes by for each intersection plane determining a plurality of intersection areas each corresponding to one of the successive locations of the object along the guideway and forming a union of the plurality of intersection areas to generate a combined intersection area defining a spatial extent of the object moving through the intersection plane.

The processor circuit may be operably configured to determine the plurality of intersection areas by representing the object using at least one 3D geometric shape imposing a raster on the intersection plane the raster may include a plurality of raster elements and identifying ones of the plurality of raster elements that lie within the 3D geometric shape for each successive position the identified ones of the plurality of raster elements corresponding to the combined intersection area.

The processor circuit may be operably configured to generate signals operable to cause display of a representation of the 3D swept envelope of the object on a computer display.

The processor circuit may be operably configured to generate signals operable to cause a representation of the 3D swept envelope of the object to be printed on a printer.

The processor circuit may be operably configured to receive the terrain data by receiving a plurality of 3D coordinate locations defining the terrain.

The processor circuit may be operably configured to receive the 3D coordinate locations by receiving a plurality of vertex locations defining coordinate locations of a plurality of polygons defining the terrain.

The processor circuit may be operably configured to receive the plurality of vertex locations by receiving a plurality of vertex locations defining one of a triangular irregular mesh and a polyface mesh.

The processor circuit may be operably configured to receive data defining the parameters of the object by receiving at least one of support parameters defining relative orientations the support with respect to the guideway object body parameters defining spatial extents of the object body and linkage parameters defining a linkage between the support and the object body.

The processor circuit may be operably configured to receive the object body parameters by receiving at least one of overall dimensions of the object body a location of the object body with respect to the support a profile of the object body and undercarriage profiles defining a peripheral shape of the body proximate respective front and rear axels of the chassis.

The processor circuit may be operably configured to receiver operator input of a change to the guideway location with respect to the 3D representation of the terrain and in response dispose the computer representation of the object on the 3D representation of the terrain at a plurality of locations along the changed guideway and generate an updated plurality of spatial extents of the object.

The processor circuit may be operably configured to generate the plurality of locations of the spatial extents of the object by generating a three dimensional mesh of polygons defining the spatial extents.

The processor circuit may be operably configured to identify points of interference between the plurality of locations of the spatial extents and the terrain.

The processor circuit may be operably configured to receive data defining at least one obstacle located on the terrain and to identify points of interference between the plurality of locations of the spatial extents and the at least one obstacle.

The object may include a first object and the processor circuit may be operably configured to receive data defining a 3D swept envelope of a second object with respect to the 3D representation of the terrain and identify points of interference between the plurality of locations of the spatial extents of the first object and the 3D swept envelope of the second object.

The processor circuit may be operably configured to offset the 3D swept envelope of the object to determine minimum extents of a passageway through which the object must pass in moving between the initial position and the displaced position.

The processor circuit may be operably configured to receive a definition of a plane intersecting the terrain and determine extents of an area of intersection between the plane and the spatial extents of the object as the object moves through the plane.

The processor circuit may be operably configured to offset the area of intersection to define and locate a structure through which the object must pass in moving between the initial position and the displaced position.

Other aspects and features of the present invention will become apparent to those ordinarily skilled in the art upon review of the following description of specific embodiments of the invention in conjunction with the accompanying figures.

Referring to a block diagram of an apparatus for generating a three dimensional 3D swept envelope of a vehicle is shown generally at . The apparatus includes a CAD system having an input for receiving operator input an output for producing display signals and an output for producing printer signals. In the embodiment shown the apparatus also includes a display for displaying an image representing the swept envelope of the vehicle in response to receiving the display signals and a printer for printing a hardcopy output of the swept envelope representation. The CAD system includes an interface that provides access to the CAD system functions implemented by the CAD system .

The apparatus also includes a 3D swept envelope functional block which provides functions for causing the CAD system to produce the display signals representing the 3D swept envelope. The functional block interfaces with the CAD system through the interface .

The CAD system may be provided by causing a computer to execute CAD system software such as the AutoCAD software application available from Autodesk Inc. of San Rafael Calif. USA. AutoCAD provides drawing elements such as lines polylines circles arcs and other complex elements. Customization of AutoCAD is provided through ObjectARX AutoCAD Runtime Extension which is an application programming interface API that permits access to a class based model of AutoCAD drawing elements. Customization code may be written in a programming language such as C which may be compiled to provide the functionality represented as the 3D swept envelope functional block .

Other CAD systems such as MicroStation sold by Bentley Systems Inc. of Exton Pa. USA provide similar CAD functionality and interfaces for customization. Advantageously using existing CAD software applications to provide standard CAD functionality allows operators to produce drawing files representing the traffic intersection using a familiar software application. However in other embodiments the CAD system functional block and 3D swept envelope functional block may be combined to provide 3D swept envelope functions without any dependence on existing CAD software applications.

Referring to a processor circuit for implementing the apparatus shown in is shown generally at . The processor circuit includes a microprocessor a program memory a variable memory a media reader and an input output port I O all of which are in communication with the microprocessor . While a single microprocessor is shown in in practice the microprocessor may be implemented using multiple central processors and or graphic processors.

Program codes for directing the microprocessor to carry out various functions are stored in the program memory which may be implemented as a random access memory RAM and or a hard disk drive HDD or a combination thereof. The program memory includes a first block of program codes for directing the microprocessor to perform operating system functions and a second block of program codes for directing the microprocessor to perform CAD system functions for implementing the CAD system shown in . The program memory also includes a third block of program codes for directing the microprocessor to perform functions for generating the 3D swept envelope and a fourth block of program codes for directing the microprocessor to provide an interface between the CAD functions and the 3D swept envelope functions.

The media reader facilitates loading program codes into the program memory from a computer readable medium such as a CD ROM disk or a computer readable signal such as may be received over a network such as the Internet for example.

The I O includes a first input for receiving operator input signals from a pointing device . The pointing device may be a computer mouse trackball or digitizing tablet or other device operable o produce pointer movement signals. The I O also includes a second input for receiving operator input signals from a character input device such as a keyboard . The I O further includes a first output for producing display signals for driving the display and a second output for producing signals for controlling the plotter .

The variable memory includes a plurality of storage locations including a terrain data store for storing data defining a terrain a database store for storing vehicle parameters and a store for storing vehicle mass and spring deflection values. The variable memory also includes a store for storing path parameters a store for storing turning parameters a store for storing swept envelope intersection area coordinates and a store for storing bicycle model wheel locations. The variable memory may be implemented as a hard drive for example.

Referring to a flowchart depicting blocks of code for directing the processor circuit to carry out a process for generating the three dimensional swept envelope of a vehicle in accordance with one aspect of the invention is shown generally at . The blocks generally represent codes that may be read from the computer readable medium and stored in the program memory for directing the microprocessor to perform various functions related to generating the 3D swept envelope of the vehicle. The actual code to implement each block may be written in any suitable program language such as C for example.

The process begins at block which directs the microprocessor to receive terrain data defining a terrain. A vehicle is shown supported on a terrain in . Referring to the terrain is represented by a plurality of polygons in a 3D coordinate space designated by XYZ axes . In this embodiment the vehicle is an articulated bus having a tractor portion and a trailer portion . Block also directs the microprocessor to store the terrain data in the terrain data store of the variable memory shown in .

Referring back to the process then continues at block which directs the microprocessor to receive data defining parameters of the vehicle . The parameters of the vehicle generally define aspects of placement and movement of the vehicle over the terrain as described in more detail later herein. Block also directs the microprocessor to store the data defining parameters of the vehicle in the vehicle database of the variable memory shown in .

Block then directs the microprocessor to receive data defining a desired path for movement of the vehicle from an initial position on the terrain to a displaced position on the terrain. Referring to in one embodiment receiving the path may involve receiving operator input from the pointing device and or keyboard shown in defining a line extending between an initial position p of the vehicle and a displaced position p . The point pprovides an initial position for the vehicle and the direction of the line provides an initial orientation of the vehicle. In other embodiments the initial position and orientation may be otherwise specified by operator input. The path is represented by the line and may include several additional displaced positions such as the positions and p shown in .

Block then directs the microprocessor to dispose the vehicle on the terrain at a plurality of successive locations along the path to generate a corresponding plurality of spatial extents of the vehicle body. The tractor and trailer portions and of the vehicle each comprise a wheeled chassis which is operable to support a body of the vehicle for movement along a terrain. In the wheeled chassis of the tractor is shown generally at and the body of the tractor is shown at . Similarly the trailer includes a wheeled chassis and a body . Referring back to the process of block generally involves determining points of engagement between wheels of the wheeled chassis and the terrain to dispose the chassis with respect to the terrain and determining a corresponding 3D location of the body of the vehicle with respect to the terrain.

Block then directs the microprocessor to generate a plurality of 3D spatial extents of the body of the vehicle at the successive locations. The 3D spatial extents define the 3D swept envelope of the vehicle when moving from the initial position to the displaced positions and or as described in more detail below.

The process then continues at block which directs the microprocessor generate signals at the first output and or second output for displaying the 3D swept envelope on the display or printing the 3D swept envelope on the printer .

As noted above receiving terrain data at block of the process may involve receiving a plurality of polygons which is commonly referred to as a polygon mesh. A portion of the polygon mesh terrain is shown in at . The surface portion includes 5 polygons sto s which in this case are triangular polygons in a 3D coordinate space designated by XYZ axes . Advantageously many graphic processors are optimized for processing triangular polygons and representing a surface using triangular polygons may provide enhanced processing performance over other polygon representations such as rectangles for example.

Each triangular polygon is defined by three vertices and three edges. For example sincludes vertices v v and vand edges e eand e. Commonly a polygon mesh may be represented by a plurality of tables including a polygon table listing the polygons s and associated vertices v that make up each polygon a vertex table listing x y and z coordinates of each vertex v and an edge table listing the edges e and the associated vertices v that make up each edge. The edge table provides data that permits more efficient processing of the polygon mesh by eliminating multiple processing of common edges. One particular example of a polygon mesh format is the triangulated irregular network TIN surface which comprises triangular polygons. AutoCAD Civil 3D is able to read and process surfaces in the TIN format. AutoCAD also provides functions for displaying representations of TIN surfaces on a 2D display as well as functions for shading and rendering the surfaces that make up the TIN surface. Alternatively other surface representations such as a grid surface which includes a sampled array of elevations for a number of ground positions at regularly spaced intervals may be used.

The tables that define the polygon mesh surface are stored in the terrain data store of the variable memory shown in . Advantageously the use of plane polygons facilitates representation of a 3D terrain surface on a 2D display such as the display shown in and .

In one embodiment the vehicle parameters are stored in the memory store as a vehicle database which includes sets of vehicle parameters for various vehicles. Block of the process shown in would then additionally direct the microprocessor to receive a vehicle selection from an operator and to read the vehicle parameters for a selected vehicle from the vehicle database . An exemplary operator interface for displaying and receiving operator input of vehicle parameters is shown at in . Referring to in this embodiment parameters for a small passenger vehicle are displayed in the operator interface . In the embodiment shown the vehicle is shown in a simplified box outline although in other embodiments further detail of the vehicle profile may be displayed to more realistically represent the vehicle. Simplification of the vehicle representation may advantageously reduce the amount of processing required by the microprocessor since the simplified vehicle may be represented using a small number of geometrical shapes.

The various fields of the operator interface are populated using values read from a small passenger vehicle from the vehicle database . The operator interface includes a control for selecting between a profile view and a plan view of the vehicle . In this embodiment a profile view is selected and displayed. The vehicle has an overall length of 4.58 meters as indicated at . The operator interface also includes a ground clearance group of input boxes which includes fields for defining a front overhang ground clearance value a wheelbase ground clearance value and a rear overhang ground clearance value . The operator interface also includes a button which when actuated by the operator causes a further interface to be displayed for defining various chamfers to the profile of the vehicle as shown in . Alternatively in other embodiments not shown a bottom profile of the vehicle may be used to define the features of the vehicle that are associated with ground clearance and the front overhang rear overhang and chamfer parameters may be omitted.

The operator interface also includes a roofline group of input boxes which includes a field for selecting a roofline profile of the vehicle and a field for defining a height of the vehicle. The operator interface also includes a button which when actuated by the operator opens a further operator interface not shown for customizing the roofline of the vehicle.

The operator interface further includes a group of input boxes which include fields and for defining steering parameters associated with the vehicle . As noted above the various fields in the operator interface are initially populated from standard vehicle data stored in the vehicle database . However the operator may alter certain values through the provided input boxes to make changes to the standard vehicle parameters as desired. The operator interface also includes an OK button which when actuated by the operator closes the interface . In other embodiments the vehicle parameters may be otherwise received and saved in the database .

Exemplary vehicle parameters for the tractor trailer vehicle shown in such as would be read from the vehicle database are shown generally at in . Referring to the tractor trailer vehicle is shown in plan view in and includes a tractor portion and a trailer portion which are coupled together at a coupling . The tractor portion includes a front axel having 2 wheels the front axel being steerable. The tractor portion also includes a rear axel having 4 wheels which are not steerable. The tractor portion further includes a trailer hitch . The trailer portion includes a single rear axel having 2 wheels and a coupling for coupling to the trailer hitch at the coupling . Referring to the tractor portion of the vehicle includes a body and the trailer portion includes a body which are shown in profile view in .

Various dimensions of the tractor portion and trailer portion included in the table are shown in and . The table includes a length overall LOA parameter a front overhang F parameter and a wheelbase WB parameter . A rear overhang measurement may be calculated by subtracting WB and F from the LOA parameter. The LOA F and WB parameters provide information defining the relative orientation between the chassis i.e. the front axel rear axel and wheels and the body of the tractor portion and trailer portion .

The table also includes ground clearance parameters G G and G that respectively define front wheelbase and rear ground clearances as shown in . The table also includes a hitch overhang C C parameter that defines the location of the coupling with respect to the chassis.

The table also includes a front axle parameter that defines the number of axels in the front axel group a front axle wheels parameter that defines the number of wheels on the axel and a tire parameter that defines the diameter D and Width W of the tires. Some vehicles may have more than one front axel to carry a higher load. The table also includes a front axle track T parameter that defines the track dimension of the front wheels. In this embodiment the track dimension is the distance between outer edges of the tire tread measured across the axle. Conventionally track dimensions generally refer to a distance between respective centers of the outer wheel tire tread but for computing a 3D swept envelope the outside of the tire tread is more relevant. Accordingly when populating the vehicle database conventional track dimensions are adjusted to correspond to the distance between the outer edges of the tire tread measured across the axle. Similarly the table includes a rear axle parameter rear axle track parameter rear axle wheels parameter and rear wheel tire diameter and width D W .

The table further includes a body width BW parameter which defines an overall width of the body of the respective tractor portion and trailer portion and a body height H parameter which defines the height of the body above the ground.

The table further includes an articulating angle parameter . In the vehicle is shown executing a turn. Referring to articulation of the vehicle at the coupling is constrained by interference between the respective vehicle bodies and at . In the embodiment shown the articulating angle a is 70 .

The table further includes a pitch parameter and a roll parameter . Referring to the coupling will also generally constrain pitching movements of the tractor portion with respect to the trailer portion and the pitch parameter defines a maximum value of the pitch angle shown in as angle c. Similarly the coupling will also constrain rolling movements of the tractor portion with respect to the trailer portion . Such rolling movements occur when the vehicle moves over an uneven terrain. The rolling movement of the tractor portion occurs in a direction indicated by the arrow and results in a roll angle ras shown in . The rolling movement of trailer portion occurs in a direction indicated by the arrow and results in a roll angle ras shown in . For a locally uneven terrain the angles rand rmay not be equal and may be in opposite roll directions. The roll parameter defines a maximum roll angle between tractor and trailer i.e. r r .

Finally the table also includes a steering lock angle b parameter and a lock to lock time parameter that define a behavior of the steerable wheels on the front axel . Referring back to the steering lock angle b defines the maximum angle of the wheels on the axel through which the steering of the vehicle is capable of turning from a straight ahead condition. The lock to lock time is the time that an average driver of the vehicle would take in turning the steering between opposite steering lock angles. In a bicycle model of the turning vehicle is also shown in broken outline at . The bicycle model is used when generating the turning path of the vehicle as described later herein.

As noted above the path of the vehicle may be defined in response to operator input received from the pointing device and or keyboard shown in . In one embodiment operator input of a 2D arc is received via the pointing device when actuated by the operator to indicate points such as points and for 257 on a 2D display of the terrain such as shown in . The 2D arc is then projected onto the 3D terrain to obtain the movement path in the 3D coordinate space .

In receiving input of the movement path the turning characteristics of the vehicle may place minimum turn radius limitation on the movement path . In general the minimum turn radius is a function of the speed of the vehicle and other vehicle turning parameters for example the parameters in and or the parameters and in the table shown in . In one embodiment the minimum turn radius may be computed in accordance with the formula 

The values of the turning parameters may provided by the operator through an operator interface not shown . In this embodiment values of v e and f are stored in the turning parameters store in the variable memory . The computed value of the radius Rmay also be stored in the turning parameters store . Note that for units other than meters and kilometers the values of the numerical constants in Eqn 1 would have to be modified accordingly. In other embodiments a value for Rmay be provided directly by operator input and stored in the turning parameters store .

If the operator provides input a point that attempts to define a movement path which has a radius that is less than the R calculated from Eqn 1 block of the process shown in may direct the microprocessor to prohibit input of the point. Alternatively the microprocessor may be directed to generate a warning to alert the operator to the problem.

In other embodiments the movement path may be pre determined. For example in the case of a railway track the location of the tracks with respect to a terrain may be previously determined.

Moving the vehicle along the movement path requires steering of the steerable wheels of the vehicle to navigate the path. For the steerable tractor portion of the vehicle shown in wheel locations along the path may be determined using the bicycle model shown in at to represent the tractor portion of the vehicle . The use of a bicycle model simplifies computation of wheel locations along the path thereby providing improved computational efficiency. Referring back to the bicycle model includes a front wheel and a rear wheel which are separated by a distance corresponding to a wheelbase dimension of the tractor read from the WB field in the table of which are also stored in the vehicle database of . The front and rear wheels and are centered between the respective front and rear wheels of the tractor i.e. the front and rear wheels are each located at half of the respective track dimensions and shown in . In the embodiment shown the front wheels of the tractor are steerable and the corresponding front wheel of the bicycle model is also steerable while the rear wheel of the bicycle model is fixed. In other embodiments a vehicle may have steerable rear wheels in place of or in addition to steerable front wheels and the bicycle model may include a corresponding steerable rear wheel or steerable front and rear wheels. In the embodiment shown in the bicycle model also includes a hitch portion extending outwardly and ending in the coupling . The trailer portion of the vehicle may be similarly represented using the bicycle model having a fixed rear wheel separated by a wheelbase distance from the coupling and being operable to pivot about the coupling . The location of the coupling is thus determined by the bicycle model while the location of the rear wheel of the trailer bicycle model is determined with respect to the movements of the coupling .

The process of block shown in for moving the vehicle along the movement path is shown in greater detail in . Referring to the process begins at block which directs the microprocessor to compute the steering angle increment at the first position palong the path . A portion of the path is shown in enlarged detail in . Referring to in the embodiment shown the initial steering angle of the front wheel of the vehicle is initially at 0 although in other embodiments the initial steering angle may be non zero. At point pthe steering angle increment is determined as the angle between the initial steering angle of the front wheel of the bicycle model and a line drawn tangent to the path .

Block then directs the microprocessor to move the bicycle model along the path by an increment of D to a new location on the path . In one embodiment D may be about 100 mm.

The process then continues at block which directs the microprocessor to orient the bicycle model with the front wheel tangential to the path at the location . The front wheel thus follows the path while the rear wheel takes up a location corresponding to the incremented steering angle of the front wheel. The determined locations of the front and rear bicycle model wheels are saved in the bicycle model wheel location store in the variable memory shown in .

Block then directs the microprocessor to dispose the vehicle on the terrain. The process executed in block will be described in more detail below.

Block then directs the microprocessor to determine whether the last displacement AD along the path has been reached. If at block further displacements remain then block directs the microprocessor back to block and blocks are repeated for successive new locations such as locations and . If at block no further displacements remain to be processed then the process ends at .

Accordingly for any location of the bicycle model the parameters in table may be used to determine corresponding locations of the wheels of the tractor . For example the front left hand wheel of the tractor is spaced apart from the front wheel of the bicycle model by half of the track width dimension in a direction perpendicular to the wheelbase. Locations of other wheels such as the right hand rear wheel may be similarly computed using the vehicle parameters in table . In corresponding wheel locations may be similarly generated for the bicycle model representing the trailer portion by moving the bicycle model of the trailer with respect to the hitch as described above. For the trailer portion bicycle model the hitch of the tractor portion bicycle model determines movement of the coupling which in turn determines the movement of the bicycle model an thus the location of the rear wheel .

The process thus provides a plurality of locations for the front wheel and the rear wheel of the vehicle as the vehicle is steered along the path. At each location etc along the path block directs the microprocessor to dispose the vehicle on the terrain as noted above.

The process of block is shown in greater detail in . Referring to the process begins at block which directs the microprocessor to place the chassis on the surface of the terrain at the initial position i.e. at point pin . In general a vehicle such as the vehicle may be simply represented by a chassis and a body. Referring to the chassis may be represented using a simplified I shaped chassis model shown at . The chassis includes a front axel having a front pivot located at a center of the front axel and a rear axel having a rear pivot located at a center of the rear axel. The location of the front pivot corresponds to the location of the bicycle model front wheel and the location of the rear pivot corresponds to the location of the bicycle model rear wheel . The front and rear pivots and are used as a reference point for disposing the vehicle on the terrain at the bicycle model front and rear wheel locations determined during execution of the process in .

The axels and are represented by respective lines separated by a line which has a length corresponding to a wheelbase of the vehicle i.e. parameter in the table shown in . Wheel locations on the chassis are represented by the ends of the axel lines and . Similarly a trailer chassis model includes a coupling which acts as a front pivot a rear axel and a rear pivot located at a center of the rear axel. Wheel locations of the trailer chassis are also represented by the ends of the axel line .

A portion of the terrain taken generally along the path in proximity to the initial position p is shown in cross sectional profile in . The front pivot is placed at point pon the surface of the terrain and the chassis is initially horizontally oriented with respect to the terrain as shown in broken outline in .

The process then continues at block which directs the microprocessor to rotate the chassis longitudinally to place the rear pivot on a surface of the terrain as shown in solid outline in . The chassis is thus placed longitudinally on the surface along the line . However at this time the plane of the chassis into the page in is still horizontally oriented and has not yet been laterally rolled to place the wheel locations on the terrain. This condition is shown in where the chassis is shown in front view and the wheel locations are not yet placed on the terrain. Referring to the terrain in proximity to the wheel locations is represented by two contour lines and . The front pivot is on the contour line and the rear pivot is on the contour line and the wheel locations are displaced from the terrain by distances e e eand erespectively as shown. The distances eto eare determined constructing respective lines through each of the wheel locations on the chassis that are perpendicular to the plane of the chassis and then finding the intersection point of the respective lines with the surface of the terrain . The distances eto eare then each calculated along the line between the wheel location and the intersection point with the surface of the terrain .

The process then continues at block which directs the microprocessor to calculate a roll angle of the chassis that minimizes 

Block then directs the microprocessor to generate a chassis coordinate system oriented such that the x and y axes define a plane that is co planar with the pane of the chassis . Referring to the x y and z axes of the chassis coordinate system are shown generally at . Effects of a suspension of the vehicle are accounted for by assuming that the wheel locations are able to move with respect to the chassis in the direction of the z axis of the chassis coordinate system such that the direction of operation of the suspension is dependent on the orientation of the chassis.

Block then directs the microprocessor to dispose the vehicle body on the chassis . In this regard the front overhang parameter and overall length from the table in provides sufficient information for locating the body longitudinally with respect to the chassis while the body is assumed to be laterally centered with respect to the track of the front and rear axels. Referring to a simplified body is shown disposed on the chassis . The body has a lower surface that is located in the xy plane of the chassis coordinate system .

The process then continues at block which directs the microprocessor to generate a mass vector for the body . The body has a center of mass . The center of mass of a body is location that is fixed in relation to the body. In one embodiment the center of mass location may be assumed to be centered with respect to a base of the body and vertically located at of the height of the body. Alternatively for more complex roofline profiles the center of mass may be computed using other methods for example by dividing the body into a number of solids and combining the respective center of mass locations for the various solids to yield an overall center of mass for the body. Block further directs the microprocessor to construct a vector extending vertically downward from the center of mass to intersect the xy chassis plane at a point .

Block then directs the microprocessor to compute the weight distribution between the four wheel locations of the chassis . Referring to in the embodiment shown the weight distribution is computed on the basis of the distances dto dbetween the point and each respective wheel location. For example the weight at each wheel location may be determined by solving for x in Eqn 3 below 

In other embodiments the simple approach described above in connection with and equations 3 and 4 may be replaced by an algorithm for computing the weight distribution based on torsional acceleration deceleration and centripetal considerations for example.

The process then continues at block which directs the microprocessor to calculate the deflection of the suspension associated with each wheel under the weight load calculated at block . In the embodiment shown effects of the suspension of the vehicle is accounted for by assuming each wheel location to have an associated spring that extends between the body and the chassis and provides a limited maximum deflection in the direction of the z axis. In one embodiment the maximum deflection of the spring is taken as 150 mm for all vehicles however in other embodiments the maximum deflection may be included in the vehicle parameters in table of . For each wheel location on the chassis the deflection may be calculated from 

If the calculated hfrom Eqn 5 is greater than the maximum deflection e.g. 150 mm then block directs the microprocessor to set the deflection to the maximum deflection. The deflection calculated at each wheel location defines the height of the body above the surface of the terrain at each of the respective wheel locations. Block further directs the microprocessor to generate a body coordinate system defining the location of the vehicle body with respect to the terrain .

For some types of terrain that have larger local curvature or depressions one of the wheels may reach the maximum deflection condition without being in contact with the terrain leaving the vehicle supported on three wheels. In this condition the location of the chassis and hence the body would thus be defined by the remaining wheels that are in contact with the terrain. In other embodiments torsion may be taken into account for large terrain curvatures and or depressions to more realistically simulate the placement of the vehicle on the terrain by permitting twisting of the chassis and body and the mechanical connectors and suspension components linking the two.

The trailer may be disposed on the terrain by using the trailer chassis model and by implementing a similar process to the process except that in the case of the semi trailer shown in there are only three points to work with i.e. the coupling or front pivot and the left wheel and right wheel on the rear axle . The positioning in this case is simplified since the trailer is connected to the coupling of the tractor which defines precisely in 3D space a location for the front pivot. In the case of a full trailer i.e. a trailer having two spaced apart axels having wheels that fully support the trailer the process may be used in the same way as it is used to dispose the tractor portion of the vehicle on the terrain.

In one embodiment the weight at the coupling due to the trailer load is neglected in calculating the center of mass of the tractor body. However in other embodiments where the weight load on the coupling is significant the center of mass may be offset to account for this additional load. In embodiments where there are multiple axels in an axel group the chassis may still be modeled using a single axel however there would be some loss of realism when the associated wheels traverses a bump on the terrain such as a speed bump.

Referring back to once the tractor portion and trailer portion of the vehicle are both deposed on the terrain the angle c in is calculated at checked against the maximum pitch parameter . A difference between the roll angles rand ris also calculated and the resulting roll angle is checked against the maximum roll parameter . The processor circuit may be further operably configured to cause an error condition to be generated should the calculated pitch and roll angles exceed the values defined for the vehicle in table at and .

Advantageously by simplifying the chassis model and accounting for the suspension using a heuristic model as described above computational efficiency is enhanced thereby making it possible to have the system interact in real time with the operator without any significant computational delay. In other embodiments the processing performance of the processor circuit may be further enhanced to facilitate use of a more complex model of the vehicle including more realistic linkages between the vehicle and body. The more realistic model may facilitate more accurate placement of the vehicle on the terrain . For example the chassis model and the linkage to the body may account for other kinematic considerations such as torsion of the body chassis and mechanical connectors of the suspension system that couple the suspension to the body and the chassis.

When executed by the microprocessor the process results in the vehicle being steered over the terrain along a 3D path thereby tracing out a 3D path of the body of the vehicle across the terrain. The 3D swept path of the vehicle is defined by the spatial extents of the body of the vehicle. The process of block for generating the spatial extents and the swept path is shown in greater detail in . Referring to the process begins at block which directs the microprocessor to generate a plurality of intersecting planes along the movement path . A portion of the terrain is shown in with a plurality of intersecting planes shown at etc. In one embodiment the planes may be disposed spaced apart by the same spacing increment D used in the process of . Each intersecting plane is oriented perpendicular to the movement path .

Block then directs the microprocessor to generate an area of intersection between the body of the vehicle and each intersecting plane as the vehicle is moved along the path as described above in connection with the process of . Referring to the vehicle is shown moving through the plane to generate an area of intersection between the vehicle body and the intersection plane. For each successive displacement of the vehicle along the movement path the area of intersection may change.

Referring to to the area of intersection for successive displacements of the vehicle shown in are shown in plan schematic view. In the first area of intersection is generally rectangular and corresponds to the cross sectional shape of the vehicle . In the vehicle has moved over to the right due to the steering and off tracking of the vehicle along the path defining an area of intersection . In the vehicle has rolled to the right for example due to a local depression in the terrain defining an area of intersection . In the vehicle has further moved to the right defining an area of intersection . Block directs the microprocessor to accumulate the areas of intersection shown in and to store data defining the intersection areas in the store of the variable memory .

For the simple body of the vehicle shown in the area of intersection is computed as a simple intersection between the rectangular cross section body and the plane . In other embodiments vehicles having a more complex roofline profile may be split into several 3D geometric shapes each having a simple shape such as a rectangle wedge or other shape that permits efficient computation of the intersection area.

The process then continues at block which directs the microprocessor to form a union of the intersecting areas . Referring to the union of the four areas of intersection shown in are shown at in .

In one embodiment the intersection with the plane may be computed on a raster basis by defining a plurality of raster elements extending over the plane . Each intersection in would then be processed to determine which raster elements are within the intersection area i.e. black raster elements in and which remain outside the intersection area i.e. the white raster elements in . After each of the successive intersections has been raster processed the black raster elements define the union of the intersection areas . The intersection area may be stored as a raster map in the store of the variable memory . The raster outline may be subsequently converted back into a vector based intersection outline for printing of the printer or for display on the display shown in and .

When the vehicle has moved along the length of the movement path the resulting intersection areas for each plane such as the intersection area for the plane define the spatial extents of the body of the vehicle . Referring to a plurality of intersection areas for the vehicle are shown generally at . In the embodiment shown the intersection areas have been combined to form a wireframe mesh similar to the mesh used to represent the terrain which extends along the 3D swept path of the vehicle .

Referring to in one embodiment the intersection areas may be further processed to remove redundant areas of intersection thereby reducing the number of intersection areas and thus the size of the data for storing the swept envelope. Such processing may involve determining differences between adjacent areas of intersection and if such differences are below a change criteria omitting one or more adjacent areas of intersection such as the areas of intersection at . In this way redundant data defining the swept envelope is discarded without compromising the accuracy of the swept envelope representation.

The 3D swept envelope may be used to identify points of interference between the spatial extents of the vehicle and the terrain. For example the terrain data may include data defining an obstacle located on the terrain and the processor circuit may be operably configured to determine an intersection between the 3D swept envelope and the obstacle by determining whether there is an intersection between the two elements. Alternatively a second vehicle may be moved across the terrain and intersection or spacing between the 3D swept envelopes of each of the vehicles may be determined to determine where sufficient clearance exists between lanes of a roadway for example. Similarly the 3D swept envelope of the vehicle may be offset to determine minimum extents of a passageway such as a tunnel or doorway through which the vehicle must pass in moving between the initial position and the displaced position.

While the above embodiments have been described in relation to representing a 3D swept envelope of a wheeled vehicle in other embodiments the 3D swept envelope of a vehicle that is not supported on wheels may be generated by the apparatus shown in . Referring to a magnetically levitated transport system representation is shown generally at and includes a vehicle received on a guideway for movement along a terrain represented by polygons . The guideway extends along and is disposed with respect to the 3D representation of the terrain to provide a path for the vehicle which in this embodiment is a train. In general the guideway may be constructed at grade below grade or at some elevation above the terrain . An elevation of the guideway with respect to the terrain may be varied along the extent of the guideway to provide a path for the vehicle having a gradient that is suitable for an intended speed of travel.

Referring to an example of a magnetic levitation suspension for supporting the vehicle is shown in cross sectional detail at and includes first and second supports and . The support is shown in greater detail at . The support of the vehicle includes an undercarriage having a support magnet mounted on the undercarriage. The guideway includes a stator which generates a magnetic field that interacts with the magnetic field produced by the support magnet . The support also includes a guidance magnet for laterally guiding the vehicle along the guideway . In operation an excitation current provided to the stator provides both a magnetic levitation force for supporting the vehicle above the guideway and a drive force for propelling the vehicle along the guideway. In other embodiments the magnetic levitation suspension may be otherwise configured to support and guide the vehicle .

Referring to a flowchart depicting blocks of code for directing the processor circuit shown in to carry out a process for generating the three dimensional swept envelope of the vehicle is shown generally at . The process begins at block which directs the microprocessor to receive data defining parameters of the vehicle . In one embodiment the parameters include parameters defining an orientation between the supports and and a body of the vehicle . In other embodiments the parameters may include further parameters defining aspects of placement and movement of the vehicle with respect to the guideway such as the effect of any additional suspension components on the relative orientation between the supports and and the body of the vehicle. The parameters may thus include support parameters defining relative orientations the support with respect to the guideway vehicle body parameters defining spatial extents of the body of the vehicle and linkage parameters defining a linkage between the support and the vehicle body for example.

Block then directs the microprocessor to receive data defining the location of the guideway with respect to the 3D representation of the terrain . Block then directs the microprocessor to dispose a computer representation of the vehicle body at successive locations along the guideway using the parameters. In one embodiment block my direct the microprocessor to determining a 3D location of the supports and at each successive location along the guideway and using the parameters determine a 3D location of the vehicle body with respect to the terrain .

Block then directs the microprocessor to generate a plurality of 3D spatial extents of the body of the vehicle at the successive locations. The 3D spatial extents define the 3D swept envelope of the vehicle when moving from an initial position to a displaced position along the guideway . In general block directs the microprocessor to carry out processes similar to the processes described above in connection with for generating 3D spatial extents.

The process then continues at block which directs the microprocessor generate signals at the first output and or second output for displaying the 3D swept envelope on the display or printing the 3D swept envelope on the printer .

As described above once the 3D representation of the swept envelope of the vehicle has been generated swept envelope may be used to identify points of interference between the spatial extents of the vehicle and the terrain or obstacles disposed proximate the guideway on the terrain.

In another embodiment the guiderail may be disposed to suspend an object. Referring to in a side view of an embodiment of a system for transporting objects is shown generally at . In this embodiment the objects include vehicles being transported through a factory assembly line not shown . However in other embodiments the object may include any type of suspended load not limited to a vehicle. The objects include a support which is supported for movement along a guideway . In this embodiment the guideway comprises a single rail but in other embodiments the object or vehicle may be supported by more than one rail.

The support includes wheels and which are received in the guideway and further includes linkages and which are pivotably suspended from the wheels such that the supports remain vertically oriented under forces of gravity while moving along the guideway . The support further includes a cross linkage extending D between ends of the linkages and . The linkages and together form a frame that is configured to travel along the guideway . In this embodiment the vehicle is in rigidly coupled to the frame and movement between successive locations and causes the vehicle to be tilted with respect to a vertical orientation.

In an alternative embodiment shown in the vehicle is pivotably coupled to the frame and movement between successive locations and causes the vehicle to remain orientated in an upright orientation while moving. Referring to the system is shown in plan view. The wheels and laterally follow the guideway causing the vehicle to be disposed at successive locations and .

The process described above may be implemented substantially as describe in connection with the magnetically levitated vehicle embodiment described above to generate a representation of a 3D swept envelope of the vehicles moving through the assembly line. At each of the successive locations shown in and the extents of the vehicle are determined by disposing the vehicle with respect to the guideway using parameters defining the support .

Similarly the 3D representation of the swept envelope of the vehicle may be used to identify points of interference between the spatial extents of the vehicle and structures or obstacles disposed proximate the guideway .

Advantageously the 3D swept envelope provides a geometric representation of a volume swept by the tractor and trailer when moving between the initial position and the displaced position . The 3D swept envelope or swept volume may be used to determine whether there is sufficient clearance between the vehicle and obstacles not shown that are located on the terrain other vehicles moving on the terrain and or clearances between the vehicle and the terrain itself for example. Such clearance determinations may be useful in design and or analysis of roadways traffic intersections parking lots railway lines and interchanges airport runways taxiways and ramps for example. The 3D swept envelope may also be useful in numerous other applications and is not limited to the aforementioned examples.

While specific embodiments of the invention have been described and illustrated such embodiments should be considered illustrative of the invention only and not as limiting the invention as construed in accordance with the accompanying claims.

