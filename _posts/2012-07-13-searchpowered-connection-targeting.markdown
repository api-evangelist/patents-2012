---

title: Search-powered connection targeting
abstract: A social networking system extends the reach of an ad by allowing an advertiser to seed a search for suggesting targeting criteria for an ad. Using the seeds, the social networking system identifies a set of seed objects from a social graph. The social networking system traverses the social graph to compute the similarity between the seed objects and candidate objects related to the seed objects. Based on the computed similarity, the social networking system suggests a set of target objects to the advertiser. The social networking system receives a selection of one or more target objects from the advertiser. From the selected target objects the social networking system determines one or more targeting criteria for the ad, so users with an edge in the social graph to any of the selected target objects are eligible to receive the ad.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09020835&OS=09020835&RS=09020835
owner: Facebook, Inc.
number: 09020835
owner_city: Menlo Park
owner_country: US
publication_date: 20120713
---
This disclosure relates generally to social networking and in particular to creating targeting criteria for advertisements using a search for objects in a social graph to define the targeting criteria.

Advertisers use social networking systems to deliver targeted advertisements ads to users of the social networking system. In many cases the extent to which an ad reaches a target group of users depends on the targeting criteria used to identify the target group. For example to serve an ad promoting a newly released single for a new jazz vocalist from Portland Oreg. advertisers may specify the following targeting criteria male and females ages 26 30 interest in jazz interest in the new jazz vocalist and hometown somewhere in the Pacific Northwest.

Applying these targeting criteria the social networking system identifies a set of users and serves the ad. Specifying and applying targeting criteria in this manner however limits the reach of an ad by only specifying user characteristic. Without leveraging other information logged by the social networking system to target ads social networking systems limit the ability of advertisers to extend the reach of ads to a larger group of users.

To enable advertisers to extend the reach of an advertisement ad a social networking system allows an advertiser to seed a search of the social networking system to obtain targeting criteria for the ad. The targeting criteria may specify one or more characteristics in the social networking system identifying users to whom the advertiser seeks to serve the ad. In one embodiment a seed comprises one or more keywords associated with the desired targeting group by the advertiser. The social networking system queries a social graph it maintains to identify a set of seed objects associated with the seed. The social graph comprises nodes representing users or other objects in the social networking system with edges connecting nodes to represent interactions and or relationships between the objects in the social networking system. Hence the seed objects may be pages associated with the seed events associated with the seed groups associated with the seed status updates by users associated with the seed or any other object in the social networking system associated with the seed.

Based on the seed objects the social networking system identifies additional candidate objects that are related to the seed objects. In one embodiment the social networking system traverses the social graph to identify candidate objects based on the similarity between objects and a seed object. In one embodiment a similarity between a seed object and an object is determined based on a number of nodes in the social graph connected to both a node associated with the seed object and to a node associated with the object.

The social networking system presents a set of the candidate objects to the advertiser based on the similarity. For example candidate objects having at least a threshold similarity to the seed object are presented to the advertiser. The social networking system receives one or more target objects selected from the set of candidate objects by the advertiser and determines one or more targeting criteria for the ad based on the one or more target objects so that users with an edge to any of the target objects are eligible to receive the ad.

In an embodiment to further extend the reach of an ad the social networking system iteratively searches the social graph for additional candidate objects responsive to received target object selections from the advertiser. The social networking system traverses the social graph to identify additional candidate objects based on similarity between the target objects and objects in the social graph. The social networking system presents a set of the additional candidate objects to the advertiser allowing one or more of the additional candidate objects to be selected as additional target objects.

In some cases this process described above repeats generating additional candidate objects based on the selection of target objects by the advertiser until the social networking system receives an indication from the advertiser that selection of target objects is complete. Responsive to receiving the selection completion indication the social networking system determines targeting criteria for the ad based on the target objects selected by the advertiser. Users with an edge to at least one of the selected target objects are eligible to receive the ad.

The Figures depict various embodiments for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of this disclosure.

A social networking system offers its users the ability to connect and interact with other users and objects of the social networking system. Through these connections and interaction users in turn gain access to information and services relevant to them based on information the user elects to share with the social networking system. For example information and content shared by users helps the social networking system connect users interested in particular goods or services with merchants offering those goods or services. As users become more socially connected the social networking system discovers and presents other connections to users based on the information and content shared by the users. Using these insights unique to the social networking system users receive information about goods services events causes or other interests relevant to them that they might not have otherwise discovered.

Users of a social networking system may be an individual or any other entity such as a business or other non person entity. A social networking system object may be a social networking system user or a non person object. Examples of non person objects includes a content item e.g. image video photo or shared link a group e.g. users with similar interests a social networking system page an event a message e.g. status update post news feed item chat text or e mail a concept or any other suitable data. Other social networking system objects include for example a photo album an application a check in to a location a comment a friend list a shared link an order a question a user profile or the like.

Users join the social networking system and add connections to other users to whom they desire to be connected. Users provide information describing them such as name age gender education history employment history hometown relationship status and interests. The social networking system in turn stores this information in a user profile associated with the respective user.

Using information stored in user profiles combined with other information about user interactions internal to and external to the social networking system the social networking system provides information and services relevant to its user. For example the social networking system may target ads to a user based on interests expressed by the user connections the user shares with another social networking system object or more generally similarity between the user and another social networking system object. This allows the social networking system to provide the user with advertisements more likely to be of interest to the user.

To better organize and access information about objects and relationships between objects also referred to as social information social networking systems may maintain a social graph. In various embodiments the social graph comprises a plurality of nodes with nodes connected by one or more edges. Various objects in the social networking system may be associated with nodes and the edges connecting nodes may identify the relationship or interactions between objects corresponding to the connected nodes. Hence the social graph describes the interaction and or relationship between objects in the social networking system.

In operation when a first user connects with a second user in the social networking system the users are each represented by nodes and the connection represented by one or more edges connecting the nodes. Actions taken by the users are then represented by additional edges between the nodes. For example an edge between the nodes represents the first user sending a message to the second user and another edge represents the first user tagging the second user in a picture stored by the social networking system. Additionally a message or picture associated with the first or second user may be represented by another that is connected by one or more edges to nodes representing the first or second user.

In an embodiment the social graph also includes custom graph object types and graph action types. Custom graph object types and graph action types may be defined by third party developers or social networking system administrators. For example a custom graph object for a music album may have several defined object properties specific to the music album such as a title artist producers year and the like. In turn a graph action type describing interactions with the music album object may include purchase or listen. These graph action types may be used by a third party developer on a website external to the social networking system to report actions performed by users of the social networking system on custom graph objects external to the social networking system. A social graph including actions and objects external to the social networking system may be referred to as an open social graph. Such an open social graph allows custom graph objects and actions on external websites to be created and captured.

For example an open social graph allows users of the social networking system to express interest in web pages hosted on websites external to the social networking system. These web pages are represented as custom graph objects in the social networking system with a corresponding node in the social graph. In various embodiments embedding a widget a social plug in programmable logic or code snippet into external web pages creates the corresponding custom graph objects. For example an inline Frame iFrame is embedded into a web page to create a custom graph object for the web page. Enabling third party developers to define custom object types and custom action types is described further in Structured Objects and Actions on a Social Networking System U.S. application Ser. No. 13 239 340 filed on Sep. 21 2011 which is hereby incorporated by reference in its entirety. Hence any information that can be embodied in a web page may become a node in the social graph on the social networking system.

Additionally social networking systems provide mechanisms for users to interact with other users and objects internal to and external to the social networking system. In an embodiment the social networking system uses a web based interface comprising a series of inter connected pages to allow user access to and interaction with social networking system objects and information. For example a social networking system may display a page for each social networking system user. The page may include objects and information entered by or related to the social networking system user e.g. the user s profile .

A social networking system user interface may be accessible from a web browser or a non web browser application such as a dedicated social networking system mobile device or computer application. Accordingly as used herein page may be a web page an application interface or display a widget displayed over a web page or application a box or other graphical interface an overlay window on another page whether inside or outside the context of a social networking system or a web page external to the social networking system with a social networking system plug in or integration capabilities.

Pages may include content such as pictures or videos and communications or social networking system activity to from or by other users. Pages also include links to other social networking system pages and in some cases additional capabilities such as search real time communication content item uploading purchasing advertising and any other web based technology or ability. More generally pages may be associated with concepts or groups.

The social networking system may use a web based interface or another suitable interface to allow an advertiser to determine targeting criteria for an advertisement ad . For example the advertiser provides one or more seeds to the social networking system which accesses the social graph to identify candidate objects associated with one or more seeds. The candidate objects are presented to the advertiser by the interface allowing the advertiser to use the candidate objects to select target objects used to define targeting criteria. In one embodiment the interface is modified to present additional candidate objects responsive to the advertiser selecting a target object. In one embodiment the targeting criteria are specified responsive to the social networking system receiving an indication from the advertiser that the target object selection is complete.

Because of the structure of the social graph the social networking system may readily analyze the relationship between objects in the social networking system based on their corresponding nodes in the social networking system. In an embodiment the social networking system determines the similarity between nodes in the social networking system corresponding to objects to identify objects related to an object corresponding to a seed received from an advertiser. Similarity may be determined by any number of methods including degree of proximity the similarity of the neighbors associated with the compared nodes or any other suitable method. As will be described further in conjunction with the social networking system in some embodiments iteratively searches for and identifies connections to similar nodes using the social graph allowing advertisers to leverage additional information from the social networking system to target ads.

To target an ad to one or more social networking system users the advertiser provides one or more seeds to the social networking system which identifies objects associated with one or more of the seeds . In one embodiment the seeds are included in an ad transmitted to the social networking system . Alternatively the seeds are transmitted to the social networking system separate from an ad . The seeds generally include information associated with the ad used by the social networking system to identify objects in the social networking system related to the ad . The seeds may be as specific or as a broad as desired by the advertiser .

In various embodiments the social networking system includes different types of objects representing entities. In the example of the social networking system includes user profile objects content objects and edge objects . The user profile objects include information describing a user of the social networking system . User information includes biographic demographic education history employment history or other data describing the user. The content objects include any type of object on the social networking system such as status updates messages photographs images audio data video data pages or other data page posts shared links applications or check in events at a merchant or venue. That is the content objects include any object acted upon by a user on the social networking system . Interactions between a user and the content objects generate the edge objects . The edge objects describe information about the interaction or relationship between objects including identifying information about the user the content object and the type of action performed. For example an edge object describes a relationship between the user profile objects or between a user profile object and a content object .

The social networking system also includes a social graph module which generates a social graph using retrieved user profile objects content objects and edge objects . As described above and further described in conjunction with the social graph allows the social networking system to more readily identify relationships or interactions between objects. In the social graph each object is represented by a node and the each edge object is represented as a connection between the nodes corresponding to the interacting objects.

Objects associated with a seed are also referred to herein as seed objects which may be pages events posts comments content or groups related to the ad. For example if a seed of coffee is received the social graph module may identify seed objects that are pages associated with the seed of coffee comments from users such as I like coffee or Let s meet for coffee events at a merchant location offering free samples of the new coffee blend or a post in a user news feed indicating plans to try the new blend. Using the social graph and the seed objects the social graph module identifies one or more candidate objects which are additional objects from the social graph identified using the seed objects. The candidate objects are provided from the social networking system to the advertiser allowing the advertiser to select target objects from the candidate objects.

The advertiser transmits the target objects to the ad targeting module of the social networking system as well as the ad or an ad identifier associated with the target objects. Based on the target objects the ad targeting module generates one or more targeting criteria used to identify social networking system users to whom the ad is served. In an embodiment targeting criteria includes a user interaction with one or more of the target objects. Examples of interactions with a target object include indicating a preference for a target object i.e. liking a target object purchasing a target object commenting on a target object listening to a target object attending or planning to attend a target object inviting to a target object checking in to a target object viewing a target object tagging a target object playing an online game associated with a target object or any other suitable interaction with a target object.

The advertiser system is associated with an advertiser and comprises one or more computing devices to receive user input and to transmit and receive data via the network . In one embodiment the advertiser system is a conventional computer system executing for example a Microsoft WINDOWS compatible operating system OS Apple OS X and or a Linux distribution. In one embodiment the advertiser system interfaces with the social networking system through the network and a web based interface. The advertiser uses the advertiser system to provide content to users of the social networking system . For example the advertiser uses the advertiser system creates and manages one or more pages in the social network system to distribute content from the advertiser to the social networking system users interested in the advertiser . In an embodiment the advertiser creates multiple pages hosted on the external website and accessible via the social networking system . For example a page may be created for various merchant locations or store fronts associated with the advertiser . For example Starbucks may create and or manage a page for each of the over 17 000 Starbucks retail stores worldwide. In another example a brand owner such as Coca Cola Company may create a page for products e.g. COCA COLA DIET COKE etc. or product lines e.g. soft drinks energy drinks and sports drinks .

Additionally the advertiser may provide ads to the social networking system for presentation to social networking system users in addition to other content. In one embodiment the advertiser targets ads to groups of social networking users through seeds which are used by the social networking system to determine targeting criteria for the ads as further described below. For example the interface between the advertising system and the social networking system includes one or more dialog boxes or other input mechanisms for the advertiser to identify one or more seeds. The advertising system receives candidate objects based on the seeds from the social networking system via the network allowing the advertiser to select target objects from the candidate objects. In one embodiment the advertising system provides an interface to the advertiser allowing the advertiser to identify seeds as well as identifying target objects from candidate objects as further described below. For example the interface displays a list of seed objects and candidate objects identified by the social networking system and allows the advertiser to select one or more target objects.

For example the interface allows the advertiser to select seeds and or target objects using a selection box dragging or otherwise moving an item from a list into another region of the interface and clicking on an item in the list. In an embodiment the interface also refreshes a list of candidate objects based on the target objects selected by the advertiser . To indicate a change to the target objects the interface includes new objects in a different region of the interface or otherwise displays the new items in a manner that visually distinguishes them from previously displayed items. Examples of visually distinguishing new items from previously displayed items include adding a visual indicator to new items displaying the new item in a different color font size font type or other formatting characteristic.

The external website includes a graph object for a social networking user to act upon using a user device . An interaction between the user and the graph object are communicated to the social networking system using for example a social plug in widget or code snippet. The social networking system observes this interaction and in turn stores the graph object and the user as nodes on a social graph. The social networking system also stores on the social graph the interaction between the graph object and the user as an edge between the nodes. For example a user using the user device executes a play action of a song by Esperanza Spalding Little Fly by accessing the external website which hosts a digital music service. The social networking system captures the song as a graph object and the interaction between the user and the graph object as an edge between a node associated with the user and another node associated with the song object. In this example the social networking system also captures edges between the user and sub objects that describe the object. In the preceding song example sub objects of the song object may include artist Esperanza Spalding and album Chamber Music Society.

In an embodiment the user device comprises a computing device with similar components and functionality as described in reference to the advertiser system . In another embodiment the user device is a mobile computing device such as a mobile phone smart phone tablet device or other device suitable to interact with the social networking system and or the external website via the network . Generally the user device executes one or more applications to receive an ad from the social networking system or otherwise interact with the social networking system . In an embodiment the user device interacts with the social networking system through an application programming interface API that runs on the native operating system of the user device such as iOS and ANDROID .

The network uses standard communications technologies and or protocols to facilitate communication between the social networking system the advertiser system the user device and the external website . For example the network includes wired and or wireless links using technologies such as Ethernet 802.11 family of standards worldwide interoperability for microwave access WiMAX 3Generation Partnership Project 3GPP family of standards CDMA digital subscriber line DSL etc. Similarly the networking protocols supported on the network include multiprotocol label switching MPLS transmission control protocol Internet protocol TCP IP User Datagram Protocol UDP hypertext transport protocol HTTP simple mail transfer protocol SMTP and file transfer protocol FTP . The data exchanged over the network can be represented using technologies and or formats including the hypertext markup language HTML and the extensible markup language XML . In addition all or some of links can be encrypted using conventional encryption technologies such as secure sockets layer SSL transport layer security TLS and Internet Protocol Security IPsec .

The social networking system includes a web server an action logger a user profile store an edge store a content store an ad store an social graph module an ad targeting module and an ad server . In other embodiments the social networking system includes additional fewer or different modules for various applications. Conventional components such as network interfaces security functions load balancers failover servers management and network operations consoles and the like are not shown so as to not obscure the details of the system.

The web server links the social networking system via the network to one or more user devices advertiser system and external website . The web server serves web pages as well as other web related content such as JAVA FLASH XML and so forth. The web server provides the functionality to receive from the advertiser seeds for use in suggesting targeting criteria for an ad and to provide seed and target objects to the advertiser for selecting and determining targeting criteria for the ad. The web server also provides the functionality to search and route messages between the social networking system and the user device . For example to communicate with the user device to serve and ad based on the determined targeting criteria the web server exchanges information over the network using instant messages queued messages e.g. email text and SMS short message service messages or messages sent using any other suitable messaging technique.

The action logger receives communications from the web server about user actions on and or off the social networking system . In one embodiment actions identified by the action logger are stored in an action log simplifying construction of a social graph including the identified actions. Examples of actions include actions with objects internal to the social networking system such as adding a connection to a user sending a message to a user uploading an image reading a message from a user viewing or listening to content associated with another user or social networking system object attending an event posted by another user among others. The action logger may also log user actions external to the social networking system such as interactions with the external website indicating a preference for content on the website viewing streaming media from a content streaming service provider purchasing a song for download based on a recommendation of another social networking system user or other suitable actions. The action logger captures data about these user interactions to help social networking system users receive content relevant to the users based on information the user elects to share with the social networking system .

The social networking system stores user account information and other related information for a user in the user profile store . The user profile information stored in the user profile store describes users of the social networking system including biographic demographic and other types of descriptive information. Examples of user profile information include work experience educational history gender hobbies or preferences location and the like. A user profile may also store other information provided by the user for example images or videos. In certain embodiments images of users may be tagged with data identifying the social networking system displayed in an image with the images identified by user profile information of the identified users. The user profile store may also include references to actions in an action log performed by the user on objects and or performed by objects on the user.

The edge store stores the information describing connections between users and other objects on the social networking system . Some edges may be defined by users allowing users to specify their relationships with other users. For example users may generate edges with other users that parallel the users real life relationships such as friends co workers partners and so forth. Other edges are generated when users interact with objects in the social networking system such as expressing interest in a page on the social networking system sharing a link with other users of the social networking system and commenting on posts made by other users of the social networking system . The edge store stores edge objects that include information about the edge such as affinity scores for objects interests and other users. The social networking system computes affinity scores over time to approximate a user s affinity for an object based on the actions performed by the user. For example the social networking system computes an affinity score to represent a user s interest in other users of the social networking system . Multiple interactions between a user and a specific object may be stored in one edge object in the edge store in one embodiment. For example a user that plays multiple songs from Tito Puente s album El Rey Bravo may have multiple edge objects for the songs but only one edge object for Tito Puente.

The social graph module as previously described organizes the social information e.g. user profiles content edge objects stored on the social networking system into a social graph. As described above the social graph comprises a plurality of nodes connected by one or more edges. The nodes represent various objects in the social networking system and the edges connecting nodes identify a relationship or as association between objects corresponding to the connected nodes. Hence the social graph describes the interaction and or relationship between objects in the social networking system.

Additionally the social graph module allows advertisers to user the social graph to target ads to social networking system users or to groups of social networking system users. In one embodiment the social graph module receives one or more seeds from the advertising system . As described above the seeds are associated with ads provided by the advertising system and are used to determine targeting criteria for the ads. The social graph module compares the seeds to nodes and edges in the social graph to identify objects in the social networking system associated with the seeds also referred to as seed objects. In an embodiment seeds include one or more keywords and the social graph module identifies objects associated with one or more of the keywords e.g. objects including a keyword as seed objects. For example when receiving seed that is the keyword coffee the social graph module may apply a semantic analysis operation or machine learning operation to identify objects related to the keyword coffee such as posts referring to coffee events referring to coffee pages in the social networking system associated with coffee brands. The social graph module may also identify user information associated with seed objects. For example the social graph module associates one or more user names with identified seed objects. Alternatively or additionally seeds received from the advertiser system are mapped by the social graph module to seed objects in a similar manner. For example the social graph module maps an offer for a free coffee to seed objects related to coffee as previously described.

Using the seed objects the social graph module searches the social graph for additional objects related to the seed objects referred to herein as candidate objects to suggest and or determine targeting criteria. For example to search for candidate objects from seed objects the social graph module computes the similarity between one or more seed objects and other objects in the social graph. Similarity may be determined in several ways. For example similarity between a seed object and an object is computed by determining nodes in the social graph which represent objects in the social networking system connected to both a node representing the seed object and a node representing the object. In one embodiment objects connected to one of the node representing the seed object and the node representing the object are also used to determine similarity between the seed object and the object. In another example similarity may be computed for a node representing a seed object and a node representing an object by determining the number of nodes connected to the node representing the seed object and connected to the node representing the object and normalizing the determined number of nodes by the neighbors of either of the node representing the seed object and the node representing the object according to the following equation Equation 1 

Where S x y is the similarity between node x and node y. In one embodiment node x is the node representing the seed object and node y is the node representing the object. In the preceding equation N x represents the number of nodes pointing to node x and N y represents the number of nodes pointing to node y.

In some embodiments the social graph module may apply one or more techniques for filtering the objects of the social networking system based on the seed and or seed objects before computing similarity to reduce the amount of computation to identify seed objects. For example one or more filtering techniques are applied when the social graph includes an increasingly large number of candidate objects from which candidate objects are identified. For example to filter the number of objects the social module identifies one or more clusters of related objects by accessing one or more indexes describing information stored in the user profile store the content store and the edge store . In an embodiment information in these stores may are indexed according one or more data dimensions such as topically e.g. coffee demographically connection type etc.

The social graph module selects one or more candidate objects based on the computed similarities and communicates the candidate objects to the advertising system . For example the social graph module identifies objects having a similarity to a seed object that equals or exceeds a threshold similarity as candidate objects. Communicating the candidate objects to the advertising system aids an advertiser in determining targeting criteria for the ad. In one embodiment the social graph module may choose a set of candidate objects for communication to the advertising system based on one or more factors reducing the number of candidate objects communicated to the advertising system . Example factors for reducing the number of candidate objects include the extent of similarity between target objects object type or connection type.

Social graph module receives target objects from the advertising system which are selected from the candidate objects and sends the target objects to the ad targeting module . The target objects are used by the ad targeting module to specify targeting criteria for the ad. In another embodiment the social graph module selects another set of candidate objects based on the target objects selected by the advertiser as described above with reference to selecting the candidate objects. Hence the social graph module may iteratively change candidate objects presented to the advertiser based on which objects the advertiser selects as target objects.

The ad targeting module determines one or more targeting criteria for the ad using the target objects. In an embodiment the ad targeting module specifies targeting criteria as whether a user interacted with e.g. liked watched listened purchased recommended commented etc. a target object. As another example the ad targeting module may select the number of times or frequency with which a user interacted with the object as targeting criteria. In another embodiment the ad targeting module applies targeting criteria received from the advertiser or a third party e.g. a marketing analytics service based on the target objects.

The ad server serves ads received from the advertising system and stored as ad objects included in the ad store to users of the social networking system . The ad server serves the ad to users satisfying one or more of the targeting criteria associated with the ad and determined from the target objects. For example the ad server serves an ad to a user device associated with a user associated with a node in the social graph having an edge to one or more of the target objects. In an embodiment ads served by the ad server include content items posted by users of the social networking system that are sponsored by an advertiser. For example a user may create a check in event at a coffee shop in San Francisco Calif. that is shared with other users connected to the user. An advertiser for the coffee shop may select that check in event for distribution to other users by creating an ad based on the check in event that is targeted to the other users connected to the user who checked in.

An edge between nodes in the social graph represents a particular kind of connection between the nodes. For example an acquaintance connection type connects nodes and and nodes and . In another example a preference connection type connects node with node . Connections may result from an action performed by one of the nodes on another node. For example the user object represented by node performs the action prepare for the recipe associated with the object corresponding to node . Similarly the user object represented by node performs the action of listen for the song associated with the object corresponding to node and view for the movie associated with object corresponding to node . Other actions may include listing social networking system objects in a user profile subscribing to or joining a social networking system group or fan page sending a message to another social networking system user making a purchase associated with a social networking system node commenting on a content item or RSVP ing to an event. Hence the social graph allows a social networking system to represent objects in the social networking system as well as relationships or associations between the objects.

The social networking system identifies one or more seed objects based on the received seeds. In one embodiment the social networking system identifies objects associated with one or more of the seeds. For example the seeds comprise one or more keywords and the social networking system identifies objects associated with a keyword as seed objects. In an embodiment the social networking system maps keywords to seed objects by performing a semantic analysis operation or machine learning operation.

Based on the seed objects the social networking system identifies candidate objects using a social graph. In one embodiment the social networking system identifies candidate objects based on the similarity between seed objects and other objects. The social networking system computes a similarity between one or more of the seed objects and a plurality of other objects associated with nodes in the social graph. Similar nodes include among other things nodes with similar neighbors i.e. common links and nodes within a specified proximity e.g. within a co linking distance of three degrees of separation on the social graph. Similarity may be determined in several ways. For example similarity between a seed object and an object is computed by determining nodes in the social graph which represent objects in the social networking system connected to both a node representing the seed object and a node representing the object. Further examples of similarity calculation are described above in conjunction with .

In an embodiment the social networking system filters the nodes in the social graph using one or more criteria to reduce the amount of nodes to which objects associated with seed nodes are compared. For example the social networking system filters the number of objects by grouping or clustering like objects and selecting one or more objects from these groups or clusters based on ranking or weighting assigned to the objects within the group or cluster to simplify selection of candidate objects. In an embodiment the social networking system identifies one or more clusters of related objects by accessing one or more indices describing information stored in the social networking system . For example the social networking system may cluster objects related to coffee into pages posts and actions e.g. check in at Starbucks using information stored in the user profile store the edge store and the content store .

The social networking system then determines one or more candidate objects for display to the advertisers based on the computed similarities. In an embodiment the social networking system determines a set of the target objects for display with the highest computed similarity. In another embodiment the social networking system determines a set of the target objects for display with the highest computed similarity for a range of object types. Alternatively the social networking system determines objects having a similarity to a seed object equaling or exceeding a threshold similarity as candidate objects. For example for an ad promoting a new song the social networking system determines five objects with the highest computed similarity from each of content objects e.g. songs by the same artist user objects e.g. users that indicated an interest for the song album or artist application objects e.g. streaming music services providing the song for listening and page objects related to the song e.g. fan page on the artist s website page for a club featuring the artist at an upcoming concert and a page for a coffee shop offering the artist s album for sale as candidate objects.

In another embodiment the social networking system determines candidate objects based on a preference received from the advertiser . For example the advertiser specifies the number type and threshold computed similarity of candidate objects. In another embodiment the social networking system determines candidate objects in a random manner or in a manner to best fit the display constraints of the advertiser system . The candidate ads are then presented from the social networking system to the advertiser .

From the candidate ads the advertiser selects one or more target objects. In an embodiment the advertiser iteratively selects objects by selecting target objects and receiving additional candidate objects from the social networking system based on the selected target objects. Each iteration of target object selection and presentation of additional candidate objects allows the advertiser to refine targeting criteria used for one or more ads. This allows the advertiser to identify ads more likely to be engaged by connections in the social networking system .

The social networking system receives an indication of a completed selection of target objects from the advertiser and determines one or more targeting criteria for the ad based on the target objects. For example targeting criteria may include whether a user interacted with e.g. liked watched listened purchased recommended etc. the object the number of times a user interacted with the object or any other suitable interaction between a user and a target object.

Using the targeting criteria determined from one or more target objects the social networking system to identify users to whom an ad associated with the targeting criteria is served from the social graph. For example the social networking system identifies user objects corresponding to nodes on the social graph that have an edge to at least one of the node corresponding to a target object as users to whom the ad may be served. In one embodiment the social networking system ranks user objects based on number of edges to target objects based on number of target objects to which users have an edge or any other suitable criteria to further refine users who are served the ad. For example edges between user objects and target objects are used to form a targeting cluster of users who are served an ad.

The foregoing description of the embodiments has been presented for the purpose of illustration it is not intended to be exhaustive or to limit the embodiment to the precise forms disclosed. Persons skilled in the relevant art can appreciate that many modifications and variations are possible in light of the above disclosure.

Some portions of this description describe the embodiments in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are commonly used by those skilled in the data processing arts to convey the substance of their work effectively to others skilled in the art. These operations while described functionally computationally or logically are understood to be implemented by computer programs or equivalent electrical circuits microcode or the like. Furthermore it has also proven convenient at times to refer to these arrangements of operations as modules without loss of generality. The described operations and their associated modules may be embodied in software firmware hardware or any combinations thereof.

Any of the steps operations or processes described herein may be performed or implemented with one or more hardware or software modules alone or in combination with other devices. In one embodiment a software module is implemented with a computer program product comprising a computer readable medium containing computer program code which can be executed by a computer processor for performing any or all of the steps operations or processes described.

Embodiments also relate to an apparatus for performing the operations herein. This apparatus may be particularly constructed for the required purposes and or it may comprise a general purpose computing device selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a non transitory tangible computer readable storage medium or any type of media suitable for storing electronic instructions which may be coupled to a computer system bus. Furthermore any computing systems referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.

Embodiments also relate to a product that is produced by a computing process described herein. Such a product may comprise information resulting from a computing process where the information is stored on a non transitory tangible computer readable storage medium and may include any embodiment of a computer program product or other data combination described herein.

Finally the language used in the specification has been principally selected for readability and instructional purposes and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope of the disclosure be limited not by this detailed description but rather by any claims that issue on an application based hereon. Accordingly the disclosure of the embodiments is intended to be illustrative but not limiting of the scope of the disclosure which is set forth in the following claims.

