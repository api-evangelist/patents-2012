---

title: Method and cloud security framework for implementing tenant license verification
abstract: A method and cloud security framework for implementing tenant license verification. The method and framework conduct tenant license verification transparently to cloud resources and users who request them. An exemplary method comprises receiving by the framework from a client device a request for access to a cloud resource and user information; authenticating by the framework a user of the device using the information; obtaining by the framework a security context for the user including a tenant identifier identifying a multi-user enterprise to which the user belongs using the information; transmitting by the framework to an outside entity over a web services interface a tenant license verification request including the identifier; receiving by the framework from the entity a verification that a tenant license associated with the identifier is in good standing; and granting by the framework to the device access to the resource.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08875166&OS=08875166&RS=08875166
owner: Sharp Laboratories of America, Inc.
number: 08875166
owner_city: Camas
owner_country: US
publication_date: 20121108
---
The present invention relates to security in computer networks and more particularly controlling access to resources in a cloud computing environment.

In cloud computing Internet users access shared resources hosted in a cloud computing environment. The shared resources may include applications folders and files by way of example. By default the shared resources can be accessed by any Internet user who knows the Uniform Resource Locator URL of the resources.

Some cloud owners limit access to the shared resources in their cloud computing environment to users who belong to tenants of their environment. These tenants are multi user enterprises that have entered with the cloud owner and are compliant with a tenant license. A tenant license is a contract between the cloud owner and a multi user enterprise containing legal provisions such as payment terms and cloud usage terms that the enterprise and its users must follow as a condition for accessing cloud resources.

When a tenant fails to adhere to the terms of its tenant license the cloud owner may revoke access to cloud resources by the tenant s users permanently or at least until adherence is reestablished. Access to cloud resources may be revoked by a cloud security framework deployed in the cloud computing environment that verifies for each request for access to a cloud resource that the user requesting access belongs to a tenant having a license that is in good standing.

Unfortunately conventional tenant license verification schemes for cloud computing environments are suboptimal. Some schemes require that each cloud resource have code dedicated to the verification function enabling the resource to interoperate with the cloud security framework. Some schemes require that each user seeking access to a cloud resource submit in addition to a user credential information identifying the tenant to which the user belongs. Additionally some schemes do not allow the rules and policies governing tenant license verification to be adapted without reconfiguring the framework.

The present invention provides a method and cloud security framework for implementing tenant license verification. The method and framework conduct tenant license verification transparently to cloud resources and users who request them. As such the method and framework eliminate the requirement that each cloud resource have code dedicated to the verification function and the requirement that each user requesting access to a cloud resource submit information identifying the tenant to which the user belongs. The method and framework are also allow the rules and policies governing tenant license verification to be adapted without reconfiguring the framework.

In one aspect of the invention a cloud security framework comprises an authentication server deployed in a cloud computing environment configured to receive from a client device a request for access to a cloud resource and user information and to authenticate a user of the client device and obtain a security context for the user including a tenant identifier identifying a multi user enterprise to which the user belongs using the user information and a bridge server deployed in the environment operatively coupled with the authentication server and configured to transmit to an entity outside the environment over a web services interface a tenant license verification request including the tenant identifier and in response to the tenant license verification request receive from the outside entity verification that a tenant license associated with the tenant identifier is in good standing wherein in response to the verification the authentication server grants the client device access to the cloud resource.

In some embodiments the framework further comprises an interceptor deployed in the environment operatively coupled with the authentication server and configured to intercept the access request from the client device determine whether authentication of the user is required and redirect the access request to the authentication server in response to determining that authentication of the user is required.

In some embodiments the security context further includes a list of cloud resources for which the user is authorized and the authentication server is configured to transmit the tenant license verification request in response to verifying that the cloud resource is on the list.

In some embodiments the verification manifests legal compliance with the tenant license by the multi user enterprise.

In some embodiments the tenant license verification request is a Simple Object Access Protocol SOAP request.

In some embodiments the tenant license verification request is a Representational State Transfer REST request.

In another aspect of the invention a tenant license verification method for a cloud computing environment comprises the steps of receiving by a cloud security framework deployed in the environment a request from a client device to access a cloud resource and user information authenticating by the framework a user of the client device using the user information obtaining by the framework a security context for the user including a tenant identifier identifying a multi user enterprise to which the user belongs using the user information transmitting by the framework to an entity outside the environment over a web services interface a tenant license verification request including the tenant identifier receiving by the framework from the outside entity in response to the tenant license verification request a verification that a tenant license associated with the tenant identifier is in good standing and granting by the framework to the client device access to the cloud resource.

These and other aspects of the invention will be better understood by reference to the following detailed description taken in conjunction with the drawings that are briefly described below. Of course the invention is defined by the appended claims.

Framework includes an interceptor an authentication server an authentication database and a cloud bridge server that interoperate to perform user authentication and communicate with a remote e commerce management site over a web services interface to achieve tenant license verification. Framework achieves tenant license verification in a manner transparent to both client device and the cloud resources. Elements of the framework that transact with one another mutually authenticate to ensure they are transacting with authorized elements. In some embodiments each element of framework is a distinct network node. In other embodiments multiple elements of framework reside on a single network node.

Client device is a computing device remote from environment . Client device is manned by a user who belongs to a tenant. The user may be for example an employee of a company that has entered a subscription agreement with the owner of environment . Client device has a user interface a network interface and a web browser. Client device may be for example a desktop computer notebook computer tablet computer or smart phone. Client device issues a request to access a cloud resource when the user points the web browser to a URL of the cloud resource.

Interceptor is a computing device within framework . Interceptor monitors inbound requests to access cloud resources determines authentication requirements for users of client devices that have issued the requests and forces authentication of users who require authentication. In some embodiments interceptor forces authentication if a user is requesting access to a protected cloud resource and has not previously been authenticated to the resource. In other embodiments interceptor forces authentication each time a user requests access to a protected cloud resource. Interceptor considers a cloud resource protected if the resource has been configured to require user authentication as a condition for accessing the resource and to trust framework .

Authentication server is a computing device within framework . Authentication server determines whether users of client devices that interceptor has determined require authentication are authentic. Authentication server also determines whether authenticated users are authorized to access the particular cloud resources requested by such users. Authentication server queries authentication database for user account data and applies the user account data in making these determinations. Authentication server also verifies that tenant licenses of tenants to which authenticated users belong are in good standing. Authentication server invokes web services exposed on cloud bridge server and e commerce bridge server in tenant license verification. These web services analyze whether tenant licenses are in good standing and return results of the analysis to authentication server . In some embodiments authentication server is an enhanced STS server.

Authentication database is a storage device within framework . Authentication database retains user accounts. Each user account includes a name of a user e.g. username a credential for the user e.g. password or digital certificate and a security context that provides claims about the user. The security context includes list of cloud resources for which the user is authorized and a tenant identifier hereinafter tenant ID of a tenant to which the user belongs. The tenant ID is an object managed by framework representing a multi user enterprise that has a contractual right under a tenant license to access all or a specified subset of cloud resources subject to compliance with contractual obligations assumed by the enterprise under the tenant license.

Cloud bridge server is a computing device within framework that exposes a business bridge hereinafter BusBridge web service. The BusBridge web service is a SOAP or REST service that provides technical means to securely access via a BusBridge channel a business bridge backend hereinafter BusBridgeBackEnd web service exposed on e commerce bridge server that analyzes whether tenant licenses are in good standing. The BusBridge service does not itself perform the good standing analysis but rather delegates this analysis to the BusBridgeBackEnd web service. The BusBridgeBackEnd service accepts calls only from valid elements of framework . Other calls are ignored. Authentication server invokes the BusBridge service.

E commerce bridge server is a server within e commerce management site that exposes the BusBridgeBackEnd web service. The BusBridgeBackEnd web service is a SOAP or REST service invoked by the BusBridge web service. The BusBridgeBackEnd service accepts calls only from valid BusBridge services. Other calls are ignored. The BusBridgeBackEnd service determines whether tenant licenses of tenants to which authenticated users of client devices requesting access to cloud services belong are in good standing. The BusBridgeBackEnd service queries tenant database for tenant data and analyzes the tenant data in making these determinations. The BusBridgeBackEnd service considers a tenant license to be in good standing if the tenant is presently in compliance with legal provisions of the tenant license including financial obligations such as payment terms and business obligations such as cloud usage terms that the tenant has agreed to in exchange for the owner s agreement to allow the tenant s users access to the cloud resources.

Tenant database is a storage device within e commerce management site that retains tenant accounts. Each tenant account has a tenant ID of a multi user enterprise that has a tenant license with the owner of environment and a compliance context that provides information evidencing the present compliance status of the tenant under the tenant license that is an indication of whether or not the tenant is in good standing. In some embodiments the compliance context is a binary status indicator that directly informs whether or not the tenant is currently compliant. In other embodiments the compliance context includes compliance details e.g. financial business and legal records that BusBridgeBackEnd service analyzes under an operative set of compliance rules and policies to determine whether or not the tenant is presently in good standing. The rules and policies applied by BusBridgeBackEnd service and the contents of tenant database may be updated automatically and or by an administrator of e commerce management site as circumstances warrant. Such updates are transparent to the cloud resources client devices and users of client devices and do not require reconfiguration of framework .

The tenant license verification request issued by authentication server will now be described in greater detail. The BusBridge web service on cloud bridge server exposes a set of web services interfaces dedicated to a particular business domain in this case cloud computing environment whose commercial aspects are managed by e commerce site . The exposed interfaces include a ISecurityBridge interface for cloud security related tasks a IPayBridge interface for credit card transactions and an IAccBridge interface for account management tasks. To issue a tenant license verification request authentication server calls one or more SOAP or REST methods on the ISecurityBridge interface. A snippet of an exemplary ISecurityBridge interface definition available on the BusBridge service is shown in . A snippet of an exemplary implementation of the ISecurityBridge interface is shown in . The snippets are presented in Windows .NET C language. The request may take the form for example 

When authentication server receives the tenant license verification response authentication server determines from the response whether or not the tenant is in good standing . If the tenant is in good standing access to the requested cloud resource is allowed . If the tenant is not in good standing access to the requested cloud resource is denied .

The elements of the communication network described herein may perform their respective roles in software executable by a processor in custom logic or in a combination thereof. Moreover the elements perform their respective roles in accordance with the following industry accepted security specifications where applicable Web Services Trust WS Trust Web Services Federation WS Federation Web Services Security WS Security Security Assertion Markup Language SAML STS Claims Based Security Model and Claims Based Identity Model.

It will be appreciated by those of ordinary skill in the art that the invention can be embodied in other specific forms without departing from the spirit or essential character hereof. For example while the tenant license verification requests and responses described herein have been indicated to be SOAP or REST requests and responses a request response protocol other than SOAP or REST may be used. The present description is therefore considered in all respects to be illustrative and not restrictive. The scope of the invention is indicated by the appended claims and all changes that come with in the meaning and range of equivalents thereof are intended to be embraced therein.

