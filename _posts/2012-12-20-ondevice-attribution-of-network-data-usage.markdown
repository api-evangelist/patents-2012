---

title: On-device attribution of network data usage
abstract: Embodiments attribute network data transfers to applications executing on a computing device. A data transfer service executes on the computing device to receive and process data transfer requests. The data transfer requests, populated by the applications, have identifiers attributed thereto to enable monitoring of the network data transfers per identifier. For example, network data transfers associated with different mail accounts of a mail program or different web sites of browser are attributed separately. Data usage statistics relating to the network data transfers for each identifier may be generated and presented to the user for review.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09264556&OS=09264556&RS=09264556
owner: Microsoft Technology Licensing, LLC
number: 09264556
owner_city: Redmond
owner_country: US
publication_date: 20121220
---
This application claims the benefit of pending U.S. Provisional Application No. 61 696 472 filed Sep. 4 2012 pending U.S. Provisional Application No. 61 591 503 filed Jan. 27 2012 and pending U.S. Provisional Application No. 61 591 509 filed Jan. 27 2012. The entirety of these provisional applications is hereby incorporated by reference herein.

This application is related to the following applications U.S. patent application entitled Tracking Data Usage Under a Schematized Data Usage Plan U.S. patent application entitled Managing Data Transfers Over Network Connections Based on Priority and a Data Usage Plan U.S. patent application entitled Predicting Network Data Consumption Relative to Data Usage Patterns U.S. patent application entitled Updating Dynamic Data Usage Plans and Statistics U.S. patent application entitled Data Usage Profiles for Users and Applications U.S. patent application entitled Recommendations for Reducing Data Consumption Based on Data Usage Profiles U.S. patent application entitled Dynamically Adjusting a Data Usage Plan Based on Data Usage Statistics and U.S. patent application entitled Managing Network Data Transfers in View of Multiple Data Usage Plans. All of these applications are incorporated by reference herein in their entirety.

With the increased popularity of smart telephones tablets and other mobile devices there has been a similar increase in the amount of data handled by the networks of mobile operators. To reduce the strain on network infrastructure and to reduce network transfer costs mobile operators are shifting from offering simple unlimited mobile data plans to offering capped and metered plans. Some of these capped and metered plans are complex with allotted data caps varying based on network type time of day etc. Further the fees for exceeding the allotted data caps may be significant and may also vary based on network type time of day etc. The existing systems generally lack mechanisms to help the user understand and manage network data consumption and transfer costs in view of the data usage plans.

As a result with the existing systems users can unknowingly exceed the allotted data caps and experience bandwidth throttling e.g. a reduction or limit placed upon the rate of consumption and or be presented with a much larger than normal monthly bill resulting in bill shock. Throttling and bill shock can impact the user experience leading to dissatisfied customers increased customer service calls and negative impressions of the mobile operators.

Some of the existing systems are focused on measuring network data consumption at content providers. However server based tracking such as by web site address in some of the existing systems fails to identify which particular application originated the request at least because multiple applications on a device can access the same web site address. For example some of the existing systems are not suitable for environments in which applications on a device queue data traffic with a centralized service executing on the device. In such environments the identity of the originating application is not maintained and hence the network data usage is mis attributed to the centralized service rather than being attributed to the originating application . Such attribution is meaningless to the user trying to evaluate the amount of network data consumed by each application.

Embodiments of the disclosure provide a data transfer service that enables attribution of data transfer requests to identifiers associated with applications originating the data transfer requests. The data transfer service executes on a computing device and receives data transfer requests from a plurality of applications executing on the computing device. Each of the data transfer requests has attributed thereto an identifier associated with origination of the data transfer request. The received data transfer requests are added to a queue. The data transfer service processes the queue to perform the data transfer requests. Data usage statistics are generated per identifier based on the performed data transfer requests.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter.

Referring to the figures embodiments of the disclosure track network data usage per application on a computing device by a data transfer service executing on the computing device. The centralized data transfer service download manager or other background service allows the applications to attribute or otherwise disambiguate data transfer request e.g. to upload and or download data via identifiers and to queue the attributed data transfer requests . For example a web browser is able to attribute data transfer requests from one web site separately from data transfer requests from another web site by using a different identifier separate from or incorporated within the application identifier.

By tagging every network communication with at least one of the identifiers aspects of the disclosure enable network data usage monitoring that distinguishes among different applications groups of applications portions of applications and or application types. In this manner the amount of network data being consumed by the application or service on behalf of another application or another service may be tracked. Further tracking of network data consumption may continue even after termination of the originating application at least because of the identifiers .

Referring next to an exemplary block diagram illustrates a mobile computing device obtaining data via a network . User computing devices include for example the mobile computing device and other computing devices . The user computing devices communicate over one or more of the networks . In some embodiments one or more of the user computing devices are associated with one of the data usage plans . The data usage plan represents the terms and or conditions e.g. network data consumption allotment under which the mobile operator provides data transfer services to the user computing devices. For example a plurality of the user computing devices may share network data consumption allotted under the same or common data usage plan .

The user computing devices include any device executing instructions e.g. as application programs operating system functionality or both to implement operations and functionality. The user computing devices may include for example the mobile computing device or any other portable device. In some embodiments the mobile computing device includes a mobile telephone e.g. mobile telephone in laptop tablet computing pad netbook gaming device e reader and or portable media player. The other computing devices may include less portable devices such as desktop personal computers kiosks and tabletop devices that have network connectivity capabilities. Additionally each user computing device may represent a group of processing units. While aspects of the disclosure may be described herein with reference to the mobile computing device the descriptions are applicable to any of the user computing devices.

Communication to from the user computing devices may occur using any protocol or mechanism over one or more of the networks . The networks represent any infrastructure or other means for sending and or receiving data. The networks may include wired and or wireless networks.

One or more of the mobile operators communicate with the web service and or the user computing devices via the network . Further the user computing devices communicate with the web service or other entity that performs the operations described herein as being associated with the web service .

In some embodiments the mobile computing device and the other computing devices are associated with a common data usage plan of the user . For example the mobile computing device may represent the mobile telephone of the user while the other computing devices may include a tablet and a laptop associated with the user . In other embodiments the mobile computing device and each of the other computing devices are associated with separate data usage plans .

In some embodiments each of the user computing devices collects data usage statistics relating thereto. For example the data transfer service executing on the mobile computing device generates monitors collects compiles and or receives the data usage statistics relating to network data consumption by the applications executing on the mobile computing device . The data usage statistics collected by the data transfer service represent an amount of network data consumed by the mobile computing device under the data usage plan . Alternatively or in addition the centralized web service interacts with the user computing devices and the mobile operators to aggregate the data usage statistics . In such embodiments the web service receives a schema populated with data relating to the data usage plan from the mobile operator and distributes the populated schema to one or more of the user computing devices associated with the data usage plan .

In some embodiments the mobile computing device has at least one processor a memory area and at least one user interface not shown . The processor includes any quantity of processing units and is programmed to execute computer executable instructions for implementing aspects of the disclosure. The instructions may be performed by the processor or by multiple processors executing within the mobile computing device or performed by a processor external to the mobile computing device . In some embodiments the processor is programmed to execute instructions such as those illustrated in the figures e.g. .

In some embodiments the processor represents an implementation of analog techniques to perform the operations described herein. For example the operations may be performed by an analog computing device and or a digital computing device.

The mobile computing device further has one or more computer readable media such as the memory area . The memory area includes any quantity of media associated with or accessible by the mobile computing device . The memory area may be internal to the mobile computing device as shown in external to the mobile computing device not shown or both not shown . In some embodiments the memory area includes read only memory and or memory wired into an analog computing device.

The memory area stores among other data one or more applications such as application through application N. The applications when executed by the processor operate to perform functionality on the mobile computing device . Exemplary applications include mail application programs web browsers calendar application programs address book application programs messaging programs media applications location based services search programs and the like. The applications may communicate with counterpart applications or services such as the web services accessible via the network . For example the applications may represent downloaded client side applications that correspond to server side services executing in a cloud.

Each of the applications has one or more identifiers associated therewith. The identifiers are allocated to the applications on demand in some embodiments. For example the applications register at least one identifier unique among the other identifiers with the data transfer service operating system or other entity that tracks the network data consumption. Applications may register additional identifiers to increase the granularity of resource tracking e.g. a mail program may register different identifiers for different mail accounts a browser may register different identifiers for different web sites etc. .

The identifiers enable the applications e.g. containing applications to attribute the origination of data transfer requests . For example a browser application may have separate identifiers for each of the web sites that originate a data transfer request e.g. Web Site A is assigned a particular identifier Web Site B is assigned a particular identifier etc. . The identifiers correspond for example to one or more of the following at least one of the applications at least one application type at least one service and at least one service type. For example a particular identifier may correspond to a service that uses one of the applications e.g. a web site downloading data via a browser .

The mobile computing device further establishes and maintains one or more network connections representing communication channels or other means for sending and or receiving data over the network . Exemplary network connections include but are not limited to Wi Fi cellular tethered BLUETOOTH brand communication near field communication NFC and more. The network connections may also be categorized into voice text data or other categories or types of network traffic.

The memory area further stores the data transfer service . The data transfer service when executed by the processor receives and processes one or more data transfer requests from the applications . For example and as described further below with reference to the data transfer service receives one of the data transfer requests adds the received data transfer request to a data transfer queue and processes the data transfer queue to initiate the queued data transfer requests .

The memory area further stores data describing at least one data usage plan associated with the user . In some embodiments the memory area stores a plurality of data usage plans . The data describing the data usage plans may be received from the mobile operators offering the data usage plans .

The data usage plan may be represented by a schema e.g. an extensible markup language schema or other data structure. For example the user has contracted with the mobile operator to receive network data transfer services from the mobile operator . The data usage plan describes the services provided by the mobile operator such as the amount of network data the user can consume during a particular duration e.g. a billing time period . For example the data usage plan describes threshold values associated with the network connections of one or more devices of the user . The threshold values represent a maximum amount of network data consumption allotted under the data usage plan for the network connections . For example one threshold value may indicate a maximum amount of network data consumption for a Wi Fi connection while another threshold value indicates a maximum amount of network data consumption for a cellular data connection.

The schema or other data structure representing the data usage plan may be defined by the web service by the mobile operator or by another entity. In some embodiments each of the various data usage plans subscribed to by the mobile computing device and the other computing devices use the same common schema. In general the schema enables descriptions of the parts components services features or other aspects of the data usage plan including but not limited to multi rate data plans peak times roaming rates allotted network data consumption per network connection etc. In some embodiments use of the schema allows the mobile operators to send out updated portions of the schema corresponding to updated parts of a particular data usage plan .

In some embodiments the schema includes a plurality of fields. Each of the threshold values may be associated with one or more of the fields. For example the fields may correspond to one or more of the following peak times off peak times peak time network data consumption quota off peak time network data consumption quota peak time network data consumption remaining off peak time network data consumption remaining a roaming rate rules a mobile operator name a billing cycle type a network connection type identification of free hosts available for connection a list of mobile hotspots and any other elements or information pertaining to the data usage plan . The list of free hosts represents zero rated or reduced cost hosts e.g. visiting particular web sites does not count against the data usage plan .

The schema may also include fields supporting different billing rates per host accessed per weekend per night friends and family rates peak and off peak rates and more. The schema also allows each mobile operator the flexibility to define complex plans including broadly offered plans and dynamic short term offers to specific users likely to use a specific part or parts of the overall services. Other offers based on any combination of the metrics obtained are available to the mobile operator .

The schema stored by the mobile computing device may also include fields corresponding to the data usage statistics collected generated or received by the mobile computing device and or the mobile operators . For example to facilitate sharing the data usage statistics among the mobile operators web service and or user computing devices the mobile operators web service and the user computing devices may populate the schema with the data usage statistics .

The memory area further stores the data usage statistics relating to one or more of the data usage plans . The data usage statistics may be viewed as a current or instant snapshot of the amount of network data transmitted and or received by the mobile computing device . For example the mobile computing device collects ongoing usage data relating to network data transfers such as from device radios drivers and accelerometers of the mobile computing device . The data usage statistics identify to a granularity of time e.g. per minute or data e.g. per kilobyte how much data has been sent and or received by the mobile computing device the time and date of usage e.g. start and end times the location of usage network interface used e.g. over which network connections roaming state data usage plan information the subscriber identity module SIM or other user identity module used for dual SIM scenarios the international mobile station equipment identity IMEI or other device identifier for multi device scenarios the Internet protocol IP address or other address of the access point used for Wi Fi scenarios the IP address or other address of a target computer e.g. for whitelist blacklists in data usage the application responsible for the data transfer and the like. In a further example information relating to text messages data voice calls minutes used voice over Internet Protocol VoIP usage and any other element of usage consumed by or that impacts the mobile computing device is collected to produce the data usage statistics . Other data usage statistics are also contemplated.

The data usage statistics may be collected by the mobile computing device the web service and or the mobile operators . For example the data usage statistics may be compiled directly e.g. by monitoring network traffic and or by collecting the data usage statistics from other devices that perform the collection. In the example of the data transfer service executing on the mobile computing device collects the data usage statistics relating to the applications executing on the mobile computing device .

Alternatively or in addition the mobile computing device receives updates of network data consumption by the other computing devices sharing the same data usage plan . For example the data usage statistics may represent the network data collectively consumed by the mobile telephone tablet and laptop of the user . In the example of the data transfer service updates the data usage statistics stored in the memory area with the network data consumption by the other computing devices .

In a further example the data transfer service collects data usage statistics corresponding to a plurality of data usage plans . In such an example there may be a plurality of sets of data usage statistics e.g. one set for each data usage plan or user for the mobile computing device .

The memory area further stores exemplary computer executable components such as a communications interface component a queue component a usage component and a user interface component . Operation of the computer executable components when executed is described below with reference to .

Referring next to an exemplary flow chart illustrates operation of the data transfer service executing on a computing device to perform data transfer operations associated with a plurality of applications executing on the computing device. The data transfer service executes on the computing device to perform data transfer operations associated with the applications also executing on the computing device. While the operations illustrated in are described in some embodiments as being performed by the data transfer service executing on the mobile computing device or other computing device the operations may be performed by any service executing on the computing device also executing the applications from which the data transfer requests are received. Further the operations illustrated in may be performed at an operating system level or an application program level.

At the data transfer service or other entity e.g. an operating system executing on the computing device allocates at least one of the identifiers to each of the applications . For example the data transfer service may receive a request from one of the applications to allocate a particular quantity of identifiers to allocate to that application .

On receiving at least one of the data transfer requests from at least one of the applications by the data transfer service at the data transfer service adds the received data transfer request to the data transfer queue or other data structure at . The data transfer request may be stored in any way and in any form for processing by the data transfer service . Each received data transfer request includes or has attributed thereto one of the identifiers . The included identifier is associated with the application that originated the data transfer request .

In some embodiments the data transfer service defines a data transfer request data structure. In other embodiments another entity e.g. an operating system executing on the computing device defines the data transfer request data structure. The data transfer service provides or otherwise makes available the defined data transfer request data structure to the applications executing on the computing device. Each of the applications populates the data transfer request data structure with at least one of the data transfer requests and the identifier attributed thereto or otherwise associated with origination or creation of the data transfer request . For example each populated data transfer request data structure is associated with one of the data transfer requests . In another example a single data transfer request data structure includes a plurality of the data transfer requests each having at least one of the identifiers attributed thereto.

Example implementations for associating the identifiers with the data transfer requests are provided in Appendix A. In particular the identifier may be added as a separate field in existing data structures or the identifier may be included within an existing field.

At the data transfer service or other entity executing on the mobile computing device processes the data transfer queue to initiate or otherwise perform the queued data transfer requests . At the data transfer service generates the data usage statistics based on the performed data transfer requests . For example the data usage statistics are generated per identifier to enable analysis of the amount of network data consumption associated with each of the identifiers . For example at the generated data usage statistics are presented to the user of the computing device for review. The presented data usage statistics may be grouped by identifier to enable the user to identify the application or subpart of the application that originated the greatest amount of network data transfers. For example the identifiers are sorted in decreasing order of network data consumption corresponding thereto. In another example the generated data usage statistics are compared to the threshold values of the data usage plan to enable the user to identify the amount of current network data consumption relative to the allotment under the data usage plan .

At least because the data transfer service executes on the computing device to communicate with the plurality of applications also executing on the computing device the data transfer service is able to maintain the attribution of the data transfer requests even after the application originating the data transfer requests has stopped executing. For example a browser may execute to send a data transfer request to the data transfer service and then terminate execution before the data transfer request is fulfilled completed initiated or otherwise processed by the data transfer service . In such an example at least because the data transfer request includes the identifier the data transfer service is able to identify the application or subpart of the application that originated the data transfer request .

In some embodiments the computing device may store or have access to the computer executable components stored in the memory area illustrated in that implement one or more of the operations illustrated in . For example the communications interface component when executed by the computing device receives at least one data transfer request from at least one of the applications . For example the communications interface component may receive a data transfer request from a web browser. The received data transfer request has attributed thereto an identifier associated with a web site originating the data transfer request through the web browser.

In some embodiments the communications interface component includes a network interface card and or computer executable instructions e.g. a driver for operating the network interface card. In some embodiments the communications interface is operable with near field communication NFC tags.

The queue component when executed by the computing device initiates the data transfer requests received by the communications interface component . The usage component when executed by the computing device generates the data usage statistics per identifier based on the data transfer requests initiated or otherwise performed by the queue component . In some embodiments the usage component groups the data transfer requests received by the communications interface component by type of application e.g. mail applications video player applications music player applications etc. .

The user interface component when executed by the computing device presents the data usage statistics generated by the usage component to the user of the computing device. In some embodiments the user interface component includes a graphics card for displaying data to the user and for receiving data from the user . The user interface component may also include computer executable instructions e.g. a driver for operating the graphics card. Further the user interface component may include a display e.g. a touch screen display or natural user interface and or computer executable instructions e.g. a driver for operating the display. The user interface component may also include one or more of the following to provide data to the user or receive data from the user speakers a sound card a camera a microphone a vibration motor one or more accelerometers a BLUETOOTH brand communication module global positioning system GPS hardware and a photoreceptive light sensor. For example the user may input commands or manipulate data by moving the mobile computing device in a particular way.

The communications interface component may execute independently of the other computer executable components e.g. not sequentially or without interaction or dependency on another component . For example the communications interface component may be executed by a thread separate from other thread s executing the queue component the usage component and or the user interface component .

Referring next to an exemplary user interface illustrates network data usage by different types of network connections and by application . While the proportions of the user interfaces illustrated in and are shown to conform to a screen of the mobile computing device e.g. the mobile telephone the content displayed within the user interfaces may be shown in any format on any of the user computing devices.

In data usage for a plurality of the network connections is shown to the user in the user interface . In particular data usage statistics attributed to each of the exemplary network connections is shown. For example the amounts of data transmitted and or received over a cellular network connection a tethered network connection a Hotspot network connection and a Wi Fi network connection are shown. The amounts of data are represented by horizontal bars sized proportionally to the corresponding amounts of data transmitted and or received.

The user interface also displays the threshold values associated with each of the network connections . The threshold values are taken from the data usage plan . For example the data usage plan indicates that the user has a maximum of 5 gigabytes GB of data usage available for the cellular network connection 2 GB of data usage for the tethered network connection 1 GB of data usage for the Hotspot network connection and an unlimited amount of data usage for the Wi Fi network connection.

The user interface in may also display a button or bar that when selected by the user e.g. clicked or touched the user interface allows the user to select options or other configuration settings for receiving notifications. The notifications are sent when the amounts of data transmitted and or received over the various network connections reaches particular values e.g. set by the user mobile computing device mobile operator or other entity .

In the bottom portion of the user interface the data usage statistics are shown per application . For example the amount of network data consumed by each of a video player a music player a music synchronization application and a radio application is shown. The amounts of network data consumed are represented by horizontal bars sized proportionally to the corresponding amounts of data transmitted and or received.

Referring next to an exemplary user interface illustrates network data usage per application and identifiers associated with the applications . In the example of the user interface displays network data consumption over cellular and Wi Fi networks for each of four applications executing on the mobile computing device Application A has consumed 5 megabytes MB of cellular data and 15 MB of Wi Fi data Application B has consumed 4 MB of cellular data and 9 MB of Wi Fi data Application C Web Site has consumed 5 MB of cellular data and 5 MB of Wi Fi data and Application C Web Site has consumed 6 MB of cellular data and 4 MB of Wi Fi data. While the user interface in illustrates only cellular and Wi Fi data consumption the network data used over other networks may be displayed alternatively or in addition. Further the applications may be ranked in order of total bandwidth consumption e.g. total network data consumption or consumption by network or connection type e.g. cellular Wi Fi etc. .

In the example of Application C e.g. a browser has at least two identifiers allocated thereto an identifier for Web Site and an identifier for Web Site . In this manner rather than merely viewing an aggregate amount of network data consumed by Application C the user is able to view the amount of network data consumed on behalf of each web site displayed through Application C.

In some embodiments not shown the user interface may show consumption of resources other than network data such as power and or memory consumption by each of the applications .

Referring next to an exemplary user interface illustrates network data usage per application under the data usage plan with a monthly limit. The user interface displays a set of the applications executing on the mobile computing device e.g. the applications consuming the greatest amount of network data the applications frequently or recently selected by the user for execution etc. . In the example of the set of applications includes a music player a video player a radio application and a mail application. The term music player is underlined in indicating that the user has chosen to view the data usage statistics associated with the music player application. Clicking on the other applications displays the data usage statistics associated with the other applications .

While the overviews of data usage illustrated in and indicate that the data usage statistics shown are per application the user interfaces may alternatively or in addition display an overview of aggregated data usage across the applications on the mobile computing device . Further the user interfaces may alternatively or in addition display an overview of data usage per computing device of the user or aggregated across a plurality of the computing devices of the user . For example the different statistics may be shown in different tabs or tiles in the user interfaces . In an example involving a family or shared data plan the statistics for each plan member may be shown in separate tiles.

Further in addition to overall cellular data usage and overall Wi Fi data usage aspects of the disclosure may show subsets of the data usage generally corresponding to various tariff levels. For example for the cellular data usage the data usage at each of the following tariff levels may be shown local roaming and or international. As another example for the wireless local area network the data usage at each of the following tariff levels may be shown hotspot remote paid and or free.

In the data usage statistics include the amount of network data remaining for use e.g. the remainder of the monthly limit specified by the data usage plan the amount of network data used during the current billing period and the quantity of time e.g. days remaining within the current billing period. The data usage statistics also indicate a breakout of the data usage such as the amount of data consumed under a cellular network connection versus the amount of data consumed under a Wi Fi network connection.

Referring next to an exemplary user interface illustrates network data usage per application under a pay as you go data usage plan . In the data usage statistics include the amount of network data consumption remaining for use e.g. the remainder of the pay as you go amount specified by the data usage plan the amount of network data consumed recently e.g. within the last 30 days and the quantity of time e.g. days remaining. For example the remaining network data consumption expires in 16 days. The data usage statistics also indicate a breakout of the data usage such as the amount of data consumed under a cellular network connection versus the amount of data consumed under a Wi Fi network connection.

Referring next to an exemplary user interface illustrates network data usage per application under the data usage plan with unlimited data usage. In the data usage statistics include the amount of network data consumed recently e.g. within the last 30 days . The data usage statistics also indicate a breakout of the data usage such as the amount of data consumed under a cellular network connection versus the amount of data consumed under a Wi Fi network connection. The data usage statistics also indicate a total amount of usage by the mobile computing device .

The usage component data transfer service or other component or module provides a set of application programming interfaces APIs to correlate the identifier associated with a particular data transfer request to the application that originated the data transfer request . For example from an example identifier of 3PartyApp Game aspects of the disclosure map this example identifier to the actual application name localized text icons etc. for display purposes such as in the user interfaces .

The user interfaces and enable the user to instantly view and interpret the amount of network data being consumed by particular applications or groups of applications . For example when the user views the network data consumption for the video player application the user may conclude that the video player application consumes much of the network data usage allotted under the data usage plan . The user may then decide to watch fewer videos to preserve some network data consumption for the end of the billing cycle and to stop worrying about excess data fees.

From the user interfaces or elsewhere during the interaction between the user and the mobile telephone the user is able to pin any of the applications to a start or home screen of the mobile telephone to view the network data usage information in real time from the start screen.

In some embodiments the data usage statistics include an average of the network data consumption per time of day for each of the applications . The user interfaces may display such an average alternatively or in addition to other data usage statistics .

Referring next to an exemplary block diagram illustrates the mobile computing device having tiles for displaying network data usage statistics to the user . The mobile telephone displays a plurality of tiles e.g. active tiles that may be updated with the data usage statistics . In some embodiments tiles represent tile user interface elements. In one of the tiles in the example of the mobile telephone indicates that 78 of the allotment for text messages has been consumed while 55 of the allotment for data usage has been consumed.

In another tile the data usage statistics associated with a particular application and the cellular network connection are displayed. In the example of 26 of the allotment for cellular data transmissions by Application A has been consumed.

In another tile the real time or instant usage of cellular network data by any of the applications is shown. In the example of the tile indicates that 0 of the allotment is currently being used e.g. cellular connectivity is disabled . The user may find this tile useful when the user is worried that the mobile telephone might connect to a cellular network and incur data charges. The pinned tile enables the user to confirm in real time that the no such data use is occurring.

In some embodiments the applications may define timers and or events to start and stop attribution of the data transfer requests . For example a particular application may attribute data transfer requests during peak times but not off peak times because the data usage plan includes free off peak data transfers.

Some embodiments contemplate separate broker services executing on the mobile computing device for uploading and downloading data to from the mobile computing device . For example a communication service downloads feeds emails from different user accounts e.g. social networking mail etc. . A background download service receives requests from different applications and schedules the downloads. Both the communication service and the background download service attribute network data usage to the requesting applications even though these broker services actually execute the network data transfer.

The identifier may be tagged on a per socket basis. In such embodiments network traffic that occurs between the initial connection of the socket and final closure of the socket is exclusively attributed to an identifier associated with that socket. If the application uses more than one socket the network activities in that application are separately attributed to each socket.

At least a portion of the functionality of the various elements in may be performed by other elements in or an entity e.g. processor web service server application program computing device etc. not shown in .

In some embodiments the operations illustrated in may be implemented as software instructions encoded on a computer readable medium in hardware programmed or designed to perform the operations or both. For example aspects of the disclosure may be implemented as a system on a chip or other circuitry including a plurality of interconnected electrically conductive elements.

The term roaming as used herein refers in some embodiments to connectivity provided outside a subscriber s home zone that may be subject to additional tariffs fees or constraints. Roaming service may or may not be provided by the same mobile operator . The term tethered as used herein refers in some embodiments to situations where one device acts as an access point for another device for network access. A tethered connection may occur over a wired connection or a wireless connection. The term Wi Fi as used herein refers in some embodiments to a wireless local area network using high frequency radio signals for the transmission of data. The term BLUETOOTH as used herein refers in some embodiments to a wireless technology standard for exchanging data over short distances using short wavelength radio transmission. The term cellular as used herein refers in some embodiments to a wireless communication system using short range radio stations that when joined together enable the transmission of data over a wide geographic area. The term NFC as used herein refers in some embodiments to a short range high frequency wireless communication technology for the exchange of data over short distances.

Embodiments have been described with reference to data monitored and or collected from users . In some embodiments notice may be provided to the users of the collection of the data e.g. via a dialog box or preference setting and users are given the opportunity to give or deny consent for the monitoring and or collection. The consent may take the form of opt in consent or opt out consent.

Exemplary computer readable media include flash memory drives digital versatile discs DVDs compact discs CDs floppy disks and tape cassettes. By way of example and not limitation computer readable media comprise computer storage media and communication media. Computer storage media include volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer storage media are tangible and are mutually exclusive to communication media. In some embodiments computer storage media are implemented in hardware. Exemplary computer storage media include hard disks flash drives and other solid state memory. In contrast communication media typically embody computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and include any information delivery media.

Although described in connection with an exemplary computing system environment embodiments of the disclosure are capable of implementation with numerous other general purpose or special purpose computing system environments configurations or devices.

Examples of well known computing systems environments and or configurations that may be suitable for use with aspects of the invention include but are not limited to mobile computing devices personal computers server computers hand held or laptop devices multiprocessor systems gaming consoles microprocessor based systems set top boxes programmable consumer electronics mobile telephones network PCs minicomputers mainframe computers distributed computing environments that include any of the above systems or devices and the like. Such systems or devices may accept input from the user in any way including from input devices such as a keyboard or pointing device via gesture input and or via voice input.

Embodiments of the invention may be described in the general context of computer executable instructions such as program modules executed by one or more computers or other devices. The computer executable instructions may be organized into one or more computer executable components or modules. Generally program modules include but are not limited to routines programs objects components and data structures that perform particular tasks or implement particular abstract data types. Aspects of the invention may be implemented with any number and organization of such components or modules. For example aspects of the invention are not limited to the specific computer executable instructions or the specific components or modules illustrated in the figures and described herein. Other embodiments of the invention may include different computer executable instructions or components having more or less functionality than illustrated and described herein.

Aspects of the invention transform a general purpose computer into a special purpose computing device when configured to execute the instructions described herein.

The embodiments illustrated and described herein as well as embodiments not specifically described herein but within the scope of aspects of the invention constitute exemplary means for enabling attribution of the data transfer requests by the plurality of applications in communication with the data transfer service executing on the mobile computing device .

The order of execution or performance of the operations in embodiments of the invention illustrated and described herein is not essential unless otherwise specified. That is the operations may be performed in any order unless otherwise specified and embodiments of the invention may include additional or fewer operations than those disclosed herein. For example it is contemplated that executing or performing a particular operation before contemporaneously with or after another operation is within the scope of aspects of the invention.

When introducing elements of aspects of the invention or the embodiments thereof the articles a an the and said are intended to mean that there are one or more of the elements. The terms comprising including and having are intended to be inclusive and mean that there may be additional elements other than the listed elements. The term exemplary is intended to mean an example of The phrase one or more of the following A B and C means at least one of A and or at least one of B and or at least one of C. 

Having described aspects of the invention in detail it will be apparent that modifications and variations are possible without departing from the scope of aspects of the invention as defined in the appended claims. As various changes could be made in the above constructions products and methods without departing from the scope of aspects of the invention it is intended that all matter contained in the above description and shown in the accompanying drawings shall be interpreted as illustrative and not in a limiting sense.

In some embodiments a subProcessTag is overloaded to implement network data usage attribution as described herein. For example the subProcessTag is used to attribute network data usage to individual services running within the same service host process. In operation the subProcessTag on the current thread is temporarily overwritten by a custom tag right before establishing one of the network connections . The original value of the subProcessTag may be restored once the connection has been made.

Aspects of the disclosure map application data e.g. product identifier name icon etc. to the identifier for association with the data transfer request . For example when the data transfer service retrieves feeds from a social networking account the data transfer service performs the following exemplary operations 

The subProcessTag is further propagated between threads executing on the mobile computing device in some embodiments to enable support for asynchronous operation.

In another example the network data attribution identifier may be included in a three tuple or triplet as ProcessIdentifier ApplicationIdentifier NetworkDataAttributionIdentifier . The NetworkDataAttributionIdentifier represents a custom tag identifying the application or portion or entity associated therewith that originates the data transfer request .

In still another example the ApplicationIdentifier tag in the two tuple ProcessIdentifier ApplicationIdentifier is modified to be ApplicationIdentifier NetworkDataAttributionIdentifier thus including the application identifier and the network data attribution identifier .

