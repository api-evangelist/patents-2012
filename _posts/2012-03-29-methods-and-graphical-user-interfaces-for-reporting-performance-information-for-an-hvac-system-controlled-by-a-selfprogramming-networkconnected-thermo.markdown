---

title: Methods and graphical user interfaces for reporting performance information for an HVAC system controlled by a self-programming network-connected thermostat
abstract: Systems and methods are described for interactively and graphically displaying performance information to a user of an HVAC system controlled by a self-programming network-connected thermostat. The information is made on a remote display device such as a smartphone, tablet computer or other computer, and includes a graphical daily summary each of several days. In response to a user selection of a day, detailed performance information is graphically displayed that can include an indication of HVAC activity on a timeline, the number of hours of HVAC activity, as well as one or more symbols on a timeline indicating setpoint changes, and when a setpoint was changed due to non-occupancy.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09453655&OS=09453655&RS=09453655
owner: Google Inc.
number: 09453655
owner_city: Mountain View
owner_country: US
publication_date: 20120329
---
This patent application claims the benefit of U.S. Ser. No. 13 269 501 filed Oct. 7 2011 U.S. Ser. No. 13 317 423 filed Oct. 17 2011 U.S. Prov. Ser. No. 61 627 996 filed Oct. 21 2011 PCT US11 61437 filed Nov. 18 2011 and PCT US12 30084 filed Mar. 22 2012.

This patent specification relates to systems methods and related computer program products for the monitoring and control of energy consuming systems or other resource consuming systems. More particularly this patent specification relates to systems and methods for updating climate control algorithms.

Substantial effort and attention continues toward the development of newer and more sustainable energy supplies. The conservation of energy by increased energy efficiency remains crucial to the world s energy future. According to an October 2010 report from the U.S. Department of Energy heating and cooling account for 56 of the energy use in a typical U.S. home making it the largest energy expense for most homes. Along with improvements in the physical plant associated with home heating and cooling e.g. improved insulation higher efficiency furnaces substantial increases in energy efficiency can be achieved by better control and regulation of home heating and cooling equipment. By activating heating ventilation and air conditioning HVAC equipment for judiciously selected time intervals and carefully chosen operating levels substantial energy can be saved while at the same time keeping the living space suitably comfortable for its occupants.

To encourage users to adopt energy saving operating levels while still maintaining comfort for the occupants it would be useful to the user to have access to HVAC performance information especially related to HVAC activity and energy consumption.

Provided according to one or more embodiments is a method for method of interactively and graphically displaying performance information to a user of an HVAC system controlled by a thermostat is described. The method includes using the thermostat to gather information relating to HVAC system usage on a remote display device graphically displaying performance information based on the gathered information the displayed performance information including a graphical daily summary for each of a plurality of days and in response to a user selection of a day graphically displaying on the display device detailed performance information for the user selected day.

According to some embodiments the thermostat is self programming network connected thermostat and the display device is a touch sensitive display on mobile computing device such as a smartphone or a tablet computer. According to some embodiments the detailed performance information includes a graphical indication of HVAC activity on a timeline and indicates the number of hours of HVAC activity. According to some embodiments the detailed performance information also can include one or more symbols indicating setpoint changes and a symbol indicating on a timeline when a setpoint was changed due to non occupancy.

According to some embodiments the user can toggle the display between the detailed performance information and the graphical summary. The graphical summary for a day can include a symbol indicating energy saving performance was achieved during the day as well as a symbol indicating a primary causative agent which is responsible for above or below HVAC energy performance.

According to some embodiments a method is described of analyzing performance information for an HVAC system controlled by a self programming network connected thermostat. The method includes using the thermostat to gather information relating to HVAC system usage calculating one or more HVAC usage parameters for a time interval as being above or below an average evaluating a plurality of potential causative agents for potential causation for the calculated usage parameter being above or below the average and based on the evaluation selecting a primary causative agent.

According to some embodiments the plurality of potential causative agents can include user changes to thermostat setpoints weather and or an energy saving feature of the thermostat such as automatic detection of non occupancy. The usage parameters can include a parameter relating to energy consumption duration of HVAC system activity and or an amount of time multiplied by a temperature differential. According to some embodiments a symbol indicating the selected primary causative agent is graphically displayed to the user.

According to some embodiments a method is described of encouraging a user to adopt energy saving thermostat temperature settings using an interactive display. The method includes receiving user input representing a change in a temperature setting such as a setpoint change in response to received user input displaying in real time a graphical symbol in a first form indicating to the user that the change in the temperature setting would result in moderate energy savings receiving further user input indicating a further change in the temperature setting and in response to the received further user input in real time altering the first form of the graphical symbol to a second form indicating that the further change would result in even greater energy savings. According to some embodiments the second form of the graphical symbol has a higher contrast against a background and or a more saturated color than the first form of the graphical symbol. According to some embodiments the graphical symbol is in a leaf shape.

It will be appreciated that these systems and methods are novel as are applications thereof and many of the components systems methods and algorithms employed and included therein. It should be appreciated that embodiments of the presently described inventive body of work can be implemented in numerous ways including as processes apparata systems devices methods computer readable media computational algorithms embedded or distributed software and or as a combination thereof. Several illustrative embodiments are described below.

The subject matter of this patent specification also relates to the subject matter of the following commonly assigned applications U.S. Ser. No. 12 881 430 filed Sep. 14 2010 U.S. Ser. No. 12 881 463 filed Sep. 14 2010 U.S. Prov. Ser. No. 61 415 771 filed Nov. 19 2010 U.S. Prov. Ser. No. 61 429 093 filed Dec. 31 2010 U.S. Ser. No. 12 984 602 filed Jan. 4 2011 U.S. Ser. No. 12 987 257 filed Jan. 10 2011 U.S. Ser. No. 13 033 573 filed Feb. 23 2011 U.S. Ser. No. 29 386 021 filed Feb. 23 2011 U.S. Ser. No. 13 034 666 filed Feb. 24 2011 U.S. Ser. No. 13 034 674 filed Feb. 24 2011 U.S. Ser. No. 13 034 678 filed Feb. 24 2011 U.S. Ser. No. 13 038 191 filed Mar. 1 2011 U.S. Ser. No. 13 038 206 filed Mar. 1 2011 U.S. Ser. No. 29 399 609 filed Aug. 16 2011 U.S. Ser. No. 29 399 614 filed Aug. 16 2011 U.S. Ser. No. 29 399 617 filed Aug. 16 2011 U.S. Ser. No. 29 399 618 filed Aug. 16 2011 U.S. Ser. No. 29 399 621 filed Aug. 16 2011 U.S. Ser. No. 29 399 623 filed Aug. 16 2011 U.S. Ser. No. 29 399 625 filed Aug. 16 2011 U.S. Ser. No. 29 399 627 filed Aug. 16 2011 U.S. Ser. No. 29 399 630 filed Aug. 16 2011 U.S. Ser. No. 29 399 632 filed Aug. 16 2011 U.S. Ser. No. 29 399 633 filed Aug. 16 2011 U.S. Ser. No. 29 399 636 filed Aug. 16 2011 U.S. Ser. No. 29 399 637 filed Aug. 16 2011 U.S. Ser. No. 13 199 108 filed Aug. 17 2011 U.S. Ser. No. 13 267 871 filed Oct. 6 2011 U.S. Ser. No. 13 267 877 filed Oct. 6 2011 U.S. Ser. No. 13 269 501 filed Oct. 7 2011 U.S. Ser. No. 29 404 096 filed Oct. 14 2011 U.S. Ser. No. 29 404 097 filed Oct. 14 2011 U.S. Ser. No. 29 404 098 filed Oct. 14 2011 U.S. Ser. No. 29 404 099 filed Oct. 14 2011 U.S. Ser. No. 29 404 101 filed Oct. 14 2011 U.S. Ser. No. 29 404 103 filed Oct. 14 2011 U.S. Ser. No. 29 404 104 filed Oct. 14 2011 U.S. Ser. No. 29 404 105 filed Oct. 14 2011 U.S. Ser. No. 13 275 307 filed Oct. 17 2011 U.S. Ser. No. 13 275 311 filed Oct. 17 2011 U.S. Ser. No. 13 317 423 filed Oct. 17 2011 U.S. Ser. No. 13 279 151 filed Oct. 21 2011 U.S. Ser. No. 13 317 557 filed Oct. 21 2011 and U.S. Prov. Ser. No. 61 627 996 filed Oct. 21 2011. PCT US11 61339 filed Nov. 18 2011 PCT US11 61344 filed Nov. 18 2011 PCT US11 61365 filed Nov. 18 2011 PCT US11 61379 filed Nov. 18 2011 PCT US11 61391 filed Nov. 18 2011 PCT US11 61479 filed Nov. 18 2011 PCT US11 61457 filed Nov. 18 2011 PCT US11 61470 filed Nov. 18 2011 PCT US11 61339 filed Nov. 18 2011 PCT US11 61491 filed Nov. 18 2011 PCT US11 61437 filed Nov. 18 2011 PCT US11 61503 filed Nov. 18 2011 U.S. Ser. No. 13 342 156 filed Jan. 2 2012 PCT US12 00008 filed Jan. 3 2012 PCT US12 20088 filed Jan. 3 2012 PCT US12 20026 filed Jan. 3 2012 PCT US12 00007 filed Jan. 3 2012 U.S. Ser. No. 13 351 688 filed Jan. 17 2012 U.S. Ser. No. 13 356 762 filed Jan. 24 2012 and PCT US12 30084 filed Mar. 22 2012. Each of the above referenced patent applications is incorporated by reference herein. The above referenced patent applications are collectively referenced hereinbelow as the commonly assigned incorporated applications. 

A detailed description of the inventive body of work is provided below. While several embodiments are described it should be understood that the inventive body of work is not limited to any one embodiment but instead encompasses numerous alternatives modifications and equivalents. In addition while numerous specific details are set forth in the following description in order to provide a thorough understanding of the inventive body of work some embodiments can be practiced without some or all of these details. Moreover for the purpose of clarity certain technical material that is known in the related art has not been described in detail in order to avoid unnecessarily obscuring the inventive body of work.

As used herein the term HVAC includes systems providing both heating and cooling heating only cooling only as well as systems that provide other occupant comfort and or conditioning functionality such as humidification dehumidification and ventilation.

As used herein the terms power harvesting sharing and stealing when referring to HVAC thermostats all refer to the thermostat are designed to derive power from the power transformer through the equipment load without using a direct or common wire source directly from the transformer.

As used herein the term residential when referring to an HVAC system means a type of HVAC system that is suitable to heat cool and or otherwise condition the interior of a building that is primarily used as a single family dwelling. An example of a cooling system that would be considered residential would have a cooling capacity of less than about 5 tons of refrigeration 1 ton of refrigeration 12 000 Btu h .

As used herein the term light commercial when referring to an HVAC system means a type of HVAC system that is suitable to heat cool and or otherwise condition the interior of a building that is primarily used for commercial purposes but is of a size and construction that a residential HVAC system is considered suitable. An example of a cooling system that would be considered residential would have a cooling capacity of less than about 5 tons of refrigeration.

As used herein the term thermostat means a device or system for regulating parameters such as temperature and or humidity within at least a part of an enclosure. The term thermostat may include a control unit for a heating and or cooling system or a component part of a heater or air conditioner. As used herein the term thermostat can also refer generally to a versatile sensing and control unit VSCU unit that is configured and adapted to provide sophisticated customized energy saving HVAC control functionality while at the same time being visually appealing non intimidating elegant to behold and delightfully easy to use.

Some embodiments of thermostat in incorporate one or more sensors to gather data from the environment associated with enclosure . Sensors incorporated in thermostat may detect occupancy temperature light and other environmental conditions and influence the control and operation of HVAC system . Sensors incorporated within thermostat do not protrude from the surface of the thermostat thereby providing a sleek and elegant design that does not draw attention from the occupants in a house or other enclosure. As a result thermostat readily fits with almost any d cor while adding to the overall appeal of the interior design.

As used herein a learning thermostat refers to a thermostat or one of plural communicating thermostats in a multi thermostat network having an ability to automatically establish and or modify at least one future setpoint in a heating and or cooling schedule based on at least one automatically sensed event and or at least one past or current user input. As used herein a primary thermostat refers to a thermostat that is electrically connected to actuate all or part of an HVAC system such as by virtue of electrical connection to HVAC control wires e.g. W G Y etc. leading to the HVAC system. As used herein an auxiliary thermostat refers to a thermostat that is not electrically connected to actuate an HVAC system but that otherwise contains at least one sensor and influences or facilitates primary thermostat control of an HVAC system by virtue of data communications with the primary thermostat. In one particularly useful scenario the thermostat is a primary learning thermostat and is wall mounted and connected to all of the HVAC control wires while the remote thermostat is an auxiliary learning thermostat positioned on a nightstand or dresser the auxiliary learning thermostat being similar in appearance and user interface features as the primary learning thermostat the auxiliary learning thermostat further having similar sensing capabilities e.g. temperature humidity motion ambient light proximity as the primary learning thermostat but the auxiliary learning thermostat not being connected to any of the HVAC wires. Although it is not connected to any HVAC wires the auxiliary learning thermostat wirelessly communicates with and cooperates with the primary learning thermostat for improved control of the HVAC system such as by providing additional temperature data at its respective location in the enclosure providing additional occupancy information providing an additional user interface for the user and so forth.

It is to be appreciated that while certain embodiments are particularly advantageous where the thermostat is a primary learning thermostat and the remote thermostat is an auxiliary learning thermostat the scope of the present teachings is not so limited. Thus for example while certain initial provisioning methods that automatically pair associate a network connected thermostat with an online user account are particularly advantageous where the thermostat is a primary learning thermostat the methods are more generally applicable to scenarios involving primary non learning thermostats auxiliary learning thermostats auxiliary non learning thermostats or other types of network connected thermostats and or network connected sensors. By way of further example while certain graphical user interfaces for remote control of a thermostat may be particularly advantageous where the thermostat is a primary learning thermostat the methods are more generally applicable to scenarios involving primary non learning thermostats auxiliary learning thermostats auxiliary non learning thermostats or other types of network connected thermostats and or network connected sensors. By way of even further example while certain methods for cooperative battery conserving information polling of a thermostat by a remote cloud based management server may be particularly advantageous where the thermostat is a primary learning thermostat the methods are more generally applicable to scenarios involving primary non learning thermostats auxiliary learning thermostats auxiliary non learning thermostats or other types of network connected thermostats and or network connected sensors.

Enclosure further includes a private network accessible both wirelessly and through wired connections and may also be referred to as a Local Area Network or LAN. Network devices on the private network include a computer thermostat and remote thermostat in accordance with some embodiments of the present invention. In one embodiment the private network is implemented using an integrated router that provides routing wireless access point functionality firewall and multiple wired connection ports for connecting to various wired network devices such as computer . Other embodiments may instead use multiple discrete switches routers and other devices not shown to perform networking functions equivalent to or in addition to those provided by integrated router .

Integrated router further provides network devices access to a public network such as the Internet provided enclosure has a connection to the public network generally through a cable modem DSL modem and a service provider of the Internet or other public network. The Internet and other public networks are sometimes referred to as a Wide Area Network or WAN. In one embodiment integrated router may direct communications to other devices on these networks using a network protocol such as TCP IP. If the communications are directed to a device or service outside the private network integrated router may route the communications outside the private network to the public network such as the Internet.

In some embodiments thermostat may wirelessly communicate with remote thermostat over the private network or through an ad hoc network formed directly with remote thermostat . During communication with remote thermostat thermostat may gather information remotely from the user and from the environment detectable by the remote thermostat . For example remote thermostat may wirelessly communicate with the thermostat providing user input from the remote location of remote thermostat or may be used to display information to a user or both. Like thermostat embodiments of remote thermostat may also include sensors to gather data related to occupancy temperature light and other environmental conditions. In an alternate embodiment remote thermostat may also be located outside of the enclosure .

In accordance with some embodiments a computer device in enclosure may remotely control thermostat by accessing a thermostat management account through a thermostat management system not shown in located on a public network such as the Internet. The thermostat management system passes control information over the network back to thermostat provided the thermostat is also associated or paired to the thermostat management account on the thermostat management system. Data collected by thermostat also passes from the private network associated with enclosure through integrated router and to the thermostat management system over the public network. Other computer devices not in enclosure such as Smartphones laptops and tablet computers not shown in may also control thermostat provided they have access to the public network and both the thermostat management system and thermostat management account. Further details on accessing the public network such as the Internet and a thermostat like thermostat in accordance with embodiments of the present invention is described in further detail later herein.

In heating heating coils or elements within air handler provide a source of heat using electricity or gas via line . Cool air is drawn from the enclosure via return air duct through filter using fan and is heated through heating coils or elements . The heated air flows back into the enclosure at one or more locations via supply air duct system and supply air registers such as register . In cooling an outside compressor passes a gas such as Freon through a set of heat exchanger coils and then through an expansion valve. The gas then goes through line to the cooling coils or evaporator coils in the air handler where it expands cools and cools the air being circulated via fan . A humidifier may optionally be included in various embodiments that returns moisture to the air before it passes through duct system . Although not shown in alternate embodiments of HVAC system may have other functionality such as venting air to and from the outside one or more dampers to control airflow within the duct system and an emergency heating unit. Overall operation of HVAC system is selectively actuated by control electronics communicating with thermostat over control wires .

Although being formed from a single lens like piece of material such as polycarbonate the cover has two different regions or portions including an outer portion and a central portion . According to some embodiments the cover is painted or smoked around the outer portion but leaves the central portion visibly clear so as to facilitate viewing of an electronic display disposed thereunderneath. According to some embodiments the curved cover acts as a lens that tends to magnify the information being displayed in electronic display to users. According to some embodiments the central electronic display is a dot matrix layout individually addressable such that arbitrary shapes can be generated rather than being a segmented layout. According to some embodiments a combination of dot matrix layout and segmented layout is employed. According to some embodiments central display is a backlit color liquid crystal display LCD . An example of information displayed on the electronic display is illustrated in and includes central numerals that are representative of a current setpoint temperature. According to some embodiments metallic portion has a number of slot like openings so as to facilitate the use of a passive infrared motion sensor mounted therebeneath. The metallic portion can alternatively be termed a metallic front grille portion. Further description of the metallic portion front grille portion is provided in the commonly assigned U.S. Ser. No. 13 199 108 supra. The thermostat is preferably constructed such that the electronic display is at a fixed orientation and does not rotate with the outer ring so that the electronic display remains easily read by the user. For some embodiments the cover and metallic portion also remain at a fixed orientation and do not rotate with the outer ring . According to one embodiment in which the diameter of the thermostat is about 80 mm the diameter of the electronic display is about 45 mm. According to some embodiments an LED indicator is positioned beneath portion to act as a low power consuming indicator of certain status conditions. For example the LED indicator can be used to display blinking red when a rechargeable battery of the thermostat see infra is very low and is being recharged. More generally the LED indicator can be used for communicating one or more status codes or error codes by virtue of red color green color various combinations of red and green various different blinking rates and so forth which can be useful for troubleshooting purposes.

Motion sensing as well as other techniques can be use used in the detection and or predict of occupancy as is described further in the commonly assigned U.S. Ser. No. 12 881 430 supra. According to some embodiments occupancy information is used in generating an effective and efficient scheduled program. Preferably an active proximity sensor A is provided to detect an approaching user by infrared light reflection and an ambient light sensor B is provided to sense visible light. The proximity sensor A can be used to detect proximity in the range of about one meter so that the thermostat can initiate waking up when the user is approaching the thermostat and prior to the user touching the thermostat. Such use of proximity sensing is useful for enhancing the user experience by being ready for interaction as soon as or very soon after the user is ready to interact with the thermostat. Further the wake up on proximity functionality also allows for energy savings within the thermostat by sleeping when no user interaction is taking place or about to take place. The ambient light sensor B can be used for a variety of intelligence gathering purposes such as for facilitating confirmation of occupancy when sharp rising or falling edges are detected because it is likely that there are occupants who are turning the lights on and off and such as for detecting long term e.g. 24 hour patterns of ambient light intensity for confirming and or automatically establishing the time of day.

According to some embodiments for the combined purposes of inspiring user confidence and further promoting visual and functional elegance the thermostat is controlled by only two types of user input the first being a rotation of the outer ring as shown in referenced hereafter as a rotate ring or ring rotation input and the second being an inward push on an outer cap see until an audible and or tactile click occurs referenced hereafter as an inward click or simply click input . For the embodiment of the outer cap is an assembly that includes all of the outer ring cover electronic display and metallic portion . When pressed inwardly by the user the outer cap travels inwardly by a small amount such as 0.5 mm against an interior metallic dome switch not shown and then springably travels back outwardly by that same amount when the inward pressure is released providing a satisfying tactile click sensation to the user s hand along with a corresponding gentle audible clicking sound. Thus for the embodiment of an inward click can be achieved by direct pressing on the outer ring itself or by indirect pressing of the outer ring by virtue of providing inward pressure on the cover metallic portion or by various combinations thereof. For other embodiments the thermostat can be mechanically configured such that only the outer ring travels inwardly for the inward click input while the cover and metallic portion remain motionless. It is to be appreciated that a variety of different selections and combinations of the particular mechanical elements that will travel inwardly to achieve the inward click input are within the scope of the present teachings whether it be the outer ring itself some part of the cover or some combination thereof. However it has been found particularly advantageous to provide the user with an ability to quickly go back and forth between registering ring rotations and inward clicks with a single hand and with minimal amount of time and effort involved and so the ability to provide an inward click directly by pressing the outer ring has been found particularly advantageous since the user s fingers do not need to be lifted out of contact with the device or slid along its surface in order to go between ring rotations and inward clicks. Moreover by virtue of the strategic placement of the electronic display centrally inside the rotatable ring a further advantage is provided in that the user can naturally focus their attention on the electronic display throughout the input process right in the middle of where their hand is performing its functions. The combination of intuitive outer ring rotation especially as applied to but not limited to the changing of a thermostat s setpoint temperature conveniently folded together with the satisfying physical sensation of inward clicking together with accommodating natural focus on the electronic display in the central midst of their fingers activity adds significantly to an intuitive seamless and downright fun user experience. Further descriptions of advantageous mechanical user interfaces and related designs which are employed according to some embodiments can be found in U.S. Ser. No. 13 033 573 supra U.S. Ser. No. 29 386 021 supra and U.S. Ser. No. 13 199 108 supra.

According to some embodiments the thermostat includes a processing system display driver and a wireless communications system . The processing system is adapted to cause the display driver and display area to display information to the user and to receiver user input via the rotatable ring . The processing system according to some embodiments is capable of carrying out the governance of the operation of thermostat including the user interface features described herein. The processing system is further programmed and configured to carry out other operations as described further hereinbelow and or in other ones of the commonly assigned incorporated applications. For example processing system is further programmed and configured to maintain and update a thermodynamic model for the enclosure in which the HVAC system is installed such as described in U.S. Ser. No. 12 881 463 supra and in International Patent App. No. PCT US11 51579 incorporated herein by reference. According to some embodiments the wireless communications system is used to communicate with devices such as personal computers and or other thermostats or HVAC system components which can be peer to peer communications communications through one or more servers located on a private network and or communications through a cloud based service.

Backplate includes electronics and a temperature humidity sensor in housing which are ventilated via vents . Two or more temperature sensors not shown are also located in the head unit and cooperate to acquire reliable and accurate room temperature data. Wire connectors are provided to allow for connection to HVAC system wires. Connection terminal provides electrical connections between the head unit and backplate . Backplate electronics also includes power sharing circuitry for sensing and harvesting power available power from the HVAC system circuitry.

The embodiments described herein are advantageously configured to be compatible with a large variety of conventional integrated routers that service a large population of homes and businesses. Thus by way of example only and not by way of limitation the router not shown that services the private network of can be for example a D Link DIR 655 Extreme N Wireless Router a Netgear WNDR3700 RangeMax Dual Band Wireless USB Gigabit Router a Buffalo Technology Nfiniti WZR HP G300NH Wireless N Router an Asus RT N16 Wireless Router Cisco Linksys E4200 Dual Band Wireless Router or a Cisco Linksys E4200 Dual Band Wireless Router. Without loss of generality some descriptions further hereinbelow will refer to an exemplary scenario in which the thermostats are used in a home environment. However it is to be appreciated that the described embodiments are not so limited and are applicable to use of such thermostat s in any of a variety of enclosures including residential homes business vacation homes hotels hotel rooms industrial facilities and generally anywhere there is an HVAC system to be controlled.

Thermostat access client is a client application designed in accordance with aspects of the present invention to access the thermostat management system over public network . The term thermostat management system can be interchangeably referenced as a cloud based management server for the thermostats or more simply cloud server in various descriptions hereinabove and hereinbelow. Because thermostat access client is designed to execute on different devices multiple client applications may be developed using different technologies based on the requirements of the underlying device platform or operating system. For some embodiments thermostat access client is implemented such that end users operate their Internet accessible devices e.g. desktop computers notebook computers Internet enabled mobile devices cellphones having rendering engines or the like that are capable of accessing and interacting with the thermostat management system . The end user machine or device has a web browser e.g. Internet Explorer Firefox Chrome Safari or other rendering engine that typically is compatible with AJAX technologies e.g. XHTML XML CSS DOM JSON and the like . AJAX technologies include XHTML Extensible HTML and CSS Cascading Style Sheets for marking up and styling information the use of DOM Document Object Model accessed with client side scripting languages the use of an XMLHttpRequest object an API used by a scripting language to transfer XML and other text data asynchronously to and from a server using HTTP and use of XML or JSON Javascript Object Notation a lightweight data interchange format as a format to transfer data between the server and the client. In a web environment an end user accesses the site in the usual manner i.e. by opening the browser to a URL associated with a service provider domain. The user may authenticate to the site or some portion thereof by entry of a username and password. The connection between the end user entity machine and the system may be private e.g. via SSL . The server side of the system may comprise conventional hosting components such as IP switches web servers application servers administration servers databases and the like. Where AJAX is used on the client side client side code an AJAX shim executes natively in the end user s web browser or other rendering engine. Typically this code is served to the client machine when the end user accesses the site although in the alternative it may be resident on the client machine persistently. Finally while a web based application over Internet Protocol IP is described this is not a limitation as the techniques and exposed user interface technologies may be provided by a standalone application in any runtime application whether fixed line or mobile. It is to be appreciated that although the TCP IP protocol is set forth as the network protocol used for communications among the thermostat management system the thermostat access client and other devices for some embodiments it is set forth by way of example and not by way of limitation in that any other suitable protocol such as UDP over IP in particular may be used without departing from the scope of the present teachings.

In yet another embodiment thermostat access client may be a stand alone application or app designed to be downloaded and run on a specific device such as smartphone or a tablet device running the Apple iOS operating system Android operating system or others. Developers create these stand alone applications using a set of application programming interfaces APIs and libraries provided by the device manufacturer packaged in software development toolkit or SDK. Once completed the app is made available for download to the respective device through an application store or app store curated by the app store owners to promote quality usability and customer satisfaction.

In one embodiment thermostat management system illustrated in may be accessed over public network by computer devices on private network running thermostat access client . Thermostat access client accesses a thermostat management account not illustrated provisioned by thermostat management system on behalf of the computer devices in order to access or control thermostat or remote thermostat . In addition a computer device on private network such as computer may use the thermostat access client and thermostat management account to gather data from thermostat and remote thermostat .

Thermostat and remote thermostat may be accessed remotely from numerous different locations on the private network or public network . As will be described in further detail hereinbelow upon installation a thermostat such as thermostat first registers with the thermostat management system and then requests the thermostat management system create a pairing between the thermostat and a corresponding thermostat management account. Thereafter a device such as a tablet may be connected to public network directly or through a series of other private networks not shown yet still access these thermostats while outside the private network where they are located by way of thermostat management system . In one embodiment a tablet running the Apple iOS operating system may remotely access to these thermostats through the thermostat management system and thermostat management account using an iOS app version of thermostat access client . Pairing thermostats with the thermostat management account allows tablet and other computer devices to remotely control gather data and generally interact with thermostats such as thermostat and remote thermostat .

In one embodiment thermostat management system distributes the task of communication and control with the thermostats to one or more thermostat management servers . These thermostat management servers may coordinate communication manage access process data and analyze results using data produced by thermostats such as thermostat and remote thermostat . Intermediate and final results from computations on these servers as well as raw data may be stored temporarily or archived on thermostat databases for future reference and use. Thermostat management servers may also send a portion of the data along with control information and more generally any of a variety of different kinds of information back to thermostat and remote thermostat . Results from the thermostat management servers may also be stored in one or more thermostat databases for subsequent access by a device such as tablet running thermostat access client .

These thermostat management servers each may perform one or several discrete functions may serve as redundant fail over servers for these different discrete functions or may share performance of certain discrete functions in tandem or in a cluster as well as other combinations performing more complex operations in parallel or distributed over one or more clusters of computers. In some embodiments one of the thermostat management servers may correspond directly to a physical computer or computing device while in other embodiments the thermostat management servers may be virtualized servers running on one or more physical computers under the control of a virtual machine computing environment such as provided by VMWARE of Palo Alto Calif. or any other virtual machine provider. In yet another embodiment the thermostat management servers and thermostat databases are provisioned from a cloud computing and storage environment such as the Elastic Compute Cloud or EC2 offering from Amazon.com of Seattle Wash. In an EC2 solution for example the thermostat management servers may be allocated according to processor cycles and storage requirements rather than according to a number of computers either real or virtual thought to be required for the task at hand.

In some embodiments the thermostat management servers making up this thermostat management system may manage thermostats located in multiple enclosures across various geographic locations and time zones. Each enclosure may use one or several thermostats in accordance with embodiments of the present invention to control one or several HVAC systems such as HVAC system in . In some cases there may be an increased need from the thermostat management system for certain functions and therefore more servers to deliver these functional capabilities. It may be appreciated that the design of thermostat management system and use of the thermostat management servers may be scaled to meet these demands on the system and efficiently track and organize the data from these multiple enclosures and thermostats for processing analysis control and machine learning purposes.

One embodiment of registration server provides a number of services related to registering a thermostat on the thermostat management system and preparing it for pairing with a thermostat management account. In operation the registration server may be first accessed by a thermostat when the thermostat is wired to the HVAC of an enclosure and then connected to the Internet through a private network. To make the thermostat known on system the thermostat sends thermostat metadata from the private network to the public network such as the Internet and then onto processing by registration server . Preferably the thermostat metadata includes a unique thermostat identifier such as one that is assigned at the time of manufacturing. As the communication that sends the thermostat metadata passes through the network address translator NAT of the router not shown that serves private network it is appended with the public network address of that router which is thus the public address that is used by the thermostat to communicate over the public network. The thermostat identifier is used to identify the thermostat from other thermostats being registered by registration server and may be based in part or in whole on a media access control MAC address assigned to the NIC of the thermostat. As one security measure against registering unauthorized devices registration server may compare the MAC address in the thermostat metadata against a list of valid MAC addresses provided by the manufacturer of the thermostat or NIC component. In accordance with one embodiment the thermostat registration is complete when the registration server provisions an entry in a thermostat registration pool and marks the thermostat entry ready to be paired with a thermostat management account. Entries in the thermostat registration pool may be referenced by their unique thermostat identifier the public network address that they used or more particularly the public address of the private network router through which they connect to the Internet and optionally other relevant metadata associated with the thermostat.

In some embodiments update server attempts to update software firmware and configuration updates to each of the thermostats registered in the thermostat registration pool. If metadata from entries in the registration pool exclude versioning information update server may need to further query each thermostat for current versions installed. Update server may access entries in the registration pool and then use corresponding network addresses in each entry to connect to the associated thermostat over the public network or private network or both.

If newer software versions exist than currently used on a thermostat update server proceeds to send software updates to the thermostat over the public network. For example update server may use file transfer protocols such as ftp file transfer protocol tftp trivial file transfer protocol or more secure transfer protocols when uploading the new software. Once uploaded installation and update of the software on the thermostat may occur immediately through an auto update option on the thermostat or manually through the interface of the thermostat as requested by a user.

One embodiment of pairing server facilitates the association or pairing of a thermostat with a thermostat management account on thermostat management account server . The term thermostat management account can be used interchangeably with user account herein unless specified otherwise. Once the thermostat is paired with a user account a rich variety of network enabled capabilities are enabled as described further herein and in one or more of the commonly assigned incorporated applications supra. For example once pairing has been achieved a person with access to the thermostat management account may access the thermostat through the thermostat management system using the thermostat access client for a variety of purposes such as seeing the current temperature of the home changing the current setpoint changing the mode of the thermostat between home and away and so forth. Moreover the thermostat management system can then start tracking the various information provided by the thermostat which in turn enables a rich variety of cloud based data aggregation and analysis that can be used to provide relevant reports summaries updates and recommendations to the user either through the thermostat display itself through the thermostat access client or both. A variety of other capabilities such as demand response actions in which the thermostat management server sends an energy alert and or sends energy saving setpoint commands to the thermostats of users who have enrolled in such programs can be carried out.

In view of the importance of establishing a pairing between the thermostat and a thermostat management account there is provided an ability for a fallback method of pairing which can be termed a manually assisted method of pairing that can take effect and be carried out in the event that the convenient auto pairing methods described further hereinbelow cannot be securely and reliably carried out for a particular installation. The manually assisted method may use an alphanumeric passcode to pair the thermostat to the thermostat management account. Typically the passcode is sent to the thermostat over a public network like the Internet and displayed on the display area of the thermostat. Authorization to access the thermostat is provided if the user obtaining the passcode from the display on the thermostat then enters it into a pairing dialog presented when the user logs into their thermostat management account. Pairing server pairs the thermostat with the user s thermostat management account if the user enters that same passcode that was displayed on their thermostat display.

According to a preferred auto pairing method the pairing server may automatically pair or auto pair a thermostat management account to a thermostat if both are located on the same private network. If the thermostat and thermostat management account are associated with the same private network embodiments of the present invention presume the thermostat is at the user s home office or other area where the user should also have control of the device. To make this determination automatically the pairing server compares the public network address that was used to register the thermostat over the Internet with the public network address used by the computer device that has most recently been used to access the thermostat management account. Since the thermostat and computer device only have private network addresses the router on the private network they share inserts the same public network address into their packets thus allowing the two devices to access servers services and other devices on the Internet. Auto pairing takes advantage of this fact and automatically pairs devices sharing the same public network address. This is particularly advantageous from a user standpoint in that the user is not bothered with the need to enter a passcode or other alphanumerical identifier in order to achieve the pairing process and avoids the concern that a user may inadvertently enter incorrect codes or identifiers into the system. Details on auto pairing and manually assisted pairing are described in further detail later herein.

Thermostat front end user interface UI server facilitates the generation and presentation of intuitive user friendly graphical user interfaces that allow users to remotely access configure interact with and control one or more of their network connected thermostats from a computer web browser smartphone tablet or other computing device. The user friendly graphical user interfaces can also provide useful tools and interfaces that do not necessarily require real time connectivity with the thermostats with examples including for some embodiments providing user interfaces for displaying historical energy usage historical sensor readings and or occupancy patterns allowing the user to learn about and or enroll in demand response programs provide social networking forums that allow users to interact with each other in informative competitive fun ways that promote energy savings provide access to local information including weather public safety information neighborhood calendar events and local blogs and more generally provide services and information associated with a comprehensive energy portal functionality. Examples of intuitive user friendly graphical user interfaces provided by the UI server according to one or more preferred embodiments are described further in co pending U.S. patent application Ser. No. 13 317 423.

In some embodiments a thermostat access client user interface displays an image of a house representing a primary enclosure paired to the thermostat management account in the thermostat management system. Thermostat front end UI server may further instruct the thermostat access client such as thermostat access client in to display images visually representative of one or more thermostats inside the primary enclosure. By default each of the one or more thermostat images may also display a current temperature measurement in the enclosure. In some embodiments the user interface may also further display an image of an additional house or houses representing a secondary enclosure having additional thermostats that are also paired to the thermostat management account. The image of the additional house may appear smaller out of focus or generally deemphasized visually in relationship to the image of the house representing the primary enclosure. Additional enclosures beyond the secondary enclosure can also be displayed in the user interface and should also appear visually deemphasized compared with the image displayed for the primary enclosure. Further information on the thermostat access client and user interface are described in more detail in co pending U.S. patent application Ser. No. 13 317 423.

Thermostat backend server manages the storage of data used by various thermostat management servers in the thermostat management system . In some embodiments thermostat backend server may manage storage of the thermostat registration pool data used by the registration server or may organize and store new software updates and releases for the update server . In another embodiment thermostat backend server may also store heating and cooling related data i.e. date and time HVAC system was in either heating or cooling mode within the enclosure sensor information battery level data alarms etc. associated with an enclosure that was sent to the thermostat management system by thermostats registered therewith and in some embodiments and provide pre computed heating and cooling schedules applications and other data for download over the public network for use by the thermostats.

In some embodiments thermostat management account server is used to create new accounts and update existing accounts on thermostat management system . To access their thermostat over a thermostat access client and enjoy the benefits of thermostat connectedness the user is first required to create of a thermostat management account user account on thermostat management account server using their thermostat access client . Accordingly users execute the thermostat access client on a computer or other computer device to access the thermostat management account server . The thermostat management account server should receive at least the zip code and or city and state for the enclosure in which the thermostat is or will be installed such that weather information provided by a weather service can be accessed and downloaded to the thermostat which can be used as part of its optimal enclosure characterization and HVAC control algorithms. Optionally a variety of other information including a user s contact information enclosure street addresses and so forth can also be received. Primary options associated with the thermostat management account server include pairing one or more thermostats to the correct thermostat management account through pairing operations provided by pairing server . However even if the account is not yet paired with a thermostat the user may use the thermostat management account to access local information including weather public safety information neighborhood calendar events local blogs and more information based upon the user s contact information locale and other interests.

According to some embodiments further detail for the energy usage throughout any given day is displayed when the user requests it. When the user touches one of the energy bar symbols or anywhere on the row for that day a detailed energy usage display for that day is activated. In the detailed energy information for February 29is displayed in response to the user tapping on that day s area. If the user taps on the detailed area again the display will toggle back to the simple daily display such as shown by the other days in . The detailed display are includes a time line bar for the entire day with hash marks or symbols for each two hours. The main bar is used to indicate the times during the day and duration of each time the HVAC function was active in this case single stage heating . The color of the horizontal activity bar such as bar matches the HVAC function being used and the width of the activity bar corresponds to the time of day during which the function was active. Above the main timeline bar are indicators such as the set temperature and any modes becoming active such as an away mode e.g. being manually set by a user or automatically set by auto away . The small number on the far upper left of the timeline indicates the starting set point temperature i.e. from the previous day . The circle symbols such as symbol indicate the time of day and the temperature of a set point change. The symbols are used to indicate both scheduled setpoints and manually change setpoints.

In the colors of the horizontal energy use bars for each day are shaded in different colors to indicate the HVAC function or functions that were active for that day. For example for Sunday February 26only heating was used as indicated by the color of the bar which is shaded orange. On Saturday February 25 only cooling was used as indicated by the color of the bar which is shaded blue. On Friday February 24 both heating and cooling where used and their relative amounts are shown by the colored shading in this case a small amount of cooling and larger amount of heating. The user has toggled a detailed energy view for Tuesday February 28as shown by detailed information . In this particular HVAC system the heating system includes two stages of heating which is indicated by two different shades of orange shading in the small energy usage bars. For example close to about 1 PM the first stage heating was used indicated by a salmon colored shading followed by the second stage of heating indicated by a more saturated orange colored shading. In this example cooling was used after about 9 30 PM as indicated by a blue colored shading. On this day setpoint range was used as indicated by the oval symbol . The range setpoint is used to maintain the temperature within a range by using both heating and cooling. According to some embodiments other colors and or patterns can be used. For example for relatively expensive and or energy consuming heating cycles such as heat pump secondary heat strips a bright red or bright red and black striped fill can be used. Also in cases of two stage cooling darker and lighter colors of blue can be used. Details of the range setpoint symbols are also shown in . The range setpoint symbol indicates that range setpoint of 75 degrees for cooling and 68 degrees for heating. also shows an example of an user responsibility symbol indicating that lower than average energy usage for that day was due to user settings e.g. the user setting a lower than average setpoint .

Further detail for the energy usage throughout any given day is displayed when the user requests it. When the user touches on the row for a day a detailed energy usage display for that day is activated. In the detailed energy information for February 26is displayed in response to the user tapping on that day s area. If the user taps on the detailed information again the display will toggle back to the simple daily display. The detailed display information includes a main time line bar for the entire day with hash marks or symbols for each two hours. The main bar is used to indicate the times during the day and duration of each time the HVAC function was active in this case single stage heating . The color of the horizontal activity bar such as bar matches the HVAC function being used and the width of the activity bar corresponds to the time of day during which the function was active. Above the main timeline bar are indicators such as the set temperature and any modes becoming active such as an away mode e.g. being manually set by a user or automatically set by auto away . The small number on the far upper left of the timeline indicates the starting set point temperature i.e. from the previous day . The circle symbols such as symbol indicate the time of day and the temperature of a set point change. The symbols are used to indicate both scheduled setpoints and manually change setpoints.

When the Energy menu option of selected from menu in by the user the window transitions to that shown in . An upper menu area mimics the menu in and provides the user location information within the menu structure as well as provides a convenient means for the user to navigate within the menu structure. The lower window area shows energy related information to the user in a calendar format. The individual days of the month are shown below the month banners as shown. The user can use the pointer and the scrolling control area on right side of area to scroll up and down through different days. If a scrolling control and or gestures are provided on the pointing device such as a scroll wheel and other input device such as a track pad then it can also be used by the user to scroll through energy data for different days. A leaf logo is displayed in cases where a leaf logo has been awarded for that day. Further details of awarding the leaf logo are provided herein. For each day a horizontal bar is used to graphically indicate to the user the amount of energy used on that day for heating and or cooling. In the case of multi stage heating was used and the same shading patterns are used to indicate colors as shown in . The other aspects of the energy display including the detailed daily information such as shown for Wednesday March 7are similar or identical to those shown and described in the forgoing smartphone and tablet computer examples. One difference however is that on a computer interface information can be displayed by a user hovering the pointer in certain locations. show various example of displaying such information. In the user is hovering but not clicking the pointer over the setpoint symbol . In response an information banner is displayed which indicates to the user that the symbol represents a setpoint for heating to 72 degrees on Thursday at 6 30 AM. Also indicated is how the setpoint originated in this case set by Nest Learning an automatic learning feature. shows an example of the user hovering pointer over the away symbol which caused the information banner to display. In this case at 7 58 AM the thermostat was manually i.e. by a user either directly on the thermostat or remotely set to an away mode. shows another example of hovering pointer over a setpoint symbol. Banner indicates that the setpoint at 7 23 PM was set by Nest Learning. shows another example of hovering pointer over an away symbol. In this case banner shows that the away mode was triggered by the auto away feature.

Further description will now be provided for determining primary responsibility for either over or under average energy usage. Such responsibility information can be used for example to display the responsibility symbols on the energy user interface screens such as weather symbol in away symbol in and user symbol in . By determining and displaying the primary responsibility to the user the user can learn to make better choices in order to conserve both energy and costs.

In step values for user credit and user blame are calculated. Note that in this example the user only gets credited or blamed for times when the thermostat is not in Away or Auto Away mode. For heating for every 30 second bucket the target temperature and the scheduled temperature at that time are compared. If the system is in OFF mode and ambient temperature is less than the scheduled temperature the user avoided an inefficient setpoint so the user is credited 30 seconds times difference between the scheduled temperature and the ambient temperature. If the target and scheduled temperatures are the same the difference is zero meaning that the device is running the scheduled setpoint so the user is neither credited nor blamed. If the target temperature is less than the ambient temperature and the ambient temperature is less than the scheduled temperature then the user conserved energy and the user is credited for 30 seconds times the difference between the ambient temperature and target temperature. If the scheduled temperature is less than the ambient temperature and the ambient temperature is less than the target temperature then the user wasted energy so we blame the user for 30 seconds times the difference between the ambient temperature and the scheduled temperature.

For cooling for every 30 second bucket the target temperature and the scheduled temperature at that time are compared. If the system is in OFF mode and the scheduled temperature is less than the ambient temperature then the user avoided an inefficient setpoint so user is credited 30 seconds time the difference between the ambient temperature and the scheduled temperature. If the temperatures are the same the difference is zero meaning that the device is running the scheduled setpoint so the user is neither credited nor blamed. If the scheduled temperature is less than the ambient temperature and the ambient temperature is less than the target temperature the user conserved energy so the user is credited for 30 seconds times the difference between the target temperature and the ambient temperature. If the target temperature is less than the ambient temperature and the ambient temperature is less than the scheduled temperature the user wasted energy so the user is blamed for 30 seconds times the difference between the ambient temperature and the target temperature.

In step the values for the weather credit and weather blame are calculated. Note that according to some embodiments this weather values are averaged when finding the primary responsible agent so that constant weather patterns are ignored. For every 30 second bucket a calculation is made for the difference between the outside temperature and the scheduled temperature times 30 seconds the size of bucket . If weather is in the more energetic direction in temperature e.g. colder in the case of heating or warmer in the case of cooling the weather is blamed by this amount. If weather is in the less energetic direction in temperature the weather credited by this amount.

In step the values for auto away credit are calculated. Note according to these embodiment Away or Auto Away are not blamed in any case they can only be credited. In heating mode if the heating away temperature is less than the ambient temperature and the ambient temperature is less than the scheduled target temperature than away is credited for 30 seconds times the difference between the target temperature and the ambient temperature. In cooling mode if the cooling away temperature high is greater than the ambient temperature and the ambient temperature is greater than the scheduled target temperature then away is credited 30 seconds times the difference between the ambient temperature the target temperature.

In step the values for away credit are calculated which is the same as described above for step except for manually initiated away times.

In step the primary responsible agent is calculated using the method of steps and . In step the seconds above below average is calculated by summing total activity heating cooling aux over days in the past week that have enough data e.g. missing no more than 2 hours and divide that by the number of valid days. Then the seconds above weekly average is equal to the total activity today minus the average activity. In step if today is above average then blame the agent with the greatest blame credit . If all values are less than zero then set the blame to unknown. In step if today is below average then credit the agent with the greatest credit blame . If all values are less than zero then set the credit to unknown. Note that according to some embodiments the weather can only be blamed credited when at least 18 hours of weather data is available. In step the energy summary is logged with an event including which agent user weather auto away or manual away is deemed to be primarily responsible for the above or below average energy usage.

Area of email includes the manufacturer s logo along with the user s account name location and the dates for which the information pertains. Area gives the user an energy usage summary for the month. In this calculations indicate that 35 more energy was used this month versus last month. Bar symbols are included for both cooling and heating for the current month versus the past month. The bars give the user a graphical representation of the energy including different shading for the over or under user versus the previous month.

Area indicates leaf award information. In this case the user has earned a total of 46 leafs overall since the initial installation . A message indicates how the user compares to the average user. A calendar graphic shows the days by shading in which a leaf was earned. In this case leafs were earned on 12 days in the current month. Details of the leaf algorithm are given in . According to some embodiments a leaf is awarded for the day if the leaf is displayed or would be displayed for at least one hour during that day.

Area shows information relating to the auto away and manual away features. The calendar symbols and show the days that auto away and or manual away was triggered. Also provided in area is information about the number of hours auto away was used recommendations for saving energy and cost as well as information about averages among other users.

Area shows information during which the thermostat was switched to off and includes a month calendar symbol . Area provides tips the aid the user in saving more energy. The tips can be customized for the particular user. For example if the user has set the away temperature for heating to greater than the default 62 degrees a message can be displayed suggesting a change. A link is also provided to further aid the user in conveniently making the suggested settings change.

Area provides further assistance such as how to use certain features and obtain further information along with links for further information and assistance.

According to some embodiments a method is described for encouraging a user to adopt energy saving thermostat settings. The method includes receiving user input indicating that the user wishes to change a temperature setting on the thermostat interactively displaying graphical information such as a symbol to a user when the user has

Various modifications may be made without departing from the spirit and scope of the invention. Accordingly the invention is not limited to the above described embodiments but instead is defined by the appended claims in light of their full scope of equivalents.

