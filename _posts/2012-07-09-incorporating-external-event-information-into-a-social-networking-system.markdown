---

title: Incorporating external event information into a social networking system
abstract: A social networking system allows a user to create an event in the social networking system while viewing a web page from a third-party website from a domain different than the social networking system. A widget or other social plug-in is included in the web page, and user interaction with the widget communicates information from the web page to the social networking system. An event object is created in the social networking system from the information from the web page. The social networking system may perform various actions to increase user interaction with the created event object, such as identifying additional users to invite the event or identifying users attending the event to other users.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09021034&OS=09021034&RS=09021034
owner: Facebook, Inc.
number: 09021034
owner_city: Menlo Park
owner_country: US
publication_date: 20120709
---
This invention relates generally to social networking and in particular to incorporating external event information into a social networking system.

In a typical social networking system such as a social networking website users set up their user profiles and then establish connections with other users of the social networking system. The users often provide information about themselves expressly to the social networking system such as demographic information and or a list of the users interests. Users may also provide information about themselves implicitly to the social networking system through their actions on the system and interactions with other users. In this way a social networking system can obtain a rich set of social information about its users which may be used to enhance a user s experience online.

Useful social information that is tracked and maintained by a social networking system can be thought of in terms of a social graph which includes a plurality of nodes that are interconnected by a plurality of edges. Each node in the social graph may represent something that can act on and or be acted upon by another node. Common examples of nodes include users non person entities content items groups events messages concepts and any other things that can be represented by an object in a social networking system. An edge between two nodes in the social graph represents a particular kind of connection between the two nodes which may result from an action that was performed by one of the nodes on the other node.

For example if one user establishes a connection with another user in the social networking system the two users are each represented as nodes and the edge between the nodes represents the established connection. Continuing this example one of these users may send a message to the other user within the social networking system. This act of sending the message is another edge between those two nodes which can be tracked by the social networking system. The message itself may be treated as a node. Using the social graph a social networking system may keep track of many different types of objects and the interactions and connections among those objects thereby maintaining an extremely rich store of socially relevant information.

However users frequently interact with content outside of the social networking system such as content presented by third party websites external to the social networking system. Often a user may desire to communicate this interaction with external content back to the social networking system or use attributes of the external content for objects within the social networking system. For example a social networking system may access a web page for an event such as a concert or sporting event and wish to coordinate with other social networking system users to attend the event. Currently the user would need to manually create an event within the social networking system based on the event information from the web page requiring the user to enter information about the event and identify other users to invite to the event. Hence rather than leverage information about an event from sources external to the social networking system conventional systems require a user to reproduce the information about the event in the social networking system to leverage the social networking system s functionality.

To enable users of a social networking system to more easily create events using information external to the social networking system information about an event is received and used by the social networking system to create an event inside the social networking system. In particular information describing an event and used to create an event object within the social networking system is obtained from a web page or anything represented by a URL URI or any other address on the Internet or other network which may be outside of the domain of the social networking system and used to generate the event object. Additionally the information describing the event may be provided by any suitable entity outside of the domain of the social networking system such as an application executing on a user device. Once the event object is established in the social networking system it is used as a node in a social graph maintained by the social networking system and other social networking system users may be invited to the event or otherwise be notified of the event. For example an inviting user creates an event object by communicating a time a location and or a description from a third party website to the social networking system allowing the inviting user to more easily create the event and invite users to the event.

In one embodiment a web page provided by a third party website which is in a different domain than the social networking system includes a social plug in that communicates information from the web page to the social networking system in response to input from a user which is incorporated into the social networking system. For example an iframe included in the web page allows communication of data from the web page to the social networking system. An action button may be included in the iframe so data is communicated to the social networking system when the user interacts with the action button. Based on the data from the web page the social networking system generates and stores an object that is maintained by the social networking system. The data communicated to the social networking system may describe an event allowing interaction with the social plug in on the web page to create an event within the social networking system. For example a time location name and or description of the event is provided from the web page on the third party website to the social networking system.

Hence a user may interact with a social plug in such as an action button presented within a frame on a web page of a third party website to create an event within the social networking system. The third party website need not know information was communicated to the social networking system or the identity of the user communicating information to the social networking system. In another embodiment the web page including information about the event is encoded by a markup language document which a web browser application can use to render and display the web page on a user device. The markup language document includes one or more tags including meta information about the event. For example the tags include a time for an event a location for the event a title for the event and or other information about the event. Responsive to user interaction with the social plug in the social networking system retrieves the tags from the markup language document and stores their information in the social networking system as an event object. This allows the social networking system to generate an event object and a corresponding node in the social graph representing the event in the social networking system directly from information in the web page.

Once the action to create an event is taken by the user the social networking system can react just as if the user were interacting with an event created within the social networking system. For example the social networking system may update a profile associated with the user to include an association with the event post information about the event to the user s connections or perform other actions relating to the event. After the event is created in the social networking system additional actions may be performed by the social networking system to increase user interaction with the event.

After an event is defined in the social networking system social networking system users are able interact with the event in a variety of ways. For example users may accept an invitation to the event comment on the event invite other users to the event or perform other actions associated with the event. The social networking system may also suggest additional users to invite to the event based on the probability that the additional users will attend the event. Further the social networking system may notify invited users that have not accepted an invitation to the event that certain users to whom the non accepting user has a high affinity have accepted invitations. This allows the social networking system to encourage users to attend the event. Similarly the social networking system may differently respond to user responses accepting an invitation to the event and declining an invitation to the event to promote attending the event.

The Figures depict various embodiments of the present invention for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of the invention described herein.

The user device comprises one or more computing devices that can receive input from a user and can transmit and receive data via the network . For example the user device may be a desktop computer a laptop computer a smart phone a personal digital assistant PDAs or any other device including computing functionality and data communication capabilities. The user device is configured to communicate with the third party website and the social networking system via the network which may comprise any combination of local area and or wide area networks using both wired and wireless communication systems.

In one embodiment the user device displays content from the third party website or from the social networking system by processing a markup language document received from the third party website or from the social networking system using a browser application . The markup language document identifies content and one or more instructions describing formatting or presentation of the content. By executing the instructions included in the markup language document the browser application displays the identified content using the format or presentation described by the markup language document . For example the markup language document includes instructions for generating and displaying a web page having multiple frames that include text and or image data retrieved from the third party website and or the social networking system . In various embodiments the markup language document comprises a data file including extensible markup language XML data extensible hypertext markup language XHTML data or other markup language data.

In one embodiment the user device also includes a cookie including data indicating whether a user of the user device is logged into the social networking system . The cookie indicates whether the user of the computing device is involved in an active session where the user device exchanges data with the social networking system allowing modification of the data communicated from the social networking system to the user device .

The third party website comprises one or more web servers including one or more web pages which are communicated to the user device using the network . The third party website is separate from the social networking system . For example the third party website is associated with a first domain while the social networking website is associated with a separate social networking domain. A web page included in the third party website comprises a markup language document identifying content and including instructions specifying formatting or presentation of the identified content.

The markup language document includes one or more tags including meta information associating the web page represented by the markup language document with a node in the social networking system which are further described below. The tags may provide textual titles labels and or descriptions about the node in the social networking system as well as other information such as a title label unique identifier micro format and or descriptions about the node as well as other information such as the type of the node. For example the tags identify a title location time and description of an event allowing the social networking system to create an event object and a note associated with the event object based on the information within the markup language document comprising a web page . As the web page may be maintained by an external website that is outside of the domain of the social networking system and may be operated by an entity other than an operator of the social networking system the tags in the markup language document allow external websites to define create and maintain events and their corresponding nodes used by the social networking system as further described below.

In one embodiment a web page includes a widget comprising instructions that when executed by a browser application of a user device retrieve data from the web page and communicate the data to the social networking system . Based on the data from the web page the social networking system defines and maintains an object associated with the event or an event object based on information received from the third party website. The event object is associated with a corresponding node in a social graph maintained by the social networking system an event node social networking system and display the information retrieved from the social networking system .

The widget may comprise an instruction associated with the social networking system that generates a frame within the web page that includes information from the social networking system . Hence the widget allows a web page from the external website to receive information from the social networking system when the web page is rendered and displayed by a browser application of a user device and to communicate data from the web page to the social networking system . The widget also allows a user to interact with content from the social networking website by interacting with content in the frame generated within the web page . For example the widget may also allow users of the social networking system to invite other users to the event post the event to a newsfeed comment on the event or perform other actions related to the event while viewing the web page from the third party website .

The social networking system comprises one or more computing devices storing a social network or a social graph comprising a plurality of users and providing users of the social network with the ability to communicate and interact with other users of the social network. The social networking system is further described below in conjunction with . In use users join the social networking system and then add connections to a number of other users of the social networking system to whom they desire to be connected. As used herein the term friend refers to any other user of the social networking system to whom a user has formed a connection association or relationship via the social networking system .

The social networking system also allows users to create events which include a time location and list of users invited to the event. Additional information such as a title a description photographs images videos or other data may also be associated with or included in an event. In an embodiment the social networking system creates and maintains an object associated with an event which is used as a node in a social graph. This allows users or other objects to form connections with an event. In addition to creating an event the social networking system may use information about its users to identify additional users to invite to the event or to encourage attendance to the event by modifying presentation of data associated with the event to various users. Modification of information about the event presented to users and identification of additional users to invite to the event is further described below in conjunction with .

Connections between users and or other objects may be added explicitly by a user or may be automatically created by the social networking systems based on common characteristics of the users e.g. users who are alumni of the same educational institution . For example a first user specifically selects a particular other user to be a friend. Connections in the social networking system are usually in both directions but need not be so the terms user and friend depend on the frame of reference. Connections between users of the social networking system are usually bilateral or mutual but connections may also be unilateral or one way. For example if Bob and Joe are both users of the social networking system and connected to each other Bob and Joe are each other s connections. If on the other hand Bob wishes to connect to Joe to view data communicated to the social networking system by Joe but Joe does not wish to form a mutual connection a unilateral connection may be established. The connection between users may be a direct connection however some embodiments of a social networking system allow the connection to be indirect via one or more levels of connections or degrees or separation.

In addition to establishing and maintaining connections between users and allowing interactions between users the social networking system provides users with the ability to take actions on various types of items supported by the social networking system . These items may include groups or networks where networks here refer not to physical communication networks but rather social networks of people entities and concepts to which users of the social networking system may belong events or calendar entries in which a user might be interested computer based applications that a user may use via the social networking system transactions that allow users to buy or sell items via the service and interactions with advertisements that a user may perform on or off the social networking system. These are just a few examples of the items upon which a user may act on a social networking system and many others are possible. A user may interact with anything that is capable of being represented in the social networking system or in a third party website separate from the social networking system coupled to the social networking system via a network .

The social networking system is also capable of linking a variety of entities. For example the social networking system enables users to interact with each other as well as third party websites or other entities through an API or other communication channels. Thus the social networking system generates and maintains a social graph comprising a plurality of nodes interconnected by a plurality of edges. Each node in the social graph may represent an entity that can act on another node and or that can be acted on by another node. The social graph may include various types of nodes. Examples of types of nodes include users non person entities content items web pages groups events messages concepts and any other things that can be represented by an object in the social networking system . An edge between two nodes in the social graph represents a particular kind of connection between the two nodes which may result from an action that was performed by one of the nodes on the other node. For example when a first user identifies a second user as a friend an edge in the social graph is generated connecting a node representing the first user and a second node representing the second user. As various nodes interact with each other the social networking system modifies edges connecting the various nodes to reflect the interactions.

The social networking system also includes user generated content which enhances a user s interactions with the social networking system . User generated content may include anything a user can add upload send or post to the social networking system . For example a user communicates posts to the social networking system from a user device . Posts may include data such as status updates or other textual data location information photos videos links music or other similar data and or media. Content may also be added to the social networking system by a third party through a communication channel such as a newsfeed or stream. Content items represent single pieces of content that are represented as objects in the social networking system . In this way users of the social networking system are encouraged to communicate with each other by posting text and content items of various types of media through various communication channels increasing the interaction of users with each other and increasing the frequency with which users interact with the social networking system .

As described above in conjunction with the social networking system comprises a computing system that allows users to communicate or otherwise interact with each other and access content as described herein. The social networking system stores user profiles describing the users of a social network and objects describing other content included in the social network. The user profiles include biographic demographic and other types of descriptive information such as work experience educational history hobbies or preferences location and the like. The social networking system also allows users to create events specifying a time and a location where a group of users invited to the event meet. For example an inviting user creates an event and the social networking system sends invitations to the event to users identified by the inviting user.

The social networking system further stores data describing one or more connections between different users in the connection store . The connection information may indicate users who have similar or common work experience group memberships hobbies or educational history. Additionally the social networking system includes user defined connections between different users allowing users to specify their relationships with other users. For example user defined connections allow users to generate relationships with other users that parallel the users real life relationships such as friends co workers partners and so forth. Users may select from predefined types of connections or define their own connection types as needed.

The web server links the social networking system to one or more user devices and or to one or more third party websites via the network . The web server serves web pages as well as other web related content such as JAVA FLASH XML and so forth. The web server may include a mail server or other messaging functionality for receiving and routing messages between the social networking system and one or more user devices . The messages can be instant messages queued messages e.g. email text and SMS messages or any other suitable messaging format.

The Application Programming Interface API request server allows one or more third party websites to access information from the social networking system by calling one or more APIs. The API request server may also allow third party websites to send information to the social networking website by calling APIs. For example an external website sends an API request to the social networking system including information describing an event via the network and the API request server receives the API request. The API request server processes the request by calling an API associated with the API request to generate an object and a corresponding node using the information describing the event.

The action logger is capable of receiving communications from the web server about user actions on and or off the social networking system . The action logger populates the action log with information about user actions allowing the social networking system to track various actions taken by its users within the social networking system . Any action that a particular user takes with respect to another user is associated with each user s profile through information maintained in the action log or in a similar database or other data repository. Examples of actions taken by a user within the social networking system that are identified and stored may include for example adding a connection to another user sending a message to another user reading a message from another user viewing content associated with another user attending an event posted by another user or other actions interacting with another user. When a user takes an action within the social networking system the action is recorded in the action log . In one embodiment the social networking system maintains the action log as a database of entries. When an action is taken within the social networking system an entry for the action is added to the action log .

Additionally user actions may be recorded even when taken outside of the social networking system such as a user interaction with the third party website that is separate from the social networking system . For example the action logger receives data describing a user s interaction with the third party website from the web server . Examples of actions where a user interacts with the third party website include a user expressing an interest in the third party website or another entity a user posting a comment to the social networking system that discusses the third party website or the web page within the third party website a user posting to the social networking system a Uniform Resource Locator URL or other identifier associated with the third party website a user attending an event associated with the third party website or any other action by a user that is related to the third party website . Thus the action log may include actions describing interactions between a social networking system user and the third party website separate from the social networking system .

The news feed manager selectively provides content to users of the social networking system and records the consumption of content by users. In one embodiment the news feed manager generates stories for a user describing actions taken by other members of the social networking system to whom the user is connected. In one example the news feed generated by the news feed manager for a user includes comments made by other users to whom the user is connected. In another example the news feed generated includes content posted to the social network system by other social networking system users to whom the user is connected or other actions taken by other users to whom the user is connected. As another example a generated news feed identifies an event created by a social networking system user such as an event created using a social plug in included on a web page from a third party website . New news feed stories generated for a user by the news feed manager may be ranked and stored by the social networking system . The news feed manager may communicate with the client devices through the network to provide content to users of the social networking system .

The authorization server enforces one or more privacy settings of the users of the social networking system . A privacy setting of a user determines how particular information associated with a user can be shared. The privacy setting comprises the specification of particular information associated with a user and the specification of the entity or entities with whom the information can be shared. Examples of entities with which information can be shared may include other users applications third party websites or any entity that can potentially access the information. The information that can be shared by a user comprises user profile information like profile photo phone numbers associated with the user user s connections actions taken by the user such as adding a connection changing user profile information and the like.

The privacy setting specification may be provided at different levels of granularity. For example the privacy setting may identify specific information to be shared with other users. For example the privacy setting identifies a work phone number or a specific set of related information such as personal information including profile photo home phone number and status. Alternatively the privacy setting may apply to all the information associated with the user. The specification of the set of entities that can access particular information can also be specified at various levels of granularity. Various sets of entities with which information can be shared may include for example all friends of the user all friends of friends all applications all third party websites or all external systems. One embodiment allows the specification of the set of entries comprise an enumeration of entities for example the user may provide a list of third party websites that are allowed to access certain information. Another embodiment allows the specification to comprise a set of entities along with exceptions that are not allowed to access the information. For example a user may allow all third party websites to access the user s work information but specify a list of third party websites that are not allowed to access the work information. Certain embodiments call the list of exceptions that are not allowed to access certain information a block list. External systems such as third party websites belonging to a block list specified by a user are blocked from accessing the information specified in the privacy setting. Note that the various combinations of granularity of specification of information and the granularity of specification of entities with which information is shared are possible i.e. all personal information may be shared with friends whereas all work information may be shared with friends of friends.

The authorization server includes logic for determining if certain information associated with a user can be accessed by a user s friends third party websites and or other applications and entities. For example a third party website that attempts to access a user s comment about a URL associated with the third party website must get authorization from the authorization server to access the user s work phone number. Based on the user s privacy settings the authorization server determines if another user a third party website an application or another entity is allowed to access information associated with the user including information about actions taken by the user. For example the authorization server uses a users privacy setting to determine if the user s comment about a URL associated with the third party website can be accessed by the third party website . This enables a user s privacy setting to specify which other users or other entities are allowed to receive data about the user s actions or other data associated with the user.

The social networking system maintains a user profile for each of its users and stores the user profiles in the user profile store . A user profile includes declarative information about the user that was explicitly shared by the user and may also include profile information inferred by the social networking system . In one embodiment a user profile includes multiple data fields each data field describing one or more attributes of the corresponding user of the social networking system . A user profile may include a variety of types of data such as biographic demographic and other types of descriptive information such as work experience educational history gender hobbies or preferences location and the like. A user profile may also store other information provided by the user for example images or videos. In certain embodiments images of users may be tagged with identification information of users of the social networking system displayed in an image. A user profile in the user profile store may also maintain references to actions by the corresponding user performed on content items in the content store and stored in the action log .

A user profile object for a user may also include the user s affinity scores for objects in the social networking system . An affinity score measures or indicates a user s affinity for an object in the social networking system . In one embodiment affinity scores of users for an object may be determined by the social networking system based on the user s interactions with the specified object over time. In particular affinity scores of the users for an object may be determined based on edge objects containing information describing the interactions between the user and object. Example embodiments of computing affinity scores are described in a related application Contextually Relevant Affinity Prediction in a Social Networking System U.S. patent application Ser. No. 12 978 265 filed on Dec. 23 2010 which is hereby incorporated by reference in its entirety.

The content store stores content objects. A content object may include any type of object on the social networking system such as a page post a status update a photo a video a link a shared content item a gaming application achievement a check in event at a local business and so on. Content objects include objects created by users of the social networking system such as status updates that may be associated with photo objects location objects and other users photos tagged by users to be associated with other objects in the social networking system . Additional examples of content objects include events pages and other users and applications installed on the social networking system . Information used to create a content object may be obtained from sources external to the social networking system such as a third party website . For example responsive to user interaction with a widget included in a web page from a third party website the social networking system receives data describing an event and generates an object for the event that is stored in the content store . Hence content objects or data for generating content objects may be received from third party applications or third party applications separate from the social networking system . Content items represent single pieces of content that are represented as objects in the social networking system . In this way users of the social networking system are encouraged to communicate with each other by posting text and content items of various types of media through various communication channels increasing the interaction of users with each other and increasing the frequency with which users interact within the social networking system .

In one embodiment the content store describes objects by maintaining instances of types corresponding to objects maintained by the social networking system . Each object type has information fields that are suitable for storing information appropriate to the type of object. For example the content store contains data structures with fields suitable for describing an event. When a new object of a particular type is created the social networking system initializes a new data structure of the corresponding type assigns a unique object identifier to it and begins to add data to the object as needed. This might occur for example when data describing an event is received from a user a new instance of an event object is generated in the content store a unique identifier is assigned to the event object or information from the user or from a web page begins to populate fields of the event object.

The connection store includes data structures suitable for describing a user s connections to other users connections to third party websites or connections to other objects. The connection information may indicate users who have similar or common work experience group memberships hobbies or educational history. As another example the connection information may indicate users invited to an event and or users planning to attend an event. Additionally the social networking system includes user defined connections between different users allowing users to specify their relationships with other users. For example user defined connections allow users to generate relationships with other users that parallel the users real life relationships such as friends co workers partners and so forth. Users may select from predefined types of connections or define their own connection types as needed.

Data stored in the connection store the user profile store the content store and the action log allows the social networking system to generate a social graph that identifies relationships between different users and or social objects. An edge between two nodes in the social graph represents a particular kind of connection between the two nodes which may result from an action that was performed by one of the nodes on the other node. The nodes in the social graph correspond to user profiles or objects with the edges between the nodes representing connections or other relationships between the content associated with the nodes.

For example if a first user establishes a connection with a second user in the social networking system user profiles of the first user and the second users from the user profile store may act as nodes in the social graph. The connection between the first user and the second user stored by the connection store is an edge between the nodes associated with the first user and the second user. Continuing this example the second user may then send the first user a message within the social networking system which is identified by the action logger and stored in the action log . The stored action of sending the message is another edge between the two nodes in the social graph representing the first user and the second user. Additionally the message itself may be identified from the action log and included in the social graph as another node connected to the nodes representing the first user and the second user.

The event manager identifies additional social networking system users for inviting to an event created by an inviting user. As described herein the inviting user may create the event by interacting with a social plug in or with other data included on a web page from a third party website . In one embodiment the event manager accesses the user profile store and the connection store to identify candidate users who are connected to the inviting user that are not already invited to the event. A variety of factors may be used to select a set of candidate users. For example the set of candidate users includes users connected to the inviting user that are not invited to the event but are within a specified distance of the event s location or users connected to the inviting user within a specified distance of the event s location and available at the time of the event. Hence the event manager may filter the users connected to the viewing user and not invited to the event based on their proximity to the event and or their availability at the time of the event to select the set of candidate users. In other embodiments the event manager may use other attributes of the users connected to the inviting user and the event to select the set of candidate users.

The event manager also uses affinity scores from the user profile store or from the connection store between the inviting user and various candidate users as well as other factors to determine the probability that different candidate users would join the event if notified of it. For example the event manager accesses the user profile store to determine the geographic location of a candidate user or to determine the availability of a candidate user during the time of the event. To identify candidate users most likely to attend the event the event manager may account for the distance between a candidate user and the event s location in addition to affinity score so candidate users within a threshold distance of the event s location are selected.

Hence the probability of a candidate user joining an event may be based on various factors such as the availability of candidate users at the time of the event the proximity of candidate users to the event location the affinity scores between candidate users and the inviting user as well as other suitable factors. The event manager may use additional information from the user profile store the action log and or the connection store in determining the probability that a candidate user will accept an invitation to an event. For example the event manager determines shared interests between the inviting user and a candidate user based on information in the user profiles for the respective users and or actions taken by the users. The event manager may determine that a candidate user with a number of types of interests in common with the inviting user is likely to attend an event that the inviting user created or is attending. As another example the event manager estimates a candidate user s probability of accepting an invitation to the event based on prior actions by a candidate user relating to events with similar attributes. For example a candidate user that has joined events created by the inviting user has joined events that the inviting user has also attended has joined events at the same location as the event and or has joined events with similar themes or interest may be determined to have a higher probability of accepting an invitation to the event.

In another embodiment event manager determines the probability that the inviting user would send an invitation to a candidate user if the candidate user was suggested to the inviting user. This probability may also be based on the inviting user s affinity for the candidate user as well as other factors as described above. Alternatively the event manager determines the probability that the inviting user would send an invitation to a candidate user if suggested and the probability that the candidate user would join the event upon receiving an invitation for example the event manager identifies candidate users based on the product of the probability that the inviting user would send an invitation to the candidate user and the probability that the candidate user would accept the invitation.

Other data may be used by the event manager to determine the probability that candidate users would attend an event. Additional examples of data include a level of interaction between the inviting user and a candidate user a number of users connected to both the inviting user and to a candidate user a similarity of interests or other user profile information of the inviting user and the candidate user a degree of separation between the inviting user and a candidate user or other information indicating an affinity between the inviting user and a candidate user.

In some embodiments the event manager associates a social value with each candidate user representing the social influence of each candidate user. This social influence may represent the likelihood that additional users will join an event that a candidate user joins. Hence the social value allows identification of users whose attendance to an event increases the likelihood that additional users attend the event. For a candidate user this value may be based on a number of factors including the number of connections to other users or objects associated with the candidate user the type of connections the candidate user has to other users or objects a frequency that other users accept invitations from the candidate user number of interactions between other users and the candidate user as well as other factors. Using the social values associated with different candidate users the event manager determines an expected value for different candidate users based on their social value and the probability that they accept an invitation to the event. Candidate users having the highest expected values or having expected values equaling or exceeding a threshold value are suggested by the event manager to the inviting user.

Additionally the event manager may receive responses to invitations to events from users and manage communication of those responses to additional users. In one embodiment the event manager identifies users invited to an event but that have not responded to the event invitation and notifies those users of how other users have responded to the event invitation. For example the event manager identifies users with a high affinity to a user that has not responded to an event invitation and notifies the non responding user when those users accept an invitation to the event. This allows the event manager to increase the likelihood that a user will accept an invitation to an event by notifying the user when other users to whom the user has a strong social connection or relationship attend the event. This is further described below in conjunction with .

In another embodiment the event manager notifies social networking system distributes users responses to an event invitation based on how the different users respond to the invitation. For example the event manger identifies responses accepting an event invitation on a page associated with the event allowing users to readily identify other users attending the event. Rather than identify responses declining the event invitation on the page the event manager may prompt a user declining the event invitation to provide a message to the user from which the event invitation originated. Hence responses declining an event invitation are not readily accessible to multiple social networking system users but are communicated to the user initiating the sending of the event invitation. Modification of the distribution of event invitation responses is further described below in conjunction with .

After receiving the request for the web page the third party website generates the web page from locally stored data. For example the generated web page describes the content and formatting of data included the web page in a markup language document . The generated web page includes also includes a widget which is instructions that retrieve data from the web page and communicate the data to the social networking system when executed by the user device . More specifically when executed by the user device the widget retrieves data from the web page and communicates the retrieved data to the social networking system describing an event. The web page may include data specifying a time location and name of the event and a user viewing the web page may identify a group of invited users from the social networking system via the widget or by subsequently interacting with the social networking system . In some embodiments the widget comprises instructions that when executed by the user device generates a frame or an iframe within the web page .

The third party website sends the markup language document describing the generated web page including the widget to the user device through the network . After receiving the markup language document the browser renders the web page based on the content and formatting instructions included in the markup language document . In addition to rendering the web page the browser in the user device executes the widget . In one embodiment executing the widget creates a frame such as an iframe in the web page so user interaction with the frame causes creation of an event within the social networking system based on data from the web page . While described in conjunction with rendering of a web page from a third party website in other embodiments the widget may be rendered or displayed when a user executes or accesses an application executing on the user device such as an application native to the user device .

In one embodiment responsive to a user interacting with the widget an event definition based on information in the web page is transmitted to the social networking system . The social networking system identifies a user profile associated with the user interacting with the widget as well. For example the social networking system checks the user device for a cookie identifying the user and receives the cookie or a message associated with the cookie . In one embodiment the existence of the cookie indicates whether the user of the user device is a user of the social networking system e.g. whether the user has a valid account with the social networking system . If the user of the computing device is a user of the social networking system the cookie may contain information indicating whether the user is logged into the social networking system e.g. whether the user has a current valid session with the social networking system . In other embodiments the user may be prompted to provide identifying information when interacting with the widget with the identifying information transmitted to the social networking system along with the event description. Other suitable methods of user identification or authorization may be also be used such as recognizing a physical token .

The social networking system generates an event object based on the received event definition and stores the event object in the content store . Creating the event object also generates a node corresponding to the event object in the social graph maintained by the social networking system allowing the social networking system .

In one embodiment the event object is generated using a time and a location received from the web page via the event description. Through interaction with the widget or with the social networking system a user identifies a group of social networking system users to invite to the event. This group of invited users may then be added to the event description. Additional data may be included in the event description and used when generating the event. Examples of additional data include a subject theme one or more keywords an activity or other suitable data.

From the event object the social networking system sends invitations to the event to users in the group of users invited to the event. For purposes of illustration shows the social networking system sending an invitation to a user device of an invited user . In some embodiments the social networking system also identifies additional users to invite to the event augmenting the group of invited users with additional users based on information stored by the social networking system . For example the social networking system may determine an affinity between the inviting user and uninvited users or between an invited user and uninvited users and identify additional users based on the affinity or affinities calculated. Identification of additional users to invite to an event is further described below in conjunction with .

Responsive to receiving an invitation to the event an invited user sends a response to the invitation to the social networking system . The response indicates whether the invited user will attend the event will not attend the event or is undecided about attending the event. The social networking system may distribute information about received invitation responses to entice users invited to the event but that have not responded to an invitation to attend the event. Users invited to the event but who have not responded to an invitation to the event also referred to as uncommitted users are identified by the social networking system . An affinity between an uncommitted user and a user responding it is attending the event is determined and used by the social networking system to determine whether to notify the user attending the event to the uncommitted user. For example if the affinity between the uncommitted user and the user attending the event equals or exceeds a threshold value the social networking system sends a notification identifying the attending user s attendance to a user device associated with the uncommitted user . As another example affinities between the uncommitted user and users attending the event are determined and used to rank users attending the event. The ranking is used to identify notifications of users attending the event sent to the uncommitted user. Using affinities between an uncommitted user and other users attending the event allows the social networking system to notify an uncommitted user that other users having a social relationship with the uncommitted user are attending the event. This may increase the likelihood that the uncommitted user attends the event encouraging additional interactions between social networking system users.

The markup language document including the widget is sent from the third party website to the inviting user device which renders the web page from the markup language document . When rendering the web page the inviting user device executes the widget . As described above in conjunction with a browser executing on the inviting user device may render the web page and execute the widget . In one embodiment executing the widget creates a frame such as an iframe in the web page allowing the inviting user to interact with the social networking system via the widget .

Responsive to the inviting user interacting with the widget an event definition including data from the web page is transmitted to the social networking system which generates an event object based on the event definition as described above in conjunction with . The social networking system also identifies a user profile associated with the inviting user as described above in conjunction with . Generation of the event object also causes the social networking system to generate a node corresponding to the event object in the social graph maintained by the social networking system allowing the social networking system . In one embodiment the event description used to generate the event object includes a subset of a time a location a name and a description retrieved from the web page . Through interaction with the widget or with the social networking system a user identifies a group of social networking system users to invite to the event. This group of invited users may then be added to the event description. As described below in conjunction with the social networking system may also identify users to invite to the event.

In addition to generating the event object the social networking system generates a page associated with the event also referred to as an event page. Social networking system users post content associated with the event to the event page allowing users to ascertain information about the event by viewing the event page. For example users may post comments or images to the event page allowing other users to readily identify content relevant to the event. The event page my also identify how users have responded to invitations to the event allowing users to identify other users planning to attend the event by viewing the event page.

Based on the group of invited users the social networking system sends invitations to the invited users. For purposes of illustration shows the social networking system sending an invitation to a user device associated with a user accepting an invitation or sending an invitation to an accepting user device and sending an invitation to a user device associated with a user declining an invitation or to a declining user device . In the declining user device sends a response declining the invitation to the social networking system . Responsive to receiving the response declining the invitation the social networking system requests a message from the declining user to the inviting user. By requesting this additional communication between the declining user and the inviting user the social networking system may decrease the likelihood of users declining an invitation. In some embodiments the social networking system notifies the inviting user of the user declining the invitation or the user hosting the event but does not identify the user declining the invitation to other users invited to the event.

However the accepting user device sends a response accepting the invitation to the social networking system which presents the acceptance on the event page. For example a story identifying the accepting user and the acceptance of an invitation to the event is included in a news feed presented on the event page. This allows other users to more easily identify invited users attending the event allowing users to readily identify other users attending the event when determining whether to accept an invitation.

In other embodiments to allow users to easily join events the third party website may provide an interface that identifies a user viewing a web page also referred to as a viewing user provided by the third party website as described above in conjunction with and identifies the viewing user to the social networking system . Based on the user profile of the viewing user the social networking system identifies other users of the social networking system connected to the viewing user and determines if a user connected to the viewing user has created an event based on an event description from the web page . For example the social networking system determines if an event object was created by a user connected to the viewing user and determines if data used to create the event object was received from the third party website or from the web page .

If a user connected to the viewing user created an event based on an event description obtained from the web page the social networking system transmits a description of the event to the user device of the viewing user for presentation to the user via the widget . For example if the widget comprises a frame the description of the event is presented in the frame allowing the viewing user to quickly identify the event. The description of the event may also include an input allowing the user to join the event from the widget . For example the viewing user may join the event by interacting with an input in the widget even if the viewing user has not received an invitation to the event from the user creating the event. Presentation of information received from a social networking system on a web page provided by a third party website is further described in U.S. patent application Ser. No. 12 764 928 filed on Apr. 21 2010 which is hereby incorporated by reference in its entirety.

The social networking system identifies the inviting user as described above in conjunction with and retrieves user profiles of social networking system users that are connected to the inviting user but are not associated with the event. For example the social networking system retrieves user profiles of users connected to the inviting user but not identified by the event information. From the retrieved user profiles the event manager selects a set of candidate users who are connected to the inviting user but not associated with the event.

The event manager may use a variety of factors to select the set of candidate users as described above in conjunction with . For example the set of candidate users includes users connected to the inviting user that are not invited to the event but are within a specified distance of the event s location or users connected to the inviting user within a specified distance of the event s location and available at the time of the event. Hence the event manager may filter the users connected to the viewing user and not invited to the event based on their proximity to the event and or their availability at the time of the event to select the set of candidate users. In other embodiments the event manager may use other attributes of the users connected to the inviting user and the event to select the set of candidate users.

From the set of candidate users the event manager selects one or more candidate users based on a prediction of whether each of the candidate users would join the event if notified of the event. The prediction is based on the probability or likelihood that a candidate user would join the event if notified of it. As described above in conjunction with the event manager may use a variety of factors to determine the probability that a candidate user would join an event. For example the event manager bases the prediction of a candidate user joining the event on one or more of the candidate user s affinity score for the inviting user the candidate user s location relative to the event s location and the candidate user s availability at the time of the event. The event manager may select candidate users having at least a threshold probability or likelihood of attending the event if invited to the event. As another example the event manager determines an expected value for the candidate users based on their social value and probability of attending the event as described above in conjunction with and uses the expected value to select the one or more candidate users.

In one embodiment the social networking system sends to user devices associated with the selected candidate users invitations to the event and identifies the selected candidate users to the inviting user. Alternatively the social networking system identifies the selected candidate users to the inviting user allowing the inviting user to identify one or more of the selected candidate users to receive invitations to the event and sends invitations candidate users selected by the inviting user allowing the inviting user greater control over the users receiving invitations to the event.

In one embodiment the web page comprises a markup language document that includes the content and the instructions for formatting or presenting the content . In various embodiments the markup language document comprises a data file including extensible markup language XML data extensible hypertext markup language XHTML data or other markup language data. In addition to the content and instructions for formatting or presenting the content the markup language document comprising the web page also includes one or more tags including meta information suitable for use by the social networking system . For example the tags include information describing an event associated with the content such as a location associated with the event a time associated with the event a title of the event a description of the event or other information describing the event. Based on information in the tags the social networking system generates an event object and a corresponding node in a social graph. Additional examples of information specified by tags include a title a label a type one or more keywords one or more images associated with an event and one or more social networking system user identifiers associated with the event. A title tag identifies a text string to be shown when the social networking system or a widget accesses the node.

In the example of the web page also includes a frame that calls a Uniform Resource Locator URL within a domain associated with the social networking system . The frame is rendered by a browser application operating on a user device executing a widget included in the markup language document encoding the web page . The widget comprises one or more instructions that when executed by a browser application generate the frame within the web page .

In one embodiment the frame includes one or more action buttons and may also include social information from the social networking system . For example an action button allows a user to create an event in the social networking system using information from the web page such as information from one or more tags in the web page . Responsive to user interaction with the action button information is retrieved from the web page and communicated to the social networking system as described above.

The foregoing description of the embodiments of the invention has been presented for the purpose of illustration it is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Persons skilled in the relevant art can appreciate that many modifications and variations are possible in light of the above disclosure.

Some portions of this description describe the embodiments of the invention in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are commonly used by those skilled in the data processing arts to convey the substance of their work effectively to others skilled in the art. These operations while described functionally computationally or logically are understood to be implemented by computer programs or equivalent electrical circuits microcode or the like. Furthermore it has also proven convenient at times to refer to these arrangements of operations as modules without loss of generality. The described operations and their associated modules may be embodied in software firmware hardware or any combinations thereof.

Any of the steps operations or processes described herein may be performed or implemented with one or more hardware or software modules alone or in combination with other devices. In one embodiment a software module is implemented with a computer program product comprising a computer readable medium containing computer program code which can be executed by a computer processor for performing any or all of the steps operations or processes described.

Embodiments of the invention may also relate to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes and or it may comprise a general purpose computing device selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a non transitory tangible computer readable storage medium or any type of media suitable for storing electronic instructions which may be coupled to a computer system bus. Furthermore any computing systems referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.

Embodiments of the invention may also relate to a product that is produced by a computing process described herein. Such a product may comprise information resulting from a computing process where the information is stored on a non transitory tangible computer readable storage medium and may include any embodiment of a computer program product or other data combination described herein.

Finally the language used in the specification has been principally selected for readability and instructional purposes and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope of the invention be limited not by this detailed description but rather by any claims that issue on an application based hereon. Accordingly the disclosure of the embodiments of the invention is intended to be illustrative but not limiting of the scope of the invention which is set forth in the following claims.

