---

title: Detection and filtering of an undesired narrowband signal contribution in a wireless signal receiver
abstract: Techniques are provided which may be implemented using various methods and/or apparatuses in a device comprising a receiver to scan a spectral band of a received signal comprising a desired signal contribution to determine whether signal data associated with at least a sub-band of the spectral band further comprises at least one undesired signal contribution. In response to determining that the signal data comprises at least one undesired signal contribution, the mobile station may initiate at least one notch filter to affect the undesired signal contribution in subsequent signal data associated with the received signal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09008249&OS=09008249&RS=09008249
owner: QUALCOMM Incorporated
number: 09008249
owner_city: San Diego
owner_country: US
publication_date: 20120210
---
The subject matter disclosed herein relates to wireless signal receivers and more particularly to methods and apparatuses for use in detecting and filtering one or more undesired signal contributions that may interfere with the reception of one or more desired signals.

Global navigation satellite systems GNSS such as the Global Positioning System GPS Galileo and the like rely on an ability of a terrestrial navigation receiver to process a signal from a satellite position system SPS signal usually transmitted from transmitters fixed to space vehicles SVs to obtain pseudorange measurements from the navigation receiver to the transmitters. With pseudorange measurements to a sufficient number of transmitters and knowledge of locations of the transmitters the navigation receiver may estimate its location.

An SPS signal may be encoded with a repeating sequential code. For example SPS signals and other known communication signals may be transmitted and received using spread spectrum techniques e.g. based on direct sequence spread spectrum DSSS modulation direct sequence code division multiple access DS CDMA modulation etc. . In one implementation a receiver may attempt to determine a pseudorange measurement from a received SPS signal based at least in part on a detected code phase associated with the received SPS signal. Here for example such a receiver may detect such a code phase based upon a location of an energy peak detection within a code phase search window. However given the weakness of SPS signals received from SVs at a long range and the presence of multipath and noise obtaining pseudorange measurements may be particular challenging at a mobile station such as a cellular phone given limited battery life and processing capability. Other communication signals and receivers may also exhibit similar characteristics or otherwise be affected in a multipath and or noisy signaling environment.

In addition to overcoming multipath and noise a receiver may also need to overcome undesired RF energy e.g. a jammer signal in or around the frequency band of an expected SPS signal e.g. L1 at 1575.42 MHz 10.23 MHz 154 and L2 at 1227.60 MHz 10.23 MHz 120 for a GPS signal . Such undesired RF energy may be generated by other transmitters either intentionally or unintentionally. One such other transmitter may include any one of several sources of RF energy such as for example a transmitter on the mobile station for transmitting voice or data in a wireless communication network. With knowledge of characteristics of an undesired signal e.g. carrier frequency bandwidth power level etc. a receiver may apply a notch filter to remove or substantially attenuate energy from an undesired signal in a received signal in processing an SPS signal and or other communication signal.

In one implementation a receiver at a mobile station may store or maintain a database of characteristics of different undesired signals that may be encountered in processing signals. Using such characteristics stored in a database a receiver may program one or more notch filters to remove or attenuate the undesired signals. Information in such a database may be obtained using some brute force technique s e.g. by exhaustively profiling potential interfering signals in a wide area network WAN channel and building a table of undesired signal carrier frequencies in a radio frequency driver of a navigation receiver. Disadvantageously building such a database may be time consuming and or may potentially inflate a driver code size beyond a tolerable level. Also such a table may not be capable of addressing undesired signals from certain external sources and or sporadically encountered transmitted signals.

In accordance with an aspect a method may comprise at a device comprising a receiver scanning at least one sub band of a plurality of sub bands within a spectral band of a received signal comprising a desired signal contribution to determine whether signal data associated with the at least one sub band further comprises at least one undesired signal contribution and in response to determining that the signal data in the at least one sub band comprises the at least one undesired signal contribution initiating at least one notch filter within a receiver to affect the at least one undesired signal contribution in subsequent signal data associated with the received signal.

In accordance with another aspect an apparatus may comprise means for scanning at least one sub band of a plurality of sub bands within a spectral band of a received signal comprising a desired signal contribution to determine whether signal data associated with the at least one sub band further comprises at least one undesired signal contribution and means for initiating at least one notch filter within a receiver to affect the at least one undesired signal contribution in subsequent signal data associated with the received signal in response to determining that the signal data in the at least one sub band comprises the at least one undesired signal contribution.

In accordance with yet another aspect a device may comprise a radio frequency RF front end to receive a signal a baseband processor to establish signal data associated with the received signal and at least one processing unit to scan at least one sub band of a plurality of sub bands within a spectral band of a received signal comprising a desired signal contribution to determine whether signal data associated with the at least one sub band further comprises at least one undesired signal contribution and in response to determining that the signal data in the at least one sub band comprises the at least one undesired signal contribution initiate at least one notch filter within a receiver to affect the at least one undesired signal contribution in subsequent signal data associated with the received signal.

In accordance with still another aspect an article of manufacture may comprise a non transitory computer readable medium having stored therein computer implementable instructions executable by one or more processing units of a device to scan at least one sub band of a plurality of sub bands within a spectral band of a received signal comprising a desired signal contribution to determine whether signal data associated with the at least one sub band further comprises at least one undesired signal contribution and in response to determining that the signal data in the at least one sub band comprises the at least one undesired signal contribution initiate at least one notch filter within a receiver to affect the at least one undesired signal contribution in subsequent signal data associated with the received signal.

In accordance with certain aspects example techniques are provided which may be implemented using various methods and or apparatuses in an electronic device e.g. a mobile station a receiver etc. to detect and filter one or more undesired signals that may interfere with the reception of one or more desired signals. Such methods and or apparatuses may further act in some manner to affect signal data associated with a detected undesired signal. Although the example techniques described herein are illustrated using spread spectrum receiver it should be kept in mind that the techniques provided herein may be implemented in various different types of wireless signal receiver s which spread spectrum receivers represent one example.

For example as illustrated in certain examples described herein a detector may be provided to selectively sample a portion of signal data being processed by a receiver and to detect one or more undesired signal contributions therein. Such a detector may for example identify one or more parameters associated with a detected undesired signal contribution. For example a parameter may identify an estimated center carrier frequency an estimated power and or an estimated bandwidth associated with a detected undesired signal contribution.

A receiver may then be instructed or otherwise operatively affected to process subsequent signal data in some manner to possibly reduce interference and or other deleterious effects relating at least in part to a detected undesired signal contribution. By way of example in certain implementations a programmable notch filter or the like in a filtering stage of a baseband processor may be programmed based at least in part on one or more parameters associated with a detected undesired signal contribution.

Thus for example a device having a receiver and detector as presented above and described in greater detail herein may employ the detector to scan at least one sub band of a plurality of sub bands within a spectral band of a received signal comprising a desired signal contribution to determine whether signal data associated with the sub band might also comprise at least one undesired signal contribution e.g. a jammer . In response to determining that the signal data in the sub band comprises at least one undesired signal contribution at least one notch filter within the receiver may be initiated to affect the undesired signal contribution in subsequent signal data associated with the received signal. In certain example implementations a detector may be provided in a device to set a bandwidth of one or more of the plurality of sub bands.

A detector may further generate integration data by performing coherent integration non coherent integration or both using sample data. Such a detector may then for example perform peak processing or other like estimation process based at least in part on the integration data. Thus for example one or more candidate peaks possibly associated with one or more undesired signal contributions may be identified and compared to one or more threshold values to determine whether a detected undesired signal contribution may be associated with one or more peaks.

As presented in greater detail below in certain implementations signal data may be selectively sampled or otherwise obtained by a detector at one or more different processing stages in one or more receivers. For example in one receiver signal data may be selectively obtained either before or after an initial processing stage that precedes a filtering stage comprising at least one notch filter. For example in one receiver signal data may be obtained either before or after a filtering stage comprising at least one notch filter.

In certain example implementations with a mobile station comprising two or more receivers signal data may be selected by a shared or common detector from a particular receiver.

In certain example implementations it may be beneficial to selectively activate a detector e.g. in response to one or more triggering events. Here for example a triggering event may occur upon a device initiation or a session initiation event and or upon a new signaling channel initiation event e.g. for a new channel of the receiver for a new channel for an aggressor transmitter etc. . A triggering event may for example occur in response to time based event e.g. a timer an age etc. . A triggering event may for example relate to a frequency drift event e.g. relating to an amount of oscillator drift etc. . A triggering event may for example relate to some initiated scan event such as e.g. input generated by some other feature of the mobile station or other device and or user. A triggering event may occur through an application programming interface API and or the like which may for example be exposed to an application layer etc. In yet another example a triggering event may relate to a signal data threshold event such as e.g. a received signal magnitude or the like exceeding a threshold. In certain example implementations it may be beneficial to periodically or otherwise from time to time activate a detector for performing a jammer scan. Such scheduling may be programmable in certain instances.

In certain example implementations a method may be provided for use at a device comprising a receiver which includes scanning at least one sub band of a plurality of sub bands within a spectral band of a received signal comprising a desired signal contribution to determine whether signal data associated with the at least one sub band further comprises at least one undesired signal contribution and in response to determining that the signal data in the at least one sub band comprises the at least one undesired signal contribution initiating at least one notch filter within a receiver to affect the at least one undesired signal contribution in subsequent signal data associated with the received signal.

As illustrated by the various examples herein such a method and or device may e.g. as part of the scanning process capability selectively set one or more of a bandwidth of one or more of the plurality of sub bands a center frequency of one or more of the plurality of sub bands an integration time for one or more of the plurality of sub bands and or the like or some combination thereof relating to one or more of the plurality of sub bands etc.

In certain example implementations such an example scanning process may comprise selecting at least one sub band and estimating a center frequency associated with at least one undesired signal contribution. In certain instances such an example scanning process may further rise selecting at least one sub band collecting signal samples in the selected sub band applying Fourier analysis to the signal samples to generate a power spectrum for the selected sub band and applying peak processing to the power spectrum to estimate one or more parameters associated with the at least one undesired signal contribution in the selected sub band. A power spectrum for a given signal may for example provide a plot of a portion of a signal s power e.g. energy per unit time for given frequency bins.

In certain implementations in estimating a center frequency a device may for example non coherently combine one or more power spectra for the at least one sub band and apply a threshold to the combined power spectra.

In certain example implementations in scanning a device may perform scanning for one or more of the plurality of sub bands based on a defined order. For example in certain implementations a defined order may be based at least in part on a difference of respective center frequencies of each of the plurality of sub bands from a center frequency of the spectral band.

In accordance with certain example implementations at least two of the plurality of sub bands are at least partially overlapping.

In accordance with certain example implementations at least two of the plurality of sub bands have different center frequencies and equal bandwidth sizes.

In certain example implementations a device may store information regarding one or more detected undesired signal contributions such as one or more parameters in a memory e.g. a volatile memory a non volatile memory such that a notch filter may be subsequently programmed based at least in part on the stored parameter. In certain example instances a device may transmit or otherwise provide such information and or parameters to one or more other devices. In certain example implementations a device may also transmit or otherwise provide its current estimated position or location to such other device s .

As illustrated in the examples below in certain instances a desired signal contribution may comprise one or more satellite positioning system SPS signals and an undesired signal contribution may be associated with a continuous wave signal or other like narrow band signal that interferes with reception of the SPS signal. Such a continuous wave signal may for example emanate from a source that is internal or external to the device. However it should be recognized that claimed subject matter is not necessarily limited to SPS signals and or SPS receivers as the techniques provided herein may be applied for various other types of signals receivers and or signal processing capabilities. Furthermore while certain example implementations use a device in the form of a mobile station other electronic device may also be used.

Attention is drawn now to which is a schematic block diagram illustrating an example environment that includes a device in the example form of a mobile station having a receiver coupled to a detector that is capable of detecting one or more undesired signals e.g. a continuous wave signal which may interfere with the reception of one or more desired signals e.g. SPS signal .

In this example environment comprises a plurality of SPS transmitters . For example an SPS may comprise one or more Global Navigation Satellite Systems GNSS regional navigation systems etc. As illustrated an SPS transmitter may transmit an SPS signal to mobile station . An SPS transmitter may comprise a satellite and or terrestrial transmitter e.g. a pseudolite or other like SPS augmentation device .

In this example mobile station is representative of any portable electronic device. By way of example but not limitation mobile station may comprise a computing and or communication device such as a mobile telephone a Smart Phone a lap top computer a tablet computer a wearable computer a personal digital assistant a navigation device a tracking device etc. Mobile station may for example perform and or otherwise support various navigation functions e.g. position estimation velocity estimation time estimation tracking routing location based services etc. based at least in part on one or more SPS signals.

Here for example mobile station may receive an SPS signal via receiver which may comprise an RF front end and baseband processor . As shown baseband processor may comprise a notch filter . In this example detector may interface with baseband processor and affect operation of a notch filter module comprising one or more notch filters . In this example receiver may establish filtered signal data that may be further processed and or otherwise used in some manner by a signal processor and or other capabilities . For example signal processor may use filtered signal data to estimate a position location range velocity and or other like information that may be of use in providing positioning or navigation services to a user of mobile station or other devices or entities. Thus for example other capabilities may comprise a displaying capability that presents mapping or routing information to a user via some output device not shown and or a network interface capability that provides communication between mobile station and one or more other resources devices e.g. via a communication link with one or more wired and or wireless networks .

Here for example other resources devices may comprise one or more servers a cloud computing service or other like computing devices services. Here for example network s may comprise a telephone network a cellular telephone network a local area network a wireless local area network an intranet the Internet etc. as well as combinations of network types.

In certain example implementations mobile station and or resources may be enabled e.g. via one or more network interfaces for use with various wireless communication networks such as a wireless wide area network WWAN a wireless local area network WLAN a wireless personal area network WPAN and so on. The term network and system may be used interchangeably herein. A WWAN may be a Code Division Multiple Access CDMA network a Time Division Multiple Access TDMA network a Frequency Division Multiple Access FDMA network an Orthogonal Frequency Division Multiple Access OFDMA network a Single Carrier Frequency Division Multiple Access SC FDMA network and so on. A CDMA network may implement one or more radio access technologies RATs such as cdma2000 Wideband CDMA W CDMA Time Division Synchronous Code Division Multiple Access TD SCDMA to name just a few radio technologies. Here cdma2000 may include technologies implemented according to IS 95 IS 2000 and IS 856 standards. A TDMA network may implement Global System for Mobile Communications GSM Digital Advanced Mobile Phone System D AMPS or some other RAT. GSM and W CDMA are described in documents from a consortium named 3rd Generation Partnership Project 3GPP . Cdma2000 is described in documents from a consortium named 3rd Generation Partnership Project 2 3GPP2 . 3GPP and 3GPP2 documents are publicly available. A WLAN may include an IEEE 802.11x network and a WPAN may include a Bluetooth network an IEEE 802.15x for example. Wireless communication networks may include so called next generation technologies e.g. 4G such as for example Long Term Evolution LTE Advanced LTE WiMax Ultra Mobile Broadband UMB and or the like.

It should be recognized that communication link shown in may comprise one or more wireless communication links and or one or more non wireless communication links e.g. with signals transmitted using one or more wires fibers etc. and that such communication link and or network s may also represent various supporting devices and or technologies associated therewith.

Other transmitter as illustrated in is representative of one or more transmitting devices and or circuits from which continuous wave signal may be transmitted at certain times. In this example continuous wave signal may interfere in some manner with SPS signal . Thus as previously mentioned received signal data may comprise a desired signal contribution here e.g. associated with SPS signal and an undesired signal contribution here e.g. associated with continuous wave signal . As such in an example implementation detector may be operatively arranged to sample signal data from baseband processor detect an undesired signal contribution therein and to affect operation of at least one notch filter accordingly to reduce deleterious effects that such undesired signal contribution may present to receiver signal processor and or other capabilities with regard to a desired signal contribution. Thus for example in certain instances it may be possible to substantially attenuate or remove such undesired signal contribution in subsequently received signal data using a properly applied notch filter.

It should be noted that while other transmitter is illustrated in as being externally located to mobile station in other example implementations such other transmitter may be internal to mobile station . For example a circuit not shown in mobile station may intentionally or unintentionally transmit an RF signal that interferes with SPS signal or some other desired signal contribution.

Attention is drawn next to which is a schematic block diagram illustrating certain example features that may be implemented in baseband processor and detector in accordance with certain implementations.

Baseband processor may comprise for example a pre filtering stage a filtering stage and a post filtering stage . Here for example signal data from RF front end may be obtained and processed by pre filtering stage e.g. to provide channel equalization and or make other changes to the signal data. The resulting signal data from pre filtering stage may be obtained and processed by filtering stage which as illustrated in may employ one or more notch filters and or make still other changes to the signal data. The resulting signal data from filtering stage may be obtained and further processed by post filtering stage e.g. to provide further signal adjustments.

It should be recognized that in certain implementations there may be additional signal filtering provided in pre filtering stage filtering stage and or post filtering stage . For example as illustrated in a pre filtering stage may comprise a pre notch filter .

It should be recognized that in certain implementations a receiver may have a baseband processor with fewer or more identifiable stages. The reason that three stages are identified in the example implementation illustrated in is to show that detector may affect a stage having a notch filter here filtering stage based on signal data that may be sampled at different processing points. For example signal data may be sampled by detector prior to pre filtering stage at point prior to filtering stage at point and or prior to post filtering stage at point .

With this in mind in certain example implementations detector may comprise a sample selector that may select signal data for sampling at a particular point in the processing of such signal data by baseband processor . In certain instances detector may be shared or otherwise commonly used to support a plurality of receivers etc. and as such sample selector may also select signal data for sampling from a particular one of the receivers.

Once the signal data has been sampled or such sample otherwise obtained by detector all or part of the sampled signal data may be further processed in some manner by sample preparer . For example sampled signal data may represent a spectral band which sample preparer may separate into corresponding signal data for a plurality of selected sub bands. Thus in certain example implementations sample preparer may perform frequency conversion filtering and or scaling of sampled signal data as may be useful to generate prepared signal data for use by a sample analyzer .

Sample analyzer may for example perform frequency analysis using the prepared signal data for one or more sub bands to determine whether an undesired signal contribution may be present in one or more of the sub bands. For example sample analyzer may employ coherent integration process e.g. using a fast Fourier transform FFT discrete Fourier transform DFT etc. and possibly a non coherent integration process along with an estimation process e.g. using peak processing to detect at least one undesired signal contribution. Here for example a peak processing technique may be used to identify candidate peaks having metrics which may be compared with one or more corresponding threshold values. For example if a candidate peak presents a magnitude value that exceeds a threshold magnitude value then an undesired signal contribution may be detected as being present at a particular frequency and or within a particular frequency band.

Thus as illustrated sample analyzer may for example identify one or more parameters associated with a detected undesired signal contribution. For example parameter s may identify an estimated center frequency an estimated power and or an estimated bandwidth associated with a detected undesired signal contribution.

As illustrated in the example of one or more parameter s or other associated information or signals may be provided to or otherwise obtained by notch filter to affect filtering stage . Thus for example notch filter may be set to an estimated center frequency and or an estimated bandwidth associated with a detected undesired signal contribution.

In certain example implementations detector filtering stage and or notch filter may for example also consider one or more of parameter s to determine whether a notch filter may be applied to address a given detected undesired signal contribution. Thus for example if there are a limited number of notch filters and a plurality of detected undesired signal contributions it may be beneficial to address certain detected undesired signal contributions based on their estimated center frequency estimated bandwidth and or estimated signal strength.

Attention is drawn next to which is a schematic block diagram illustrating certain further detailed features of an example receiver and detector in accordance with an implementation.

Example receiver comprises at least one antenna coupled to an RF chain comprising an RF front end an intermediate frequency down converter IFD and a decimation block . Thus a received signal from antenna may be converted to a digital signal by RF front end digitally down converted e.g. to a baseband frequency by IFD and decimated to a lower rate via decimation block .

The resulting sample data may then be provided at point to a pre filtering stage which in this example comprises a pre notch filter a gain control and equalization . Pre notch filter which may comprise a notch filter with a large bit width at both the input and the output may be provided which is capable of handling high dynamic signals but which also removes or reduces certain spurs. By way of example pre notch filter may be designed to handle a first strongest undesired signal. Given the above characteristics pre notch filter may consume more power than notch filter and as such may be selectively enabled for example in response to an undesired signal contribution having a power that exceeds a threshold value is detected. The signal data from pre notch filter may then be scaled down by a scaler at gain control e.g. to reduce a bit width of the signal data.

After gain control resulting signal data may be equalized by equalization block . Here for example a complex equalizer may be used to compensate for frequency variations in the RF and analog to digital conversion processing of RF front end . The resulting signal data may then be provided to a filtering stage at point . Here the filtering stage comprises at least one notch filter .

As mentioned with regard to detector may sample the signal data at different stages or points in its processing within baseband processor . Here in as in three possible points and e.g. taps etc. are illustrated. Hence in certain example implementations signal data may be selected from one particular point while in other example implementations sample data may be selected from one or more particular points.

In the particular example implementation in it is noted that it may be beneficial for detector to sample the signal data at point following equalization since the flatness of the spectrum at this point in the processing may allow for the detector to be of a simpler design as there may be no further need to perform frequency equalization. In certain example implementations it may be useful to have points prior to a notch filter s to possibly determine e.g. while the notch filter s is activated if a jammer s that is intended to be affected by the notch filter s is still present. If a jammer is no longer present then a notch filter s may be deactivated or possibly reassigned to affect another jammer. In certain example implementations if there is no point e.g. tap prior to a notch filter s then as an alternative access may be provided to a state s of the notch filter s wherein for example a higher or lower jammer power may be observable from a filter state. In other example implementations it may be possible to temporarily disable a notch filter s to probe the signal spectrum to determine if a jammer s is still present however such approach may allow for some interference to affect operation e.g. of a correlator etc. while such a check is performed. To determine whether notch filter is operating effectively it may be useful to sample signal data at point and if appropriate make further adjustments to the operation of notch filter .

In the example implementation in notch filter comprises a plurality of notch filters. Each notch filter may be selectively initiated and or otherwise operated to affect e.g. attenuate reduce etc. a detected undesired signal contribution. In certain example implementations a notch filter may be programmed or otherwise operated based at least in part on one or more parameters obtained from detector . In certain example instances a device may also comprise a plurality of pre notch filters .

In the example implementation in a post filtering stage may comprise additional signal processing e.g. as may be desired to provide data to a correlator .

In the example implementation of detector may estimate an undesired signal contribution s frequency strength and or bandwidth possibly sampled from at least one of points and in receiver . Here for example to select a sampling point and possibly a specific baseband processor in receiver a sample selector may comprise multiplexer or other like selection mechanism. As illustrated by setting the values of a register SA SRC SEL multiplexer may select between points of unrelated receivers e.g. a WWAN or WLAN receiver such that the detector may be shared by different technologies.

Should the bandwidth of the resulting selected signal data be significantly large to increase the resolution and reduce the FFT size in a sample analyzer sub band processing may be used. Thus a desired signal bandwidth may be processed as a plurality of sub bands. The sample analyzer may thusly perform spectrum analysis on one or more sub bands and possibly combine results for an entire desired band or some portion thereof.

With this in mind the resulting selected signal data may be provided to a sample preparer which in this implementation may comprise a frequency converter to bring the signal data to a zero frequency or DC e.g. per SA FREQ an anti aliasing filter AAF programmed to filter out data not in a desired band and reduce noise via decimation e.g. per SA DEC RATE a scaler to reduce the resulting bit width e.g. per SA SCALE and a sample memory e.g. RAM to store the prepared signal data for use by sampler analyzer . In detector sample analyzer may for example comprise a fine frequency rotation a coherent integration e.g. an FFT A DFT etc. a non coherent integration and a peak processing estimator .

Thus in this example selected signal data is provided to frequency converter which first rotates a desired sub band to low frequency. Then with AAF the resulting signal data may be passed through a chain of anti aliasing filters and decimators to keep only the relevant information in the desired sub band. The decimation rate SA DEC RATE may be a programmable value.

The signal data output by the AAF may comprise more bits than necessary. Thus for example to save memory gain control may be employed to scale down the samples e.g. to reduce a bit width without incurring saturation or excessive quantization noise which may then be stored in sample memory a prepared signal data.

If the samples in sample memory are used directly to perform the coherent integration an undesired signal whose frequency lies exactly between two frequency bins of the power spectrum may experience a coherent loss e.g. scalloping loss of 3.9 dB . This loss may be considered too large to allow in certain instances as it may lead to an increased integration time to compensate for such loss. To avoid such loss multiple overlapping energy grids may be used. For example two overlapping frequency grids may reduce maximum coherent loss to 0.9 dB. Hence in certain example instances rather than using the chain to collect an independent sample set for each energy grid one may apply a fine frequency rotator to a single data set to perform the frequency offset for each grid which may provide for more efficient operation. With this technique samples in sample memory may be used as the input to coherent integration to form even samples of the spectrum. In certain implementations fine frequency rotator may be used to rotate the samples in the sample memory by a frequency equal to half of the frequency difference between the two frequency bins. The samples output by fine frequency rotator may then be used as the input of coherent integration . The resulting energy may then be processed by peak processing estimator e.g. to detect an undesired signal contribution and establish at least one parameter associated therewith e.g. an estimated center frequency estimated power and or estimated bandwidth.

In certain example implementations it may be beneficial to use detector selectively e.g. to conserve electrical power. Hence detector may be designed to be selectively activated in whole or part upon the occurrence of one or more triggering events. By way of example detector may be initiated by one or more triggering events relating to the device receiver or baseband processor being initiated e.g. during a boot up or power ON process and or at the beginning of a session e.g. when a receiver may perform a full band scan .

By way of example detector may be initiated by one or more triggering events relating to a new network interface transmit or receive channel being initiated. Since such an event might occur often in some implementations a caching or other like mechanism may be used such that the detector is not necessarily triggered upon each occurrence of an event but rather after a certain number of such events a time following such an event or events etc.

By way of example detector may be initiated by one or more triggering events relating to certain changes e.g. drift in locally maintained timing circuitry.

By way of example detector may be initiated by one or more triggering events relating to peak processing. For example should a rate of peaks failing certain jammer tests exceed a threshold detector may be triggered to perform a scan.

By way of example detector may be initiated by one or more triggering events relating to a temporal measurement. For example if the receiver state is ON and the time since the last scan time is greater than a predefined value then detector may be triggered to perform a scan. If a pre notch filter is used before performing a scan detector may selectively sample signal data at point and perform a fast scan to see whether a particular e.g. strong undesired signal contribution is still present. Should such strong undesired signal contribution no longer be present then detector may signal or otherwise notify receiver that pre notch filter may be turned OFF to save power.

By way of example detector may be initiated by one or more triggering events relating to an abnormal power level of the signal data. For example if an amplitude of the signal or an amplitude power represented by signal data exceeds a threshold level then it may be assumed that there in an abnormal power level and that an undesired signal contribution s power may be higher than a thermal noise power. Here for example detector may be triggered to detect such undesired signal contribution s .

Similar to the case of abnormal BP amplitude if an estimated mean amplitude in one sub band is high enough an undesired signal power level in that sub band may be higher than the noise floor in that sub band and detector may be triggered to detect such undesired signal contribution s . The method of using sub band amplitude as a triggering mechanism may for example allow for detection of undesired signal contributions at lower power levels e.g. using a decimation chain without using an FFT non coherent integration and or peak processing estimation.

In certain example implementations parameters may be stored in non volatile memory or in some similar manner such that upon re starting a receiver one or more notch filters may be programmed based on the stored parameters. In certain example implementations parameters may be stored in volatile memory. Such parameters may also be stored with a timestamp or other like information that can be considered when re starting a receiver and or determining whether to trigger a detector . In certain instances such parameters may be associated with an estimated position and or location which may be considered when re starting a receiver and or determining whether to trigger a detector . Parameters may be updated over time as a result of new scans.

To detect the undesired signal contribution and estimate its power correctly one may first determine the background noise power. However since the spectrum represented by signal data obtained by detector may comprise both the power of the undesired signal contribution s and the background noise it may be useful to estimate the background noise power. Since the undesired signal contributions tend to concentrate in certain frequency tones one of the ways to do this is to approximate a mean of the background noise power with a median of the signal e.g. undesired signal contributions plus noise .

By using a sorting method in a detector one may locate the median element. If the frequency range is large and the resolution required is high such computation can be prohibitively large. However a fast median filtering algorithm for example based on a quickselect algorithm may be used in detector to reduce processing time.

An example detection algorithm which may be implemented in detector is described below for a baseband processor. Here a detection threshold may be chosen such that a probability of false alarm is P. Pmay be sufficiently small such that a probability that a notch filter is unnecessarily assigned to an un jammed frequency is low. However one may not want Pto be too small such that it would result in loss in sensitivity. Hence there may be a trade off to be made.

In this example a variable B may represent a signal bandwidth at a detector input and will likely vary depending on the device etc.

Assuming that a decimator or other additional signal processing is programmed such that a bandwidth of each sub band is B and the spectral efficiency of the decimation chain which is the portion of the sub band that can be used to detect undesired signal contributions is e.g. which in practice may be 

Let Nbe the FFT size and the target Pper frequency bin be P. Accordingly there is the following relation 1 1 thus Pcan be calculated as 

Because of the frequency selectivity of the matched filter correlator an undesired signal contribution at an edge of a signal bandwidth may not have as big an impact on the performance as might one at a lower frequency. Let Pbe the lowest undesired signal level that one would like to detect at frequencies close to DC. The lowest undesired signal contribution level required to be detected in sub band i may be calculated as dBm dBm dB where Dis a minimum signal droop level in sub band i due to the chip matched filter e.g. as illustrated by line in .

Since the required undesired signal contribution detection level may be different in each sub band different number of non coherent integration may be used for each sub band. Let Mbe the number of non coherent integration used in sub band i. Each element on an energy grid has a chi square distribution with 2Mdegrees of freedom. The distribution is central chi square for bins with noise only and non central chi square for bins with both noise and undesired signal contributions. Thus an example detection threshold can be calculated as thresh 1 2 1 where Q is the inverse normalized central chi square distribution function with 2Mdegrees of freedom 2M is variance of the complex signal in each frequency bin. A function Q can be efficiently implemented using a lookup table or the like. The value of 2M can be estimated by using a median filter. It should be recognized that the example equations 1 and 3 shown herein pertain specifically to a square law detector which is one example of an energy detector. In other example implementations other detectors may be used e.g. a linear detector and or the like may be used and as such different probability distributions would likely apply to such a detector.

An undesired signal to noise ratio per FFT bin at the output of one FFT at the lowest undesired signal contribution level may be calculated as 

A probability of detection for the lowest undesired signal contribution input level may be calculated as 

In this example for detection it may be useful that the probability of detection Pfor an undesired signal contribution tone be greater than a threshold value. As such one may determine a number of non coherent integration in sub band i by attempting to increase the value of Mfor each sub band from 1 plugging in equations 1 2 and 3 until Pis greater than the threshold value. A required number of non coherent integration may be sufficiently smaller for sub bands at the edge frequency and hence such example scheme may be more useful than simply using a scheme having a fixed number of non coherence integration across all the sub bands.

In this example to estimate accurately the power and frequency of the undesired signal contributions once a jammer frequency has been determined coarsely a higher resolution sub band spectrum may be computed centered at that jammer frequency. For example once an undesired signal contribution is detected a frequency converter may be re programmed with the center frequency equal the undesired signal frequency. A decimation factor of the decimator may be set to its highest which may lead to a small number of required non coherent integration to interpolate a peak. With such decimation factor being set higher a higher frequency resolution may be achieved.

Attention is drawn next to which is graph illustrating certain an example spectral band associated with a selected frequency and operatively partitioned into a plurality of sub bands through in accordance with an implementation. As illustrated with regard to sub bands and each sub band is associated with it respective center frequency and bandwidth . Here for example sub band has bandwidth centered at center frequency and sub band has bandwidth centered at center frequency . In this illustrated example sub bands and are adjacent and do not overlap. In other example implementations however two or more sub bands may overlap and or even comprise one or more other sub bands therein. For example an overlap fraction may be 1 . In this illustrated example sub bands through each have equal bandwidths. In other example implementations however two or more sub bands may have different bandwidths.

Because of the sinc 2 shape see line in frequency domain of a rectangular SPS chip a low frequency undesired signal contribution may have a more detrimental impact on a receiver s performance than one with a higher frequency. Thus it may be desirable to scan for and detect undesired signal contributions with lower frequencies first. This may be done for example by instructing detector to scan sub bands in a particular scan order. For example in one scan order low frequency sub bands may be scanned first and then scans may progressively continue toward the edge sub bands. An example of one such scan order is illustrated in by the numerical ordering of sub bands through . Here for example sub bands and cover the lowest frequencies with respect to a selected frequency and as such may be scanned first followed in accordance with their numerical order with sub bands and finally . In certain instances e.g. in a frequency division multiplexed SPS such as GLONASS a scan order may also be affected and or otherwise based in some manner based on one or more channels which are being tracked e.g. channels that are being tracked may have a higher priority in a scan order .

As illustrated in example mobile station may comprise one or more processing units memory connections network communication interface one or more user input devices and one or more user output devices .

As shown memory may comprise a primary memory and or a secondary memory . Here for example primary memory is illustrated as storing information and or instructions relating to signal data various forms of sample data sub band increment s power spectra threshold s a scan order coherently integrated data non coherently integrated data candidate peak s triggering event s and or a current estimated position which may be accessed provided or otherwise executed by processing unit s . Memory may store instructions for receiver and or detector that may be executed by processing unit s .

As illustrated mobile station may take the form of a specific computing device comprising one or more processing units to perform data processing e.g. in accordance with all or part of the techniques provided herein coupled to memory via one or more connections . Processing unit s may be implemented in hardware or a combination of hardware and software. Processing unit s may be representative of one or more circuits configurable to perform at least a portion of a data computing procedure or process. By way of example but not limitation a processing unit may include one or more processors controllers microprocessors microcontrollers application specific integrated circuits digital signal processors programmable logic devices field programmable gate arrays and the like or any combination thereof.

Memory may be representative of any data storage mechanism. Memory may include for example primary memory and or secondary memory . Primary memory may comprise for example a random access memory read only memory non volatile memory etc. While illustrated in this example as being separate from the processing units it should be understood that all or part of a primary memory may be provided within or otherwise co located coupled with processing unit s or other like circuitry within mobile station . Secondary memory may comprise for example the same or similar type of memory as primary memory and or one or more data storage devices or systems such as for example a disk drive an optical disc drive a tape drive a solid state memory drive etc. In certain implementations secondary memory may be operatively receptive of or otherwise configurable to couple to non transitory computer readable medium . As illustrated memory and or computer readable medium may comprise computer executable instructions associated with data signal processing e.g. in accordance with the techniques provided herein .

In certain example implementations as illustrated mobile station may further comprise one or more user input devices e.g. keyboard touch screen a microphone a camera etc. and or one or more user output devices e.g. a display a projector a speaker etc. . Hence for example navigation function related information e.g. location based service information maps etc. may be presented to the user via some form of user output. Also user input may be received which relates to a navigation function or other capabilities via the user input device s .

Although not illustrated it should be understood that mobile station may be enabled to perform a variety of tasks some or many of which may be unrelated to location based services and or other like position estimation capabilities.

Reference is made now to which is a flow diagram illustrating certain features of an example process for use in a mobile station to detect one or more undesired signals which may interfere with the reception of one or more desired signals in accordance with an implementation.

At block a signal may be received having at least one desired signal contribution and possibly one or more undesired signal contributions. At block signal data may be generated or otherwise established based on the received signal. Here for example an RF front end may receive an RF signal and establish corresponding digital signal information in the form of signal data.

At block it may be determined whether signal data associated with at least a portion of a spectral band further comprises at least one undesired signal contribution by actively scanning a spectral band of the received signal. In certain example implementations at block a triggering event may be identified which initiates such a determination process. In certain example implementations at block signal data may be obtained from or at a selected processing stage in a receiver. In certain example implementations at block a plurality of sub bands may identified and scanned e.g. in a defined order for a presence of an undesired signal contribution. In certain example implementations at block one or more parameters e.g. an estimated power an estimated bandwidth and or an estimated center frequency associated with a detected undesired signal contribution may be established.

At block in response to determining that the signal data comprises at least one undesired signal contribution at least one notch filter may be operatively initiated to affect the undesired signal contribution in subsequent signal data associated with the received signal. Here for example at block a notch filter may be programmed based at least in part on at least one parameter associated with at least one detected undesired signal contribution.

At block which is optional information e.g. one or more parameters about one or more detected undesired signal contributions may be stored and or transmitted. In certain instances such information may also comprise information regarding the mobile station and the detected undesired signal contribution e.g. a time or time period relating to the detection a triggering event leading to the detection an estimated position or location relating to the detection .

Reference throughout this specification to one example an example certain examples or exemplary implementation means that a particular feature structure or characteristic described in connection with the feature and or example may be included in at least one feature and or example of claimed subject matter. Thus the appearance of the phrase in one example an example in certain examples or in certain implementations or other like phrases in various places throughout this specification are not necessarily all referring to the same feature example and or limitation. Furthermore the particular features structures or characteristics may be combined in one or more examples and or features.

The terms and or and and or as used herein may include a variety of meanings that also are expected to depend at least in part upon the context in which such terms are used. Typically or if used to associate a list such as A B or C is intended to mean A B and C here used in the inclusive sense as well as A B or C here used in the exclusive sense. In addition the term one or more as used herein may be used to describe any feature structure or characteristic in the singular or may be used to describe a plurality or some other combination of features structures or characteristics. Though it should be noted that this is merely an illustrative example and claimed subject matter is not limited to this example.

The methodologies described herein may be implemented by various means depending upon applications according to particular features and or examples. For example such methodologies may be implemented in hardware firmware and or combinations thereof along with software. In a hardware implementation for example a processing unit may be implemented within one or more application specific integrated circuits ASICs digital signal processors DSPs digital signal processing devices DSPDs programmable logic devices PLDs field programmable gate arrays FPGAs processors controllers micro controllers microprocessors electronic devices other devices units designed to perform the functions described herein and or combinations thereof.

In the preceding detailed description numerous specific details have been set forth to provide a thorough understanding of claimed subject matter. However it will be understood by those skilled in the art that claimed subject matter may be practiced without these specific details. In other instances methods and apparatuses that would be known by one of ordinary skill have not been described in detail so as not to obscure claimed subject matter.

Some portions of the preceding detailed description have been presented in terms of algorithms or symbolic representations of operations on binary digital electronic signals stored within a memory of a specific apparatus or special purpose computing device or platform. In the context of this particular specification the term specific apparatus or the like includes a general purpose computer once it is programmed to perform particular functions pursuant to instructions from program software. Algorithmic descriptions or symbolic representations are examples of techniques used by those of ordinary skill in the signal processing or related arts to convey the substance of their work to others skilled in the art. An algorithm is here and generally is considered to be a self consistent sequence of operations or similar signal processing leading to a desired result. In this context operations or processing involve physical manipulation of physical quantities. Typically although not necessarily such quantities may take the form of electrical or magnetic signals capable of being stored transferred combined compared or otherwise manipulated as electronic signals representing information. It has proven convenient at times principally for reasons of common usage to refer to such signals as bits data values elements symbols characters terms numbers numerals information or the like. It should be understood however that all of these or similar terms are to be associated with appropriate physical quantities and are merely convenient labels. Unless specifically stated otherwise as apparent from the following discussion it is appreciated that throughout this specification discussions utilizing terms such as processing computing calculating determining classifying establishing obtaining identifying selecting and or the like refer to actions or processes of a specific apparatus such as a special purpose computer or a similar special purpose electronic computing device. In the context of this specification therefore a special purpose computer or a similar special purpose electronic computing device is capable of manipulating or transforming signals typically represented as physical electronic or magnetic quantities within memories registers or other information storage devices transmission devices or display devices of the special purpose computer or similar special purpose electronic computing device. In the context of this particular patent application the term specific apparatus may include a general purpose computer once it is programmed to perform particular functions pursuant to instructions from program software.

In some circumstances operation of a memory device such as a change in state from a binary one to a binary zero or vice versa for example may comprise a transformation such as a physical transformation. With particular types of memory devices such a physical transformation may comprise a physical transformation of an article to a different state or thing. For example but without limitation for some types of memory devices a change in state may involve an accumulation and storage of charge or a release of stored charge. Likewise in other memory devices a change of state may comprise a physical change or transformation in magnetic orientation or a physical change or transformation in molecular structure such as from crystalline to amorphous or vice versa. In still other memory devices a change in physical state may involve quantum mechanical phenomena such as superposition entanglement or the like which may involve quantum bits qubits for example. The foregoing is not intended to be an exhaustive list of all examples in which a change in state for a binary one to a binary zero or vice versa in a memory device may comprise a transformation such as a physical transformation. Rather the foregoing are intended as illustrative examples.

A computer readable storage medium typically may be non transitory or comprise a non transitory device. In this context a non transitory storage medium may include a device that is tangible meaning that the device has a concrete physical form although the device may change its physical state. Thus for example non transitory refers to a device remaining tangible despite this change in state.

While there has been illustrated and described what are presently considered to be example features it will be understood by those skilled in the art that various other modifications may be made and equivalents may be substituted without departing from claimed subject matter. Additionally many modifications may be made to adapt a particular situation to the teachings of claimed subject matter without departing from the central concept described herein.

Therefore it is intended that claimed subject matter not be limited to the particular examples disclosed but that such claimed subject matter may also include all aspects falling within the scope of appended claims and equivalents thereof.

