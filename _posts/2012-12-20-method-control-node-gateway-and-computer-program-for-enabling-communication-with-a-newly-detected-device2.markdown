---

title: Method, control node, gateway and computer program for enabling communication with a newly detected device
abstract: A method, control node, gateway and computer programs in a communications network for enabling communication with a newly detected device connected to the network. The method comprises receiving a request message including an id associated with the newly detected device from a gateway, and retrieving configuration data associated with the device based on the id, from a device vendor database, where the device vendor database is indicated by the id. The method further comprises providing a resource in the communications network based on the configuration data, acknowledging the request message to the gateway, thereby enabling the device to communicate with the resource in the communications network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09591601&OS=09591601&RS=09591601
owner: Telefonaktiebolaget L M Ericsson (publ)
number: 09591601
owner_city: Stockholm
owner_country: SE
publication_date: 20121220
---
This application is a 371 of International Application PCT SE2012 051458 filed Dec. 20 2012 the disclosure of which is fully incorporated herein by reference.

The present disclosure relates generally to methods a control node a gateway and computer programs in a communications network for enabling communication with a newly detected device connected to the network.

An increasing number of devices are being connected to communication networks. Devices may be involved in machine to machine communication or involved in machine to human communication for example providing data for various services. Examples of devices are sensors actuators or other kind of peripheral electronics.

A device operating as a sensor may be connected to a communications network where the device is delivering its sensor data via the network in such a way that another machine or a user is capable to interpret the data. Sometimes an intermediate device is translating or converting the data such that it becomes to a more suitable format for e.g. a human user. A communications network may be a small closed network a group of closed networks capable to intercommunicate an operator network or the Internet.

Devices of today are typically sold and delivered to normal consumers with no or limited knowledge in communication networks. When a device is connected to a communications network today a common procedure is to manually set up configure and operate the device or the network in order to enable communication and to enable exchange of device data over the communications network. A problem with the procedure of manual configuration and operation may be that it is both troublesome and invites risks for faults for a non expert in communications networks. The manual procedure may introduce faults in the configuration of device and or communication network. In the extension the manual procedure may reduce the use of devices. A common expected growth of the number of device vendors may further increase the complexity for a non network expert.

Another problem is how to automatically adopt or configure a communications network such that a user configuration input intervention may be limited to a minimum or completely avoided. Another problem is how to provide good data integrity and privacy such that no unauthorized personnel may read or manipulate information or devices.

It is an object of the invention to address at least some of the problems and issues outlined above. It is possible to achieve these objects and others by using a method and an apparatus as defined in the attached independent claims.

According to an aspect a method is provided performed by a control node in a communications network for enabling communication with a newly detected device connected to the network. The method comprises receiving a request message including an id associated with the newly detected device from a gateway. The method also comprises retrieving configuration data associated with the device based on the id from a device vendor database where the device vendor database is indicated by the id. The method also comprises providing a resource in the communications network based on the configuration data. The method also comprises acknowledging the request message to the gateway thereby enabling the device to communicate with the resource in the communications network.

An advantage with a method performed by a control node is that when a newly connected device is detected communication may be automatically enabled with the device thereby is troublesome manual configuration avoided.

According to another aspect a control node is provided in a communications network for enabling communication with a newly detected device connected to the network. The node is adapted to receive a request message including an id associated with the newly detected device from a gateway. The node is further adapted to retrieve configuration data associated with the device based on the id from a device vendor database where the device vendor database is indicated by the id. The node is further adapted to provide a resource in the communications network based on the configuration data. The node is adapted to acknowledge the request message to the gateway thereby enabling the device to communicate with the resource in the communications network.

An advantage with a control node in a communications network is that the control node may automatically provide a resource for a newly connected device such that the device automatically is reachable for another machine or a user.

According to another aspect a computer program comprising computer readable code means is provided which when run in a control node adopted to enable communication with a newly detected device causes the control node adopted to enable communication with a newly detected device to perform the corresponding method. The computer program product comprising a computer readable medium and a computer program is stored on the computer readable medium.

According to another aspect a method is provided performed by a gateway in a communications network for enabling communication with a newly detected device connected to the network. The method comprises detecting the newly connected device. The method further comprises transmitting a request message including an id associated with the newly detected device to a control node. The method further comprises receiving an acknowledgement to the request message from the control node thereby enabling the device to communicate with a resource in the communications network.

According to another aspect a gateway is provided in a communications network for enabling communication with a newly detected device connected to the network. The gateway is adapted to detect the newly connected device. The gateway is further adapted to transmit a request message including an id associated with the newly detected device to a control node. The gateway is further adapted to receive an acknowledgement to the request message from the control node thereby enabling the device to communicate with a resource in the communications network.

The above method control node gateway and computer programs may be configured and implemented according to different optional embodiments. In one possible embodiment the configuration data comprises at least one of configuration information and a software component. In another embodiment a registration message is received from the gateway an acknowledgement message is transmitted to the gateway acknowledging a successful registration wherein when the gateway is already registered the acknowledgement includes information about at least one resource already provided for the gateway. In another embodiment the registration message includes information about at least one of authentication privileges and subscription. In another embodiment the id associated with the device comprises at least one of device vendor vendor address device type cryptographic number software version and MAC address. In another embodiment when the control node is unable to resolve the device vendor database indicated by the id complementing device information is retrieved from a device identification node for resolution of from which device vendor database to retrieve configuration data.

Further possible features and benefits of this solution will become apparent from the detailed description below.

Briefly described a solution is provided to enable communication with a newly detected device i.e. a device newly detected in a communication network. When a device is connected to a communications network the device may not be previously known or directly recognized by the network. When the new device is detected by a gateway the gateway may request a control node to provide a resource for the newly detected device. The control node retrieves data from a vendor database and uses the data to provide a resource for the device. An identity of the device is used to select from which vendor database to retrieve the data. A device may be manufactured and shipped a long way through various distributors around the world before reaching a final destination with a user consumer or at an installation site. The manufacturer of the device is likely to best know the characteristics or requirements of the device. Information about such characteristics or requirements may be stored in a database such as the vendor database.

A problem today may be to handle devices from arbitrary vendors. An example is how to start using a device in a network which is not prepared for devices from a particular vendor or when a completely new vendor is about to enter the market. A problem is how to lower the barriers of start using devices connected to a communications network.

When the control node has provided the resource for the device it is acknowledged to the gateway and thereby the device is enabled to communicate with the resource in the communications network. The resource may translate data exchange with the device into a generic format or may provide a user friendly interface to the device.

An advantage with the solution is that a user may not need to manually configure the device or the communications network for enabling usage of a new device. Another advantage is that a device may be assigned an appropriate resource for optimal operation or usage.

Now the solution will be exemplified in more detail. shows a block diagram with a control node in a communications network a device which connects to a gateway a vendor database with data associated with the device and a resource provided by the control node .

Figures with the same references in the different figures is intended to have similar meaning in the different figures.

The request message received by the control node may be carried for example by a standard protocol such as DHCP Dynamic Host Configuration Protocol SNMP Simple Network Management Protocol HTTP HTTPS Hypertext Transfer Protocol Secure SIP SIPS Session Initiation Protocol Secure not limiting other standard protocols to be used. The request message may also be carried by a specific protocol adapted for communication with a control node . The request message may also be carried by a standard protocol which is adapted for communication with a control node . The message includes information indicating that the gateway has detected a newly connected device and the id associated with the device. The term id may also be denoted identification or identifier . The message may request enablement of communication for the newly connected device .

The control node retrieves configuration data from the vendor database where the vendor database is selected based on the id. The selection of vendor database may be based on a table mapping the id with an address to the associated vendor database . The table may also be in the form of a database. The id of the device may as well include the address to the vendor database . When the data is retrieved from the vendor database the data is used to provide a resource in the communications network . A few non limiting examples of a resource are a virtual machine virtual server virtual client a physical computer an API Application Programming Interface a web server or similar.

When the resource is provided and operational the control node acknowledges this back to the gateway by acknowledging the request message. The acknowledgement may include an address to the provisioned resource such as an IP Address Internet Protocol an URI URL Uniform resource identifier Uniform resource locator or similar address method including ports or protocols to be used. Thereby is the device enabled to communicate with the resource . In a case where the control node has retrieved configuration data for a particular device the control node may use the same configuration data for a similar device detected by a second gateway such that the control node may avoid to retrieve the same configuration data again.

The step S may include a number of sub steps examples of such sub steps are transmission of a request including the id of the device from the control node to the vendor database a reply including an address to where to download the configuration data from vendor database to the control node a download of the configuration data from the vendor database to the control node .

In an example of the solution the configuration data comprises at least one of configuration information and software component. The configuration data which is used in the provision of the resource may comprise configuration information or software components or other similar tools instructions of components useful in the step of provisioning of the resource . It may as well be a combination of information and components. Configuration information may be used for configuring of a standard web server such that the web server becomes configured for enabling communication with the device . A software component may be provisioned such that it operational becomes a virtual machine enabling communication with the device . Another example is where configuration data is a combination of different components. It may be configuration information for a standard server e.g. a web server and a software component in the form of an API which is adopting the communication with the server and such that the standard server and the API together form a resource . Thereby may the communication between the device and the resource be enabled.

In an example of the solution shown in the flowchart in the method may comprise a registration message received S from the gateway . Further that an acknowledgement message is transmitted to the gateway acknowledging a successful registration wherein when the gateway is already registered the acknowledgement may include information about at least one resource already provided for the gateway .

Prior reception of any requests messages from a gateway to the control node the gateway may need to register with the control node or to establish a session or a virtual connection with the control node . An example of that is by reception of a registration message from the gateway to the control node and when the request has been accepted an acknowledgement is transmitted from the control node to the gateway . If the gateway already is registered at the control node or has previously been registered with the control node the acknowledgement message may include resources already provided for the gateway . When the gateway is informed about already provisioned resources the gateway may not need to request the control node about a detected device again. The registration may be for example carried out via DHCP SNMP PDP Packet Data Protocol context creation or according to TR069 Technical Report not limiting other suitable network management protocols to be used. At this stage the control node may authenticate and may authorize the gateway .

In an example of the solution the registration message includes information about at least one of authentication privileges and subscription. Different gateways may have different privileges or different subscription types. The subscription type or set of privileges may be communicated to the gateway from the control node via the registration message in the acknowledgement.

In an example of the solution the id associated with the device comprises at least one of device vendor vendor address device type cryptographic number software version and MAC address. When a gateway detects a new device in its network the gateway may try to identify the vendor and the type of a device .

In an example of the solution when the control node is unable to resolve the device vendor database indicated by the id complementing device information may be retrieved from a device identification node for resolution of from which device vendor database to retrieve configuration data. The device identification node is for example shown in . The device identification node may be found by reading a table or database internal at the control node with device vendor servers to request. The device identification node may also be found through use of DNS Domain Name system or by use of DHT Distributed Hash Table .

The control node may be a separate server located in an operator network. The control node may be a virtual server located in an operator data environment. The control node may be a server located in a cloud based environment. Examples of a device shown in are sensors actuators or other kind of peripheral electronics. Sensors commonly used may include sensors for temperature humidity oxygen level pH depth wind rain speed acceleration movement and so forth not limiting other types of sensors. The sensors may be used in a large spectrum of appliances indoor outdoor various industrial appliances vehicle mounted and life science to mention a few examples not limiting other uses. Examples of actuators are heaters coolers breaking systems engines etc. Peripheral electronics may be monitors cameras speakers x ray equipment and equipment for magnetic resonance imaging or other kind of similar electronics. The device may communicate via different kind of communication protocols related to PAN Personal Area Network LAN Local Area Network WAN Wide Area Network . A few non limiting examples of protocols used are TCP UDP IP Transfer Control Protocol User Datagram Protocol Internet Protocol Ethernet Bluetooth LonTalk home automation protocol according to ISO IEC 14908 ZigBee according to IEEE 802 WLAN Wireless LAN GSM GPRS Global System for Mobile Communications General Packet Radio Service 3G 3rd generation of mobile telecommunications technology LTE Long Term Evolution not limiting to similar communication protocols or network solutions.

Examples of the gateway shown in are ADSL router Asymmetric Digital Subscriber Line wireless LAN access device fiber to the home termination device access points for wireless devices mobile terminal vehicle arranged terminal home automation access units TV set top boxes pluggable PC s miniaturized network connected PC and similar network access points not limiting to other units. The gateway may also be a function in a network such as the communications network a 3GPP 3rd Generation Partnership Project provided as a cloud based service not limiting to similar provisions. The vendor database may be located with a vendor with at least one vendor database located with each device vendor participating in the solution. The vendor database may be located such that a group of vendors may cooperate around one vendor database . The resource may be a physical server a virtual server a virtual machine an interface or any other suitable resource for communication with a device such as the device . A group of devices may share one common resource .

The device identification node may be a database located with a device vendor or located at a common place serving a group of vendors. When the control node not has been able to resolve from which vendor database to retrieve configuration data the control node may retrieve further device information from the device identification node . Information which enables to resolve a proper id of the device . An example of a task performed by the device identification node is translation of a MAC address in a proper address to the correct vendor database .

The device interaction unit shown in may be used by a user to interact with the device . The device interaction unit may be a mobile phone a PDA Personal Digital Assistant a personal computer or similar not limiting to other units. The user may via the device interaction unit connect to the resource and via the device interaction unit and the resource the user may interact with the device .

In an example of the solution the configuration data may comprise at least one of configuration information and a software component. The configuration information may be in a plain text format a table format a binary format not limiting other formats suitable for a resource . The software component may be a script a file with software in binary format a group of files not limiting the software component to other formats suitable for a resource .

In an example of the solution the control node may be adapted to receive a registration message from the gateway . The control node may be further adopted to transmit an acknowledgement message to the gateway which acknowledges a successful registration wherein when the gateway is already registered the acknowledgement includes information about at least one resource already provided for the gateway .

In an example of the solution the registration message may include information about at least one of authentication privileges and subscription. The control node may authenticate and or authorize the gateway to verify that the gateway is authentic. The control node may check any privileges and or subscriptions associated with the gateway such that the gateway is provided a correct security level and or access to appropriate networks and or provided the correct service levels and has the correct rights to request provision of resources .

In an example of the solution the id associated with the device may comprise at least one of device vendor vendor address device type cryptographic number software version and MAC address.

In an example of the solution when the control node may be unable to resolve the device vendor database indicated by the id the control node may be adopted to retrieve complementing device information from a device identification node . With the information from the device identification node it may be possible to resolve from which device vendor database to retrieve configuration data. An example is where a MAC address Media Access Control of a device has been captured in the detection. However the control node may not be able to resolve the MAC address into an address of a vendor database . The device identification node may as a non limiting example has the MAC address listed with an association to the vendor of the device. Thereby may the device identification node be able to respond an address to a vendor database .

Now looking at which shows a flowchart illustrating an example of the solution. A method performed by the gateway in the communications network for enabling communication with a newly detected device connected to the network . The method comprises detecting S a newly connected device . The method comprises transmitting S a request message including an id associated with the newly detected device to a control node . The method comprises receiving S an acknowledgement to the request message from the control node thereby enabling the device to communicate with the resource in the communications network .

In an example of the solution the method may comprise transmission S of a registration message to the control node . The method may comprise reception of an acknowledgement message from the control node acknowledging a successful registration wherein when the gateway is already registered the acknowledgement includes information about at least one resource already provided for the gateway .

In an example of the solution the registration message includes information about at least one of authentication privileges and subscription.

In an example of the solution the id associated with the device may comprise at least one of device vendor vendor address device type cryptographic number software version and MAC address.

Further is an illustrative example of the solution shown in where the gateway in the communications network for enabling communication with a newly detected device is connected to the network adapted to detect a newly connected device . The gateway is adapted to transmit a request message including an id associated with the newly detected device to a control node . The gateway is adapted to receive an acknowledgement to the request message from the control node thereby enabling the device to communicate with the resource in the communications network .

In an example of the solution the gateway may be adopted to transmit a registration message to the control node . The gateway may be adopted to receive an acknowledgement message from the control node which acknowledges a successful registration wherein when the gateway is already registered the acknowledgement includes information about at least one resource already provided for the gateway .

In an example of the solution the gateway may be adopted to in the registration message include information about at least one of authentication privileges and subscription.

In an example of the solution the id associated with the device may comprise at least one of device vendor vendor address device type cryptographic number software version and MAC address.

Now looking at . The control node and the gateway described above may be implemented by means of program modules of a respective computer program comprising code means which when run by processor P causes the control node and the gateway to perform the above described actions. The processor P may comprise a single Central Processing Unit CPU or could comprise two or more processing units. For example the processor P may include general purpose microprocessors instruction set processors and or related chips sets and or special purpose microprocessors such as Application Specific Integrated Circuits ASICs . The processor P may also comprise a storage for caching purposes.

Each computer program may be carried by computer program products M in the control node and the gateway shown in et al in the form of memories having a computer readable medium and being connected to the processor P. Each computer program product M or memory thus comprises a computer readable medium on which the computer program is stored e.g. in the form of computer program modules m . For example the memories M may be a flash memory a Random Access Memory RAM a Read Only Memory ROM or an Electrically Erasable Programmable ROM EEPROM and the program modules m could in alternative embodiments be distributed on different computer program products in the form of memories within the control node and the gateway .

Now looking at which shows a signaling diagram illustrating an example of the signaling between a control node device gateway and vendor database . In a signal the gateway may transmit a registration request. In a signal the control node may acknowledge the registration and may include any already provided resources . In a signal a newly connected device may be detected. In a signal the gateway may transmit a request message including an id of the newly detected device . In a signal the control node may transmit a request with the device id to a vendor database . In a signal the vendor database may respond with which configuration data that may be suitable for the device and where to download the configuration data. In a signal the configuration data may be downloaded to the control node . In a step the control node may acknowledge to the gateway that a resource is operational for the newly detected device .

How to most efficient set up and operate a control node vendor databases and where and how to deploy resources is subject for implementation and known by the skilled person. It should also be noted that the control node vendor database and resources may be clustered in different ways depending on different needs such as scalability robustness redundancy and service responsivity. An example may be where at least a part of a resource is provided to the gateway . In such an example common functions may be located in the cloud and a part of the resource that requires quick responsivity is located nearby the device .

An advantage with utilizing at least a part of the solution in a cloud type of environment is that the cloud environment may provide a better scalability and may better provide a dynamic support for provision of resources in a efficient and economical way compared with traditional data center models. A cloud based solution may advantageously support addition and withdrawal of computing resources in an efficient way which may be more economical than traditional computer centers.

While the solution has been described with reference to specific exemplary embodiments the description is generally only intended to illustrate the inventive concept and should not be taken as limiting the scope of the solution. For example the terms control node device and resource have been used throughout this description although any other corresponding nodes functions and or parameters could also be used having the features and characteristics described here. The solution is defined by the appended claims.

