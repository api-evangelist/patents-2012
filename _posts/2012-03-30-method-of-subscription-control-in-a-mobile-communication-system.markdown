---

title: Method of subscription control in a mobile communication system
abstract: A method of subscription control for a first network control node in a mobile communication environment is disclosed. The method comprises receiving a trigger request message for triggering a mobile communication device from a machine-type communication (MTC) server, determining whether the trigger request message is valid according to whether one or more MTC features required by an application indicated in the trigger request message is subscribed or activated by the mobile communication device and is supported by a network control node of the mobile communication system, and accepting the trigger request message and forwarding the trigger request message to the network control node when the trigger request message is determined to be valid.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09173099&OS=09173099&RS=09173099
owner: HTC Corporation
number: 09173099
owner_city: Taoyuan District, Taoyuan
owner_country: TW
publication_date: 20120330
---
This application claims the benefit of U.S. Provisional Application No. 61 469 093 filed on Mar. 30 2011 and entitled Method of subscription control for triggering target UE the contents of which are incorporated herein.

The invention relates to a method utilized in a mobile communication system and more particularly to a method of subscription control of Machine Type Communication MTC in a mobile communication system.

Machine type communication MTC is one type of data communication including one or more entities not requiring human interactions. That is the MTC refers to the concept of communication based on a network such as the existing GERAN UMTS long term evolution LTE or the like used by a machine device instead of a mobile station MS used by a user. The machine device used in the MTC can be called an MTC device. There are various MTC devices such as a vending machine a machine of measuring a water level at a dam etc. That is the MTC is widely applicable in various fields. The MTC device has features different from that of a typical MS. Therefore a service optimized to the MTC may differ from a service optimized to human to human communication. In comparison with a current mobile network communication service the MTC can be characterized as a different market scenario data communication less costs and efforts a potentially great number of MSs for communication wide service areas low traffic per MS etc.

Meanwhile the number of MTC devices is expected to be much greater than the number of legacy devices and a probability of performing operations of the plurality of MTC devices simultaneously is high due to a feature of atypical machine to machine M2M service. M2M communication also referred to as machine type communications or MTC may be used in a variety of areas. In the area of security M2M communication may be used in surveillance systems in backup of telephone landlines in the control of physical accesses e.g. to buildings and in car driver security. In the area of tracking and tracing M2M communication may be used for fleet management order management Pay As You Drive PAYD applications asset tracking navigation traffic information applications road tolling traffic optimization and steering. In the area of payment systems M2M communication may be used in point of sales vending machines customer loyalty applications and gaming machines. In healthcare M2M communication may be used for remotely monitoring vital signs supporting the elderly or handicapped in web access telemedicine points and in remote diagnostics. In the area of remote maintenance control M2M communication may be used in programmable logic controllers PLCs sensors lighting pumps valves elevator control vending machine control and vehicle diagnostics. In the area of metering M2M communication may be used in applications related to power gas water heating grid control and industrial metering. Additionally M2M communication based on machine type communication MTC technology may be used in areas such as customer service.

M2M communications may take advantage of deployed wireless networks based on Third Generation Partnership Project 3GPP technologies such as Global System for Mobile Communications GSM Universal Mobile Telecommunications System UMTS Long Term Evolution LTE Long Term Evolution Advanced LTE Advanced and or other technologies such as WiMAX Worldwide Interoperability for Microwave Access or those developed by the Institute for Institute of Electrical and Electronics Engineers IEEE and 3GPP2. M2M communications may use networks based on these technologies to deliver business solutions in a cost effective manner. In a circumstance involving ubiquitous deployment of wireless networks the availability of the wireless networks may facilitate and or encourage the deployment and use of M2M devices. Additionally further enhancements to these technologies may provide additional opportunities for the deployment of M2M based solutions.

To receive services e.g. evolved packet system EPS services the UE needs to register with the network. During a registration procedure e.g. attach procedure the UE may first send an ATTACH REQUEST message to a network entity e.g. MME . The ATTACH REQUEST message includes an international mobile subscriber identity IMSI which is stored in a subscriber identity module SIM card inside the mobile device e.g. UE.

According to 3GPP TR 23.888 when an MTC server wants to provide a specific MTC service to an MTC device the MTC server initiates a device trigger procedure to the MTC device by sending a trigger request message with MTC features which may include essential MTC features mandatorily supported by the network. After the MTC server successfully triggers the MTC device and clears the trigger event the MTC device initiates a subscription control procedure with a serving mobility management entity MME serving GPRS support node SGSN and a home subscriber server HSS home location register HLR .

However in the device trigger procedure the prior art faces some issues due to lack of subscription control for the required MTC features. First the device trigger procedure lacks of subscription control in the HSS HLR which causes the MTC server trigger the target MTC device successfully but the MTC device be unable to start the service later on due to mismatched MTC features in the MTC subscription. Second when the MTC server triggers the MTC device successfully and the MTC device requests for the triggered service to the serving MME SGSN the serving MME SGSN may reject the requests due to lack of capability for required essential MTC features of the triggering service. Last if the MTC subscription of the MTC device does not contain required MTC features for the triggering service the MTC device would get rejection from the serving MME SGSN and have to quit the triggering service. Such issues result in meaningless signaling overheads and wastes network and radio resources.

It is therefore a primary objective of the invention to provide a method of subscription control for Machine Type Communication MTC in a mobile communication system.

The invention discloses a method of subscription control for a network gateway node in a mobile communication system comprising receiving a trigger request message for triggering a mobile communication device from a machine type communication MTC server determining whether the trigger request message is valid according to whether one or more MTC features required by an application indicated in the trigger request message is subscribed or activated by the mobile communication device and is supported by a network control node of the mobile communication system and accepting the trigger request message and forwarding the trigger request message to the network control node when the trigger request message is determined to be valid.

The invention further discloses a method of subscription control for a first network control node in a mobile communication system comprising receiving from a mobile communication device a first non access stratum NAS message containing information of one or more Machine Type Communication MTC features required by an application wherein the mobile communication device sends the first NAS message when initiating the application in response to receiving a trigger request message from the first network control node determining whether the one or more MTC features are subscribed according to the first NAS message and rejecting the trigger request message when at least one of the one or more MTC features is determined not being subscribed.

These and other objectives of the present invention will no doubt become obvious to those of ordinary skill in the art after reading the following detailed description of the preferred embodiment that is illustrated in the various figures and drawings.

The following description is of the best contemplated mode of carrying out the invention. This description is made for the purpose of illustrating the general principles of the invention and should not be taken in a limiting sense. Note that the 3GPP specifications described herein are used to teach the spirit of the invention and the invention is not limited thereto.

In order to solve the aforementioned problems the invention provides methods for handling subscription of MTC features network user capabilities when receiving requests for MTC device triggering via a service network.

In the mobile communication environment the mobile communication device is configured for MTC and runs an application for MTC. Also there may be one or more MTC devices which run MTC applications and are connected to the mobile communication device wirelessly or through wires. The mobile communication device may be a Mobile Station MS User Equipment UE which contains a Mobile Terminal MT a Terminal Equipment TE and a Subscriber Identity Module SIM or Universal SIM USIM . The MT holds all the necessary radio functions to access the service network and the TE provides a service platform for applications.

The mobile communication device may communicate with the MTC server via the service network which may be a 3GPP network e.g. Global System for Mobile Communication GSM network Universal Mobile Telecommunications System UMTS network or Evolved Packet System EPS network. The MTC server may be a server capable of triggering MTC applications also called MTC services on the mobile communication device which is further connected to MTC application servers managed by the MTC user not shown via certain Application Programming Interfaces API and provides triggering services via the service network for the connected MTC application servers. Specifically in request of any of the connected MTC application servers the MTC server can send trigger message via the service network to the mobile communication device which is an MS UE configured for MTC for executing specific MTC application s . In the invention the mobile communication device may be referred to as an MTC device corresponding to the MTC server .

The service network may comprise an access network or called radio access network and a core network wherein the access network allows connectivity between the mobile communication device and the core network by providing the functionality of wireless transmissions and receptions to and from the mobile communication device for the core network and the core network signals the required operations to the access network for providing wireless services to the mobile communication device . The service network may be a network in compliance with the Global System for Mobile Communication GSM Universal Mobile Telecommunications System UMTS or Evolved Packet System EPS technology. The access network may be a GSM Edge Radio Access Network GERAN in the GSM technology a UMTS Terrestrial Radio Access Network UTRAN in the WCDMA HSPA technology or an Evolved UTRAN E UTRAN in the LTE LTE Advanced technology and the core network may be a GSM core or a General Packet Radio Service GPRS core in the GSM UMTS system or an Evolved Packet Core EPC in the EPS system.

The core network is connected to the access network which may include a network control node e.g. SGSN MME serving gateway S GW gateway GPRS support node GGSN PDN gateway P GW or HSS HLR for providing various services to the mobile communication device . For example the SGSN or MME S GW is the key control node for packet routing and transfer mobility management e.g. attach detach and location management session management logical link management authentication and charging functions and interfaces an E UTRAN UTRAN GERAN for the creation of relevant radio bearers. The S GW provides the serving mobile communication device a direct user plane connectivity by being a bridge between the E UTRAN and P GW and it has a control plane interface to the MME for handling mobile terminated calls to reach the mobile communication device in idle mode. The GGSN or P GW is responsible for inter working between the UMTS or EPS network and external networks. The HSS HLR is a central database that contains user related and subscription related information. HLR is responsible for enabling subscriber access which can be considered as a subset of HSS. Functions of HSS HLR include functionalities such as mobility management call and session establishment support user authentication and access authorization. The service related entity e.g. the MTC application server or the MTC server may be inside or outside of the service network and may indirectly connect to a network entity e.g. via network gateway or interworking function after appropriate authorization process or directly connect to a GGSN P GW if a user plane connection is established and remains active. Further the core network may provide different interfaces to the MTC server . The MTC server may transmit a trigger message directly to the service network via SMS or indirectly to an interworking function e.g. a gateway to process a service request e.g. trigger service request received from a MTC server for further trigger delivery. For the indirect trigger delivery the interworking function can be an entry point of the service network to the MTC server .

The MT of the mobile communication device comprises a wireless module not shown for performing the functionality of wireless transmissions and receptions to and from the service network and a controller module not shown for controlling the operation of the wireless module not shown and other functional components such as a display unit and or keypad serving as a man machine interface MMI a storage unit storing the program codes of applications or communication protocols of the GSM WCDMA HSPA LTE LTE Advanced technology for the GSM UMTS EPS network including PHY MAC RLC RRC NAS layers or others. Although not shown a subscriber identity card may be provided to be coupled to the controller module not shown which stores the International Mobile Subscriber Identity IMSI the security keys used for identification and authentication with the service networks and other operation related data acquired during communications with the service networks such as the Equivalent PLMN list and Forbidden PLMN list etc. The subscriber identity card may be a Subscriber Identity Module SIM card or a Universal SIM USIM card.

Note that only illustrates one mobile communication device one MTC server one service network including one access network and one core network for simplicity. Any modification or alternation according to the mobile communication environment as shown in shall be within the scope of the invention.

In the following embodiments the service network may be a GSM UMTS EPS network belonging to a specific PLMN and the mobile communication device may be a Mobile Station MS or User Equipment UE . The UMTS EPS network is in compliance with the 3GPP TS 23.060 TS 23.401 specifications 3GPP TS 24.008 TS 24.301 specifications 3GPP TS 23.122 and or other related UMTS EPS specifications. Based on the technology used the messages of Mobility Management MM operations may correspond to the GSM UMTS EPS technology respectively e.g. MM message for Location Area Update LAU or attach procedure GMM message for Routing Area Update RAU procedure and EPS Mobility Management EMM message for Tracking Area Update TAU procedure. Further the TAU RAU procedure may be a combined TAU LAU or combined RAU LAU procedure in which the TAU RAU REQUEST message indicates that the mobile communication device wishes to perform TAU RAU and LAU procedures for a Packet Switched domain and a Circuit Switched CS domain respectively. The attach procedure may be an ATTACH REQUEST message for a Circuit Switched domain service in GSM UMTS system or for Packet Switched domain service in UMTS EPS system. further the attach procedure may be a combined attach procedure in which the ATTACH REQUEST message indicates that the mobile communication device wishes to start a packet data session and a Circuit Switched CS domain service with the service network for mobile communication services.

In the invention there may have one or more network nodes in the core network involving the trigger request delivery procedure to receive the trigger request message and forward the trigger request message to the mobile communication device and a data base storing a mapping table between an identifier which can identify a specific service to be triggered on the mobile communication device and the required features where the data base may be in the network gateway node or in another network node e.g. HSS HLR which may be collocated with the network gateway node . For example a network node which receives a trigger request message from a MTC server is a network gateway node e.g. a device trigger gateway or HSS HLR and the network gateway node forwards the trigger request message to a following node which is the network control node e.g. MME SGSN MSC. Finally the network control node delivers the trigger message to a following node which is the mobile communication device . Along with the trigger request delivery procedure the network gateway node and the network control node may append additional information with the trigger request message as a delivery message where the information may include subscription information required MTC features.

Please refer to which is a schematic diagram of an exemplary communication device . The communication device can be the mobile communication device the network control node the network gateway node or the MTC server shown in but are not limited herein. The communication device may include a processing means such as a microprocessor or an Application Specific Integrated Circuit ASIC a storage unit and a communication interfacing unit . The storage unit may be any data storage device that can store program code for access by the processing means . Examples of the storage unit include but are not limited to a subscriber identity module SIM read only memory ROM random access memory RAM CD ROMs magnetic tapes floppy disks and optical data storage devices.

Please refer to which is a flowchart of an exemplary process . The process is used for subscription control in the network gateway node . The process may be compiled into the program code including the following steps 

Step Determine whether the trigger request message is valid according to whether one or more MTC features required by an application are subscribed or activated by the mobile communication device and also supported by the network control node . If yes go to Step otherwise go to Step .

Step Accept the trigger request message and forward the trigger request message to the network control node .

According to the process the network gateway node receives the trigger request message from the MTC server which wants to provide a specific MTC service to the mobile communication device and then initiates a device trigger procedure to trigger an application on the mobile communication device as indicated by the trigger information contained in the trigger request message. The network gateway node determines whether the trigger request message is valid i.e. all the MTC features required by the application are subscribed and activated by the mobile communication device and supported by the network control node .

The information of required MTC features may be contained in the trigger information and provided by the MTC server to the network gateway node . Alternatively the information of required MTC features may be stored in a data base shown in and the network gateway node retrieves required information from the data base . For the case that the data base is not collocated with network gateway node the network gateway node sends a quarry message with an identifier that can identify the trigger request message e.g. an MTC identifier. After obtaining the information of required MTC features associated to the trigger application the network gateway node is able to check the subscription of the mobile communication device and determine whether the trigger request message is valid i.e. the trigger application and the required MTC features of the trigger application must be subscribed by the mobile communication device .

Moreover to determine if the trigger request message is valid the network gateway node may also check the capability of the network control node for the essential MTC features to make sure that the serving network node for the mobile communication device is capable of all essential MTC features. If there is more than one serving network control node for the mobile communication device the network gateway node checks the capability of each serving network control node where the capability of each network control node can be provided to the HSS when the mobile communication device performs an attach TAU procedure combined EPS IMSI attach procedure or combined TAU LAU procedure. If the network gateway node does not have the information about the capability of the network control node for the required MTC features the network gateway node includes the information of required MTC features in the trigger request message to the network control node . Please note that if the mobile communication device provides the information about its capability of the enabled MTC features in the attach TAU procedure to the network control node or the network gateway node the network control node or the network gateway node can also consider the capability of the mobile communication device about the required MTC features of the trigger request message when determining if the trigger request message is valid or not.

If the trigger request message is determined to be valid based on the capability of network control node for the mobile communication device the network node e.g. network gateway node or network control node accepts the trigger request message and forwards the trigger request message to the following node. Otherwise the network node rejects the trigger request message. For example if the network node is network gateway node the following node is the serving network control node e.g. MME SGSN MSC if the network node is network control node the following node is the MTC mobile communication device .

Specifically the required MTC features may include one or more essential MTC features. The network node e.g. network gateway node or network control node reject the trigger request message if at least one of the essential MTC features is not subscribed by the mobile communication device or is not supported by the network control node or the mobile communication device .

The invention is for saving network resource and radio resource that will be used to deliver the trigger request message. That is before continuing to deliver the trigger request message to a following node the network node e.g. network gateway node or network control node needs to make sure that the trigger request message to be delivered is with valid subscription for the required MTC features and can be performed successfully by the mobile communication device and can be supported by a network control node. Therefore after the mobile communication device receives the trigger request message the mobile communication device can execute the application with required MTC features as indicated in the trigger request message successfully and the serving network control node for the mobile communication device is capable of providing required MTC features to handle the corresponding response message from the mobile communication device .

Please refer to which is a flowchart of an exemplary process . The process is used for subscription control in a network node e.g. network gateway node or network control node . The process may be compiled into the program code including the following steps 

Step Determine that the trigger request message is invalid according to one or more MTC features subscribed or activated by the mobile communication device and required by an application.

Step Check whether there exists any other network control node that supports all essential MTC features. If yes go to Step otherwise go to Step .

Step Check whether the selected serving network control node is in a tracking area TA within a TA identity TAI list of the mobile communication device . If yes go to Step otherwise go to Step .

Step Perform a globally unique temporary identity GUTI reallocation procedure and include a new GUTI in a first non access stratum NAS message to reply to a second NAS message from the mobile communication device .

Step Reallocate a GUTI and update the TAI list in the first NAS message to reply to the second NAS message from the mobile communication device .

According to the process the network gateway node receives a trigger request message from the MTC server which wants to provide a specific MTC service to the mobile communication device and then initiates a device trigger procedure to trigger the mobile communication device .

When the network node e.g. network gateway node or network control node determines that the trigger request message is invalid i.e. at least one essential MTC feature required by the application is not supported by serving the network control node . The network control node can try to select another network control node which supports the essential MTC features. In detail if it is the network gateway node determining that the serving network control node lacks of the essential MTC features the network gateway node can send a message to the serving network control node for selecting another network control node which is capable of providing the essential MTC features. On the other hand if it is the serving network control node determining that capability of essential MTC features is unavailable the serving network control node can try to select another network control node before responding to the network gateway node . If there is no other network control node being selected the serving network control node rejects the trigger request message with an appropriate failure cause. On the contrary if there is one another network control node being selected the network control node further checks whether the selected network control node is in the tracking area TA within the TA identity TAI list of the mobile communication device . If the selected network control node is in the tracking area TA within the TA identity TAI list of the mobile communication device the network control node performs a globally unique temporary identity GUTI reallocation procedure and includes a new GUTI in the first NAS message to reply to a second NAS message from the mobile communication device otherwise the network control node reallocates a GUTI and updates the TAI list in the first NAS message to reply to the second NAS message from the mobile communication device . Specifically the network control node can initiate a GUTI reallocation procedure to change the serving network control node for the mobile communication device by allocating a new GUTI to the mobile communication device . Moreover the serving network control node can also reallocate a new GUTI by the first NAS message of ATTACH ACCEPT or TAU ACCEPT in response to the second NAS message of ATTACH REQUEST or TAU REQUEST.

Please refer to which is a flowchart of an exemplary process . The process is used for subscription control in the mobile communication device . The process may be compiled into the program code including the following steps 

Step Check whether one or more MTC features required to an application are able to be enabled according to information thereof required by the application. If yes go to Step otherwise go to Step .

Step Send a third NAS message including the enabled MTC features to the network control node in response to the received trigger request message.

The process is performed when the mobile communication device receives the trigger request message. According to the process the mobile communication device determines whether the one or more MTC features associated to the application are enabled according to information of the required MTC features by the application. The mobile communication device enables the required MTC features based on the capability of the mobile communication device and responses the network control node via a third NAS message e.g. Service Request or Extended Service Request including the enabled MTC features. If the mobile communication device fails to enable at least one required MTC feature the mobile communication device responses the network control node via a fourth NAS message e.g. a NAS reject message or an NAS acknowledge message with an appropriate failure cause. Note that the information of the MTC features required by the application can be stored in the mobile communication device or can be acquired from the trigger request message. If the mobile communication device subscribes one or more applications the mobile communication device needs to store a mapping table between an identifier which can identify a specific service to be triggered on the mobile communication device and the required MTC features. This procedure is to ensure that before the mobile communication device continues to deliver the trigger request message to the target application for the triggering services the mobile communication device has to enable at least one of required MTC features wherein essential MTC features have to be all enabled based on the capability of the mobile communication device .

Please refer to which is a flowchart of an exemplary process . The process is used for subscription control in the network control node . The process may be compiled into the program code including the following steps 

Step Determine whether one or more MTC features required by an application are subscribed according to the fifth NAS message which contains info of required essential MTC features received from the mobile communication device . If yes go to Step otherwise go to Step .

Step Determine whether the network control node supports all the required essential MTC features. If yes go to Step otherwise go to Step .

Step Check whether there exists any other network control node that supports all the required essential MTC features. If yes go to Step otherwise go to Step .

Step Select another network control node and reallocate a new globally unique temporary identity GUTI or update a new TAI list in a sixth NAS message forward a mobility management MM context to the selected network control node and accept the trigger request message through updating information of the selected network control node to the network gateway node .

The process is performed when the network control node receives the fifth NAS message from the mobile communication device . The fifth NAS message e.g. SERVICE REQUEST or EXTENDED SERVICE REQUEST message is sent by the mobile communication device when the mobile communication device initiates the application to contact the MTC server in response to receiving the trigger request message from the network or being triggered by the application in the mobile communication device .

According to the process the network control node determines whether the MTC features required by the application in the fifth NAS message are subscribed. The network control node in the process is preferred to be the serving MME SGSN MSC.

If at least one of the MTC features is determined not being subscribed the network control node rejects the trigger request message. Otherwise if the MTC features are determined being subscribed the network node further determine whether all required essential MTC features for the application are supported by the network control node .

If the required essential MTC features are determined to be supported the network control node accepts the trigger request message. Otherwise if at lease one essential MTC feature is determined not being supported the network control node tries to select another network control node which supports all the essential MTC features.

If there is another network control node being selected the network control node reallocates a new GUTI or updates a new TAI list in a sixth NAS message forwards a MM context of the mobile communication device to the selected network control node and accepts the trigger request message to the MTC server through updating information of the selected network control node to the network gateway node .

Otherwise if there is no other network control node being selected the network control node rejects the trigger request message to the MTC server and sends a seventh NAS message e.g. SERVICE REJECT or EXTENDED SERVICE REJECT message with an error cause to the mobile communication device .

Please note that the aforementioned steps of the processes including suggested steps can be realized by means that could be a hardware a firmware known as a combination of a hardware device and computer instructions and data that reside as read only software on the hardware device or an electronic system. Examples of hardware can include analog digital and mixed circuits known as microcircuit microchip or silicon chip. Examples of the electronic system can include a system on chip SOC system in package SiP a computer on module COM and the communication device .

To sum up the invention disclose subscription control procedure for MTC service where the network node in the core network and the MTC device determine if the trigger request message sent from the MTC server is valid. If the trigger request message is invalid the network node MTC device rejects the trigger request message so that the subscription control procedure which is unnecessary herein will not be performed.

Those skilled in the art will readily observe that numerous modifications and alterations of the device and method may be made while retaining the teachings of the invention. Accordingly the above disclosure should be construed as limited only by the metes and bounds of the appended claims.

