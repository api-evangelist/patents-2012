---

title: Application programming interface for enhanced wireless local area network router
abstract: A gateway router supports a plurality of API calls initiated by application programs of client devices of a LAN and/or by network devices of a WAN. The gateway router is positioned at a boundary between the LAN and the WAN. The gateway router may take the form of a wireless local area network (WLAN) router that communicates with the client devices via the WLAN. API calls initiated by application programs operating at the client devices may be received by an operating system of the gateway router via the LAN. The gateway router is configured to perform functions corresponding to the respective API calls.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09578497&OS=09578497&RS=09578497
owner: 
number: 09578497
owner_city: 
owner_country: 
publication_date: 20120207
---
The present application claims priority to U.S. Provisional Patent Application Ser. No. 61 540 895 titled SMART ROUTER filed Sep. 29 2011 the entire contents of which are incorporated herein by reference in their entirety for all purposes.

On premises wireless routers provide wireless local area network WLAN access to client devices in both home and business environments. These wireless routers are typically connected to a wide area network WAN such as the Internet via a high capacity wired or wireless communications link to provide client devices of the WLAN with high speed access to network resources of the WAN. These wireless routers serve as gateways or access points for multiple client devices to concurrently access wide area networks.

A WLAN router includes an operating system having an application programming interface API . The API supports a plurality of API calls directing the WLAN router to perform respective corresponding functions. As one example the WLAN router receives a first message over the WLAN from a first client device indicating a first API call of the API. The first message is initiated by an application program operating at the first client device. The WLAN router stores a data resource at a storage system of the WLAN router responsive to the first API call. The WLAN router receives a second message over the WLAN indicating a second API call of the API. The second message may be initiated by an application program operating at the first client device or a second client device of the WLAN. The WLAN router sends an instance of the data resource stored at the storage system to a recipient client device over the WLAN responsive to the second API call. The recipient client device may correspond to the first client device or the second client device. Other API calls are also supported by the WLAN router. Accordingly claimed subject matter is not limited by this summary as other examples may be disclosed by the following written description and associated drawings.

A gateway router is described that supports a plurality of API calls initiated by application programs of client devices of a LAN and or by network devices of a WAN. The gateway router is positioned at a boundary between the LAN and the WAN. The gateway router may take the form of a wireless local area network WLAN router that communicates with the client devices via the WLAN.

API calls initiated by application programs operating at the client devices may be received by an operating system of the gateway router via the LAN. The gateway router is configured to perform functions corresponding to the respective API calls. API calls supported by the gateway router may include any suitable function that may be performed by the gateway router. Non limiting examples of the API calls supported by the gateway router include 

Gateway router includes a communication interface to support wired and or wireless communications between client devices of LAN and network devices of WAN . Communications interface may include one or more wired and or wireless transceivers modems or other suitable electronic devices to facilitate communications with other computing devices. Gateway router may establish communications sessions with client devices of LAN and may route communications between these client devices and network devices of WAN . For example client devices and may request and receive network resources or from server devices or via gateway router .

WAN may for example take the form of the Internet or a portion thereof. LAN of gateway router may support wired and or wireless communications between gateway router and client devices and . If supported wired communications within LAN may include Ethernet powerline Ethernet or other suitable form of wired communications. LAN may support communications through any suitable type and or number of wireless protocol standards. For example LAN may support one or more of the following standards Wi Fi e.g. 802.11 Wi MAX e.g. 802.16 LTE e.g. 3GPP TS 36 UMTS e.g. 3GPP TS 25 CDMA Bluetooth or other suitable wireless protocol.

Gateway router may include a processor to execute instructions . Instructions may be held in a storage device . Storage device may include or take the form of non volatile memory. For example storage device may include or take the form of a hard drive flash memory device or other suitable non volatile storage device. Gateway router may further include volatile memory which may be used in combination with non volatile memory of storage device by processor to execute instructions .

Instructions may include or take the form of software and or firmware. For example instructions may form part of an operating system of gateway router an application program a software component such as a plug in or other suitable instruction set or combination thereof. An operating system of gateway router may include an application programming interface API that supports a plurality of API calls described in greater detail with respect to . In some implementations functionality provided by gateway router may be supported at least in part by associated e.g. paired instructions e.g. software or firmware executed at a client device of LAN and or associated instructions e.g. software or firmware executed at a network device of WAN e.g. server device or network appliance . As one example an operating system or application program of client device of LAN may operate in combination with software of gateway router . For example an application program operating at client device may initiate API calls that may be received over LAN by an operating system of gateway router via an application programming interface. As another example software of a peer gateway router e.g. peer gateway router and or network server device e.g. server device of WAN may operate in combination with software of gateway router . For example these network devices of WAN may initiate API calls that may be received by an operating system of gateway router over the WAN via an application programming interface.

Storage device of gateway router may include a data store . Information may be stored at and or retrieved from data store by processor . Such information may include client identity information or other suitable data resources. An example client identity is described in greater detail with reference to . In contrast to traditional data caches storage device of gateway router may additionally or alternatively contain short term information such as session data and or permanent or long term information such as profile information and data resources or objects such as data dictionaries or renderable content such as chunks of movie data or other media content. Accordingly gateway router may include volatile storage such as RAM non volatile storage such as FLASH memory a hard drive etc.

Client devices and may take the form of a personal computer mobile computing device mobile communications device e.g. Internet enabled phone television set top box or other suitable electronic device. As one example a client device such as client device may include a processor to execute instructions held in storage device . Instructions may include or take the form of software and or firmware. For example instructions may form part of an operating system of client device an application program a software component such as a plug in or other suitable instruction set or combination thereof. In some implementations instructions of client device may be configured to operate in coordination with or may be paired with instructions of gateway router . Storage device may include a data store . Information may be stored at and or retrieved from data store by processor . Some client devices such as client device may be further configured for WAN access without traversing gateway router . As one example client device may take the form of a mobile communications device e.g. an Internet enabled phone that further supports wireless connectivity via a mobile broadband technology such as for example 3G or 4G.

Some network devices such as server device may be one of a plurality of server devices of a server farm . Another network device such as network appliance may be positioned along a communications path between gateway router and one or more server devices of server farm . Network appliance may take the form of a load balancer application delivery controller or other suitable network device. Network appliance may include a processor to execute instructions held in storage device . Instructions may include or take the form of software and or firmware. For example instructions may form part of an operating system of network appliance an application program a software component such as a plug in or other suitable instruction set or combination thereof. Instructions of network appliance may be configured to operate in coordination with or may be paired with instructions of gateway router . Storage device may include a data store . Information may be stored at and or retrieved from data store by processor .

Computing system may include other gateway routers such as peer gateway router . In some implementations peer gateway router may be identical to previously described gateway router . For example peer gateway router may provide LAN access for one or more client devices. Peer gateway router may be a nearby local gateway router for the same or nearby premises as gateway router and may provide LAN in combination with gateway router . In this implementation peer gateway router and gateway router may communicate via LAN . Alternatively peer gateway router may be located at a different premises that is remote from gateway router and may provide a separate LAN to respective client device. In this implementation peer gateway router may communicate with gateway router via WAN .

In gateway router receives a message at operating system via API as indicated at . The message may be transmitted over a network from a computing device. For example the message may be initiated by an application program operating at the computing device. As one example the network may include a local area network e.g. LAN and the computing device may take the form of a client device of the LAN. As another example the network may include a wide area network WAN and the computing device may take the form of a network device such as server device peer router or network appliance. In some implementations operating system may include a LAN side API for client devices of the LAN and a WAN side API for network devices of the WAN.

API may support a plurality of API calls. The message received by the operating system may indicate an API call with one or more stated parameters. Responsive to the API call operating system may perform a corresponding function as indicated at .

Non limiting examples API calls supported by API may include 1 A file storage API call that directs the gateway router to store a file at a storage system of the gateway router and or remote network device of the WAN i.e. cloud storage 2 A file retrieval API call that directs the gateway router to retrieve and return a file stored at the storage system of the gateway router and or cloud storage to the client device 3 A file transfer API call that directs the gateway router to transfer a file to another client device of the LAN 4 A session state storage API call that directs the gateway router to store a session state of a communications session or a program session of a client device at the storage system of the gateway router or cloud storage 5 A session state retrieval API call that directs the gateway router to retrieve and return a session state stored at the storage system to a client device to enable the session to be re established by the client device 6 A session state transfer API call that directs the gateway router to transfer the session state to another client device of the LAN to enable that client device to re establish the session 7 A preload API call that directs the gateway router to request a data resource from a network device over the WAN store the data resource returned by the network device at a storage system of the gateway router and return an instance of the data resource to a client device of the LAN at a later time responsive to a request directed by the client device to the network device for the data resource 8 A client profile API call that directs the gateway router to create and or update client profile information at the storage system of the gateway router and or cloud storage 9 An authentication API call that directs the gateway router to authenticate a client device with one or more parameters specified by the client device or passively detected by the gateway router over the LAN 10 A client interface API call that directs the gateway router to send client interface information to a client device over the LAN enabling presentation of a client interface at the client device for controlling operation of the gateway router.

API may support other suitable API calls in addition to or as an alternative to the above non limiting examples. Multiple API calls may be used in combination by one or more client devices of the LAN and or network devices of the WAN. is a flow diagram depicting an example method for a gateway router according to one disclosed embodiment in which a plurality of API calls are received by the gateway router. As one example the gateway router may take the form of a wireless local area network WLAN router. The WLAN router may include an operating system having an application programming interface API supporting a plurality of API calls.

At a first message may be received over the WLAN from a first client device indicating a first API call of the API. The first message may be initiated by an application program operating at the first client device. At a data resource may be stored at the storage system responsive to the first API call e.g. a file storage API call or a session state storage API call . As one example the WLAN router may store the data resource at the storage system in a profile associated with the first client device or a user of the first client device responsive to the first API call.

As one example the data resource may include state information for a network communications session i.e. session state between the first client device and a network device of a wide area network WAN . For example the WLAN router may obtain the state information from network communications passing through the WLAN router between the first client device and the network device during the network communications session. Accordingly the data resource may enable an application program operating at a recipient client device to re establish the network communications session with the network device of the wide area network. As another example the data resource may include one or more of an electronic file or permissions information or preference information to be associated with a profile stored at the WLAN router. In some examples the first message received at may indicate the data resource or may include the data resource or a portion thereof.

At a second message may be received over the WLAN indicating a second API call of the API. The second API call may be initiated by the first client device another client device of the WLAN or a network device of the WAN. At an instance of the data resource stored at the storage system may be sent to a recipient client device over the WLAN responsive to the second API call. The recipient client device may correspond to the first client device or another client device. The recipient client device may receive the data resource sent over the WLAN.

In some examples the second message indicating the second API call may be received from the first client device that previously initiated the first API call. For example the second message may be initiated by the same application program or a different application program operating at the first client device. The recipient client device may correspond to a second client device of the WLAN and the second message received from the first client device may indicate the identity of the recipient client device as being the second client device of the WLAN. For example the first client device may direct the WLAN router to send a data resource previously stored at the WLAN router to the second client device. As another example the recipient client device may correspond to the first client device from which the second message was received. For example the first client device may retrieve a data resource previously stored at the WLAN router by or at the direction of the first client device.

In some examples the data resource may be one of a plurality of data resources stored in a profile associated with the first client device. The second API call may correspond to a file or session state transfer API call e.g. a synchronization function or hand off function for synchronizing or handing off one or more of the plurality of data resources between the first client device and the recipient client device. The WLAN router may send an instance of at least some of the plurality of data resources stored in the profile associated with the first client device to the recipient client device responsive to the second API call to synchronize or hand off one or more of the plurality of data resources between the first client device and the recipient client device.

As previously described with reference to other API calls may be supported by the WLAN router. For example the WLAN router may receive a third message over the WLAN from the recipient client device e.g. the first client device or the second client device indicating a third API call of the API. Again the third message may be initiated by an application program of the recipient client device. Responsive to the third API call the WLAN router may authenticate the recipient client device with authentication information included in the third message before sending an instance of the data resource to the recipient client device at for example. As another example the WLAN router may receive a third message over the WLAN from the first client device indicating a third API call of the API. The third message may be initiated by an application program of the first client device. Responsive to the third API call the WLAN router may authenticate the first client device with authentication information included in the third message before storing the data resource at the storage system at for example. As yet another example the WLAN router may receive a third message indicating a third API call of the API from either a network device over the WAN or from the first client device over the WLAN. The WLAN router may be configured to send an instance of the data resource stored at the storage system to the network device over the wide area network responsive the third API call e.g. to provide cloud storage of the data resource .

As previously described with reference to the WLAN router may support preloading of data resources. Continuing with the example of method a second data resource may be received by the WLAN router from a network device over the WAN. The second data resource may be predicted by the WLAN router and or by the network device to be requested by the first client device at a later time. The second data resource may be stored at the storage system of the WLAN router. The WLAN router may receive a third message over the WLAN from the first client device indicating a third API call of the API. The third message may be initiated by an application program operating at the first client device and may be directed at the network device. However the WLAN router may intercept the third message and may send an instance of the second data resource stored at the storage system to the first client device over the WLAN responsive to receiving the third message.

As one example first client device may establish a communications session with a website e.g. website A hosted at a network device e.g. server system or server device of a WAN . First client device may receive aspects of the website e.g. one or more data resources via gateway router over WLAN . In some examples a first client session agent supporting a LAN side network protocol stack may store session state information at database as session state . Session state may be accessed by a second client device via a session handoff GUI of a GUI module . Session handoff GUI is an example of a client interface for controlling the gateway router. Second client device may receive aspects of website A to re establish the communication session initiated by first client device . In some examples a second client session agent supporting a LAN side network protocol stack may facilitate delivery of session handoff GUI and a continued session of website A to second client device .

A WLAN antenna may provide indications of signal strength and for first and second client devices to agents and . An indication of WLAN signal strength may be used by the gateway router to control transmitter power receiver power and error correction of wireless signals over WLAN . Signal strength may also be used to identify whether a client device is within range of the WLAN and may serve as an additional form of authentication to confirm whether a client device is actually present at the WLAN before enabling the client device to access information stored at the gateway router.

Database of gateway router may include client router connection history client device settings user settings router service settings and server specific settings among other aspects of client identity information described with reference to . Gateway router may further include a cache for shorter term storage of information as compared to database .

A server of WAN may communicate with gateway router via a router service client . Server may take the form of a peer WLAN router and may include a router service . A server system including a network appliance and one or more servers may communicate with gateway router via a server session agent having a WAN side network protocol stack . Server system may access and or update information stored in a server profile . Server system may also receive and respond to requests initiated by first client device and or second client device via server session agent . Communications passing between server system or server and client devices and or may include information that may be stored at database as session state .

A gateway router such as gateway routers and may use a client identity to define an association of information that includes a profile a user account representing a human user and one or more device identifiers representing respective client devices. is a schematic diagram depicting an example client identity according to one disclosed embodiment. Client identity or portions thereof may be stored at a data store of a gateway router e.g. data store of gateway router at a data store of a network service accessible to the gateway router via a communications network e.g. WAN and or at a data store of a client device e.g. data store of client device .

Client identity may include a user account having user credentials . User credentials may be used by the gateway router to authenticate user account e.g. via a log in process . Client identity may include one or more device identifiers corresponding to one or more respective client devices. Device identifiers may include any suitable identifier that enables the gateway router to distinguish client devices from each other. As one example a device identifier may include a MAC address of a client device. As another example a device identifier may include or may be based on an identifier of an application program or operating system of a client device. In some implementations the gateway router may enable users to name client devices for example by associating a user assigned name with a device identifier. Because client identity may include two or more device identifiers corresponding to two or more client devices an individual user may be associated with two or more client devices by client identity . Conversely an individual client device may be associated to two or more users for example by the inclusion of a device identifier of the client device in two or more different client identities.

Client identity may include a profile . Profile may include or otherwise indicate files sessions permissions and or user data . Files may include one or more of the following 1 files uploaded to the gateway router by client identity 2 files sent to client identity by another client device or user account of a different client identity 3 an index of files stored at each of the client devices corresponding to device identifiers . User data may include biographical information e.g. user profile name user profile picture user preferences etc. and or other suitable information for a user represented by user account .

Sessions may include state information for network communications sessions and or application program sessions. The state information may be used by the gateway router and or a client device to continue an existing session at the client device. State information may include for example a browser cookie or a web cookie. However other forms of state information may be supported including state information for application programs.

Permissions may include one or more permission indicators for client identities user accounts device identifiers etc. Permissions may be referenced by the gateway router to determine whether a particular user represented by a user account or client device represented by a device identity is able to view or access information of profile such as files sessions user data etc. Accordingly permissions may be defined at the device level user level or client identity level which as previously described may include an association of a user with one or more client devices. Permissions may also specify whether access has been granted individual data resources such as a particular file of files a particular session of sessions or particular user data of user data . As one example a user represented by user account may permit another user represented by a different client identity to view or access files . As another example user may permit any user to view or access sessions via a particular client device such as client device .

A user may register a user account or a particular client device at the gateway router to create a client identity. depicts a use scenario where user registers or otherwise creates user account at the gateway router in which user is represented by user credentials . User credentials may be used by first user across any computing platform to access information in client identity or services provided by the gateway router. User may also own or operate client devices and . Client devices and may be registered with the gateway router in which client devices and are represented by respective device identifiers . User may share content of profile between client devices and via the gateway router. User may additionally share the content of profile with other client devices through which first user has provided user credentials to the gateway router.

Information stored in profile such as state information and files may also be shared with user via permissions . For example user may grant permission to user associated with client identity via permissions to share session state and or files with client devices through which user has been authenticated by the gateway router. For example user may access session state and or files of profile from client device owned by first user or from client device that is owned by another user. First user may also grant permission to a client device associated with client identity via permissions to share session state and or files with any user of client device .

At the method may include establishing a network communications session for a first client device of a LAN with a network device of a WAN via the gateway router. As one example the network communications session may include communications between software components at the transport layer which is Layer 4 according to the Open Systems Interconnection OSI model. The network communications session may alternatively include an application program session at the application layer or Layer 7 in the OSI model. Alternatively other the network communications session may be at another layer such as the network layer or may be a combination of a network communications session and an application program session.

At the method may include associating the first client device with a client identity. As previously described the first client device may be associated with a client identity via a device identifier or by a user account of a user operating the first client device. For example the client identity may include a collection of device identities corresponding to respective client devices. The collection may include a first device identifier defined at least in part by an identifier of the first client device and a second device identifier defined at least in part by an identifier of a second client device.

As one example the first client device may be associated with the client identity by storing a device identifier received from the first client device with the client identity at a storage device of the gateway router. As another example the first client device may be associated with the client identity by sending an identifier received from the first client device to a network service accessible to the gateway router via the wide area network. The network service may be configured to store the identifier with the client identity at a remote storage device accessible to the network service.

Prior to or during the process of establishing a network communications session a user may actively register the client identity with the gateway router or a network service accessible to the gateway router via the WAN by providing a device identifier of the first client device to the gateway router and or by creating a user account at the gateway router that is portable across different client devices. In some implementations the gateway router may register or passively detect the client identity by detecting a device identifier of the first client device and or by passively detecting a user account of the user without requiring that the user actively register with the gateway router. As one example an operating system of a client device may require that a user log in to a user account of the operating system. User credentials provided by the user for logging in to the user account of the operating system may be authenticated by the client device and an indication of the authentication may be sent to the gateway router to also authenticate the user at the gateway router.

At the method may include obtaining state information for the network communications session for the first client device. As one example the state information may be obtained at an application layer Layer 7 of a network communications session in the OSI model. For example the gateway router may obtain and store browser cookies or web cookies sent between the client device and a network device of the WAN. As another example application programs at the client device may report their state to the gateway router via an application programming interface API .

In some implementations the state information for the network communications session may be obtained by the gateway router passively monitoring communications between the first client device and a network device of the WAN without terminating the communications. In some implementations the state information for the network communications session may be obtained by the gateway router serving as a proxy for communications between the first client device and a network device of the WAN. In this implementation the gateway router may terminate connections for communications between clients and the network device of the WAN.

At the method may include storing the state information for the network communications session in a profile of the client identity. As one example the state information may be stored in the profile at a storage device of the gateway router. Additionally or alternatively the state information may be stored in the profile of the client identity by the gateway router sending the state information to a network service accessible to the gateway router via the WAN. The network service may be configured to store the state information at a remote storage device accessible to the network service. This approach may be referred to as cloud based storage.

At the method may include receiving a request to associate a second client device with the client identity. In some implementations the request to associate the second client device with the client identity may be received from the first client device. As one example the request may take the form of a permission for the second client device to access the state information for the client identity. As another example the request may take the form of a request to add or associate a device identifier of the second client device to the client identity. The gateway server may associate the second client device with the client identity responsive to the request.

In some implementations the request to associate the second client device with the client identity may be received from the second client device. The gateway router may be configured to associate the second client device with the client identity based on the permissions set at the client identity. Alternatively the gateway router may be configured to forward the request to the first client device responsive to receiving the request from the second client device. The gateway router may receive a response e.g. as a permission from the first client device confirming or denying the forwarded request. The gateway router may be configured to associate the second client device with the client identity if the response from the first client device confirms the forwarded request and may be configured to deny association of the second client device with the client identity if the response from the first client device denies the forwarded request.

As yet another example the request to associate the second client device with the client identity may be received from the second client device as user credentials. The gateway router may be configured to authenticate the user credentials of the request received from the second client device against user credentials of a user account of the client identity or of a user account permitted to access the profile by permissions. The gateway server may be configured to associate the second client device with the client identity if the user credentials are authenticated against the user credentials of the client identity or of a user account of the permissions and may be configured to deny association of the second client device with the client identity if the user credentials are not authenticated against the user credentials of the client identity or of the permissions.

The second client device may be associated with the client identity using a similar approach described with respect to the first client device. As one example the second client device may be associated with the client identity by storing a device identifier received from the second client device with the client identity at a storage device of the gateway router. As another example the second client device may be associated with the client identity by sending an identifier received from the second client device to a network service accessible to the gateway router via the wide area network. The network service may be configured to store the identifier with the client identity at a remote storage device accessible to the network service.

At the method may include establishing continuation of the network communications session on the second client device with the network device of the WAN via the gateway router based at least in part on the state information for the network communications session stored in the profile of the client identity associated with the second client device. For example the state information may include a browser cookie or web cookie or other suitable data resource from which session state may be identified.

As previously described multiple devices owned or controlled by a user of the LAN may be registered with the gateway router. When a user uses a browser program of a first client the state information e.g. browser session state and cookies for that user are saved at the gateway router. If for example the user discontinues or sets down a first client device with a set of browser windows open in multiple tabs the state of those tabs may be saved at the gateway router. When the user connects to the gateway router with a second client device and launches the browser the gateway router communicates the same tabs to the second client device and coordinates cookie proxying so that the cookies are transmitted to the second device. Thus a user browsing a webpage for products on a first client device wouldn t necessarily be required to re login with a username and or password on the second client device in order to purchase the products via the second device. Instead the user could push a button browse to the gateway router to pick up or just be configured to continue sessions . Some or all of the states of the browser windows may be accessible on any client device. A user watching a broadcast television stream on a first display device wouldn t be required to remember the address channel when picking up the same stream at a different display device. If the cookies have saved the user s state the user is enabled by the gateway router to resume at the same place the user left off at via the client second device.

As another example software applications or application programs operating at client devices may maintain state across the client devices via the gateway router. While the applications may not necessarily speak HTTP or other specified communications protocol the applications may access APIs on the gateway router that enables different client devices to report their state to the gateway router. The applications may access the state of other client devices. A collection of such APIs in a gateway router may provide an operating system for a home or business where each client device may be a registered trusted device used by an authorized user and may be integrated with other client devices of the user or associated with each other via the gateway router. A seamless user experience may be achieved online and in media consumption across client devices even with the reality of device proliferation. One example of such an API of the gateway router is described with reference to .

At the method may include receiving a data resource from a first client device at the gateway router over a local area network established by the gateway router. A data resource may include a file a hyperlink a URL or URI an application program or portion thereof application session state information network communications session state information etc.

At the method may include obtaining permission to share the data resource received from the first client device with a second client device of the LAN. In some implementations the permission may be obtained from the first client device or from a client identity stored at the gateway router with which the first client device is associated. For example a request for the data resource may be received at the gateway router from the second client device. The gateway router may forward the request to the first client device and receive the permission from the first client device as a response to the forwarded request.

In some implementations the permission may be obtained from the second client device or from the client identity stored at the gateway router with which both the first and the second client device is associated. For example the permission may be received or authenticated at the gateway router from the second client device in the form of user credentials. The gateway router may authenticate the user credentials against access control information for the data resource stored in a client identity at the gateway router.

In some implementations the data resource e.g. file may be stored in or associated with a profile of a client identity at a storage device of the gateway router. The profile may correspond to a profile associated with the second client device or the first client device e.g. in a scenario involving a transfer between different client identities or both the first and second client devices e.g. in a scenario involving a transfer between client devices within the same client identity .

At the method may include sending the data resource from the gateway router over the LAN to the second client device responsive to the permission. If permitted by permissions set by a client identity associated with the first client device the gateway router sends the data resource from the gateway router to the second client device by retrieving the data resource from a storage device of the gateway router responsive to a request received from the second client device for the data resource. As one example the request received from the second client device may include a request to access the contents of an inbox or other data repository.

In some implementations the gateway router may enable data syncing between client devices sharing a profile of a client identity. For example a first client device may belong to a user and may have a number of applications media content and session state information stored thereon. The user may purchase or otherwise acquire a second client device and may then configure the second client device with the applications media content and session state information of the first client device via the gateway router.

At the method may include associating two or more client devices of a LAN established by the gateway router with a client identity. As previously described the two or more client devices may be associated with a client identity as permissions to access aspects of the profile of the client identity or as members of the client identity e.g. owned by the same user . At the method may include identifying data resources stored on each of the two or more client devices associated with the client identity. For example the gateway router may poll client devices of the LAN to identify data resources stored at each client device. The gateway router may maintain an index e.g. a file index an application index etc. of the data resources of each client device. The index may be stored in a profile associated with a client identity.

At the method may include synchronizing the data resources among the two or more client devices associated with the client identity by copying one or more instances of the data resources between the two or more client devices over the local area network via the gateway router. Synchronization may be performed by the gateway router responsive to a request by one of the client devices associated with the client identity or automatically responsive to identification of a data resource stored on one client device of the client identity not present on another client device of the client identity.

Client device is shown presenting graphical user interface GUI . An example user e.g. Sally may for example log in to a client interface for the router that is presented as a GUI via client device to access information stored in a profile of the client identity at the gateway router. As one example user Sally may be represented by a client identity that takes the form of a user account. For example user Sally may access a user account by providing user credentials e.g. username and or password to the gateway router via client device . As another example user Sally may be represented by a client identity that takes the form of a device identifier of client device through which user Sally accesses the gateway router.

GUI includes an existing sessions list . Sessions list may be presented as a selectable Sessions tab as depicted for example in . Sessions list provides an indication of existing network communications sessions associated with the client identity. For example the client identity may have previously established network communications sessions via client device or another client device associated with the client identity. Accordingly these network communications sessions may have been previously established between client device or another client device associated with the client identity and a network device of the WAN. Sessions list may include one or more selectors e.g. links that indicate the existing network communications sessions available to the user. The existing network communications sessions may be represented by one or more Uniform Resource Locators URLs or other suitable Uniform Resource Identifiers URIs .

User Sally may continue an existing network communications session from client device by selecting a corresponding selector indicating an existing network communications session from sessions list . For example responsive to selection of a network communications session from session list the gateway router may establish continuation of the network communications session for client device with a network device of the WAN based at least in part on state information stored in a profile of the client identity. User Sally may establish a new communications session for example by selecting selector e.g. New Session .

GUI further includes a selector e.g. View other user s sessions that enables a user to view network communications sessions of other client identities or user accounts. For example another client identity e.g. user Mark may have granted the client identity e.g. user Sally permission to view and or access network communications sessions of user Mark. User Mark s sessions list may be presented in a similar format to previously described sessions list . For example user Sally may continue an existing communications session initially established by user Mark by selecting the communications session from user Mark s session list. User Sally may similarly manage permissions via the gateway router to enable other client identities e.g. user Mark to view and or access existing network communications sessions established by user Sally.

GUI includes a files list . Files list may be presented as a selectable Files tab as depicted for example in . Files list provides an indication of files associated with the client identity. For example the client identity e.g. user Sally may have previously uploaded a file to the gateway router via client device or another client device associated with the client identity. Files list may include one or more selectors e.g. links that indicate the files associated with the client identity. These files may include for example image files e.g. .jpg word processing files e.g. .doc .xls etc. instructions set files e.g. .js among other suitable file types. A user may navigate between GUI and GUI . For example selection of Files tab in GUI by the user causes the gateway router to send information to client device to present GUI which includes a list of files .

GUI further includes a selector e.g. Upload new file which enables user Sally to upload a new file from client device to the gateway router via the LAN. The uploaded file may be associated with the client identity representing user Sally as a user account and or client device as a device identifier by the gateway router storing the uploaded file in the profile of the client identity. Files list may be updated at GUI to include the uploaded new file. GUI provides an example of how a user may browse the contents of a storage device to select a file located at client device to be uploaded to the gateway router. The gateway router may cause the client device to display a window of available data resources by which the user may select a data resource e.g. a file to send to the other client profile client device or user account.

GUI further includes a selector e.g. Quick send which enables user Sally to send a file to another client identity e.g. another user represented by a user account and or another client device represented by a device identifier . Responsive to selection of selector files that are sent to another client profile associated with a target client identity may be stored in the client profile of the target client identity at the gateway router where the files may be retrieved by the target client identity e.g. user or client device associated with the target client profile. Alternatively the file may be sent e.g. pushed to a user or client device associated with the target client identity via email SMS or other suitable communications format.

GUI further includes a selector e.g. Sync which enables user Sally to synchronize files across two or more client devices associated with her user account as previously described for example with reference to . For example user Sally may transfer data including files applications session state information etc. among her client devices via the gateway router to update the data resources at each client device.

GUI further includes a selector e.g. view files of others that enables a user to view and or access files of other client identities. For example another client identity e.g. user Mark may have granted the client identity e.g. user Sally with permission to view and or access files of user Mark. User Mark s files list may be presented in a similar format to previously described files list . For example GUI includes a files list for user Mark s files available to user Sally. User Sally may manage permissions via the gateway router to enable other client identities e.g. user Mark to view and or access files uploaded to the gateway router by user Sally.

The GUIs of may be accessed by users via a special purpose application program dedicated to controlling and managing the gateway router or via a multi purpose application program such as web browser or file browser. For example these GUIs may be presented in a webpage viewing region of a browser or in a menu system of the browser. As yet another example the GUIs of may be presented in a menu system or task bar of an operating system of a client device.

The example GUIs of may be accessed by users in a number of ways such as the through one or more of the previously described APIs. As one example a user may navigate a client device to a well known URI or capture DNS. As another example a user may enter a URL or URI e.g. such as a malformed but easy to remember URI in a browser address bar e.g. such as ROUTER or SHARE . The gateway router may be configured to intercept the DNS query and interpret the query as a SHARE command. In response to the SHARE command the gateway router may be configured to serve a SHARE interface e.g. one or more of the GUIs of back to the client device that enables the user to share information with another user and or client device of the LAN.

In some implementations the gateway router can be configured to listen for commands and serve GUIs in response to requests e.g. the SHARE request from a client device. For example the gateway router may be associated with a number of functions such as SHARE SETTINGS PICKUP SESSION etc. Each function may cause the gateway router to return a different functional interface to the client device or another client device of the LAN to be displayed to a user. For example the SHARE GUI may include a list of other connected client devices enabling a user to select a client device or user with which to share a data resource such as a hyperlink. The gateway router may be configured to insert a notification for destination users in a communication stream to enable sessions to be selectively maintained by the destination user. This feature may be implemented as browser buttons selectors or controls for example.

In some implementations the gateway router may be configured to transmit data to a LAN client representing a client interface e.g. such as one or more of the GUIs of responsive to receiving a request at a secret address e.g. URL or URI of the gateway router that was initiated by the LAN client. For example a secret URL may take the form of or may be based on a shared secret between the gateway router and a client. A secret address may be programmatically generated by the gateway router or by an application operating on the client device and or the secret address may be at least partially user defined. A secret address may be changed over time e.g. periodically or responsive to a condition to increase security. The gateway router may support one or more secret addresses per client identity and or one or more secret addresses per a user defined group of client identities. Two or more secret addresses for a given client may be used to distinguish between two or more different types of client interfaces that provide access to router functionality.

It will be appreciated that according to the communication flow of when a user starts a new browsing session from a new client device or from a registered client device after a period of registered device inactivity the gateway router may be configured to intercept the request and prompt the user for the user credentials of the user account and then passes the request and appropriate set of cookies to the destination website responsive to authentication of the user credentials.

The captive portal page with log in interface can also function as way to switch between authorized users on registered client devices and to access existing user sessions. Those users may be prompted to acknowledge the existing sessions e.g. tap to continue or may be required input additional user credentials. One example of a user credentials selection interface is illustrated in . Upon selection of an appropriate username which may be password biometrically protected if desired a customized menu may served by the gateway router to the requesting client device showing cached sessions for the user from sessions initiated by the user on all client devices of the user s client identity that have connected through the gateway router. The user can then select to view an existing session in which case the state of the cached webpage will be displayed and cookies downloaded to the requesting device so that any subsequent requests from that webpage will properly be sent to the network server of the WAN through the gateway router.

Once a user is registered the gateway router may also provide a client interface to the router enabling users to access the gateway router to logoff from the existing user session or to access other existing sessions of other client identities. illustrates an example of such an interface and various alternative mechanisms for accessing the interface. Generally it is preferable for the client interface to the router to be as unobtrusive as possible during the user browsing experience but accessible when needed. To that end the gateway router may be configured to receive search bar entries or address bar entries that when they contain a matching term such as router or rtr for example cause the gateway router to not send the search request or DNS query on to a remote server DNS server. Rather the gateway router may be configured to eat these requests and in response display the interface shown at the right in which includes various links to access existing sessions. In addition a dedicated selector icon for accessing the client interface to the gateway router may be provided proximate the address field search field in the address search bar. Selection of the icon may be configured to cause the interface at the right in to be displayed. This bar may be served by native programs on the client device and may be scrolled in from off screen by a user to be unobtrusive. Alternatively or in addition the gateway router may be configured to insert code into the web page code received from a network device of the WAN to cause a selector for a client interface to the router to be displayed in a dedicated field proximate the web page or within the web page itself. This dedicated field may be transparent until tapped mouse over or could fly in or scroll in from off screen when tapped mouse over so as to be as unobtrusive as possible.

The various client interfaces described herein may be used by a user of a client device to initiate API calls and or other suitable commands to the gateway router e.g. a WLAN router . For examples a first message indicating a first API call of an API may be received at an operating system of the gateway router. The first message may be initiated by an application program operating at a first client device. Responsive to the first API call the gateway router may send client interface information to the first client device via a WLAN. The client interface information may include one or more elements of a client interface e.g. GUI for controlling the WLAN router from the first client device.

A second message indicating a command initiated via the client interface at the first client device responsive to a user input may be received at the operating system of the gateway router. The command may be formatted according to any suitable communications protocol. Responsive to the command the gateway router may perform a corresponding function at the gateway router. The corresponding function may include any of the previously described functions performed responsive to an API call. For example the gateway server may perform a data resource storage function a data resource retrieval function a data resource transfer function etc.

As previously described a data resource transfer function e.g. a file or session state transfer function may direct the gateway router to send an instance of a data resource indicated by the data resource transfer command from a storage system of the WLAN router to a recipient client device indicated by the data resource transfer command. As another example the command may include a profile update command in which information stored in a client profile at the gateway router is updated responsive to the profile update command.

The client interface may alternatively or additionally be used to initiate API calls. For example the client device may initiate transmission of a second message over the WLAN where the second message indicates a second API call generated responsive to a user input directed at the client interface. The client interface may be configured to initiate any of the previously described API calls or other suitable API calls.

Upon selecting the share screen selector a request is sent from the client device to the gateway router for a share screen interface. In response the gateway router responds by sending to the requesting client device a share screen interface including previews of other client device displays. These previews are typically generated from cached web page data and may also be generated from cached display data received from application programs on other client devices. The previews may be provided for all client devices currently connected to the gateway device and may also be provided for client devices that were previously connected to the gateway router but are not longer connected. In this way a user may access a previous browsing session from another device. When the number of previews is large the previews may be organized by user time and date device type or cached content type movies web pages games etc. and displayed within a multi page hierarchical menu system.

By selecting one of the previews the share screen interface is closed and the cached web page or application screen data is displayed typically in full screen mode on the client device via the appropriate browser or application program. From this point the user may commence interacting with the cached web page or application screen data via the browser application program executed on the user s client device. Thus the user may commence interacting with the web page playing a game viewing a movie viewing a document etc. In this manner the share screen API allows users to share screen data between two or more users between two or more devices of the same user via the gateway router.

It should be understood that the embodiments herein are illustrative and not restrictive since the scope of the invention is defined by the appended claims rather than by the description preceding them. All changes that fall within metes and bounds of the claims or equivalence of such metes and bounds thereof are therefore intended to be embraced by the claims.

