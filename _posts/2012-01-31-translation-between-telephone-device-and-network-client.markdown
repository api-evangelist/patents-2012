---

title: Translation between telephone device and network client
abstract: Call control messages and audio signals between a telephone device and a computer network telephone client on a computing device can be intercepted. For control messages from the computer network telephone client, the control messages can be translated from a first control protocol to a second control protocol and forwarded to the telephone device. For control messages from the telephone device, the control messages can be translated from the second control protocol to the first control protocol and forwarded to the computer network telephone client. For audio signals from the computer network telephone client, the audio signals can be translated from a first audio protocol to a second audio protocol and forwarded to the telephone device. For audio signals from the telephone device, the audio signals can be translated from the second audio protocol to the first audio protocol and forwarded to the computer network telephone client.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09065814&OS=09065814&RS=09065814
owner: Microsoft Technology Licensing, LLC
number: 09065814
owner_city: Redmond
owner_country: US
publication_date: 20120131
---
In systems that use communications servers to allow telephone devices and network telephone clients to make telephone calls through the communications servers it can be beneficial to pass control and audio signals between a telephone network client and a telephone device. For example this can allow user input commands from the network telephone client to control a call being made using a telephone device e.g. putting the call on hold etc. and vice versa. Also the passing of audio information may allow a call being made on a network telephone client to be continued on a telephone device and vice versa. This has been done using the universal serial bus USB protocol where control messages have been passed in human interface device HID reports and audio information has been passed as USB audio information.

The tools and techniques described herein relate to translation between telephone devices and network clients using different protocols. For example this can include translating control messages between one protocol used by a telephone network client and a second protocol used by a telephone device. Audio information may also be translated between protocols and passed between the telephone network client and the telephone device. This can allow for association and or synchronization of telephone call control messages and or audio signals between the telephone network client and the telephone device during telephone calls even if the client and device are not using the same protocols as each other for exchanging audio signals and control messages.

In one example the tools and techniques can include intercepting call control messages and audio signals between a telephone device and a computer network telephone client on a computing device. For control messages that are from the computer network telephone client the control messages can be translated from a first control protocol to a second control protocol and forwarded to the telephone device. For control messages that are from the telephone device the control messages can be translated from the second control protocol to the first control protocol and forwarded to the computer network telephone client. Similarly for audio signals that are from the computer network telephone client the audio signals can be translated from a first audio protocol to a second audio protocol and forwarded to the telephone device. For audio signals that are from the telephone device the audio signals can be translated from the second audio protocol to the first audio protocol and forwarded to the computer network telephone client.

This Summary is provided to introduce a selection of concepts in a simplified form. The concepts are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter. Similarly the invention is not limited to implementations that address the particular techniques tools environments disadvantages or advantages discussed in the Background the Detailed Description or the attached drawings.

Embodiments described herein are directed to techniques and tools for improved passing of information between a telephone network client and a telephone device. Such improvements may result from the use of various techniques and tools separately or in combination.

Such techniques and tools may include utilizing a translating component to intercept and translate information traffic between a telephone network client and a telephone device e.g. an Internet protocol phone . For example the translating component may be a driver such as a user mode driver framework UMDF driver on a client computing device e.g. a desktop computer laptop computer slate device etc. . In one implementation the telephone network client may be configured to send and receive control messages and audio signals using the USB protocol which may be considered to include a protocol for control messages as HID reports and another protocol for audio messages as USB audio . The translating component can intercept the USB traffic from the telephone network client. The translating component can send the intercepted traffic over the transport of choice using a second protocol to the telephone device. Similarly traffic sent by the telephone device using the transport of choice can be received by the translating component. The translating component can send that traffic as USB traffic to the telephone network client. The translating component can allow for additional plugins to be added to the translating component to support additional transport protocols for telephone devices that use such protocols.

Accordingly one or more benefits may be provided. For example the translating component may provide extensibility hooks that can allow association and synchronization with telephone devices using different protocols. This may be done without the telephone network client needing to be revised to support the additional protocols.

The subject matter defined in the appended claims is not necessarily limited to the benefits described herein. A particular implementation of the invention may provide all some or none of the benefits described herein. Although operations for the various techniques are described herein in a particular sequential order for the sake of presentation it should be understood that this manner of description encompasses rearrangements in the order of operations unless a particular ordering is required. For example operations described sequentially may in some cases be rearranged or performed concurrently. Moreover for the sake of simplicity flowcharts may not show the various ways in which particular techniques can be used in conjunction with other techniques.

Techniques described herein may be used with one or more of the systems described herein and or with one or more other systems. For example the various procedures described herein may be implemented with hardware or software or a combination of both. For example dedicated hardware implementations such as application specific integrated circuits programmable logic arrays and other hardware devices can be constructed to implement at least a portion of one or more of the techniques described herein. Applications that may include the apparatus and systems of various embodiments can broadly include a variety of electronic and computer systems. Techniques may be implemented using two or more specific interconnected hardware modules or devices with related control and data signals that can be communicated between and through the modules or as portions of an application specific integrated circuit. Additionally the techniques described herein may be implemented by software programs executable by a computer system. As an example implementations can include distributed processing component object distributed processing and parallel processing. Moreover virtual computer system processing can be constructed to implement one or more of the techniques or functionality as described herein.

The computing environment is not intended to suggest any limitation as to scope of use or functionality of the invention as the present invention may be implemented in diverse general purpose or special purpose computing environments.

With reference to the computing environment includes at least one processing unit or processor and memory . In this most basic configuration is included within a dashed line. The processing unit executes computer executable instructions and may be a real or a virtual processor. In a multi processing system multiple processing units execute computer executable instructions to increase processing power. The memory may be volatile memory e.g. registers cache RAM non volatile memory e.g. ROM EEPROM flash memory or some combination of the two. The memory stores software implementing one or more aspects of translation between telephone devices and network clients using different protocols.

Although the various blocks of are shown with lines for the sake of clarity in reality delineating various components is not so clear and metaphorically the lines of and the other figures discussed below would more accurately be grey and blurred. For example one may consider a presentation component such as a display device to be an I O component. Also processors have memory. The inventors hereof recognize that such is the nature of the art and reiterate that the diagram of is merely illustrative of an exemplary computing device that can be used in connection with one or more embodiments of the present invention. Distinction is not made between such categories as workstation server laptop handheld device etc. as all are contemplated within the scope of and reference to computer computing environment or computing device. 

A computing environment may have additional features. In the computing environment includes storage one or more input devices one or more output devices and one or more communication connections . An interconnection mechanism not shown such as a bus controller or network interconnects the components of the computing environment . Typically operating system software not shown provides an operating environment for other software executing in the computing environment and coordinates activities of the components of the computing environment .

The storage may be removable or non removable and may include computer readable storage media such as magnetic disks magnetic tapes or cassettes CD ROMs CD RWs DVDs or any other medium which can be used to store information and which can be accessed within the computing environment . The storage stores instructions for the software .

The input device s may be a touch input device such as a keyboard mouse pen or trackball a voice input device a scanning device a network adapter a CD DVD reader or another device that provides input to the computing environment . The output device s may be a display printer speaker CD DVD writer network adapter or another device that provides output from the computing environment .

The communication connection s enable communication over a communication medium to another computing entity. Thus the computing environment may operate in a networked environment using logical connections to one or more remote computing devices such as a personal computer a server a router a network PC a peer device or another common network node. The communication medium conveys information such as data or computer executable instructions or requests in a modulated data signal. A modulated data signal is a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example and not limitation communication media include wired or wireless techniques implemented with an electrical optical RF infrared acoustic or other carrier.

The tools and techniques can be described in the general context of computer readable media which may be storage media or communication media. Computer readable storage media are any available storage media that can be accessed within a computing environment but the term computer readable storage media does not refer to propagated signals per se. By way of example and not limitation with the computing environment computer readable storage media include memory storage and combinations of the above.

The tools and techniques can be described in the general context of computer executable instructions such as those included in program modules being executed in a computing environment on a target real or virtual processor. Generally program modules include routines programs libraries objects classes components data structures etc. that perform particular tasks or implement particular abstract data types. The functionality of the program modules may be combined or split between program modules as desired in various embodiments. Computer executable instructions for program modules may be executed within a local or distributed computing environment. In a distributed computing environment program modules may be located in both local and remote computer storage media.

For the sake of presentation the detailed description uses terms like determine choose adjust and operate to describe computer operations in a computing environment. These and other similar terms are high level abstractions for operations performed by a computer and should not be confused with acts performed by a human being unless performance of an act by a human being such as a user is explicitly noted. The actual computer operations corresponding to these terms vary depending on the implementation.

Calls made by the telephone network client can be made through the communications server using one or more protocols such as a protocol for voice over Internet Protocol. The computing device can also include a first protocol control class driver and a first protocol audio driver which can facilitate communication of control messages and audio signals between the telephone network client and a first protocol telephone device i.e. a telephone device that is capable of interacting using the first protocol. . As an example the first control protocol may be a universal serial bus USB protocol an Ethernet protocol or some other protocol.

In one implementation the first protocol telephone device can include a control message module which can interact with the first protocol control class driver to send receive control messages between the first protocol telephone device and the telephone network client . Specifically the first protocol class driver can act as an intermediary to pass control messages between the application player of the telephone network client and the control message module of the first protocol telephone device .

The first protocol telephone device can also include an audio module that can send and receive audio signals. The first protocol audio driver can act as an intermediary to pass audio signals between the audio module of the first protocol telephone device and the media device manager of the telephone network client using a first audio protocol.

As is indicated by the line between the first protocol telephone device and the communications server in the first protocol telephone device can communicate with the communications server . Accordingly the first protocol telephone device can make telephone calls through the communications server independent of the computing device . Likewise the telephone network client on the computing device can make telephone calls through the communications server independent of the computing device . However as discussed above the first protocol telephone device and the telephone network client can exchange control messages and audio signals to associate the first protocol telephone device with the telephone network client and to allow calls on each to be controlled by the other.

For example a call can be made using the telephone network client and the first protocol telephone device may be used by a user talking on the telephone device . The user in such a situation may be able to use the computing device and or the first protocol telephone device to issue control messages to control the call. For example a user could use the first protocol telephone device to put the call on hold and this could be synchronized with the telephone network client using a control message . As another example a user could use the computing device to transfer the call and this could be synchronized with the first protocol telephone device using a control message . Likewise audio signals can be transmitted between the computing device and the first protocol telephone device so that a user may use either device for the microphone and or speaker for a telephone call regardless of which device initially made the call.

Referring still to the computing device may also include a translating component . The translating component can include a fake first protocol control class device a control translator a fake first protocol audio device and an audio translator . The translating component may be a software and or hardware component. As can be seen in the translating component is not being used because the first protocol telephone device is capable of communicating audio and control information to from the computing device using the first protocol.

Referring now to a second protocol telephone device is used in the translation environment instead of the first protocol telephone device . The second protocol telephone device includes a control message module and an audio module that are configured to communicate using a second protocol that is different from the first protocol used by the telephone network client . In this configuration the translating component can act as an intermediary between the telephone network client and the first protocol telephone device to exchange control and audio information.

Accordingly if telephone call control information is entered in the client computing device while the telephone network client is associated with the second protocol telephone device the application player can send a control message to the fake first protocol control class device with the control message being formatted according to the first protocol. The fake first protocol control class device can interact with the application player in the same manner as the first protocol control class driver so that it appears to the application player that the application player is interacting with a telephone device using the first protocol. However the fake first protocol control class device can forward control messages from the application player to the control translator . The control translator can translate control messages between the first protocol and the second protocol. For example the control translator may use a data structure that maps control messages in the first protocol to control messages in the second protocol to perform the translation of control messages. The translated control messages from the application player can be forwarded to the control message module formatted according to the second protocol.

Similarly if control information is entered in the second protocol telephone device the control message module can send one or more control messages formatted according to the second protocol to the computing device where the messages can be received at the control translator . The control translator can translate the control messages from the second protocol to the first protocol and forward the control messages to the fake first protocol control class device . The fake first protocol control class device can forward the translated control messages to the application player as if the control messages had been sent from a device that uses the first protocol.

Audio signals can be translated and exchanged similarly to the control messages . For example if audio information is received at the computing device for a telephone call for which the telephone network client and the second protocol telephone device are associated the media device manager can send an audio signal to the fake first protocol audio device . The fake first protocol audio device can interact with the media device manager as if the media device manager were interacting with an audio device that uses the first protocol. However the fake first protocol audio device can forward the audio signal to the audio translator . The audio translator can translate the audio signal from the first protocol to the second protocol. For example such translation may be done using mappings and or other translating algorithms. For example such translation may involve decoding an audio signal formatted according to the first protocol and re encoding the audio signal according to the second protocol.

Similar types of translation may be performed for translating the audio signals from the second protocol to the first protocol. For audio signals received from the telephone network client the audio translator can forward the translated audio signals to the second protocol telephone device with the audio signals being formatted according to the second protocol.

If audio information is received at the second protocol telephone device on a telephone call for which the second protocol telephone device is associated with the telephone network client the audio module can send audio signals to the computing device . The audio signals can be received at the audio translator where the audio signals can be translated from the second protocol to the first protocol and forwarded to the fake first protocol audio device . The fake first protocol audio device can forward the translated audio signals from the second protocol telephone device to the telephone network client where the audio signals can be received by the media device manager .

Control messages and audio signals can be sent between the different components of the translation environment in various ways. For example control messages and audio signals may be transmitted between components in the computing device using application programming interface calls function calls etc. Control messages and audio signals may be transmitted between the computing device and the second protocol telephone device using wired e.g. USB Ethernet etc. or wireless e.g. Bluetooth etc. protocols or techniques. Also communications between the computing device the second protocol telephone device and the communications server may include communicating over one or more computer networks. For example the computing device and the second protocol telephone device may communicate with the communications server over a global computer network. The communications server may then communicate with other communications devices such as telephone devices using one or more communications networks such as telephone networks global computer networks etc. Additionally the translating component may be located outside the computing device and may communicate with the computing device over one or more wired and or wireless connections.

Additional fake devices and translators may be added to the computing device to support additional protocols. Accordingly the computing device could be extended to support association and exchange of control and audio information with telephone devices using a third protocol a fourth protocol etc. This may be done without modifying the telephone network client .

Several techniques for translation between telephone devices and network clients will now be discussed. Each of these techniques can be performed in a computing environment. For example each technique may be performed in a computer system that includes at least one processor and memory including instructions stored thereon that when executed by at least one processor cause at least one processor to perform the technique memory stores instructions e.g. object code and when processor s execute s those instructions processor s perform s the technique . Similarly one or more computer readable storage media may have computer executable instructions embodied thereon that when executed by at least one processor cause at least one processor to perform the technique.

Referring to a technique for translation between telephone devices and network clients will be described. The technique can include intercepting call control messages and audio signals between a telephone device and a computer network telephone client on a computing device. The telephone call control messages and the audio signals can be for a telephone call. For one or more of the control messages that are from the computer network telephone client the technique can include translating from a first control protocol to a second control protocol and forwarding to the telephone device . For one or more of the control messages that are from the telephone device the technique can include translating from the second control protocol to the first control protocol and forwarding to the computer network telephone client . For one or more of the audio signals that are from the computer network telephone client the technique can include translating from a first audio protocol to a second audio protocol and forwarding to the telephone device . For one or more of the audio signals that are from the telephone device the technique can include translating from the second audio protocol to the first audio protocol and forwarding to the computer network telephone client .

The technique may further include the computer network telephone client making a call through a communications server independent of the telephone device. Likewise the technique may further include the telephone device making a call through a communications server independent of the telephone network client.

Intercepting control messages may include for control messages from the computer network client intercepting control messages at a fake control device. Also forwarding control messages from the telephone device to the computer network telephone client may include forwarding from the fake control device to the computer network telephone client. Intercepting audio signals may include for audio signals from the computer network client intercepting the audio signals at a fake audio device. Forwarding audio signals from the telephone device to the computer network telephone client can include forwarding from the fake audio device to the computer network telephone client.

The first control protocol and the first audio protocol can both be wired connection protocols such as one or more universal serial bus protocols. For example the first control protocol may be part of a universal serial bus protocol e.g. the control messages may be formatted as HID reports according to a universal serial bus protocol and likewise the first audio protocol may be part of a universal serial bus protocol e.g. the audio signals may be formatted as USB audio signals . Accordingly the wired connection protocols may be a first set of one or more wired connection protocols e.g. aspects of a universal serial bus protocol and the second control protocol and the second audio protocol may both be wired connection protocols that are different from the first set of one or more wired connection protocols. For example the second control protocol and the second audio protocol may both be protocols using Ethernet wired connections. Alternatively the second control protocol and the second audio protocol may both be part of one or more wireless connection protocols such as protocols that are part of or utilize a Bluetooth wireless connection protocol.

The technique may allow for extensibility to use telephone devices that use other protocols. For this explanation the telephone device may be termed a first telephone device and the telephone call may be termed a first telephone call. The technique may further include passing control messages between the computer network telephone client and a second telephone device for a second telephone call. The control messages passed between the computer network telephone client and the second telephone device can be formatted according to the first control protocol at the computer network telephone client and at the second telephone device. The technique may also include passing audio signals between the computer network telephone client and the second telephone device for the second telephone call. The audio signals passed between the computer network telephone client can be formatted according to the first control protocol at the computer network telephone client and at the second telephone device.

Where the telephone device is a first telephone device the technique may further include intercepting control messages and audio signals between the computer network telephone client and a second telephone device for a second telephone call. For one or more of the control messages that are from the computer network telephone client to the second telephone device the technique can further include translating from the first control protocol to a third control protocol and forwarding to the second telephone device. For one or more of the control messages that are from the second telephone device the technique can include translating from the third control protocol to the first control protocol and forwarding to the computer network telephone client. For one or more of the audio signals that are from the computer network telephone client to the second telephone device the technique can include translating from the first audio protocol to a third audio protocol and forwarding to the second telephone device. For one or more of the audio signals that are from the second telephone device the technique can include translating from the third audio protocol to the first audio protocol and forwarding to the computer network telephone client.

Referring now to another technique for translation between telephone devices and network clients will be described. The technique can include associating a computer network telephone client with a telephone device for a telephone call. The computer network telephone client can be configured to use a first protocol to exchange telephone call control messages. The technique can further include determining whether the telephone device uses the first protocol to exchange telephone call control messages.

If the telephone device uses the first protocol to exchange telephone call control messages then the technique can include forwarding telephone call control messages in the first protocol from the computer network telephone client to the telephone device and forwarding telephone call control messages in the first protocol from the telephone device to the computer network telephone client.

If the telephone device does not use the first protocol to exchange telephone call control messages then it can be determined whether the telephone device uses a second protocol for which translation is supported to exchange telephone call control messages. If translation with the second protocol is supported then the technique may include receiving telephone call control messages from the computer network telephone client at a fake control device. The control messages from the computer network telephone client can be formatted according to the first control protocol. If translation with the second protocol is supported then the technique may further include translating the control messages from the computer network telephone client from the first protocol to the second protocol and forwarding the translated control messages from the computer network telephone client to the telephone device. Additionally if translation with the second protocol is supported then the technique may further include receiving telephone call control messages from the telephone device. The control messages from the telephone device can be formatted according to the second protocol. Also if translation with the second protocol is supported then the technique may further include translating the control messages from the telephone device from the second protocol to the first protocol and forwarding the translated control messages from the telephone device to the telephone network client. Forwarding the translated control messages from the telephone device can include forwarding from the fake control device.

The first protocol can be a first control protocol and the second protocol can be a second control protocol. The computer network telephone client can be configured to use a first audio protocol to exchange telephone call audio signals. Similarly to the techniques above for control messages and protocols the technique may include determining whether the telephone device uses the first audio protocol to exchange telephone call audio signals. If the telephone device uses the first audio protocol to exchange telephone call audio signals then the technique may include forwarding telephone call audio signals from the computer network telephone client to the telephone device in the first audio protocol and forwarding telephone call audio signals from the telephone device to the computer network telephone client in the first audio protocol. If the telephone device uses a second audio protocol to exchange telephone call audio signals then the technique can include determining whether translation with the second audio protocol is supported.

If translation with the second audio protocol is supported then the technique may include performing acts during the telephone call. The acts can include receiving telephone call audio signals from the computer network telephone client at a fake audio device. The audio signals from the computer network telephone client can be formatted according to the first audio protocol. The acts can also include translating the audio signals from the computer network telephone client from the first audio protocol to the second audio protocol used by the telephone device to exchange telephone call audio signals. Additionally the acts can include forwarding the translated audio signals from the computer network telephone client to the telephone device. Moreover the acts can include receiving telephone call audio signals from the telephone device. The audio signals from the telephone device can be formatted according to the second audio protocol. The acts can also include translating the audio signals from the telephone device from the second audio protocol to the first audio protocol and forwarding the translated audio signals from the telephone device to the telephone network client. Forwarding the translated audio signals from the telephone device can include forwarding from the fake audio device.

In the technique of the telephone call can be a first telephone call and the technique can further include making a second telephone call through a communications server with the telephone network client independent of the telephone device and making a third telephone call through the communications server with the telephone device independent of the telephone network client. Also the control messages of the technique may be human interface device reports and the first protocol can be a wired connection protocol such as a universal serial bus protocol. The second protocol can be a wired connection protocol that is different from the first protocol or the second protocol may be a wireless connection protocol.

Referring now to yet another technique for translation between telephone devices and network clients will be described. The technique can include intercepting telephone call control messages from a computer network telephone client on a computing device. The control messages from the computer network telephone client can be formatted according to a first control protocol and can be received at a fake control device on the computing device. The control messages can be translated from the computer network telephone client from the first control protocol to a second control protocol. The translated control messages can be forwarded from the computer network telephone client to a first telephone device. Control messages from the first telephone device can be intercepted where the control messages from the first telephone device can be formatted according to the second control protocol. The control messages from the first telephone device can be translated from the second control protocol to the first control protocol. The translated control messages can be forwarded from the first telephone device to the telephone network client from the fake control device. Audio signals from the computer network telephone client can be intercepted . The audio signals from the computer network telephone client can be formatted according to a first audio protocol and can be received at a fake audio device on the computing device. The audio signals from the computer network telephone client can be translated from the first audio protocol to the second audio protocol and forwarded to the first telephone device. Audio signals from the first telephone device can be intercepted . The audio signals from the first telephone device can be formatted according to the second audio protocol. The audio signals from the first telephone device can be translated from the second audio protocol to the first audio protocol and the translated audio signals from the first telephone device can be forwarded from the fake audio device to the telephone network client.

The technique of can also include passing control messages between the computer network telephone client and a second telephone device which may be done without translating the messages or signals. The control messages passed between the computer network telephone client and the second telephone device can be formatted according to the first control protocol at the computer network telephone client and at the second telephone device. The technique of may also include passing audio signals between the computer network telephone client and the second telephone device. The audio signals passed between the computer network telephone client and the second telephone device can be formatted according to the first audio protocol at the computer network telephone client and at the second telephone device.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

