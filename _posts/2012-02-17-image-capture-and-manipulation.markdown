---

title: Image capture and manipulation
abstract: The present disclosure includes, among other things, systems, methods and program products for image capture and manipulation.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08539377&OS=08539377&RS=08539377
owner: Apple Inc.
number: 08539377
owner_city: Cupertino
owner_country: US
publication_date: 20120217
---
This application is a continuation of U.S. patent application Ser. No. 11 811 330 filed on Jun. 8 2007 the entire contents of which are hereby incorporated by reference.

Many software applications now accept image data including animated icons such as head shots to identify for example the sender of an electronic mail message an Internet chat buddy or to identify a caller on a voice over IP communication link. Novice computer users may not know how to associate their picture with these applications. Furthermore a user may wish to modify their picture before using it. While many software packages provide very sophisticated tools for image editing novice users can find these packages too cumbersome especially if the user wants to quickly experiment with different effects.

In general one aspect of the subject matter described in this specification can be embodied in a method that includes receiving a video stream and displaying the video stream in a first area of a graphical user interface GUI where the video stream includes a time ordered set of images. A plurality of images are automatically selected from the stream and displaying a placeholder image representative of the plurality in a second area of the GUI. User input is accepted to convert the images into an animation. An animation is produced from the images. An animated icon is produced from the animation. Other implementations of this aspect include corresponding systems apparatus and computer program products.

These and other implementations can optionally include one or more of the following features. Each image in the plurality has a background and for each image in the plurality the image s respective background is automatically substituted with a new background. The new background is a static image or a movie. Each image in the plurality captures a person and for each image in the plurality a filter is applied to the image s respective person but not applying the filter to other parts of the image. Selecting includes selecting four non adjacent images from the video stream where the four non adjacent images are separated by time period. A filter is applied to each image in the video stream where application of the filter is for the image as a whole or only for a person captured in the image. The filter is incorporated into a standard set of filters. User input is accepted to dynamically adjust one or more parameters of the filter. The icon or a copy of the icon is transferred to an application. The video stream is received from a camera that is positioned in front of a user.

Implementations of the invention can realize one or more of the following advantages. A user can easily obtain and apply effects to an image for use in various applications. Different effects e.g. using one or more filters can simultaneously be applied to an image or image stream with the results being displayed side by side. This allows a user to immediately compare different effects and choose the most desirable one. Image data can easily be transferred to other applications such as email an address book contacts Internet chat and image organization applications. An image stream can be culled to create a still image a multi shot or a movie and filters can be applied to each of these. Filter parameters can be dynamically adjusted by users. Animated buddy icons can be created from multi shot images or movies. Application of filters can be limited to foreground objects. Image backgrounds can be dynamically replaced with still images or movies.

The details of one or more implementations of the invention are set forth in the accompanying drawings and the description below. Other features aspects and advantages of the invention will become apparent from the description the drawings and the claims.

An image strip presents placeholders which are images representations of previously captured images or movies. By way of illustration image strip includes placeholder images and . Placeholder image represents a previously captured image. Placeholder image represents a previously recorded movie. Alternatively the image strip is empty if there are no captured images. Alternatively the image strip is not presented. The image strip can hold more images than can be displayed. A user can scroll to the left or to the right through images using scroll buttons and . The images in the image strip can be sorted in order of the date and or time that they were captured the date and or time they were last modified or other suitable criteria. In one implementation the image strip can show more than one row and can scroll vertically. For example the image strip might show six images across the first row and the next six images in the second row etc. In another implementation the image strip can be located at other locations and in other orientations e.g. vertical along the left side of the window .

Still image capture can be accompanied by a graphical and or audio count down timer . The count down timer includes visual indicators e.g. 3 2 1 which can be illuminated one at a time i.e. first 3 then 2 then 1 optionally with one second intervals in between each illumination to simulate the counting down of a timer. The button can be illuminated or flash to indicate that a photograph is about to be taken. Alternatively the background of the GUI can be illuminated and or flash. After an image is captured from the video stream an optionally scaled placeholder image representation of the photograph e.g. placeholder image can be placed into the image strip .

After a multi shot image is created a scaled placeholder image representation of the image can be placed into the image strip . The image strip includes a second placeholder image representation of a previously captured multi shot image. If the placeholder image is selected by the user the multi shot image represented by the placeholder image can be displayed in the region as shown.

A user can export or send any image multi shot or movie represented by a placeholder in the image strip to another application target application by selecting the placeholder image e.g. and either selecting an GUI icon or dragging and dropping the placeholder onto an icon or onto another application outside of window . By way of illustration selection of the application icon can cause the image multi shot or movie to be added to an electronic mail message. The application icon can be used to export an image multi shot or movie to a photo album application e.g. iPhoto available from Apple Inc . The application icon can be used to set an account picture e.g. a picture associated with the user who is logged into the computer . The application icon can be used to export an image multi shot or movie as a still or animated buddy picture for use in an online chat program such as iChat available from Apple Inc. . Other applications are possible.

In one implementation an image can be transferred to a target application by saving the image multi shot or movie to a file and sending the target application a notification e.g. a drag and drop GUI event that refers to the images s . In another implementation an image multi shot or movie can be saved in a file at a location where a target application expects to find it and optionally with a file name that the target application will recognize.

An animation can be created from a multi shot image or a movie and the animation can be exported e.g. an animation can be exported as a buddy icon image used in a chat program . For example the four images e.g. included in the four cells of a multi shot image can be used to create an animated GIF file. In the animated GIF file the first image e.g. can be displayed first and after a short period of time e.g. 1 second the first image can be replaced by the second image e.g. and similarly for the third and fourth images. After the fourth image has been displayed for a period of time it can be replaced by the first image and the animated image replacement process using the four images of the multi shot image can be performed repeatedly.

A movie can also be exported as an animation. For example an animated GIF file can be created by selecting a fixed number of video frames from a movie where each frame is separated by a specific amount of time e.g. ten frames can be selected from a ten second movie with one second between each frame . Animations created from movies or multi shot images can be exported to other video animation formats other than animated GIF e.g. animations can be exported to Flash video developed by Adobe Systems Incorporated QuickTime developed by Apple Inc. MPEG Moving Picture Experts Group format and AVI Audio Video Interleave format to name a few examples .

In response to the selection of an effects button a window can appear displaying previews of a number of filters. The user can browse available filters and select a filter to apply to the image or video displayed in region . In one implementation a filter can be applied to an image using the Core Image application programming interface API which is part of the Quartz Core framework image processing technology available from Apple Inc. The Core Image API provides access to built in image filters for both video and still images and provides support for creating custom filters.

A user can create a custom filter using the Quartz Composer available from Apple Inc. and store the filter definition in a file. A user can select a menu item or other user control on the window to display an import window used to import a filter definition. The user can specify the location of the custom filter file on the import window. The filter file can be read and stored so that it is available when the effects button is selected. The custom filter can thus become part of a standard library of filters that can be used to transform images or movies displayed in the region .

A slider control can be used to increase or decrease the magnitude of the effect of the filter parameter. The slider control appears automatically when an adjustable filter is selected. The slider control can appear in the region or GUI when the user moves a mouse cursor or other pointer over the region or a region corresponding to the area of the GUI taken up by the slider control for instance.

To replace the background of an image which includes a person in the foreground the person can move to the side so that they are momentarily not in the picture which allows the background of the person s environment to be recognized. When the person moves back into the live image the background parts of the image behind the person can be identified and replaced with a custom background such as the swimming fish background .

A plurality of images from the stream are then selected and a placeholder image representative of the plurality is displayed in a second area of the GUI step . For example a set of four images can be received from the stream and included in a multi shot image e.g. multi shot image . Alternatively a movie can be received from the stream where the movie includes a time ordered set of images i.e. frames received over a period of time. A placeholder image e.g. representing the received movie or multi shot image can be displayed in the image strip . User input to convert the images into an animation is then received step . For example the user can select a user control such as the menu item to indicate a request to export a selected multi shot or movie into an animation. Finally an animated icon is produced from the animation step . For example an animated GIF icon can be created which includes an animation using either the four images of a multi shot image or selected frames from a movie.

The image obtainer can prompt the camera to capture an image at the behest of a user or a process. If the image capture device is only capable of capturing live images e.g. where the input data is a continuous time ordered sequence of video packets or frames containing image data the image obtainer can determine which frame in the sequence corresponds to the time when the user or the process requested that an image be captured. For example this could be the frame that coincides in time with the display device flash . The image obtainer can optionally receive information from the camera in addition to the input data such as a light measurement and provide this information to other components.

The image obtainer can provide input data singularly or as a stream Ito user interface such as in the case where region of window is in preview mode. Input data Ican also be provided to duplicator component in which one or more copies of I i.e. I I I Iand I are each individually provided to a corresponding filter i.e. F F F F and F which can be received from a filter data storage . Each filter operates on its respective input data by applying an effect to the input data to create modified input data i.e. I I I I I . A filter can also apply a null effect that is the effect will not modify the input data. In this case the modified input data is identical to the input data. A filter can be a user defined filter or a pre defined filter.

Each modified input data I I I I I can be provided to a mosaic composer component . The mosaic composer prepares the modified input data for display in the user interface e.g. region of window . This can entail extracting image data containing an image from each modified input data scaling each extracted image to fit in a cell and updating each cell with its associated extracted image. Alternatively the composer can arrange each extracted image into a single mosaic which is used to update region wholesale. The composer component can communicate with a person recognizer component to apply a filter to just a person identified in an image i.e. not apply the filter to other parts of the image as discussed above in the section on . The composer component can also communicate with a background replacer component to dynamically replace a background of an image or movie e.g. as discussed above in the section on .

The user interface is rendered on a display device which can optionally serve as a photographic flash as described above. A prompt component detects when a user has selected an effect. The prompt component also detects when a user has requested e.g. by selecting the button that an image be captured and communicates this to the user interface . The user interface can notify the image obtainer so that the image can be captured e.g. after a count down timer has completed . The user interface can also notify a flash component of the requested image capture so that the flash component can flash the display device at a time coinciding with the image capture.

The memory is a computer readable medium such as volatile or non volatile that stores information within the system . The memory could store data structures representing history trees and reduced history trees for complex solids for example. The storage device is capable of providing persistent storage for the system . The storage device may be a floppy disk device a hard disk device an optical disk device or a tape device or other suitable persistent storage means. The input output device provides input output operations for the system . In one implementation the input output device includes a keyboard and or pointing device. In another implementation the input output device includes a display unit for displaying graphical user interfaces.

The input output device can provide input output operations for an image processing system. The image processing system can include computer software components such as the image obtainer and the composer component . Such software components and can be persisted in storage device memory or can be obtained over a network connection to name a few examples.

An electronic document which for brevity will simply be referred to as a document does not necessarily correspond to a file. A document may be stored in a portion of a file that holds other documents in a single file dedicated to the document in question or in multiple coordinated files.

Implementations of the subject matter and the functional operations described in this specification can be implemented in digital electronic circuitry or in computer software firmware or hardware including the structures disclosed in this specification and their structural equivalents or in combinations of one or more of them. Implementations of the subject matter described in this specification can be implemented as one or more computer program products i.e. one or more modules of computer program instructions encoded on a computer readable medium for execution by or to control the operation of data processing apparatus. The computer readable medium can be a machine readable storage device a machine readable storage substrate a memory device a composition of matter effecting a machine readable propagated signal or a combination of one or more of them. The term data processing apparatus encompasses all apparatus devices and machines for processing data including by way of example a programmable processor a computer or multiple processors or computers. The apparatus can include in addition to hardware code that creates an execution environment for the computer program in question e.g. code that constitutes processor firmware a protocol stack a database management system an operating system or a combination of one or more of them. A propagated signal is an artificially generated signal e.g. a machine generated electrical optical or electromagnetic signal that is generated to encode information for transmission to suitable receiver apparatus.

A computer program also known as a program software software application script or code can be written in any form of programming language including compiled or interpreted languages and it can be deployed in any form including as a stand alone program or as a module component subroutine or other unit suitable for use in a computing environment. A computer program does not necessarily correspond to a file in a file system. A program can be stored in a portion of a file that holds other programs or data e.g. one or more scripts stored in a markup language document in a single file dedicated to the program in question or in multiple coordinated files e.g. files that store one or more modules sub programs or portions of code . A computer program can be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.

The processes and logic flows described in this specification can be performed by one or more programmable processors executing one or more computer programs to perform functions by operating on input data and generating output. The processes and logic flows can also be performed by and apparatus can also be implemented as special purpose logic circuitry e.g. an FPGA field programmable gate array or an ASIC application specific integrated circuit .

Processors suitable for the execution of a computer program include by way of example both general and special purpose microprocessors and any one or more processors of any kind of digital computer. Generally a processor will receive instructions and data from a read only memory or a random access memory or both. The essential elements of a computer are a processor for performing instructions and one or more memory devices for storing instructions and data. Generally a computer will also include or be operatively coupled to receive data from or transfer data to or both one or more mass storage devices for storing data e.g. magnetic magneto optical disks or optical disks. However a computer need not have such devices. Moreover a computer can be embedded in another device e.g. a mobile telephone a personal digital assistant PDA a mobile audio player a Global Positioning System GPS receiver to name just a few. Computer readable media suitable for storing computer program instructions and data include all forms of non volatile memory media and memory devices including by way of example semiconductor memory devices e.g. EPROM EEPROM and flash memory devices magnetic disks e.g. internal hard disks or removable disks magneto optical disks and CD ROM and DVD ROM disks. The processor and the memory can be supplemented by or incorporated in special purpose logic circuitry.

To provide for interaction with a user implementations of the subject matter described in this specification can be implemented on a computer having a display device e.g. a CRT cathode ray tube or LCD liquid crystal display monitor for displaying information to the user and a keyboard and a pointing device e.g. a mouse or a trackball by which the user can provide input to the computer. Other kinds of devices can be used to provide for interaction with a user as well for example feedback provided to the user can be any form of sensory feedback e.g. visual feedback auditory feedback or tactile feedback and input from the user can be received in any form including acoustic speech or tactile input.

Implementations of the subject matter described in this specification can be implemented in a computing system that includes a back end component e.g. as a data server or that includes a middleware component e.g. an application server or that includes a front end component e.g. a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the subject matter described is this specification or any combination of one or more such back end middleware or front end components. The components of the system can be interconnected by any form or medium of digital data communication e.g. a communication network. Examples of communication networks include a local area network LAN and a wide area network WAN e.g. the Internet.

The computing system can include clients and servers. A client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client server relationship to each other.

While this specification contains many specifics these should not be construed as limitations on the scope of the invention or of what may be claimed but rather as descriptions of features specific to particular implementations of the invention. Certain features that are described in this specification in the context of separate implementations can also be implemented in combination in a single implementation. Conversely various features that are described in the context of a single implementation can also be implemented in multiple implementations separately or in any suitable subcombination. Moreover although features may be described above as acting in certain combinations and even initially claimed as such one or more features from a claimed combination can in some cases be excised from the combination and the claimed combination may be directed to a subcombination or variation of a subcombination.

Similarly while operations are depicted in the drawings in a particular order this should not be understood as requiring that such operations be performed in the particular order shown or in sequential order or that all illustrated operations be performed to achieve desirable results. In certain circumstances multitasking and parallel processing may be advantageous. Moreover the separation of various system components in the implementations described above should not be understood as requiring such separation in all implementations and it should be understood that the described program components and systems can generally be integrated together in a single software product or packaged into multiple software products.

Thus particular implementations of the invention have been described. Other implementations are within the scope of the following claims. For example the actions recited in the claims can be performed in a different order and still achieve desirable results.

