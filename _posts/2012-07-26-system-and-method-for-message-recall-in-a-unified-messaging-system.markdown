---

title: System and method for message recall in a unified messaging system
abstract: A method and system for managing messages in a unified messaging (UM) platform to enable message recall is disclosed. The UM platform deposits a message from a sender into a UM mailbox of a recipient. It is then determined whether the sender of the message is a UM subscriber. If the sender is a UM subscriber, a copy of the message or a link to the message is deposited into a UM mailbox of the sender. The UM platform then provides a message recall option with the copy of the message or the link to the message in the UM mailbox of the sender. If the sender is not a UM subscriber, a recall message including a randomly generated message recall URL is sent to the sender. This allows the sender to select the randomly generated message recall URL to send a message recall request to the UM platform.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08977695&OS=08977695&RS=08977695
owner: AT&T Intellectual Property I, L.P.
number: 08977695
owner_city: Atlanta
owner_country: US
publication_date: 20120726
---
This application is a continuation of prior application Ser. No. 12 566 778 filed Sep. 25 2009 which is incorporated herein by reference.

The present invention relates generally to unified messaging and more particularly to message recall in a unified messaging platform environment.

Unified messaging is the integration of multiple typically two or more types of communication e.g. email voicemail short message service SMS fax etc. into a single unified message store e.g. a unified messaging platform accessible from a variety of user devices. Unified messaging is typically provided by a service provider which may be the same service provider that provides telephone service.

There are many situations in which a message is sent and the sender later wishes to recall the message. However the sender of a message is typically unable to review and recall a message that has already been sent. Message recall capability has been implemented in some email environments through proprietary protocols but this capability is typically only available in closed user groups. Accordingly a method for message recall in a unified messaging environment that is available to subscribers and non subscribers is desirable.

The present invention provides a method and system for message recall in a unified messaging UM platform environment. Embodiments of the present invention provide the ability to recall or withdraw a sent message such as an email voicemail fax etc. via a plurality of interfaces. Embodiments of the present invention provide message recall capability for a caller that is a UM subscriber and for a caller that is not a UM subscriber.

In one embodiment of the present invention a UM platform deposits a message from a sender into a UM mailbox of a recipient. It is then determined whether the sender of the message is a UM subscriber. If the sender is a UM subscriber a copy of the message or a link to the message is deposited into a UM mailbox of the sender. The UM platform then provides a message recall option with the copy of the message or the link to the message in the UM mailbox of the sender. If the sender is not a UM subscriber a recall message including a randomly generated message recall URL is sent to the sender. This allows the sender to select the randomly generated message recall URL to send a message recall request to the UM platform which deletes the message from the mailbox of the recipient in response to the message recall request.

These and other advantages of the invention will be apparent to those of ordinary skill in the art by reference to the following detailed description and the accompanying drawings.

Embodiments of the present invention are directed to an enhanced unified messaging UM system which provides message recall capabilities.

The UM platform includes TUI Directory Notification System Email Backend Web Access Interface Web Service Interface and Application Server . TUI provides an interface for subscribers to access UM platform via the telephone and includes call processing infrastructure such Session Border Controllers Gateways Call Agents etc. as well as Application Servers and Media Servers. The Media Servers may perform functions such as Text to Speech TTS and Automatic Speech Recognition ASR . Directory stores enterprise settings subscriber settings etc. Within the UM platform all messages e.g. voicemail email fax etc. are stored as emails via the Email Backend . Notification System notifies subscribers of new messages via a number of different mechanisms. For example the Notification System can use SMS messaging instant messaging etc. to notify subscribers of new messages. Web Access Interface provides an interface for subscribers to access messages via the Internet . Web Services Interface provides an application programming interface API for integration of messages stored on the UM platform with other external web portals and the like.

According to an embodiment of the present invention the Directory provides information that indicates whether messages sent to a mailbox in the UM platform are recall eligible. Application Server inserts random URLs into outbound email messages for message recall notification. Such email messages with random URLs are sent to a sender of each such recall eligible message to provide the sender with a link to recall the message. The Application Server processes the inbound recall requests when the links are activated e.g. by the sender clicking the link the message recall email . Note that the message recall links URLs are deactivated once the recipient accesses the original message. The Application Server communicates with the UM platform via web services interface to perform the recall function. The Web Services Interface processes an incoming recall request determines if the target mailbox of the message recipient allows message recall determines if the message is still unread deletes the message and notifies both parties.

The TUI can be adapted to provide new options for message recall in the case that a caller is a UM subscriber. New mailbox Class of Service and attributes may be introduced to determine whether or not message recall is enabled and allowed for a particular subscriber mailbox. Such Class of Service and various other settings information may be stored in Directory and or other components of UM platform .

As illustrated in at step a message from a sender is deposited into the UM mailbox of a recipient. At step it is determined whether the message recall is permitted based on settings associated with the mailbox of the recipient. Application Server can make such a determination by consulting for example with Directory . If the settings associated with the mailbox of the recipient indicate that message recall is not permitted the method ends . If the settings indicate that message recall is permitted the method proceeds to step .

At step it is determined whether the sender of the message is a UM subscriber. For example the UM platform can determine if a sender of a message is UM subscriber based on subscriber information stored in the directory . If the sender is a UM subscriber the method proceeds to step . If it is determined that the sender is not a UM subscriber the method proceeds to step .

At step when the sender is a UM subscriber a copy of the original message or link to the original message is deposited by the Application Server into the UM mailbox of the sender. The copy of the message or link to the message can be deposited into a sent messages portion of the sender s mailbox. The UM platform provides an option associated with the copy of the message or link to the message for the sender to recall the original message deposited in the mailbox of the recipient. For example the copy of the message or link to the message can include a HyperText Markup Language HTML hyperlink button etc. that when selected by the sender sends a request to recall the message to the UM platform .

At step when the sender is not a UM subscriber an ENUM query is performed by the Application Server based on the sender s telephone number to determine at least one other contact mechanism e.g. email SMS etc. for the sender. At step it is determined whether the ENUM query returned a valid contact mechanism e.g. email SMS etc. for the sender. If the ENUM query does not return a valid contact mechanism for the sender the method ends . If the ENUM query does return a valid contact mechanism for the sender the method proceeds to step . Note that steps and are directed to the case where the sender is a caller who is depositing a message via a telephone. If the sender is sending the message via an email then the UM platform will have an email address for the sender and can proceed directly to step from step .

At step a notification is sent to the sender including a randomly generated message recall URL. The notification can be sent using the contact mechanism email SMS etc. retrieved via the ENUM search of step . For example an email can be sent to the sender of the original message including a randomly generated message recall URL. The message recall URL can be a link that is selectable by the sender to send a request to the UM platform to recall the original message. The message recall URL is randomly generated by the application server of the UM platform and associated with the message in the recipient s mailbox. The URL becomes deactivated by the application server once the recipient reads the message. The method ends at .

At step for each message sent to another UM subscriber it is determined whether the message has been read by the recipient. If a particular message has been read the message cannot be recalled and the method ends for that message . If a message has not been read by the recipient the method proceeds to step . At step it is determined whether the recipient allows message recall. This is determined based on the settings associated with the mailbox of the recipient. If the recipient does not allow message recall the message cannot be recalled and the method ends . If the recipient does allow message recall the method proceeds to step . The particular component e.g. the TUI or the Web Services interface or the Application Server may use other components of UM platform e.g. the Application Server to implement steps and .

At step the UM platform provides message recall options to the subscriber. For example the recall options can be provided to the subscriber via the Web Access Interface by displaying a selectable option such as a button link etc. that the subscriber can select to recall the corresponding message. The recall options can be provided to the subscriber via the TUI by allowing the subscriber to select message recall using a DTMF selection or voice recognition.

At step it is determined if the subscriber requests recall of a message based on input to the UM platform from the subscriber. If the user does not select to recall a message the method ends . If the user selects to recall a message the method proceeds to step . At step the UM platform deletes the message from the mailbox of the recipient. At step the UM platform notifies both subscribers sender and recipient of the message recall. For example the notification system can notify the subscribers via a system message such as a SMS text message or an email message. The method ends at step .

At step the Application Server of the UM platform receives the message recall request. At step it is determined if the random URL is still valid. In order for the URL to still be valid the associated message must still be unread. Furthermore other parameters may be associated with the random URL such as a certain lifetime etc. that may be considered to determine if the random URL is still valid. If the random URL is not valid the method proceeds to step . If the random URL is not valid the method proceeds to step .

At step when a URL is not valid at step the status is provided to the original sender. For example the sender can be notified via an email from the Application Server of UM platform that the message cannot be recalled. Once the sender is notified of the status the method ends .

At step when a URL is valid at step the message associated with the random URL is deleted from the mailbox of the recipient and the status is provided to the sender. For example when the message is deleted the UM platform can notify the sender via an email that the message has been successfully recalled. At step the UM platform notifies the recipient who is a UM subscriber of the message recall. For example the Notification System can notify the recipient via a system message such as a SMS text message or an email message. The method ends at step .

The above described methods for message handling and message recall in a UM platform can be implemented on a computer using well known computer processors memory units storage devices computer software and other components. Further the UM platform and all of the components of the UM platform described above can be implemented on one or more such computers. A high level block diagram of such a computer is illustrated in . Computer contains a processor which controls the overall operation of the computer by executing computer program instructions which define such operation. The computer program instructions may be stored in a storage device or other computer readable medium e.g. magnetic disk CD ROM etc. and loaded into memory when execution of the computer program instructions is desired. Thus the method steps of and can be defined by the computer program instructions stored in the memory and or storage and controlled by the processor executing the computer program instructions. For example the computer program instructions can be implemented as computer executable code programmed by one skilled in the art to perform an algorithm defined by the method steps of and . Accordingly by executing the computer program instructions the processor executes an algorithm defined by the method steps of and . The computer also includes one or more network interfaces for communicating with other devices via a network. The computer also includes input output devices that enable user interaction with the computer e.g. display keyboard mouse speakers buttons etc. One skilled in the art will recognize that an implementation of an actual computer could contain other components as well and that is a high level representation of some of the components of such a computer for illustrative purposes.

The foregoing Detailed Description is to be understood as being in every respect illustrative and exemplary but not restrictive and the scope of the invention disclosed herein is not to be determined from the Detailed Description but rather from the claims as interpreted according to the full breadth permitted by the patent laws. It is to be understood that the embodiments shown and described herein are only illustrative of the principles of the present invention and that various modifications may be implemented by those skilled in the art without departing from the scope and spirit of the invention. Those skilled in the art could implement various other feature combinations without departing from the scope and spirit of the invention. The various functional modules that are shown are for illustrative purposes only and may be combined rearranged and or otherwise modified.

